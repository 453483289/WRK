<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Windows Research Kernel v1.2: C:/Windows Research Kernel/VERIFIER/vfdeadlock.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Windows Research Kernel v1.2
   </div>
   <div id="projectbrief">Have fun :)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d3c/a02714_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">vfdeadlock.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d1/d3c/a02714.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright (c) Microsoft Corporation. All rights reserved. </span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">You may only use this code if you agree to the terms of the Windows Research Kernel Source Code License agreement (see License.txt).</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">If you do not agree to the terms, do not use the code.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">Module Name:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">   vfdeadlock.h</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">Abstract:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">    Detect deadlocks in arbitrary synchronization objects.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef _VF_DEADLOCK_</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _VF_DEADLOCK_</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// Deadlock detection package initialization.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<a class="code" href="../../d1/d3c/a02714.html#afbddf389b8b334cf7c8edf173242f8e3">VfDeadlockDetectionInitialize</a>(</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    );</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// Functions called from IovCallDriver (driver verifier replacement for</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// IoCallDriver) just before and after the real call to the driver is made.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<a class="code" href="../../d1/d3c/a02714.html#a25b2f3679be8d3182e1bca76d2923416">VfDeadlockBeforeCallDriver</a> (</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/dce/a02200.html#a4cef9c037ee5e8ea81fb457d9574e52d">PDEVICE_OBJECT</a> DeviceObject,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/dce/a02200.html#a72ac9d3792fa806a30a1a8df851b590b">PIRP</a> <a class="code" href="../../d7/dbe/a02333.html#a01cabb832b2f1f19a44fb18dbca883a4">Irp</a></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    );</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<a class="code" href="../../d1/d3c/a02714.html#ab2f2c15cb6ee5efacca8042472269a15">VfDeadlockAfterCallDriver</a> (</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/dce/a02200.html#a4cef9c037ee5e8ea81fb457d9574e52d">PDEVICE_OBJECT</a> DeviceObject,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/dce/a02200.html#a72ac9d3792fa806a30a1a8df851b590b">PIRP</a> <a class="code" href="../../d7/dbe/a02333.html#a01cabb832b2f1f19a44fb18dbca883a4">Irp</a>,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a> PagingIrp</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    );</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Maximum depth of stack traces captured.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">   52</a></span>&#160;<span class="preprocessor">#define VI_MAX_STACK_DEPTH 8</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d1/d3c/a02714.html#a5fe92701c4684d61d0c5fb3015255567">   54</a></span>&#160;<span class="preprocessor">#define NO_OF_DEADLOCK_PARTICIPANTS 32</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// VI_DEADLOCK_NODE</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html">   60</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/dfd/a01803.html">_VI_DEADLOCK_NODE</a> {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">// Node representing the acquisition of the previous resource.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a2a2c79739faa8a5ceceb9e8e8bf7bda7">   66</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/dfd/a01803.html">_VI_DEADLOCK_NODE</a> * <a class="code" href="../../d3/dfd/a01803.html#a2a2c79739faa8a5ceceb9e8e8bf7bda7">Parent</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Node representing the next resource acquisitions, that are</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// done after acquisition of the current resource.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a7bd2ce18d5c3dbc3832df00f8a53869e">   73</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d0/d11/a00842.html">_LIST_ENTRY</a> <a class="code" href="../../d3/dfd/a01803.html#a7bd2ce18d5c3dbc3832df00f8a53869e">ChildrenList</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// Field used to chain siblings in the tree. A parent node has the</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// ChildrenList field as the head of the children list that is chained</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// with the Siblings field.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#ae475052bc629697287d589dcf818170b">   81</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d0/d11/a00842.html">_LIST_ENTRY</a> <a class="code" href="../../d3/dfd/a01803.html#ae475052bc629697287d589dcf818170b">SiblingsList</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="comment">// List of nodes representing the same resource acquisition</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="comment">// as the current node but in different contexts (lock combinations).</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a321b0350e09f4ee0d64edfc8e5f5ae70">   90</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d0/d11/a00842.html">_LIST_ENTRY</a> <a class="code" href="../../d3/dfd/a01803.html#a321b0350e09f4ee0d64edfc8e5f5ae70">ResourceList</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="comment">// Used to chain free nodes. This is used only after the node has</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="comment">// been deleted (resource was freed). Nodes are kept in a cache</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="comment">// to reduce contention for the kernel pool.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#abf0346c882e21d39837b4026f2661523">   98</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d0/d11/a00842.html">_LIST_ENTRY</a> <a class="code" href="../../d3/dfd/a01803.html#abf0346c882e21d39837b4026f2661523">FreeListEntry</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    };</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Back pointer to the descriptor for this resource.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a572cd05f8fadfdb05f962183a3bfeab4">  105</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/dec/a01804.html">_VI_DEADLOCK_RESOURCE</a> * <a class="code" href="../../d3/dfd/a01803.html#a572cd05f8fadfdb05f962183a3bfeab4">Root</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// When we find a deadlock, we keep this info around in order to</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// be able to identify the parties involved who have caused</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// the deadlock.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a3fb03d89eb38f985a21bca15b08ceafb">  113</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d7/d62/a01805.html">_VI_DEADLOCK_THREAD</a> * <a class="code" href="../../d3/dfd/a01803.html#a3fb03d89eb38f985a21bca15b08ceafb">ThreadEntry</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Fields used for decision making within the deadlock analysis </span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// algorithm.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// Active: 1 if the node represents a resource currently acquired,</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">//     0 if resource was acquired in the past.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// OnlyTryAcquiredUsed: 1 if resource was always acquired with TryAcquire.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">//     0 if at least once normal acquire was used. A node that uses</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">//     only TryAcquire cannot be involved in a deadlock.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// ReleasedOutOfOrder: 1 if the resource was at least once released </span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">//     out of order. The flag is used while looking for cycles because</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">//     this type of nodes will appear as part of the cycle but there is</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">//     no deadlock.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// SequenceNumber: field that gets a unique stamp during each deadlock</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">//     analysis run. It helps figure out if the node was touched </span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">//     already in the current graph traversal.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#aeded43310723976bcdedd3d8f16bb1cd">  138</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dfd/a01803.html#aeded43310723976bcdedd3d8f16bb1cd">Active</a> : 1;</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#ac632c671ae515c120d6611fb8d26adaf">  139</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dfd/a01803.html#ac632c671ae515c120d6611fb8d26adaf">OnlyTryAcquireUsed</a> : 1;         </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a3d3dcbe477a25a5a153647001e1cc87b">  140</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dfd/a01803.html#a3d3dcbe477a25a5a153647001e1cc87b">ReleasedOutOfOrder</a> : 1;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#a46bcd8b80090ec76e544be9c95f6ce16">  141</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dfd/a01803.html#a46bcd8b80090ec76e544be9c95f6ce16">SequenceNumber</a> : 29;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    };</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// Stack traces for the resource acquisition moment.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Used when displaying deadlock proofs. On free builds</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// anything other than the first entry (return address)</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// may be bogus in case stack trace capturing failed.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#afa6bdc252bc04c163a0d2c5dd838b154">  151</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d3/dfd/a01803.html#afa6bdc252bc04c163a0d2c5dd838b154">StackTrace</a>[<a class="code" href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">VI_MAX_STACK_DEPTH</a>];</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d3/dfd/a01803.html#ac3ba3272b53a3092951c4d8d1e388a31">  152</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d3/dfd/a01803.html#ac3ba3272b53a3092951c4d8d1e388a31">ParentStackTrace</a>[<a class="code" href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">VI_MAX_STACK_DEPTH</a>];</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;} <a class="code" href="../../d1/d3c/a02714.html#a6103fbbe1222bd05e0daa4c894c122c8">VI_DEADLOCK_NODE</a>, *<a class="code" href="../../d1/d3c/a02714.html#a96a65acf42f73a569ce6f272508229d9">PVI_DEADLOCK_NODE</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">// VI_DEADLOCK_RESOURCE</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html">  160</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/dec/a01804.html">_VI_DEADLOCK_RESOURCE</a> {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// Resource type (mutex, spinlock, etc.).</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#aaf5b29d86b47755e60829d3d98c0414f">  166</a></span>&#160;    <a class="code" href="../../d3/d58/a02302.html#a22b227c6c12787e641221ca9dbc6c4e9">VI_DEADLOCK_RESOURCE_TYPE</a> <a class="code" href="../../dc/dec/a01804.html#aaf5b29d86b47755e60829d3d98c0414f">Type</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// Resource flags</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">//    </span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// NodeCount : number of resource nodes created for this resource.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// RecursionCount : number of times this resource has been recursively acquired </span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">//     It makes sense to put this counter in the resource because as long as</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">//     resource is acquired only one thread can operate on it.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">struct </span>{       </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#af5ca831ef297c9326bd37fe72c5eabb9">  179</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/dec/a01804.html#af5ca831ef297c9326bd37fe72c5eabb9">NodeCount</a> : 16;</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#ac10580038585830ac1f3d7cf4fe89ac9">  180</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/dec/a01804.html#ac10580038585830ac1f3d7cf4fe89ac9">RecursionCount</a> : 16;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    };</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// The address of the synchronization object used by the kernel.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#ae05835959977b4cffbe375bc297d20e0">  187</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/dec/a01804.html#ae05835959977b4cffbe375bc297d20e0">ResourceAddress</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// The thread that currently owns the resource. The field is</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// null if nobody owns the resource.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#ac131f4f0cf8e6375b6bbc248f3d642b9">  194</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d7/d62/a01805.html">_VI_DEADLOCK_THREAD</a> * <a class="code" href="../../dc/dec/a01804.html#ac131f4f0cf8e6375b6bbc248f3d642b9">ThreadOwner</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// List of resource nodes representing acquisitions of this resource.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#ac067c570af3f480df12d798f3bb1ce7f">  200</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dc/dec/a01804.html#ac067c570af3f480df12d798f3bb1ce7f">ResourceList</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// List used for chaining resources from a hash bucket.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#ab28d2f5f068aa7772d40657d57bf1240">  208</a></span>&#160;        <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dc/dec/a01804.html#ab28d2f5f068aa7772d40657d57bf1240">HashChainList</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// Used to chain free resources. This list is used only after</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// the resource has been freed and we put the structure</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// into a cache to reduce kernel pool contention.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#aedc3f5edda0edce5a5bb41a82de85727">  216</a></span>&#160;        <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dc/dec/a01804.html#aedc3f5edda0edce5a5bb41a82de85727">FreeListEntry</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    };</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// Stack trace of the resource creator. On free builds we</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// may have here only a return address that is bubbled up</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// from verifier thunks. </span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  </div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#a6fa002a26f450b92ae219087b3e9fd6f">  225</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/dec/a01804.html#a6fa002a26f450b92ae219087b3e9fd6f">StackTrace</a> [<a class="code" href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">VI_MAX_STACK_DEPTH</a>];</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// Stack trace for last acquire</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#a12a61b936169ce1ea482581e916a2b69">  231</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/dec/a01804.html#a12a61b936169ce1ea482581e916a2b69">LastAcquireTrace</a> [<a class="code" href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">VI_MAX_STACK_DEPTH</a>];</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// Stack trace for last release</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../dc/dec/a01804.html#afd9b853d11f685284f4fd75bdd7d6046">  237</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/dec/a01804.html#afd9b853d11f685284f4fd75bdd7d6046">LastReleaseTrace</a> [<a class="code" href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">VI_MAX_STACK_DEPTH</a>];</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;} <a class="code" href="../../d1/d3c/a02714.html#a5da452c664fd329756450253dd25127f">VI_DEADLOCK_RESOURCE</a>, * <a class="code" href="../../d1/d3c/a02714.html#a050e460447f23634330cbe0bfbddd59e">PVI_DEADLOCK_RESOURCE</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">// VI_DEADLOCK_THREAD</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html">  245</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d62/a01805.html">_VI_DEADLOCK_THREAD</a> {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// Kernel thread address</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#a80747c6cd9d23b17ba599642b4e06fe3">  251</a></span>&#160;    <a class="code" href="../../d7/dc8/a00808.html">PKTHREAD</a> <a class="code" href="../../d7/d62/a01805.html#a80747c6cd9d23b17ba599642b4e06fe3">Thread</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">// The node representing the last resource acquisition made by</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// this thread.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// We have separate graph branches for spinlocks and other types</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// of locks (fast mutex, mutex). The thread keeps a list of both types</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// so that we can properly release locks</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#afd7833b059d784d318709bc079887027">  264</a></span>&#160;    PVI_DEADLOCK_NODE <a class="code" href="../../d7/d62/a01805.html#afd7833b059d784d318709bc079887027">CurrentSpinNode</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#aee78bbfcc7d27abbc5d5209635799912">  265</a></span>&#160;    PVI_DEADLOCK_NODE <a class="code" href="../../d7/d62/a01805.html#aee78bbfcc7d27abbc5d5209635799912">CurrentOtherNode</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="comment">// Thread list. It is used for chaining into a hash bucket.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        </div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#affd68fdc397830e68c34e93a1156a272">  273</a></span>&#160;        <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d7/d62/a01805.html#affd68fdc397830e68c34e93a1156a272">ListEntry</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="comment">// Used to chain free nodes. The list is used only after we decide</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">// to delete the thread structure (possibly because it does not</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// hold resources anymore). Keeping the structures in a cache</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="comment">// reduces pool contention.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#a7461d739e9e862d7e002fa12e4e23d49">  282</a></span>&#160;        <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d7/d62/a01805.html#a7461d739e9e862d7e002fa12e4e23d49">FreeListEntry</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    };</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// Count of resources currently acquired by a thread. When this becomes</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// zero the thread will be destroyed. The count goes up during acquire</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// and down during release.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#aa5b0f563039b810e4e8a121854d64c38">  291</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d62/a01805.html#aa5b0f563039b810e4e8a121854d64c38">NodeCount</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// This counter is used to count how many IoCallDriver() calls with</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// paging IRPs are active for this thread. This information is necessary</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// to decide if we should temporarily disable deadlock verification</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// to avoid known lack of lock hierarchy issues in file system drivers.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="../../d7/d62/a01805.html#ab8bfa5f74af6223854464e4ca531f0c1">  300</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d62/a01805.html#ab8bfa5f74af6223854464e4ca531f0c1">PagingCount</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;} <a class="code" href="../../d1/d3c/a02714.html#aa6b3ea004ae50346cacf3f7fcb7d56f0">VI_DEADLOCK_THREAD</a>, *<a class="code" href="../../d1/d3c/a02714.html#a7c215532b4b12cfdb81dbedb2ce8bd75">PVI_DEADLOCK_THREAD</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">// Deadlock verifier globals</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html">  308</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/ddc/a01802.html">_VI_DEADLOCK_GLOBALS</a> {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// Structure counters: [0] - current, [1] - maximum</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a686531bfcbedb386d3250a7ad4698aa1">  314</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a686531bfcbedb386d3250a7ad4698aa1">Nodes</a>[2];</div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a1946ab2ff02bee26a329d97faf3d0ee8">  315</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a1946ab2ff02bee26a329d97faf3d0ee8">Resources</a>[2];</div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a232fa55b38aa95deb9719eebde29c435">  316</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a232fa55b38aa95deb9719eebde29c435">Threads</a>[2];</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// Maximum times for Acquire() and Release() in ticks.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ae8d9f20455ae4a6353c8ac92c3b26048">  322</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a> <a class="code" href="../../dd/ddc/a01802.html#ae8d9f20455ae4a6353c8ac92c3b26048">TimeAcquire</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a62ede168bb928505538bc827d1ff4db2">  323</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a> <a class="code" href="../../dd/ddc/a01802.html#a62ede168bb928505538bc827d1ff4db2">TimeRelease</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Total number of kernel pool bytes used by the deadlock verifier</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    </div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ad3276b301e5933ef13011741153bcb3b">  329</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dd/ddc/a01802.html#ad3276b301e5933ef13011741153bcb3b">BytesAllocated</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// Resource and thread collection.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a5d33738cfd8f6cda47f696090c1911d1">  335</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">PLIST_ENTRY</a> <a class="code" href="../../dd/ddc/a01802.html#a5d33738cfd8f6cda47f696090c1911d1">ResourceDatabase</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#afff40ffdc07fdadbb167d7265a9aa09f">  336</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">PLIST_ENTRY</a> <a class="code" href="../../dd/ddc/a01802.html#afff40ffdc07fdadbb167d7265a9aa09f">ThreadDatabase</a>;   </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// How many times ExAllocatePool failed on us?</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">// If this is &gt;0 we stop deadlock verification.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a05443d4206653b92508cfb6f7c65043b">  343</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a05443d4206653b92508cfb6f7c65043b">AllocationFailures</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// How many nodes have been trimmed when we decided to forget</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// partially the history of some resources.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ac2a99f73c1d5356cb52ac4c90e6a2e31">  350</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#ac2a99f73c1d5356cb52ac4c90e6a2e31">NodesTrimmedBasedOnAge</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#aeb3dc3acd2bcf558c026813c3faa55ff">  351</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#aeb3dc3acd2bcf558c026813c3faa55ff">NodesTrimmedBasedOnCount</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// Deadlock analysis statistics</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a3f6e512d43be31d3484e8d42017d9b66">  357</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a3f6e512d43be31d3484e8d42017d9b66">NodesSearched</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#aa70db935205e8eb38e98470ab85edb5c">  358</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#aa70db935205e8eb38e98470ab85edb5c">MaxNodesSearched</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#afe39e65da70938d2638967ca438f9101">  359</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#afe39e65da70938d2638967ca438f9101">SequenceNumber</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a9fd9c53d757b933d6dd8b686106de259">  361</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a9fd9c53d757b933d6dd8b686106de259">RecursionDepthLimit</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a7f6d842aaae9b2f3a29fe3f6fe1e5ac8">  362</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a7f6d842aaae9b2f3a29fe3f6fe1e5ac8">SearchedNodesLimit</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a1588661d4f65e19083576cc92501d741">  364</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a1588661d4f65e19083576cc92501d741">DepthLimitHits</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ac8cde49e89b747886f42096c7220df69">  365</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#ac8cde49e89b747886f42096c7220df69">SearchLimitHits</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Number of times we have to exhonerate a deadlock because</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// it was protected by a common resource (e.g. thread 1 takes ABC, </span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// thread 2 takes ACB -- this will get flagged initially by our algorithm </span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// since B&amp;C are taken out of order but is not actually a deadlock.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    </div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a58f978583b581032c9bf38a052e1064d">  374</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a58f978583b581032c9bf38a052e1064d">ABC_ACB_Skipped</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a915e6973e30f2d2117e8a5ba6d6abc52">  376</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a915e6973e30f2d2117e8a5ba6d6abc52">OutOfOrderReleases</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a9cfaefc24868cbd1982f0a360888c783">  377</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a9cfaefc24868cbd1982f0a360888c783">NodesReleasedOutOfOrder</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// How many locks are held simultaneously while the system is running?</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NodeLevelCounter[8];</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> GraphNodes[8];</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    </div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ae007b254f627544fa45a3a463fd98bf8">  388</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#ae007b254f627544fa45a3a463fd98bf8">TotalReleases</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#aedc2dbbefd8a5a39558f2b0cda424f71">  389</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#aedc2dbbefd8a5a39558f2b0cda424f71">RootNodesDeleted</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// Used to control how often we delete portions of the dependency</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// graph.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ab7789acc6f10e702d53e4e6cf6d5d2d4">  396</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#ab7789acc6f10e702d53e4e6cf6d5d2d4">ForgetHistoryCounter</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">// How often was a worker items dispatched to trim the</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// pool cache.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ad7a31593fa060a734270431803fb8f4b">  403</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#ad7a31593fa060a734270431803fb8f4b">PoolTrimCounter</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">// Caches of freed structures (thread, resource, node) used to</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// decrease kernel pool contention.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a329c3dc482b2f6206564ebcaa11d1a97">  410</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dd/ddc/a01802.html#a329c3dc482b2f6206564ebcaa11d1a97">FreeResourceList</a>;    </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#acfad3a0fbd17c090a85c49d0eb3523c4">  411</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dd/ddc/a01802.html#acfad3a0fbd17c090a85c49d0eb3523c4">FreeThreadList</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a5689b8321dd3d51efcc77bab9ca5a602">  412</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dd/ddc/a01802.html#a5689b8321dd3d51efcc77bab9ca5a602">FreeNodeList</a>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a83f5cf71aa2b2446ebd7b4575700ef6f">  414</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a83f5cf71aa2b2446ebd7b4575700ef6f">FreeResourceCount</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ad73aad0ec801fd21b6283d831576a2dd">  415</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#ad73aad0ec801fd21b6283d831576a2dd">FreeThreadCount</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a6b9c2e9025512f41362b9696d21b2c13">  416</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a6b9c2e9025512f41362b9696d21b2c13">FreeNodeCount</a>;   </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">// Resource address that caused the deadlock</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a84f12bf6372ac7781608d6870595ed0a">  422</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/ddc/a01802.html#a84f12bf6372ac7781608d6870595ed0a">Instigator</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Number of participants in the deadlock</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a0b54cbc9918e2d9dea31a76d202a7c4c">  428</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/ddc/a01802.html#a0b54cbc9918e2d9dea31a76d202a7c4c">NumberOfParticipants</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// List of the nodes that participate in the deadlock</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#ab9ceda0652f6f36bc1d95657d3506bb4">  434</a></span>&#160;    PVI_DEADLOCK_NODE <a class="code" href="../../dd/ddc/a01802.html#ab9ceda0652f6f36bc1d95657d3506bb4">Participant</a> [<a class="code" href="../../d1/d3c/a02714.html#a5fe92701c4684d61d0c5fb3015255567">NO_OF_DEADLOCK_PARTICIPANTS</a>];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="../../dd/ddc/a01802.html#a31a0ed6434b88fba321102388f828cb3">  436</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../dd/ddc/a01802.html#a31a0ed6434b88fba321102388f828cb3">CacheReductionInProgress</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;} <a class="code" href="../../d1/d3c/a02714.html#aecf91fb479e44b3c9e959a44d16b3e7d">VI_DEADLOCK_GLOBALS</a>, *<a class="code" href="../../d1/d3c/a02714.html#a6f4f1a323b59f070190f19f0885bacd6">PVI_DEADLOCK_GLOBALS</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="ttc" id="a01804_html_ac067c570af3f480df12d798f3bb1ce7f"><div class="ttname"><a href="../../dc/dec/a01804.html#ac067c570af3f480df12d798f3bb1ce7f">_VI_DEADLOCK_RESOURCE::ResourceList</a></div><div class="ttdeci">LIST_ENTRY ResourceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00200">vfdeadlock.h:200</a></div></div>
<div class="ttc" id="a02230_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00031">ntdef.h:31</a></div></div>
<div class="ttc" id="a01802_html_a1588661d4f65e19083576cc92501d741"><div class="ttname"><a href="../../dd/ddc/a01802.html#a1588661d4f65e19083576cc92501d741">_VI_DEADLOCK_GLOBALS::DepthLimitHits</a></div><div class="ttdeci">ULONG DepthLimitHits</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00364">vfdeadlock.h:364</a></div></div>
<div class="ttc" id="a02333_html_a01cabb832b2f1f19a44fb18dbca883a4"><div class="ttname"><a href="../../d7/dbe/a02333.html#a01cabb832b2f1f19a44fb18dbca883a4">Irp</a></div><div class="ttdeci">IN OUT PIRP Irp</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dbe/a02333_source.html#l00141">iomgr.h:141</a></div></div>
<div class="ttc" id="a01803_html_ac632c671ae515c120d6611fb8d26adaf"><div class="ttname"><a href="../../d3/dfd/a01803.html#ac632c671ae515c120d6611fb8d26adaf">_VI_DEADLOCK_NODE::OnlyTryAcquireUsed</a></div><div class="ttdeci">ULONG OnlyTryAcquireUsed</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00139">vfdeadlock.h:139</a></div></div>
<div class="ttc" id="a01804_html"><div class="ttname"><a href="../../dc/dec/a01804.html">_VI_DEADLOCK_RESOURCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00160">vfdeadlock.h:160</a></div></div>
<div class="ttc" id="a01803_html_abf0346c882e21d39837b4026f2661523"><div class="ttname"><a href="../../d3/dfd/a01803.html#abf0346c882e21d39837b4026f2661523">_VI_DEADLOCK_NODE::FreeListEntry</a></div><div class="ttdeci">struct _LIST_ENTRY FreeListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00098">vfdeadlock.h:98</a></div></div>
<div class="ttc" id="a01804_html_af5ca831ef297c9326bd37fe72c5eabb9"><div class="ttname"><a href="../../dc/dec/a01804.html#af5ca831ef297c9326bd37fe72c5eabb9">_VI_DEADLOCK_RESOURCE::NodeCount</a></div><div class="ttdeci">ULONG NodeCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00179">vfdeadlock.h:179</a></div></div>
<div class="ttc" id="a02230_html_a1cb18096b299d23458d3c7b85fd86555"><div class="ttname"><a href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a></div><div class="ttdeci">UCHAR BOOLEAN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01073">ntdef.h:1073</a></div></div>
<div class="ttc" id="a01803_html_ac3ba3272b53a3092951c4d8d1e388a31"><div class="ttname"><a href="../../d3/dfd/a01803.html#ac3ba3272b53a3092951c4d8d1e388a31">_VI_DEADLOCK_NODE::ParentStackTrace</a></div><div class="ttdeci">PVOID ParentStackTrace[VI_MAX_STACK_DEPTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00152">vfdeadlock.h:152</a></div></div>
<div class="ttc" id="a01802_html"><div class="ttname"><a href="../../dd/ddc/a01802.html">_VI_DEADLOCK_GLOBALS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00308">vfdeadlock.h:308</a></div></div>
<div class="ttc" id="a02230_html_a1bcabd95fbce5c958cf858ba18277333"><div class="ttname"><a href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a></div><div class="ttdeci">double LONGLONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00655">ntdef.h:655</a></div></div>
<div class="ttc" id="a01802_html_a1946ab2ff02bee26a329d97faf3d0ee8"><div class="ttname"><a href="../../dd/ddc/a01802.html#a1946ab2ff02bee26a329d97faf3d0ee8">_VI_DEADLOCK_GLOBALS::Resources</a></div><div class="ttdeci">ULONG Resources[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00315">vfdeadlock.h:315</a></div></div>
<div class="ttc" id="a01802_html_a62ede168bb928505538bc827d1ff4db2"><div class="ttname"><a href="../../dd/ddc/a01802.html#a62ede168bb928505538bc827d1ff4db2">_VI_DEADLOCK_GLOBALS::TimeRelease</a></div><div class="ttdeci">LONGLONG TimeRelease</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00323">vfdeadlock.h:323</a></div></div>
<div class="ttc" id="a01802_html_a915e6973e30f2d2117e8a5ba6d6abc52"><div class="ttname"><a href="../../dd/ddc/a01802.html#a915e6973e30f2d2117e8a5ba6d6abc52">_VI_DEADLOCK_GLOBALS::OutOfOrderReleases</a></div><div class="ttdeci">ULONG OutOfOrderReleases</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00376">vfdeadlock.h:376</a></div></div>
<div class="ttc" id="a00842_html"><div class="ttname"><a href="../../d0/d11/a00842.html">_LIST_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01084">ntdef.h:1084</a></div></div>
<div class="ttc" id="a01803_html_a7bd2ce18d5c3dbc3832df00f8a53869e"><div class="ttname"><a href="../../d3/dfd/a01803.html#a7bd2ce18d5c3dbc3832df00f8a53869e">_VI_DEADLOCK_NODE::ChildrenList</a></div><div class="ttdeci">struct _LIST_ENTRY ChildrenList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00073">vfdeadlock.h:73</a></div></div>
<div class="ttc" id="a01802_html_acfad3a0fbd17c090a85c49d0eb3523c4"><div class="ttname"><a href="../../dd/ddc/a01802.html#acfad3a0fbd17c090a85c49d0eb3523c4">_VI_DEADLOCK_GLOBALS::FreeThreadList</a></div><div class="ttdeci">LIST_ENTRY FreeThreadList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00411">vfdeadlock.h:411</a></div></div>
<div class="ttc" id="a01804_html_afd9b853d11f685284f4fd75bdd7d6046"><div class="ttname"><a href="../../dc/dec/a01804.html#afd9b853d11f685284f4fd75bdd7d6046">_VI_DEADLOCK_RESOURCE::LastReleaseTrace</a></div><div class="ttdeci">PVOID LastReleaseTrace[VI_MAX_STACK_DEPTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00237">vfdeadlock.h:237</a></div></div>
<div class="ttc" id="a01804_html_ac131f4f0cf8e6375b6bbc248f3d642b9"><div class="ttname"><a href="../../dc/dec/a01804.html#ac131f4f0cf8e6375b6bbc248f3d642b9">_VI_DEADLOCK_RESOURCE::ThreadOwner</a></div><div class="ttdeci">struct _VI_DEADLOCK_THREAD * ThreadOwner</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00194">vfdeadlock.h:194</a></div></div>
<div class="ttc" id="a02714_html_a6103fbbe1222bd05e0daa4c894c122c8"><div class="ttname"><a href="../../d1/d3c/a02714.html#a6103fbbe1222bd05e0daa4c894c122c8">VI_DEADLOCK_NODE</a></div><div class="ttdeci">struct _VI_DEADLOCK_NODE VI_DEADLOCK_NODE</div></div>
<div class="ttc" id="a01803_html_afa6bdc252bc04c163a0d2c5dd838b154"><div class="ttname"><a href="../../d3/dfd/a01803.html#afa6bdc252bc04c163a0d2c5dd838b154">_VI_DEADLOCK_NODE::StackTrace</a></div><div class="ttdeci">PVOID StackTrace[VI_MAX_STACK_DEPTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00151">vfdeadlock.h:151</a></div></div>
<div class="ttc" id="a01803_html_a3fb03d89eb38f985a21bca15b08ceafb"><div class="ttname"><a href="../../d3/dfd/a01803.html#a3fb03d89eb38f985a21bca15b08ceafb">_VI_DEADLOCK_NODE::ThreadEntry</a></div><div class="ttdeci">struct _VI_DEADLOCK_THREAD * ThreadEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00113">vfdeadlock.h:113</a></div></div>
<div class="ttc" id="a02714_html_afbddf389b8b334cf7c8edf173242f8e3"><div class="ttname"><a href="../../d1/d3c/a02714.html#afbddf389b8b334cf7c8edf173242f8e3">VfDeadlockDetectionInitialize</a></div><div class="ttdeci">VOID VfDeadlockDetectionInitialize()</div></div>
<div class="ttc" id="a02230_html_a7f319bfc2492a2136964194204e7a8cf"><div class="ttname"><a href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div><div class="ttdeci">#define VOID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00288">ntdef.h:288</a></div></div>
<div class="ttc" id="a02302_html_a22b227c6c12787e641221ca9dbc6c4e9"><div class="ttname"><a href="../../d3/d58/a02302.html#a22b227c6c12787e641221ca9dbc6c4e9">VI_DEADLOCK_RESOURCE_TYPE</a></div><div class="ttdeci">enum _VI_DEADLOCK_RESOURCE_TYPE VI_DEADLOCK_RESOURCE_TYPE</div></div>
<div class="ttc" id="a02200_html_a4cef9c037ee5e8ea81fb457d9574e52d"><div class="ttname"><a href="../../dd/dce/a02200.html#a4cef9c037ee5e8ea81fb457d9574e52d">PDEVICE_OBJECT</a></div><div class="ttdeci">struct _DEVICE_OBJECT * PDEVICE_OBJECT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dce/a02200_source.html#l01436">io.h:1436</a></div></div>
<div class="ttc" id="a01802_html_a58f978583b581032c9bf38a052e1064d"><div class="ttname"><a href="../../dd/ddc/a01802.html#a58f978583b581032c9bf38a052e1064d">_VI_DEADLOCK_GLOBALS::ABC_ACB_Skipped</a></div><div class="ttdeci">ULONG ABC_ACB_Skipped</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00374">vfdeadlock.h:374</a></div></div>
<div class="ttc" id="a02714_html_a00a821ae6716e0c01ff3c66a458262d2"><div class="ttname"><a href="../../d1/d3c/a02714.html#a00a821ae6716e0c01ff3c66a458262d2">VI_MAX_STACK_DEPTH</a></div><div class="ttdeci">#define VI_MAX_STACK_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00052">vfdeadlock.h:52</a></div></div>
<div class="ttc" id="a01802_html_aeb3dc3acd2bcf558c026813c3faa55ff"><div class="ttname"><a href="../../dd/ddc/a01802.html#aeb3dc3acd2bcf558c026813c3faa55ff">_VI_DEADLOCK_GLOBALS::NodesTrimmedBasedOnCount</a></div><div class="ttdeci">ULONG NodesTrimmedBasedOnCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00351">vfdeadlock.h:351</a></div></div>
<div class="ttc" id="a01802_html_a7f6d842aaae9b2f3a29fe3f6fe1e5ac8"><div class="ttname"><a href="../../dd/ddc/a01802.html#a7f6d842aaae9b2f3a29fe3f6fe1e5ac8">_VI_DEADLOCK_GLOBALS::SearchedNodesLimit</a></div><div class="ttdeci">ULONG SearchedNodesLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00362">vfdeadlock.h:362</a></div></div>
<div class="ttc" id="a01804_html_aedc3f5edda0edce5a5bb41a82de85727"><div class="ttname"><a href="../../dc/dec/a01804.html#aedc3f5edda0edce5a5bb41a82de85727">_VI_DEADLOCK_RESOURCE::FreeListEntry</a></div><div class="ttdeci">LIST_ENTRY FreeListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00216">vfdeadlock.h:216</a></div></div>
<div class="ttc" id="a01804_html_a12a61b936169ce1ea482581e916a2b69"><div class="ttname"><a href="../../dc/dec/a01804.html#a12a61b936169ce1ea482581e916a2b69">_VI_DEADLOCK_RESOURCE::LastAcquireTrace</a></div><div class="ttdeci">PVOID LastAcquireTrace[VI_MAX_STACK_DEPTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00231">vfdeadlock.h:231</a></div></div>
<div class="ttc" id="a02714_html_a7c215532b4b12cfdb81dbedb2ce8bd75"><div class="ttname"><a href="../../d1/d3c/a02714.html#a7c215532b4b12cfdb81dbedb2ce8bd75">PVI_DEADLOCK_THREAD</a></div><div class="ttdeci">struct _VI_DEADLOCK_THREAD * PVI_DEADLOCK_THREAD</div></div>
<div class="ttc" id="a02167_html_af8429def935ee9a571d3e6dfffc3e790"><div class="ttname"><a href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a></div><div class="ttdeci">ULONG_PTR SIZE_T</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00400">basetsd.h:400</a></div></div>
<div class="ttc" id="a01802_html_ad7a31593fa060a734270431803fb8f4b"><div class="ttname"><a href="../../dd/ddc/a01802.html#ad7a31593fa060a734270431803fb8f4b">_VI_DEADLOCK_GLOBALS::PoolTrimCounter</a></div><div class="ttdeci">ULONG PoolTrimCounter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00403">vfdeadlock.h:403</a></div></div>
<div class="ttc" id="a01803_html_a46bcd8b80090ec76e544be9c95f6ce16"><div class="ttname"><a href="../../d3/dfd/a01803.html#a46bcd8b80090ec76e544be9c95f6ce16">_VI_DEADLOCK_NODE::SequenceNumber</a></div><div class="ttdeci">ULONG SequenceNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00141">vfdeadlock.h:141</a></div></div>
<div class="ttc" id="a01803_html"><div class="ttname"><a href="../../d3/dfd/a01803.html">_VI_DEADLOCK_NODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00060">vfdeadlock.h:60</a></div></div>
<div class="ttc" id="a01802_html_a84f12bf6372ac7781608d6870595ed0a"><div class="ttname"><a href="../../dd/ddc/a01802.html#a84f12bf6372ac7781608d6870595ed0a">_VI_DEADLOCK_GLOBALS::Instigator</a></div><div class="ttdeci">PVOID Instigator</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00422">vfdeadlock.h:422</a></div></div>
<div class="ttc" id="a01802_html_ac2a99f73c1d5356cb52ac4c90e6a2e31"><div class="ttname"><a href="../../dd/ddc/a01802.html#ac2a99f73c1d5356cb52ac4c90e6a2e31">_VI_DEADLOCK_GLOBALS::NodesTrimmedBasedOnAge</a></div><div class="ttdeci">ULONG NodesTrimmedBasedOnAge</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00350">vfdeadlock.h:350</a></div></div>
<div class="ttc" id="a02714_html_a96a65acf42f73a569ce6f272508229d9"><div class="ttname"><a href="../../d1/d3c/a02714.html#a96a65acf42f73a569ce6f272508229d9">PVI_DEADLOCK_NODE</a></div><div class="ttdeci">struct _VI_DEADLOCK_NODE * PVI_DEADLOCK_NODE</div></div>
<div class="ttc" id="a01803_html_a321b0350e09f4ee0d64edfc8e5f5ae70"><div class="ttname"><a href="../../d3/dfd/a01803.html#a321b0350e09f4ee0d64edfc8e5f5ae70">_VI_DEADLOCK_NODE::ResourceList</a></div><div class="ttdeci">struct _LIST_ENTRY ResourceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00090">vfdeadlock.h:90</a></div></div>
<div class="ttc" id="a01802_html_a232fa55b38aa95deb9719eebde29c435"><div class="ttname"><a href="../../dd/ddc/a01802.html#a232fa55b38aa95deb9719eebde29c435">_VI_DEADLOCK_GLOBALS::Threads</a></div><div class="ttdeci">ULONG Threads[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00316">vfdeadlock.h:316</a></div></div>
<div class="ttc" id="a01802_html_a329c3dc482b2f6206564ebcaa11d1a97"><div class="ttname"><a href="../../dd/ddc/a01802.html#a329c3dc482b2f6206564ebcaa11d1a97">_VI_DEADLOCK_GLOBALS::FreeResourceList</a></div><div class="ttdeci">LIST_ENTRY FreeResourceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00410">vfdeadlock.h:410</a></div></div>
<div class="ttc" id="a01804_html_ab28d2f5f068aa7772d40657d57bf1240"><div class="ttname"><a href="../../dc/dec/a01804.html#ab28d2f5f068aa7772d40657d57bf1240">_VI_DEADLOCK_RESOURCE::HashChainList</a></div><div class="ttdeci">LIST_ENTRY HashChainList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00208">vfdeadlock.h:208</a></div></div>
<div class="ttc" id="a02230_html_aeb50efa3851f57820d84e371ddbd4168"><div class="ttname"><a href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div><div class="ttdeci">ULONG LOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00526">ntdef.h:526</a></div></div>
<div class="ttc" id="a02714_html_aecf91fb479e44b3c9e959a44d16b3e7d"><div class="ttname"><a href="../../d1/d3c/a02714.html#aecf91fb479e44b3c9e959a44d16b3e7d">VI_DEADLOCK_GLOBALS</a></div><div class="ttdeci">struct _VI_DEADLOCK_GLOBALS VI_DEADLOCK_GLOBALS</div></div>
<div class="ttc" id="a01802_html_a05443d4206653b92508cfb6f7c65043b"><div class="ttname"><a href="../../dd/ddc/a01802.html#a05443d4206653b92508cfb6f7c65043b">_VI_DEADLOCK_GLOBALS::AllocationFailures</a></div><div class="ttdeci">ULONG AllocationFailures</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00343">vfdeadlock.h:343</a></div></div>
<div class="ttc" id="a01802_html_aa70db935205e8eb38e98470ab85edb5c"><div class="ttname"><a href="../../dd/ddc/a01802.html#aa70db935205e8eb38e98470ab85edb5c">_VI_DEADLOCK_GLOBALS::MaxNodesSearched</a></div><div class="ttdeci">ULONG MaxNodesSearched</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00358">vfdeadlock.h:358</a></div></div>
<div class="ttc" id="a02714_html_ab2f2c15cb6ee5efacca8042472269a15"><div class="ttname"><a href="../../d1/d3c/a02714.html#ab2f2c15cb6ee5efacca8042472269a15">VfDeadlockAfterCallDriver</a></div><div class="ttdeci">VOID VfDeadlockAfterCallDriver(IN PDEVICE_OBJECT DeviceObject, IN OUT PIRP Irp, IN BOOLEAN PagingIrp)</div></div>
<div class="ttc" id="a01802_html_afe39e65da70938d2638967ca438f9101"><div class="ttname"><a href="../../dd/ddc/a01802.html#afe39e65da70938d2638967ca438f9101">_VI_DEADLOCK_GLOBALS::SequenceNumber</a></div><div class="ttdeci">ULONG SequenceNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00359">vfdeadlock.h:359</a></div></div>
<div class="ttc" id="a01802_html_ac8cde49e89b747886f42096c7220df69"><div class="ttname"><a href="../../dd/ddc/a01802.html#ac8cde49e89b747886f42096c7220df69">_VI_DEADLOCK_GLOBALS::SearchLimitHits</a></div><div class="ttdeci">ULONG SearchLimitHits</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00365">vfdeadlock.h:365</a></div></div>
<div class="ttc" id="a01805_html_aa5b0f563039b810e4e8a121854d64c38"><div class="ttname"><a href="../../d7/d62/a01805.html#aa5b0f563039b810e4e8a121854d64c38">_VI_DEADLOCK_THREAD::NodeCount</a></div><div class="ttdeci">ULONG NodeCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00291">vfdeadlock.h:291</a></div></div>
<div class="ttc" id="a01803_html_a2a2c79739faa8a5ceceb9e8e8bf7bda7"><div class="ttname"><a href="../../d3/dfd/a01803.html#a2a2c79739faa8a5ceceb9e8e8bf7bda7">_VI_DEADLOCK_NODE::Parent</a></div><div class="ttdeci">struct _VI_DEADLOCK_NODE * Parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00066">vfdeadlock.h:66</a></div></div>
<div class="ttc" id="a01802_html_a31a0ed6434b88fba321102388f828cb3"><div class="ttname"><a href="../../dd/ddc/a01802.html#a31a0ed6434b88fba321102388f828cb3">_VI_DEADLOCK_GLOBALS::CacheReductionInProgress</a></div><div class="ttdeci">LOGICAL CacheReductionInProgress</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00436">vfdeadlock.h:436</a></div></div>
<div class="ttc" id="a01802_html_afff40ffdc07fdadbb167d7265a9aa09f"><div class="ttname"><a href="../../dd/ddc/a01802.html#afff40ffdc07fdadbb167d7265a9aa09f">_VI_DEADLOCK_GLOBALS::ThreadDatabase</a></div><div class="ttdeci">PLIST_ENTRY ThreadDatabase</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00336">vfdeadlock.h:336</a></div></div>
<div class="ttc" id="a01802_html_ae007b254f627544fa45a3a463fd98bf8"><div class="ttname"><a href="../../dd/ddc/a01802.html#ae007b254f627544fa45a3a463fd98bf8">_VI_DEADLOCK_GLOBALS::TotalReleases</a></div><div class="ttdeci">ULONG TotalReleases</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00388">vfdeadlock.h:388</a></div></div>
<div class="ttc" id="a01805_html_a80747c6cd9d23b17ba599642b4e06fe3"><div class="ttname"><a href="../../d7/d62/a01805.html#a80747c6cd9d23b17ba599642b4e06fe3">_VI_DEADLOCK_THREAD::Thread</a></div><div class="ttdeci">PKTHREAD Thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00251">vfdeadlock.h:251</a></div></div>
<div class="ttc" id="a01803_html_a3d3dcbe477a25a5a153647001e1cc87b"><div class="ttname"><a href="../../d3/dfd/a01803.html#a3d3dcbe477a25a5a153647001e1cc87b">_VI_DEADLOCK_NODE::ReleasedOutOfOrder</a></div><div class="ttdeci">ULONG ReleasedOutOfOrder</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00140">vfdeadlock.h:140</a></div></div>
<div class="ttc" id="a01802_html_a83f5cf71aa2b2446ebd7b4575700ef6f"><div class="ttname"><a href="../../dd/ddc/a01802.html#a83f5cf71aa2b2446ebd7b4575700ef6f">_VI_DEADLOCK_GLOBALS::FreeResourceCount</a></div><div class="ttdeci">ULONG FreeResourceCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00414">vfdeadlock.h:414</a></div></div>
<div class="ttc" id="a01802_html_aedc2dbbefd8a5a39558f2b0cda424f71"><div class="ttname"><a href="../../dd/ddc/a01802.html#aedc2dbbefd8a5a39558f2b0cda424f71">_VI_DEADLOCK_GLOBALS::RootNodesDeleted</a></div><div class="ttdeci">ULONG RootNodesDeleted</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00389">vfdeadlock.h:389</a></div></div>
<div class="ttc" id="a01805_html_a7461d739e9e862d7e002fa12e4e23d49"><div class="ttname"><a href="../../d7/d62/a01805.html#a7461d739e9e862d7e002fa12e4e23d49">_VI_DEADLOCK_THREAD::FreeListEntry</a></div><div class="ttdeci">LIST_ENTRY FreeListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00282">vfdeadlock.h:282</a></div></div>
<div class="ttc" id="a01803_html_a572cd05f8fadfdb05f962183a3bfeab4"><div class="ttname"><a href="../../d3/dfd/a01803.html#a572cd05f8fadfdb05f962183a3bfeab4">_VI_DEADLOCK_NODE::Root</a></div><div class="ttdeci">struct _VI_DEADLOCK_RESOURCE * Root</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00105">vfdeadlock.h:105</a></div></div>
<div class="ttc" id="a01805_html_ab8bfa5f74af6223854464e4ca531f0c1"><div class="ttname"><a href="../../d7/d62/a01805.html#ab8bfa5f74af6223854464e4ca531f0c1">_VI_DEADLOCK_THREAD::PagingCount</a></div><div class="ttdeci">ULONG PagingCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00300">vfdeadlock.h:300</a></div></div>
<div class="ttc" id="a01803_html_aeded43310723976bcdedd3d8f16bb1cd"><div class="ttname"><a href="../../d3/dfd/a01803.html#aeded43310723976bcdedd3d8f16bb1cd">_VI_DEADLOCK_NODE::Active</a></div><div class="ttdeci">ULONG Active</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00138">vfdeadlock.h:138</a></div></div>
<div class="ttc" id="a01805_html_affd68fdc397830e68c34e93a1156a272"><div class="ttname"><a href="../../d7/d62/a01805.html#affd68fdc397830e68c34e93a1156a272">_VI_DEADLOCK_THREAD::ListEntry</a></div><div class="ttdeci">LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00273">vfdeadlock.h:273</a></div></div>
<div class="ttc" id="a01804_html_ae05835959977b4cffbe375bc297d20e0"><div class="ttname"><a href="../../dc/dec/a01804.html#ae05835959977b4cffbe375bc297d20e0">_VI_DEADLOCK_RESOURCE::ResourceAddress</a></div><div class="ttdeci">PVOID ResourceAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00187">vfdeadlock.h:187</a></div></div>
<div class="ttc" id="a02714_html_a050e460447f23634330cbe0bfbddd59e"><div class="ttname"><a href="../../d1/d3c/a02714.html#a050e460447f23634330cbe0bfbddd59e">PVI_DEADLOCK_RESOURCE</a></div><div class="ttdeci">struct _VI_DEADLOCK_RESOURCE * PVI_DEADLOCK_RESOURCE</div></div>
<div class="ttc" id="a01804_html_aaf5b29d86b47755e60829d3d98c0414f"><div class="ttname"><a href="../../dc/dec/a01804.html#aaf5b29d86b47755e60829d3d98c0414f">_VI_DEADLOCK_RESOURCE::Type</a></div><div class="ttdeci">VI_DEADLOCK_RESOURCE_TYPE Type</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00166">vfdeadlock.h:166</a></div></div>
<div class="ttc" id="a01802_html_a686531bfcbedb386d3250a7ad4698aa1"><div class="ttname"><a href="../../dd/ddc/a01802.html#a686531bfcbedb386d3250a7ad4698aa1">_VI_DEADLOCK_GLOBALS::Nodes</a></div><div class="ttdeci">ULONG Nodes[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00314">vfdeadlock.h:314</a></div></div>
<div class="ttc" id="a01805_html"><div class="ttname"><a href="../../d7/d62/a01805.html">_VI_DEADLOCK_THREAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00245">vfdeadlock.h:245</a></div></div>
<div class="ttc" id="a02200_html_a72ac9d3792fa806a30a1a8df851b590b"><div class="ttname"><a href="../../dd/dce/a02200.html#a72ac9d3792fa806a30a1a8df851b590b">PIRP</a></div><div class="ttdeci">* PIRP</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dce/a02200_source.html#l02090">io.h:2090</a></div></div>
<div class="ttc" id="a01802_html_a3f6e512d43be31d3484e8d42017d9b66"><div class="ttname"><a href="../../dd/ddc/a01802.html#a3f6e512d43be31d3484e8d42017d9b66">_VI_DEADLOCK_GLOBALS::NodesSearched</a></div><div class="ttdeci">ULONG NodesSearched</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00357">vfdeadlock.h:357</a></div></div>
<div class="ttc" id="a01804_html_a6fa002a26f450b92ae219087b3e9fd6f"><div class="ttname"><a href="../../dc/dec/a01804.html#a6fa002a26f450b92ae219087b3e9fd6f">_VI_DEADLOCK_RESOURCE::StackTrace</a></div><div class="ttdeci">PVOID StackTrace[VI_MAX_STACK_DEPTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00225">vfdeadlock.h:225</a></div></div>
<div class="ttc" id="a01802_html_ab9ceda0652f6f36bc1d95657d3506bb4"><div class="ttname"><a href="../../dd/ddc/a01802.html#ab9ceda0652f6f36bc1d95657d3506bb4">_VI_DEADLOCK_GLOBALS::Participant</a></div><div class="ttdeci">PVI_DEADLOCK_NODE Participant[NO_OF_DEADLOCK_PARTICIPANTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00434">vfdeadlock.h:434</a></div></div>
<div class="ttc" id="a01802_html_a0b54cbc9918e2d9dea31a76d202a7c4c"><div class="ttname"><a href="../../dd/ddc/a01802.html#a0b54cbc9918e2d9dea31a76d202a7c4c">_VI_DEADLOCK_GLOBALS::NumberOfParticipants</a></div><div class="ttdeci">ULONG NumberOfParticipants</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00428">vfdeadlock.h:428</a></div></div>
<div class="ttc" id="a01802_html_ab7789acc6f10e702d53e4e6cf6d5d2d4"><div class="ttname"><a href="../../dd/ddc/a01802.html#ab7789acc6f10e702d53e4e6cf6d5d2d4">_VI_DEADLOCK_GLOBALS::ForgetHistoryCounter</a></div><div class="ttdeci">ULONG ForgetHistoryCounter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00396">vfdeadlock.h:396</a></div></div>
<div class="ttc" id="a00808_html"><div class="ttname"><a href="../../d7/dc8/a00808.html">_KTHREAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l01069">ke.h:1069</a></div></div>
<div class="ttc" id="a02230_html_ab27e8a5903617bec9d037e4039ac00a7"><div class="ttname"><a href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div><div class="ttdeci">void * PVOID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00245">ntdef.h:245</a></div></div>
<div class="ttc" id="a02714_html_a5fe92701c4684d61d0c5fb3015255567"><div class="ttname"><a href="../../d1/d3c/a02714.html#a5fe92701c4684d61d0c5fb3015255567">NO_OF_DEADLOCK_PARTICIPANTS</a></div><div class="ttdeci">#define NO_OF_DEADLOCK_PARTICIPANTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00054">vfdeadlock.h:54</a></div></div>
<div class="ttc" id="a01802_html_ad3276b301e5933ef13011741153bcb3b"><div class="ttname"><a href="../../dd/ddc/a01802.html#ad3276b301e5933ef13011741153bcb3b">_VI_DEADLOCK_GLOBALS::BytesAllocated</a></div><div class="ttdeci">SIZE_T BytesAllocated</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00329">vfdeadlock.h:329</a></div></div>
<div class="ttc" id="a02714_html_a5da452c664fd329756450253dd25127f"><div class="ttname"><a href="../../d1/d3c/a02714.html#a5da452c664fd329756450253dd25127f">VI_DEADLOCK_RESOURCE</a></div><div class="ttdeci">struct _VI_DEADLOCK_RESOURCE VI_DEADLOCK_RESOURCE</div></div>
<div class="ttc" id="a02714_html_aa6b3ea004ae50346cacf3f7fcb7d56f0"><div class="ttname"><a href="../../d1/d3c/a02714.html#aa6b3ea004ae50346cacf3f7fcb7d56f0">VI_DEADLOCK_THREAD</a></div><div class="ttdeci">struct _VI_DEADLOCK_THREAD VI_DEADLOCK_THREAD</div></div>
<div class="ttc" id="a01802_html_a5d33738cfd8f6cda47f696090c1911d1"><div class="ttname"><a href="../../dd/ddc/a01802.html#a5d33738cfd8f6cda47f696090c1911d1">_VI_DEADLOCK_GLOBALS::ResourceDatabase</a></div><div class="ttdeci">PLIST_ENTRY ResourceDatabase</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00335">vfdeadlock.h:335</a></div></div>
<div class="ttc" id="a01805_html_afd7833b059d784d318709bc079887027"><div class="ttname"><a href="../../d7/d62/a01805.html#afd7833b059d784d318709bc079887027">_VI_DEADLOCK_THREAD::CurrentSpinNode</a></div><div class="ttdeci">PVI_DEADLOCK_NODE CurrentSpinNode</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00264">vfdeadlock.h:264</a></div></div>
<div class="ttc" id="a01802_html_a6b9c2e9025512f41362b9696d21b2c13"><div class="ttname"><a href="../../dd/ddc/a01802.html#a6b9c2e9025512f41362b9696d21b2c13">_VI_DEADLOCK_GLOBALS::FreeNodeCount</a></div><div class="ttdeci">ULONG FreeNodeCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00416">vfdeadlock.h:416</a></div></div>
<div class="ttc" id="a01802_html_a9cfaefc24868cbd1982f0a360888c783"><div class="ttname"><a href="../../dd/ddc/a01802.html#a9cfaefc24868cbd1982f0a360888c783">_VI_DEADLOCK_GLOBALS::NodesReleasedOutOfOrder</a></div><div class="ttdeci">ULONG NodesReleasedOutOfOrder</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00377">vfdeadlock.h:377</a></div></div>
<div class="ttc" id="a01802_html_ad73aad0ec801fd21b6283d831576a2dd"><div class="ttname"><a href="../../dd/ddc/a01802.html#ad73aad0ec801fd21b6283d831576a2dd">_VI_DEADLOCK_GLOBALS::FreeThreadCount</a></div><div class="ttdeci">ULONG FreeThreadCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00415">vfdeadlock.h:415</a></div></div>
<div class="ttc" id="a02714_html_a25b2f3679be8d3182e1bca76d2923416"><div class="ttname"><a href="../../d1/d3c/a02714.html#a25b2f3679be8d3182e1bca76d2923416">VfDeadlockBeforeCallDriver</a></div><div class="ttdeci">BOOLEAN VfDeadlockBeforeCallDriver(IN PDEVICE_OBJECT DeviceObject, IN OUT PIRP Irp)</div></div>
<div class="ttc" id="a01802_html_a5689b8321dd3d51efcc77bab9ca5a602"><div class="ttname"><a href="../../dd/ddc/a01802.html#a5689b8321dd3d51efcc77bab9ca5a602">_VI_DEADLOCK_GLOBALS::FreeNodeList</a></div><div class="ttdeci">LIST_ENTRY FreeNodeList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00412">vfdeadlock.h:412</a></div></div>
<div class="ttc" id="a01803_html_ae475052bc629697287d589dcf818170b"><div class="ttname"><a href="../../d3/dfd/a01803.html#ae475052bc629697287d589dcf818170b">_VI_DEADLOCK_NODE::SiblingsList</a></div><div class="ttdeci">struct _LIST_ENTRY SiblingsList</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00081">vfdeadlock.h:81</a></div></div>
<div class="ttc" id="a02714_html_a6f4f1a323b59f070190f19f0885bacd6"><div class="ttname"><a href="../../d1/d3c/a02714.html#a6f4f1a323b59f070190f19f0885bacd6">PVI_DEADLOCK_GLOBALS</a></div><div class="ttdeci">struct _VI_DEADLOCK_GLOBALS * PVI_DEADLOCK_GLOBALS</div></div>
<div class="ttc" id="a01805_html_aee78bbfcc7d27abbc5d5209635799912"><div class="ttname"><a href="../../d7/d62/a01805.html#aee78bbfcc7d27abbc5d5209635799912">_VI_DEADLOCK_THREAD::CurrentOtherNode</a></div><div class="ttdeci">PVI_DEADLOCK_NODE CurrentOtherNode</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00265">vfdeadlock.h:265</a></div></div>
<div class="ttc" id="a02230_html_aec78e7a9e90a406a56f859ee456e8eae"><div class="ttname"><a href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a></div><div class="ttdeci">#define OUT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00035">ntdef.h:35</a></div></div>
<div class="ttc" id="a01802_html_ae8d9f20455ae4a6353c8ac92c3b26048"><div class="ttname"><a href="../../dd/ddc/a01802.html#ae8d9f20455ae4a6353c8ac92c3b26048">_VI_DEADLOCK_GLOBALS::TimeAcquire</a></div><div class="ttdeci">LONGLONG TimeAcquire</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00322">vfdeadlock.h:322</a></div></div>
<div class="ttc" id="a01804_html_ac10580038585830ac1f3d7cf4fe89ac9"><div class="ttname"><a href="../../dc/dec/a01804.html#ac10580038585830ac1f3d7cf4fe89ac9">_VI_DEADLOCK_RESOURCE::RecursionCount</a></div><div class="ttdeci">ULONG RecursionCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00180">vfdeadlock.h:180</a></div></div>
<div class="ttc" id="a01802_html_a9fd9c53d757b933d6dd8b686106de259"><div class="ttname"><a href="../../dd/ddc/a01802.html#a9fd9c53d757b933d6dd8b686106de259">_VI_DEADLOCK_GLOBALS::RecursionDepthLimit</a></div><div class="ttdeci">ULONG RecursionDepthLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3c/a02714_source.html#l00361">vfdeadlock.h:361</a></div></div>
<div class="ttc" id="a02230_html_af632da489ebc3708ec3ab6791ee53fa4"><div class="ttname"><a href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div><div class="ttdeci">unsigned long ULONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00392">ntdef.h:392</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f22a2235bfed9e7f28226e9ee4e6031c.html">Windows Research Kernel</a></li><li class="navelem"><a class="el" href="../../dir_16dc7fc7f708ba96594d4d2303bf9b10.html">VERIFIER</a></li><li class="navelem"><a class="el" href="../../d1/d3c/a02714.html">vfdeadlock.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>

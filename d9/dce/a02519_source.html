<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Windows Research Kernel v1.2: C:/Windows Research Kernel/mm/mi.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Windows Research Kernel v1.2
   </div>
   <div id="projectbrief">Have fun :)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/dce/a02519_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">mi.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/dce/a02519.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright (c) Microsoft Corporation. All rights reserved. </span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">You may only use this code if you agree to the terms of the Windows Research Kernel Source Code License agreement (see License.txt).</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">If you do not agree to the terms, do not use the code.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">Module Name:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">    mi.h</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">Abstract:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">    This module contains the private data structures and procedure</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">    prototypes for the memory management system.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#ifndef _MI_</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#define _MI_</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#pragma warning(disable:4214)   // bit field types other than int</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#pragma warning(disable:4201)   // nameless struct/union</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#pragma warning(disable:4324)   // alignment sensitive to declspec</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#pragma warning(disable:4127)   // condition expression is constant</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#pragma warning(disable:4115)   // named type definition in parentheses</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#pragma warning(disable:4232)   // dllimport not static</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#pragma warning(disable:4206)   // translation unit empty</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/de2/a02248.html">ntos.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d13/a02237.html">ntimage.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d85/a02189.html">fsrtl.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dd9/a02314.html">zwapi.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d6e/a02273.html">pool.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d3b/a02291.html">stdio.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d8c/a02292.html">stdlib.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/dae/a02294.html">string.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d29/a02283.html">safeboot.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/db8/a02297.html">triage.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#if defined(_X86_)</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;..\mm\i386\mi386.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#elif defined(_AMD64_)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;..\mm\amd64\miamd.h&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#error &quot;mm: a target architecture must be defined.&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define ASSERT32(exp)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#define ASSERT64(exp)   ASSERT(exp)</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// This macro is used to satisfy the compiler -</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// note the assignments are not needed for correctness</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// but without it the compiler cannot compile this code</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// W4 to check for use of uninitialized variables.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#define SATISFY_OVERZEALOUS_COMPILER(x) x</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6f4360861aa5a5d52fd89db43c959d10">   65</a></span>&#160;<span class="preprocessor">#define ASSERT32(exp)   ASSERT(exp)</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1d2ae76605644176a85c18bf5dde7321">   66</a></span>&#160;<span class="preprocessor">#define ASSERT64(exp)</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9d16eedeb95d21ed4e2c436de4c48cee">   67</a></span>&#160;<span class="preprocessor">#define SATISFY_OVERZEALOUS_COMPILER(x) x</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// Special pool constants</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aed655f8e81447ed7e6d43cb12d133f95">   73</a></span>&#160;<span class="preprocessor">#define MI_SPECIAL_POOL_PAGEABLE         0x8000</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a166df4101fa1300c8a735cf47dae7764">   74</a></span>&#160;<span class="preprocessor">#define MI_SPECIAL_POOL_VERIFIER         0x4000</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a19ede1584a172871d480b71bc72f2416">   75</a></span>&#160;<span class="preprocessor">#define MI_SPECIAL_POOL_IN_SESSION       0x2000</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a21acdc22de3b8546f48cbeb4c3e9cfda">   76</a></span>&#160;<span class="preprocessor">#define MI_SPECIAL_POOL_PTE_PAGEABLE     0x0002</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a65043063bf783878185d9e33e088dea1">   77</a></span>&#160;<span class="preprocessor">#define MI_SPECIAL_POOL_PTE_NONPAGEABLE  0x0004</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af8aed17c6e27756de5b33dfd58e77f28">   78</a></span>&#160;<span class="preprocessor">#define MI_SPECIAL_POOL_PTE_FREED        0x0008</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0eee541af3660c67299d5e13bdb8e17c">   81</a></span>&#160;<span class="preprocessor">#define _1gb  0x40000000                // 1 gigabyte</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a779c0bafd4a773d7005c5fbd7149a93a">   82</a></span>&#160;<span class="preprocessor">#define _2gb  0x80000000                // 2 gigabytes</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaf9c3b12dcf2973c68da9a0298e01570">   83</a></span>&#160;<span class="preprocessor">#define _3gb  0xC0000000                // 3 gigabytes</span></div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a94f3ee60a469570dae95c0009643bfc2">   84</a></span>&#160;<span class="preprocessor">#define _4gb 0x100000000                // 4 gigabytes</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a53f33a865ee98840d3ab253177126cde">   86</a></span>&#160;<span class="preprocessor">#define MM_FLUSH_COUNTER_MASK (0xFFFFF)</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4ce1d88d147b79fe2278bd60601925cd">   88</a></span>&#160;<span class="preprocessor">#define MM_FREE_WSLE_SHIFT 4</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1947cf56628bfebcf0af0cc8edb8d5d0">   90</a></span>&#160;<span class="preprocessor">#define WSLE_NULL_INDEX ((((WSLE_NUMBER)-1) &gt;&gt; MM_FREE_WSLE_SHIFT))</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad7de47186bc050484af7fdd391210b3f">   92</a></span>&#160;<span class="preprocessor">#define MM_FREE_POOL_SIGNATURE (0x50554F4C)</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a83a076abafb6dbeff3caf99991e51dc0">   94</a></span>&#160;<span class="preprocessor">#define MM_MINIMUM_PAGED_POOL_NTAS ((SIZE_T)(48*1024*1024))</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad4eb652411405ac454e32a3b01646115">   96</a></span>&#160;<span class="preprocessor">#define MM_ALLOCATION_FILLS_VAD ((PMMPTE)(ULONG_PTR)~3)</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a18502bbe9a29d0872dd87ec94341a61d">   98</a></span>&#160;<span class="preprocessor">#define MM_WORKING_SET_LIST_SEARCH 17</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a16fe2e78a0d0c4889b2da4210d00e47d">  100</a></span>&#160;<span class="preprocessor">#define MM_FLUID_WORKING_SET 8</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a257c9087f7a2103f2afb94277f2d15c1">  102</a></span>&#160;<span class="preprocessor">#define MM_FLUID_PHYSICAL_PAGES 32  // see MmResidentPages below.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3588754a3f0062ce48e75461f2708e9a">  104</a></span>&#160;<span class="preprocessor">#define MM_USABLE_PAGES_FREE 32</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a665055d761aea1e8fef72262b8298dfd">  106</a></span>&#160;<span class="preprocessor">#define X64K (ULONG)65536</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5f8f0b7a48218e2a621b679a455c2911">  108</a></span>&#160;<span class="preprocessor">#define MM_HIGHEST_VAD_ADDRESS ((PVOID)((ULONG_PTR)MM_HIGHEST_USER_ADDRESS - (64 * 1024)))</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3eca0604c75c6690214e1adb9500dfd3">  111</a></span>&#160;<span class="preprocessor">#define MM_WS_NOT_LISTED    ((PLIST_ENTRY)0)</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a60ba12858896c8559f41617ee03e0bef">  112</a></span>&#160;<span class="preprocessor">#define MM_WS_TRIMMING      ((PLIST_ENTRY)1)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adf2b828c322ab08beebfafff18f81200">  113</a></span>&#160;<span class="preprocessor">#define MM_WS_SWAPPED_OUT   ((PLIST_ENTRY)2)</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#define MM_IO_IN_PROGRESS ((PLIST_ENTRY)97)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a144c5f4e7cc358ba745ea0fd4c297b98">  119</a></span>&#160;<span class="preprocessor">#define MM4K_SHIFT    12  // MUST BE LESS THAN OR EQUAL TO PAGE_SHIFT</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac60d93dcc5e19746047a440cec229bb9">  120</a></span>&#160;<span class="preprocessor">#define MM4K_MASK  0xfff</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab3ff1e421a97d9a485ae1cb84746879f">  122</a></span>&#160;<span class="preprocessor">#define MMSECTOR_SHIFT 9  // MUST BE LESS THAN OR EQUAL TO PAGE_SHIFT</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a946af2a6ebb15c18bcdceefe576a7f7f">  124</a></span>&#160;<span class="preprocessor">#define MMSECTOR_MASK 0x1ff</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab7cacd8cd75803d75a2aefc1bca8acea">  126</a></span>&#160;<span class="preprocessor">#define MM_LOCK_BY_REFCOUNT 0</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7a6523d752be83329bbf10a0dba76de8">  128</a></span>&#160;<span class="preprocessor">#define MM_LOCK_BY_NONPAGE 1</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a71b82eaed87707737af4c46a2b2a5963">  130</a></span>&#160;<span class="preprocessor">#define MM_MAXIMUM_WRITE_CLUSTER (MM_MAXIMUM_DISK_IO_SIZE / PAGE_SIZE)</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">// Number of PTEs to flush singularly before flushing the entire TB.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7f0a8d4679df587284a4c45da3dcd72e">  136</a></span>&#160;<span class="preprocessor">#define MM_MAXIMUM_FLUSH_COUNT (FLUSH_MULTIPLE_MAXIMUM + 1)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">// Page protections</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0315b890ecae79daf990c135eb972f61">  142</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a0315b890ecae79daf990c135eb972f61">WIN32_PROTECTION_MASK</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5226798f3e4415420d8e4e33adc0638f">  143</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> <a class="code" href="../../d9/dce/a02519.html#a5226798f3e4415420d8e4e33adc0638f">PWIN32_PROTECTION_MASK</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">  145</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad59757ff24bafd793c13eebcf1df56a3">  146</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> <a class="code" href="../../d9/dce/a02519.html#ad59757ff24bafd793c13eebcf1df56a3">PMM_PROTECTION_MASK</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab5e3b8db4907611da490b4a03db78c1e">  148</a></span>&#160;<span class="preprocessor">#define MM_ZERO_ACCESS         0  // this value is not used.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1dc55d9dd65edc8ea00f5f5b53fa8766">  149</a></span>&#160;<span class="preprocessor">#define MM_READONLY            1</span></div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8852a624292316b648b0ff9e28fe2f38">  150</a></span>&#160;<span class="preprocessor">#define MM_EXECUTE             2</span></div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a95a6abe4773c1a895cc70e369629134a">  151</a></span>&#160;<span class="preprocessor">#define MM_EXECUTE_READ        3</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a15b480960d8ee5301b76872e240b39aa">  152</a></span>&#160;<span class="preprocessor">#define MM_READWRITE           4  // bit 2 is set if this is writable.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af728327a8e1f6228d15e1480d11dfce5">  153</a></span>&#160;<span class="preprocessor">#define MM_WRITECOPY           5</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5d2df44b21032afeff377273bbcb7afd">  154</a></span>&#160;<span class="preprocessor">#define MM_EXECUTE_READWRITE   6</span></div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a06ae721e86124dd670d6faed0f241c71">  155</a></span>&#160;<span class="preprocessor">#define MM_EXECUTE_WRITECOPY   7</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a573400d029a8216805005b7c8efa568f">  157</a></span>&#160;<span class="preprocessor">#define MM_NOCACHE            0x8</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1f1ef0f22117d62dfa7d816ca6927a24">  158</a></span>&#160;<span class="preprocessor">#define MM_GUARD_PAGE         0x10</span></div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7fcdf61eb23b926efd6ab6482e98f632">  159</a></span>&#160;<span class="preprocessor">#define MM_DECOMMIT           0x10   // NO_ACCESS, Guard page</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaa8055b6084a6c8d59e7f92cc076234f">  160</a></span>&#160;<span class="preprocessor">#define MM_NOACCESS           0x18   // NO_ACCESS, Guard_page, nocache.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aefee0041fcabd47d5ac3fa6b8e95819b">  161</a></span>&#160;<span class="preprocessor">#define MM_UNKNOWN_PROTECTION 0x100  // bigger than 5 bits!</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a85e4ee1430fdd9cf4d7cf5609ac9e5f9">  163</a></span>&#160;<span class="preprocessor">#define MM_INVALID_PROTECTION ((ULONG)-1)  // bigger than 5 bits!</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a964cdfcca47647ebcf200ea03621f7c9">  165</a></span>&#160;<span class="preprocessor">#define MM_PROTECTION_WRITE_MASK     4</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a647019489ffd170832a25d5ac8e577f9">  166</a></span>&#160;<span class="preprocessor">#define MM_PROTECTION_COPY_MASK      1</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa3bcbd1d570b56f2bb7d742771b43f3e">  167</a></span>&#160;<span class="preprocessor">#define MM_PROTECTION_OPERATION_MASK 7 // mask off guard page and nocache.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a95b27112e2db94897f7f70d79b33e304">  168</a></span>&#160;<span class="preprocessor">#define MM_PROTECTION_EXECUTE_MASK   2</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaf23ce69d767877fcc3b47536ac7b318">  170</a></span>&#160;<span class="preprocessor">#define MM_SECURE_DELETE_CHECK 0x55</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">// Add guard page to the argument protection.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a210ada2cefc00be06e46e2f4a03a0cfd">  176</a></span>&#160;<span class="preprocessor">#define MI_ADD_GUARD(ProtectCode)   (ProtectCode |= MM_GUARD_PAGE);</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a688453405743a8879c2368bbdc80a7e5">  177</a></span>&#160;<span class="preprocessor">#define MI_IS_GUARD(ProtectCode)    ((ProtectCode &gt;&gt; 3) == (MM_GUARD_PAGE &gt;&gt; 3))</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// Add no cache to the argument protection.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0d52d8a72ecd8b723c36c93367850f84">  183</a></span>&#160;<span class="preprocessor">#define MI_ADD_NOCACHE(ProtectCode)     (ProtectCode |= MM_NOCACHE);</span></div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac77a79f2194ea80463d0239c199e697a">  184</a></span>&#160;<span class="preprocessor">#define MI_IS_NOCACHE(ProtectCode)      ((ProtectCode &gt;&gt; 3) == (MM_NOCACHE &gt;&gt; 3))</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">// Add write combined to the argument protection.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7a9ae4bf693dbde852fb616be89c20b7">  190</a></span>&#160;<span class="preprocessor">#define MM_WRITECOMBINE (MM_NOCACHE | MM_GUARD_PAGE)</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a881fe8de34ad99d07846aa92fddf7894">  191</a></span>&#160;<span class="preprocessor">#define MI_ADD_WRITECOMBINE(ProtectCode)   (ProtectCode |= MM_WRITECOMBINE);</span></div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1732949e2697b4325868db2d8a6d8076">  192</a></span>&#160;<span class="preprocessor">#define MI_IS_WRITECOMBINE(ProtectCode)    (((ProtectCode &gt;&gt; 3) == (MM_WRITECOMBINE &gt;&gt; 3)) &amp;&amp; (ProtectCode &amp; 0x7))</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#if defined(_X86PAE_)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// PAE mode makes most kernel resources executable to improve</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">// compatibility with existing driver binaries.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#define MI_ADD_EXECUTE_TO_VALID_PTE_IF_PAE(TempPte)         \</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">                    ASSERT ((TempPte).u.Hard.Valid == 1);   \</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">                    ((TempPte).u.Long &amp;= ~MmPaeMask);</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">#define MI_ADD_EXECUTE_TO_INVALID_PTE_IF_PAE(TempPte)       \</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor">                    ASSERT ((TempPte).u.Hard.Valid == 0);   \</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">                    ((TempPte).u.Soft.Protection |= MM_EXECUTE);</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">// NT64 drivers derived from 32-bit source have to be recompiled so there&#39;s</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">// no need to make everything executable - drivers can specify it explicitly.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3b7dcf959c366dcb8cf3590f75afb7dc">  216</a></span>&#160;<span class="preprocessor">#define MI_ADD_EXECUTE_TO_VALID_PTE_IF_PAE(TempPte)</span></div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acdb4e2c9777e49b1940f2f72aa16d475">  217</a></span>&#160;<span class="preprocessor">#define MI_ADD_EXECUTE_TO_INVALID_PTE_IF_PAE(TempPte)</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">// Debug flags</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6669d088233a4eb93758a0f9df0aed50">  224</a></span>&#160;<span class="preprocessor">#define MM_DBG_PTE_UPDATE       0x2</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8a56a7cc5652155744699d89efaeea92">  225</a></span>&#160;<span class="preprocessor">#define MM_DBG_DUMP_WSL         0x4</span></div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa41a28e221315c652ea92235daea878a">  226</a></span>&#160;<span class="preprocessor">#define MM_DBG_PAGEFAULT        0x8</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae30cff32f4940b75585a35aa8ae09444">  227</a></span>&#160;<span class="preprocessor">#define MM_DBG_WS_EXPANSION     0x10</span></div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6a9dcc79615f38ec18fbd00591479c85">  228</a></span>&#160;<span class="preprocessor">#define MM_DBG_MOD_WRITE        0x20</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae2572b3b39172221b5993a8bf16f794d">  229</a></span>&#160;<span class="preprocessor">#define MM_DBG_CHECK_PTE        0x40</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a236cbd9e968036237d83632e72f35443">  230</a></span>&#160;<span class="preprocessor">#define MM_DBG_VAD_CONFLICT     0x80</span></div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#accd18393267f8d1897f5e58f801e9f5c">  231</a></span>&#160;<span class="preprocessor">#define MM_DBG_SECTIONS         0x100</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a77c4720a7486d5df0d94287473f852cd">  232</a></span>&#160;<span class="preprocessor">#define MM_DBG_STOP_ON_WOW64_ACCVIO   0x200</span></div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af2ab6d9ff0054d0ad9244989a7909269">  233</a></span>&#160;<span class="preprocessor">#define MM_DBG_SYS_PTES         0x400</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a11801d1dbec84042f17a7e063d86fc3e">  234</a></span>&#160;<span class="preprocessor">#define MM_DBG_COLLIDED_PAGE    0x1000</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5fd89c6763519070471a994d68d36f50">  235</a></span>&#160;<span class="preprocessor">#define MM_DBG_DUMP_BOOT_PTES   0x2000</span></div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0a2bc361dffa4eeb4cf78cb9bde8af5b">  236</a></span>&#160;<span class="preprocessor">#define MM_DBG_FORK             0x4000</span></div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a54cc0ef20699bbab532b90eaeacca7bd">  237</a></span>&#160;<span class="preprocessor">#define MM_DBG_PAGE_IN_LIST     0x40000</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a750515d35faaaa928087a5453b35ffd6">  238</a></span>&#160;<span class="preprocessor">#define MM_DBG_PRIVATE_PAGES    0x100000</span></div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af0ccbef7cc4351b6e979a10e7043b468">  239</a></span>&#160;<span class="preprocessor">#define MM_DBG_WALK_VAD_TREE    0x200000</span></div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac50808ba2299fd8111dd67da387fe450">  240</a></span>&#160;<span class="preprocessor">#define MM_DBG_SWAP_PROCESS     0x400000</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1170174482fd0a82da10ece38bfb89cb">  241</a></span>&#160;<span class="preprocessor">#define MM_DBG_LOCK_CODE        0x800000</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aeea00e46c2640760f8e4e6a2b682230e">  242</a></span>&#160;<span class="preprocessor">#define MM_DBG_STOP_ON_ACCVIO   0x1000000</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a522da65cecbabb185341941aece3490e">  243</a></span>&#160;<span class="preprocessor">#define MM_DBG_PAGE_REF_COUNT   0x2000000</span></div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7421ea263721c38d3470067e73902c5d">  244</a></span>&#160;<span class="preprocessor">#define MM_DBG_SHOW_FAULTS      0x40000000</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aae683d4e1f6018cbcf88bdbf588eaab8">  245</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSIONS         0x80000000</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// If the PTE.protection &amp; MM_COPY_ON_WRITE_MASK == MM_COPY_ON_WRITE_MASK</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// then the PTE is copy on write.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5113fe9d6cf7d048495b80bc485eda32">  252</a></span>&#160;<span class="preprocessor">#define MM_COPY_ON_WRITE_MASK  5</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#af0bb87011ca77d853516d1171bae3d9a">MmProtectToValue</a>[32];</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keyword">extern</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="preprocessor">#if defined(_WIN64) || defined(_X86PAE_)</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9b67065e91f1a6e43bda96403b9a7085">ULONGLONG</a></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad0ee484a6ee4c109e4cdd10110ad9cc4">MmProtectToPteMask</a>[32];</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#afc527f1b61fb8c70344a40fd3fa2ecb4">MmMakeProtectNotWriteCopy</a>[32];</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d3/d3a/a02259.html#aa02fa07acf110491c9561459d8e3c4fa">ACCESS_MASK</a> <a class="code" href="../../d9/dce/a02519.html#a324ae26b5978b2b7ed17a54cf4dae9af">MmMakeSectionAccess</a>[8];</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d3/d3a/a02259.html#aa02fa07acf110491c9561459d8e3c4fa">ACCESS_MASK</a> <a class="code" href="../../d9/dce/a02519.html#ac6a3dcce3ed609366fb208ad44e81113">MmMakeFileAccess</a>[8];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">// Time constants</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a338490f9c3d8ea48aad71ee9d51f57b3">MmSevenMinutes</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keyword">const</span> <span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#ab85e054278ea81cec3ba315d580225f9">MmOneSecond</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">const</span> <span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a67ab77c6afe2b8e158c94c7ee938b178">MmTwentySeconds</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keyword">const</span> <span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#acd25383c7ce49a34adb89224b26da129">MmSeventySeconds</a>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keyword">const</span> <span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a68fedda75535605880ffb342a3e57903">MmShortTime</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">const</span> <span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a327164f708e09d8fd54cfb6436ad93da">MmHalfSecond</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">const</span> <span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a12f1a59454a9286cb37a46414075d8cf">Mm30Milliseconds</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#ae1258af02e9e93e8aee701bf1282705c">MmCriticalSectionTimeout</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">// A month&#39;s worth</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#aff14c058fe52efe3f866efde662d0159">MmCritsectTimeoutSeconds</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">// this is the csrss process !</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> <a class="code" href="../../d9/dce/a02519.html#a829418d514b91a194c7dc0145ee588c1">ExpDefaultErrorPortProcess</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a4cf744c9ffec7b33e4296d1b87f3138a">MmExtendedCommit</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a47446a36f1157b37959565a21f385b48">MmTotalProcessCommit</a>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">#if !defined(_WIN64)</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a5662c741f6d3032734770441f88a5a80">MmProcessList</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#adfe49f77636b4ea1aada827976ce7928">MiLargePageHyperPte</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a2c4f513670b80d59ad70ed71f74a7826">MiInitialSystemPageDirectory</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">// The total number of pages needed for the loader to successfully hibernate.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a2113fe21f7a8ac5daab8e3d1fc45d3fc">MmHiberPages</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">//  The counters and reasons to retry IO to protect against verifier induced</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">//  failures and temporary conditions.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a4869533c4e913cafa7bb97e3b74bba3e">MiIoRetryMask</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ae8656f424dc9153a9f282b279d67ebb0">MiFaultRetryMask</a>;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#adf1c6f8f2e7c05169e059a0f16547b0d">MiUserFaultRetryMask</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6e36fd2f2ad2206bc13ab367639598d9">  318</a></span>&#160;<span class="preprocessor">#define MmIsRetryIoStatus(S) (((S) == STATUS_INSUFFICIENT_RESOURCES) || \</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">                              ((S) == STATUS_WORKING_SET_QUOTA) ||      \</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">                              ((S) == STATUS_NO_MEMORY))</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="preprocessor">#if defined (_MI_MORE_THAN_4GB_)</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#acc84022ecd4f2b705b0a6f6ee65593a1">MiNoLowMemory</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">#define MI_MAGIC_4GB_RECLAIM     0xffffedf0</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#define MI_MAGIC_4GB_RECLAIM     0xffedf0</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#define MI_LOWMEM_MAGIC_BIT     (0x80000000)</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> MiLowMemoryBitMap;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">// This is a version of COMPUTE_PAGES_SPANNED that works for 32 and 64 ranges.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4812d0effefa73a3065607ed33104080">  341</a></span>&#160;<span class="preprocessor">#define MI_COMPUTE_PAGES_SPANNED(Va, Size) \</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">    ((((ULONG_PTR)(Va) &amp; (PAGE_SIZE -1)) + (Size) + (PAGE_SIZE - 1)) &gt;&gt; PAGE_SHIFT)</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">// MI_CONVERT_FROM_PTE_PROTECTION (</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">//     IN ULONG PROTECTION_MASK</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">//  This routine converts a PTE protection into a Protect value.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">//     Returns the</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abe3cc679cefc4a6c6e9238322d140c32">  364</a></span>&#160;<span class="preprocessor">#define MI_CONVERT_FROM_PTE_PROTECTION(PROTECTION_MASK)      \</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">                                     (MmProtectToValue[PROTECTION_MASK])</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab73487471cd7265bee87b6dababbed58">  367</a></span>&#160;<span class="preprocessor">#define MI_IS_PTE_PROTECTION_COPY_WRITE(PROTECTION_MASK)  \</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor">   (((PROTECTION_MASK) &amp; MM_COPY_ON_WRITE_MASK) == MM_COPY_ON_WRITE_MASK)</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">// MI_ROUND_TO_64K (</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">//     IN ULONG LENGTH</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">// The ROUND_TO_64k macro takes a LENGTH in bytes and rounds it up to a multiple</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">// of 64K.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">//     LENGTH - LENGTH in bytes to round up to 64k.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">//     Returns the LENGTH rounded up to a multiple of 64k.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a776c47dca7e12d1e32d48deb430d8160">  393</a></span>&#160;<span class="preprocessor">#define MI_ROUND_TO_64K(LENGTH)  (((LENGTH) + X64K - 1) &amp; ~((ULONG_PTR)X64K - 1))</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a4124bb22e0782cd9bcfb85748417dd2e">MiLastVadBit</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">// MI_ROUND_WOULD_WRAP (</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">//     IN ULONG LENGTH,</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">//     IN ULONG ALIGNMENT</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">// The ROUND_WOULD_WRAP macro takes a LENGTH in bytes and checks whether</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">// rounding it up to a multiple of the alignment would wrap.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">// This assumes both arguments are declared as unsigned.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">//     LENGTH - LENGTH in bytes to round up to.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">//     ALIGNMENT - alignment to round to, must be a power of 2, e.g, 2**n.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">//     TRUE if using MI_ROUND_TO_SIZE would wrap, FALSE if not.</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aee6891c4705bdad022b57f2f89aead2e">  425</a></span>&#160;<span class="preprocessor">#define MI_ROUND_WOULD_WRAP(LENGTH,ALIGNMENT)     \</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">                    (((LENGTH) + ((ALIGNMENT) - 1)) &lt;= (LENGTH))</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">// MI_ROUND_TO_SIZE (</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">//     IN ULONG LENGTH,</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">//     IN ULONG ALIGNMENT</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">// The ROUND_TO_SIZE macro takes a LENGTH in bytes and rounds it up to a</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">// multiple of the alignment.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">//     LENGTH - LENGTH in bytes to round up to.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">//     ALIGNMENT - alignment to round to, must be a power of 2, e.g, 2**n.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">//     Returns the LENGTH rounded up to a multiple of the alignment.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6fc1c3589612eee838d2609675930ac8">  454</a></span>&#160;<span class="preprocessor">#define MI_ROUND_TO_SIZE(LENGTH,ALIGNMENT)     \</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">                    (((LENGTH) + ((ALIGNMENT) - 1)) &amp; ~((ALIGNMENT) - 1))</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">// PVOID</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">// MI_64K_ALIGN (</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">//     IN PVOID VA</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">// The MI_64K_ALIGN macro takes a virtual address and returns a 64k-aligned</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">// virtual address for that page.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">//     VA - Virtual address.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">//     Returns the 64k aligned virtual address.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5c2012a5bf58315518c06a185e7c6f56">  480</a></span>&#160;<span class="preprocessor">#define MI_64K_ALIGN(VA) ((PVOID)((ULONG_PTR)(VA) &amp; ~((LONG)X64K - 1)))</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">// PVOID</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">// MI_ALIGN_TO_SIZE (</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">//     IN PVOID VA</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">//     IN ULONG ALIGNMENT</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">// The MI_ALIGN_TO_SIZE macro takes a virtual address and returns a</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">// virtual address for that page with the specified alignment.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">//     VA - Virtual address.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">//     ALIGNMENT - alignment to round to, must be a power of 2, e.g, 2**n.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">//     Returns the aligned virtual address.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0853c706d081e523fb76979c92145acf">  509</a></span>&#160;<span class="preprocessor">#define MI_ALIGN_TO_SIZE(VA,ALIGNMENT) ((PVOID)((ULONG_PTR)(VA) &amp; ~((ULONG_PTR) ALIGNMENT - 1)))</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">// LONGLONG</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">// MI_STARTING_OFFSET (</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">//     IN PSUBSECTION SUBSECT</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">//     IN PMMPTE PTE</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">//    This macro takes a pointer to a PTE within a subsection and a pointer</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">//    to that subsection and calculates the offset for that PTE within the</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">//    file.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">//     PTE - PTE within subsection.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">//     SUBSECT - Subsection</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">//     Offset for issuing I/O from.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a67faa6aa8ff47115f75572a47f7ec190">  537</a></span>&#160;<span class="preprocessor">#define MI_STARTING_OFFSET(SUBSECT,PTE) \</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="preprocessor">           (((LONGLONG)((ULONG_PTR)((PTE) - ((SUBSECT)-&gt;SubsectionBase))) &lt;&lt; PAGE_SHIFT) + \</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="preprocessor">             ((LONGLONG)((SUBSECT)-&gt;StartingSector) &lt;&lt; MMSECTOR_SHIFT));</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">// NTSTATUS</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">// MiFindEmptyAddressRangeDown (</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">//    IN ULONG_PTR SizeOfRange,</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">//    IN PVOID HighestAddressToEndAt,</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">//    IN ULONG_PTR Alignment,</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">//    OUT PVOID *Base</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">//    )</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">//    The function examines the virtual address descriptors to locate</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">//    an unused range of the specified size and returns the starting</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">//    address of the range.  This routine looks from the top down.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">//    SizeOfRange - Supplies the size in bytes of the range to locate.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">//    HighestAddressToEndAt - Supplies the virtual address to begin looking</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">//                            at.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">//    Alignment - Supplies the alignment for the address.  Must be</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">//                 a power of 2 and greater than the page_size.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">//    Returns the starting address of a suitable range.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a81aee61542ba94dae0d9471fa5c7e895">  572</a></span>&#160;<span class="preprocessor">#define MiFindEmptyAddressRangeDown(Root,SizeOfRange,HighestAddressToEndAt,Alignment,Base) \</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="preprocessor">               (MiFindEmptyAddressRangeDownTree(                             \</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">                    (SizeOfRange),                                           \</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="preprocessor">                    (HighestAddressToEndAt),                                 \</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="preprocessor">                    (Alignment),                                             \</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">                    Root,                                                    \</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor">                    (Base)))</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">// PMMVAD</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">// MiGetPreviousVad (</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">//     IN PMMVAD Vad</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">//     This function locates the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">//     the address range which logically precedes the specified virtual</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">//     address descriptor.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">//     Vad - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor containing the</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">//     next address range, NULL if none.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aeb5148262e68b795af19b20deefb677e">  602</a></span>&#160;<span class="preprocessor">#define MiGetPreviousVad(VAD) ((PMMVAD)MiGetPreviousNode((PMMADDRESS_NODE)(VAD)))</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">// PMMVAD</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">// MiGetNextVad (</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">//     IN PMMVAD Vad</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">//     This function locates the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">//     the address range which logically follows the specified address range.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">//     VAD - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor containing the</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">//     next address range, NULL if none.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a600fa4243580fe964579d50cac7dee0b">  625</a></span>&#160;<span class="preprocessor">#define MiGetNextVad(VAD) ((PMMVAD)MiGetNextNode((PMMADDRESS_NODE)(VAD)))</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">// PMMVAD</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">// MiGetFirstVad (</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">//     Process</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">//     This function locates the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">//     the address range which logically is first within the address space.</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">//     Process - Specifies the process in which to locate the VAD.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor containing the</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//     first address range, NULL if none.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6ff022d09a51ddac999fcd62feb8f2c5">  648</a></span>&#160;<span class="preprocessor">#define MiGetFirstVad(Process) \</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="preprocessor">    ((PMMVAD)MiGetFirstNode(&amp;Process-&gt;VadRoot))</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac028c3a9074e206a59a4627171a4f6d5">MiCheckForConflictingVadExistence</a> (</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    );</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">// PMMVAD</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">// MiCheckForConflictingVad (</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">//     IN PVOID StartingAddress,</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">//     IN PVOID EndingAddress</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">//     The function determines if any addresses between a given starting and</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">//     ending address is contained within a virtual address descriptor.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">//     StartingAddress - Supplies the virtual address to locate a containing</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">//                       descriptor.</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">//     EndingAddress - Supplies the virtual address to locate a containing</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">//                       descriptor.</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">//     Returns a pointer to the first conflicting virtual address descriptor</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">//     if one is found, otherwise a NULL value is returned.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5e7ef40d5cc883a776772153c8a1c9ba">  684</a></span>&#160;<span class="preprocessor">#define MiCheckForConflictingVad(CurrentProcess,StartingAddress,EndingAddress) \</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor">    ((PMMVAD)MiCheckForConflictingNode(                                   \</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">                    MI_VA_TO_VPN(StartingAddress),                        \</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="preprocessor">                    MI_VA_TO_VPN(EndingAddress),                          \</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">                    &amp;CurrentProcess-&gt;VadRoot))</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">// PMMCLONE_DESCRIPTOR</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">// MiGetNextClone (</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">//     IN PMMCLONE_DESCRIPTOR Clone</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">//     This function locates the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">//     the address range which logically follows the specified address range.</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">//     Clone - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor containing the</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">//     next address range, NULL if none.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aab09fbc34959fb4c0ba4135f42027372">  711</a></span>&#160;<span class="preprocessor">#define MiGetNextClone(CLONE) \</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="preprocessor"> ((PMMCLONE_DESCRIPTOR)MiGetNextNode((PMMADDRESS_NODE)(CLONE)))</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">// PMMCLONE_DESCRIPTOR</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">// MiGetPreviousClone (</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">//     IN PMMCLONE_DESCRIPTOR Clone</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">//     This function locates the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">//     the address range which logically precedes the specified virtual</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">//     address descriptor.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">//     Clone - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor containing the</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">//     next address range, NULL if none.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2fb470a767896710cadd80540f778002">  737</a></span>&#160;<span class="preprocessor">#define MiGetPreviousClone(CLONE)  \</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="preprocessor">             ((PMMCLONE_DESCRIPTOR)MiGetPreviousNode((PMMADDRESS_NODE)(CLONE)))</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">// PMMCLONE_DESCRIPTOR</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">// MiGetFirstClone (</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">//     This function locates the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">//     the address range which logically is first within the address space.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor containing the</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">//     first address range, NULL if none.</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac0e756b2af47e09cbb84b6a31f1cf0e3">  762</a></span>&#160;<span class="preprocessor">#define MiGetFirstClone(_CurrentProcess) \</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">        (((PMM_AVL_TABLE)(_CurrentProcess-&gt;CloneRoot))-&gt;NumberGenericTableElements == 0 ? NULL : (PMMCLONE_DESCRIPTOR)MiGetFirstNode((PMM_AVL_TABLE)(_CurrentProcess-&gt;CloneRoot)))</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">// MiInsertClone (</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">//     IN PMMCLONE_DESCRIPTOR Clone</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">//     This function inserts a virtual address descriptor into the tree and</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">//     reorders the splay tree as appropriate.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">//     Clone - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af0b106c8124de28dd282761acf62b054">  787</a></span>&#160;<span class="preprocessor">#define MiInsertClone(_CurrentProcess, CLONE) \</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">    {                                           \</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">        ASSERT ((CLONE)-&gt;NumberOfPtes != 0);     \</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">        ASSERT (_CurrentProcess-&gt;CloneRoot != NULL); \</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">        MiInsertNode(((PMMADDRESS_NODE)(CLONE)),(PMM_AVL_TABLE)(_CurrentProcess-&gt;CloneRoot)); \</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">// MiRemoveClone (</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">//     IN PMMCLONE_DESCRIPTOR Clone</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">//     This function removes a virtual address descriptor from the tree and</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">//     reorders the splay tree as appropriate.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">//     Clone - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab6b71791b637353f797f81575ff41c79">  816</a></span>&#160;<span class="preprocessor">#define MiRemoveClone(_CurrentProcess, CLONE) \</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">    ASSERT (_CurrentProcess-&gt;CloneRoot != NULL); \</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="preprocessor">    ASSERT (((PMM_AVL_TABLE)_CurrentProcess-&gt;CloneRoot)-&gt;NumberGenericTableElements != 0); \</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="preprocessor">    MiRemoveNode((PMMADDRESS_NODE)(CLONE),(PMM_AVL_TABLE)(_CurrentProcess-&gt;CloneRoot));</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">// PMMCLONE_DESCRIPTOR</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">// MiLocateCloneAddress (</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">//     IN PVOID VirtualAddress</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">// /*++</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">//     The function locates the virtual address descriptor which describes</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">//     a given address.</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">//     VirtualAddress - Supplies the virtual address to locate a descriptor</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">//                      for.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">//     Returns a pointer to the virtual address descriptor which contains</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">//     the supplied virtual address or NULL if none was located.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af30eb352afea3b8ef1459c0cf5fe1573">  846</a></span>&#160;<span class="preprocessor">#define MiLocateCloneAddress(_CurrentProcess, VA)                           \</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">    (_CurrentProcess-&gt;CloneRoot ?                                           \</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">        ((PMMCLONE_DESCRIPTOR)MiLocateAddressInTree(((ULONG_PTR)VA),        \</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">                   (PMM_AVL_TABLE)(_CurrentProcess-&gt;CloneRoot))) :     \</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="preprocessor">        NULL)</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9fd8b7128fa5c1f71c1611e04c49491f">  853</a></span>&#160;<span class="preprocessor">#define MI_VA_TO_PAGE(va) ((ULONG_PTR)(va) &gt;&gt; PAGE_SHIFT)</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ada726ad178511900bdfdcc5e5c980e62">  855</a></span>&#160;<span class="preprocessor">#define MI_VA_TO_VPN(va)  ((ULONG_PTR)(va) &gt;&gt; PAGE_SHIFT)</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad69f82be85fab401b7f5a48f252771c8">  857</a></span>&#160;<span class="preprocessor">#define MI_VPN_TO_VA(vpn)  (PVOID)((vpn) &lt;&lt; PAGE_SHIFT)</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a741671e2a37f3eabd05de99b8d099529">  859</a></span>&#160;<span class="preprocessor">#define MI_VPN_TO_VA_ENDING(vpn)  (PVOID)(((vpn) &lt;&lt; PAGE_SHIFT) | (PAGE_SIZE - 1))</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac54a38a865348a5aae90a1d37c0c9461">  861</a></span>&#160;<span class="preprocessor">#define MiGetByteOffset(va) ((ULONG_PTR)(va) &amp; (PAGE_SIZE - 1))</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">// Make a write-copy PTE, only writable.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad2ca3bb3520e1b600eb67a8de7be6058">  867</a></span>&#160;<span class="preprocessor">#define MI_MAKE_PROTECT_NOT_WRITE_COPY(PROTECT) \</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="preprocessor">            (MmMakeProtectNotWriteCopy[PROTECT])</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">// Define macros to lock and unlock the PFN database.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1c57dd9a230e09d1a53f14cf535ed4ca">  874</a></span>&#160;<span class="preprocessor">#define MiLockPfnDatabase(OldIrql) \</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="preprocessor">    OldIrql = KeAcquireQueuedSpinLock(LockQueuePfnLock)</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a86c3efb5c5a4b256ae42bd980e6eb77e">  877</a></span>&#160;<span class="preprocessor">#define MiUnlockPfnDatabase(OldIrql) \</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">    KeReleaseQueuedSpinLock(LockQueuePfnLock, OldIrql)</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2804a2fae7dbd1e6bdaf0447d927b4cf">  880</a></span>&#160;<span class="preprocessor">#define MiLockPfnDatabaseAtDpcLevel() \</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">    KeAcquireQueuedSpinLockAtDpcLevel(&amp;KeGetCurrentPrcb()-&gt;LockQueue[LockQueuePfnLock])</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad74f8107029b797fb14075016df33589">  883</a></span>&#160;<span class="preprocessor">#define MiUnlockPfnDatabaseFromDpcLevel() \</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="preprocessor">    KeReleaseQueuedSpinLockFromDpcLevel(&amp;KeGetCurrentPrcb()-&gt;LockQueue[LockQueuePfnLock])</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3f9285e6e3c9c3b644fad2472b5248a8">  886</a></span>&#160;<span class="preprocessor">#define MiReleasePfnLock() \</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="preprocessor">    KeReleaseQueuedSpinLockFromDpcLevel(&amp;KeGetCurrentPrcb()-&gt;LockQueue[LockQueuePfnLock])</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9cbee051f03f83c600b8fd456a3f756d">  889</a></span>&#160;<span class="preprocessor">#define MiLockSystemSpace(OldIrql) \</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="preprocessor">    OldIrql = KeAcquireQueuedSpinLock(LockQueueSystemSpaceLock)</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div>
<div class="line"><a name="l00892"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6a80328a1c13f42d446f3b7e97fffd28">  892</a></span>&#160;<span class="preprocessor">#define MiUnlockSystemSpace(OldIrql) \</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="preprocessor">    KeReleaseQueuedSpinLock(LockQueueSystemSpaceLock, OldIrql)</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa33b6ff0afb5717f81fa83ffe57d6a4c">  895</a></span>&#160;<span class="preprocessor">#define MiLockSystemSpaceAtDpcLevel() \</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="preprocessor">    KeAcquireQueuedSpinLockAtDpcLevel(&amp;KeGetCurrentPrcb()-&gt;LockQueue[LockQueueSystemSpaceLock])</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad12b7bee006c22fde367dc4189061833">  898</a></span>&#160;<span class="preprocessor">#define MiUnlockSystemSpaceFromDpcLevel() \</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">    KeReleaseQueuedSpinLockFromDpcLevel(&amp;KeGetCurrentPrcb()-&gt;LockQueue[LockQueueSystemSpaceLock])</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div>
<div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac8250e07442feb7bd4d714bbe1b23fb7">  901</a></span>&#160;<span class="preprocessor">#define MI_MAX_PFN_CALLERS  500</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="../../d7/dfd/a00969.html">  903</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/dfd/a00969.html">_MMPFNTIMINGS</a> {</div>
<div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="../../d7/dfd/a00969.html#a142ff3adfd55edc27428d391faf6ace8">  904</a></span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d7/dfd/a00969.html#a142ff3adfd55edc27428d391faf6ace8">HoldTime</a>;     <span class="comment">// Low bit is set if another processor waited</span></div>
<div class="line"><a name="l00905"></a><span class="lineno"><a class="line" href="../../d7/dfd/a00969.html#ae268bbb54212e6fb61d6a16769d7c604">  905</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/dfd/a00969.html#ae268bbb54212e6fb61d6a16769d7c604">AcquiredAddress</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="../../d7/dfd/a00969.html#abef688f59273b43345f8a2c039f8a571">  906</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/dfd/a00969.html#abef688f59273b43345f8a2c039f8a571">ReleasedAddress</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aae80f58bca3bd83455c9ef1de7a60605">MMPFNTIMINGS</a>, *<a class="code" href="../../d9/dce/a02519.html#a24f59a7fb138af2a00cda2c2596e7862">PMMPFNTIMINGS</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a771f866f92b6ed32e71f4e6c4e4194a0">MiPfnTimings</a>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a796213ddc155f999c5844a3ad2b03d13">MiPfnAcquiredAddress</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dfd/a00969.html">MMPFNTIMINGS</a> <a class="code" href="../../d9/dce/a02519.html#a36b11401c108b0487f832f8354abce39">MiPfnSorted</a>[];</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a139d1a9a0b6c366e3a96f0a949daca27">MiPfnAcquired</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#ada25a4a0e444734f2e85ba58225e07fb">MiPfnReleased</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#a656e484de0946b5f0fc7e413b0e0debb">MiPfnThreshold</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a20326ea706b2431be11163fa1f44b375">MiGetExecutionAddress</a> (</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    );</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af45b50a75030765673e43e8c8a714f0d">MiQueryPerformanceCounter</a> (</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PLARGE_INTEGER</a> PerformanceFrequency </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    );</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a001c3d100b7de6eae431eccdbb5e2656">MiAddLockToTable</a> (</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> AcquireAddress,</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> ReleaseAddress,</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> HoldTime</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    );</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">#if defined(_X86_) || defined(_AMD64_)</span></div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7f25440e31ae9a24f3ef96371ce6a7eb">  934</a></span>&#160;<span class="preprocessor">#define MI_GET_EXECUTION_ADDRESS(varname) varname = MiGetExecutionAddress();</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="preprocessor">#define MI_GET_EXECUTION_ADDRESS(varname) varname = NULL;</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5b9638e63eba59ed313d879021ae60d9">  939</a></span>&#160;<span class="preprocessor">#define LOCK_PFN_TIMESTAMP()</span></div>
<div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac1e6f250bd165d8353ded0d9e284a8fa">  940</a></span>&#160;<span class="preprocessor">#define UNLOCK_PFN_TIMESTAMP()</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<a class="code" href="../../d7/dc8/a00808.html">PKTHREAD</a> MmPfnOwner;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="preprocessor">#define MI_SET_PFN_OWNER() ASSERT (MmPfnOwner == NULL);                     \</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="preprocessor">                          MmPfnOwner = KeGetCurrentThread ();</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="preprocessor">#define MI_CLEAR_PFN_OWNER() ASSERT (MmPfnOwner == KeGetCurrentThread ());  \</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="preprocessor">                             MmPfnOwner = NULL;</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab17285592ed9c04e7d64a3efac95d48f">  953</a></span>&#160;<span class="preprocessor">#define MI_SET_PFN_OWNER()</span></div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa5bced085575f4d84e5909af73543acd">  954</a></span>&#160;<span class="preprocessor">#define MI_CLEAR_PFN_OWNER()</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af73046f675bd172cbd0b4e11c44c51e4">  957</a></span>&#160;<span class="preprocessor">#define LOCK_PFN(OLDIRQL) ASSERT (KeGetCurrentIrql() &lt;= APC_LEVEL);         \</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">                          MiLockPfnDatabase(OLDIRQL);                       \</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="preprocessor">                          MI_SET_PFN_OWNER ();                              \</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="preprocessor">                          LOCK_PFN_TIMESTAMP();</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3d5445c465d616cc0b2e9582d1175baf">  962</a></span>&#160;<span class="preprocessor">#define UNLOCK_PFN(OLDIRQL)                                                 \</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="preprocessor">    ASSERT (OLDIRQL &lt;= APC_LEVEL);                                          \</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="preprocessor">    MI_CLEAR_PFN_OWNER ();                                                  \</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="preprocessor">    MI_CHECK_TB ();                                                         \</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="preprocessor">    UNLOCK_PFN_TIMESTAMP();                                                 \</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="preprocessor">    MiUnlockPfnDatabase(OLDIRQL);                                           \</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="preprocessor">    ASSERT(KeGetCurrentIrql() &lt;= APC_LEVEL);</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2c8738d4714931efd266b599e3c0a069">  970</a></span>&#160;<span class="preprocessor">#define LOCK_PFN2(OLDIRQL) ASSERT (KeGetCurrentIrql() &lt;= DISPATCH_LEVEL);   \</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="preprocessor">                          MiLockPfnDatabase(OLDIRQL);                       \</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="preprocessor">                          MI_SET_PFN_OWNER ();                              \</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="preprocessor">                          LOCK_PFN_TIMESTAMP();</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae4eb525af8d33289d8302c8df3e99411">  975</a></span>&#160;<span class="preprocessor">#define UNLOCK_PFN2(OLDIRQL)                                                \</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="preprocessor">    ASSERT (OLDIRQL &lt;= DISPATCH_LEVEL);                                     \</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="preprocessor">    MI_CLEAR_PFN_OWNER ();                                                  \</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="preprocessor">    MI_CHECK_TB ();                                                         \</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">    UNLOCK_PFN_TIMESTAMP();                                                 \</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="preprocessor">    MiUnlockPfnDatabase(OLDIRQL);                                           \</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="preprocessor">    ASSERT(KeGetCurrentIrql() &lt;= DISPATCH_LEVEL);</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aebc41dc90d48800eada08b7722a45c77">  983</a></span>&#160;<span class="preprocessor">#define LOCK_PFN_AT_DPC() ASSERT (KeGetCurrentIrql() == DISPATCH_LEVEL);    \</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="preprocessor">                          MiLockPfnDatabaseAtDpcLevel();                    \</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="preprocessor">                          MI_SET_PFN_OWNER ();                              \</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="preprocessor">                          LOCK_PFN_TIMESTAMP();</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1b63047cec2a121110ad98e550151810">  988</a></span>&#160;<span class="preprocessor">#define UNLOCK_PFN_FROM_DPC()                                               \</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="preprocessor">    UNLOCK_PFN_TIMESTAMP();                                                 \</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="preprocessor">    MI_CLEAR_PFN_OWNER ();                                                  \</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="preprocessor">    MI_CHECK_TB ();                                                         \</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="preprocessor">    MiUnlockPfnDatabaseFromDpcLevel();                                      \</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor">    ASSERT(KeGetCurrentIrql() == DISPATCH_LEVEL);</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9992f015d6fee4e278df71db6806a0ec">  995</a></span>&#160;<span class="preprocessor">#define UNLOCK_PFN_AND_THEN_WAIT(OLDIRQL)                                   \</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="preprocessor">                {                                                           \</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="preprocessor">                    KIRQL XXX;                                              \</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="preprocessor">                    PKTHREAD THREAD;                                        \</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="preprocessor">                    ASSERT (KeGetCurrentIrql() == DISPATCH_LEVEL);          \</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="preprocessor">                    ASSERT (OLDIRQL &lt;= APC_LEVEL);                          \</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">                    KiLockDispatcherDatabase (&amp;XXX);                        \</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="preprocessor">                    MI_CLEAR_PFN_OWNER ();                                  \</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="preprocessor">                    MI_CHECK_TB ();                                         \</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="preprocessor">                    UNLOCK_PFN_TIMESTAMP();                                 \</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="preprocessor">                    MiReleasePfnLock();                                     \</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="preprocessor">                    THREAD = KeGetCurrentThread ();                         \</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="preprocessor">                    THREAD-&gt;WaitIrql = OLDIRQL;                             \</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="preprocessor">                    THREAD-&gt;WaitNext = TRUE;                                \</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">                }</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d3/d00/a00785.html">KMUTANT</a> <a class="code" href="../../d9/dce/a02519.html#ae7aa3e157ade95a6a105a1d1e7642ed5">MmSystemLoadLock</a>;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="preprocessor">#define SYSLOAD_LOCK_OWNED_BY_ME()      ASSERT (MmSystemLoadLock.OwnerThread == KeGetCurrentThread())</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a274e39b7d0b93ed863aea977a59c7c4b"> 1016</a></span>&#160;<span class="preprocessor">#define SYSLOAD_LOCK_OWNED_BY_ME()</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor">#define MM_PFN_LOCK_ASSERT() { \</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="preprocessor">        KIRQL _OldIrql; \</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="preprocessor">        _OldIrql = KeGetCurrentIrql(); \</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="preprocessor">        ASSERT (_OldIrql == DISPATCH_LEVEL); \</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="preprocessor">        ASSERT (MmPfnOwner == KeGetCurrentThread()); \</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../db/d7e/a00372.html">PETHREAD</a> MiExpansionLockOwner;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="preprocessor">#define MM_SET_EXPANSION_OWNER()  ASSERT (MiExpansionLockOwner == NULL); \</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="preprocessor">                                  MiExpansionLockOwner = PsGetCurrentThread();</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor">#define MM_CLEAR_EXPANSION_OWNER()  ASSERT (MiExpansionLockOwner == PsGetCurrentThread()); \</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="preprocessor">                                    MiExpansionLockOwner = NULL;</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8c85bdeb5a8178759e8cd6806f570ccc"> 1037</a></span>&#160;<span class="preprocessor">#define MM_PFN_LOCK_ASSERT()</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac84fe11cd4129492fb9d04f8fbb04f67"> 1038</a></span>&#160;<span class="preprocessor">#define MM_SET_EXPANSION_OWNER()</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a46b246bd21de0f687b796724f0526c0c"> 1039</a></span>&#160;<span class="preprocessor">#define MM_CLEAR_EXPANSION_OWNER()</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="preprocessor">#endif // DBG</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a159492dc6974aeb7299155dfd908a5c9"> 1043</a></span>&#160;<span class="preprocessor">#define LOCK_EXPANSION(OLDIRQL)     ASSERT (KeGetCurrentIrql() &lt;= APC_LEVEL); \</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="preprocessor">                                ExAcquireSpinLock (&amp;MmExpansionLock, &amp;OLDIRQL);\</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="preprocessor">                                MM_SET_EXPANSION_OWNER ();</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acd61a4c63cc5de0a06fa737dbfed9ebb"> 1047</a></span>&#160;<span class="preprocessor">#define UNLOCK_EXPANSION(OLDIRQL)    MM_CLEAR_EXPANSION_OWNER (); \</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="preprocessor">                                ExReleaseSpinLock (&amp;MmExpansionLock, OLDIRQL); \</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="preprocessor">                                ASSERT (KeGetCurrentIrql() &lt;= APC_LEVEL);</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaa61fe8741f6548dc1cfe29003e48e5e"> 1051</a></span>&#160;<span class="preprocessor">#define LOCK_EXPANSION2(OLDIRQL)     ASSERT (KeGetCurrentIrql() &lt;= DISPATCH_LEVEL); \</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor">                                ExAcquireSpinLock (&amp;MmExpansionLock, &amp;OLDIRQL);\</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="preprocessor">                                MM_SET_EXPANSION_OWNER ();</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae321421465ac4bc651176d182dd73135"> 1055</a></span>&#160;<span class="preprocessor">#define UNLOCK_EXPANSION2(OLDIRQL)    MM_CLEAR_EXPANSION_OWNER (); \</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="preprocessor">                                ExReleaseSpinLock (&amp;MmExpansionLock, OLDIRQL); \</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="preprocessor">                                ASSERT (KeGetCurrentIrql() &lt;= DISPATCH_LEVEL);</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac0870749ccfc3210acb4e926bf5e1325"> 1059</a></span>&#160;<span class="preprocessor">#define LOCK_WS_TIMESTAMP(PROCESS)</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af8f64b57693c91f43727bdcf159ceb31"> 1060</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS_TIMESTAMP(PROCESS)</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a41bb9f844dec39fd76e8297a481ed53d"> 1062</a></span>&#160;<span class="preprocessor">#define MM_WS_LOCK_ASSERT(WSINFO)                               \</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="preprocessor">        if (WSINFO == &amp;MmSystemCacheWs) {                       \</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="preprocessor">            ASSERT ((PsGetCurrentThread ()-&gt;OwnsSystemWorkingSetExclusive) || \</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">                    (PsGetCurrentThread ()-&gt;OwnsSystemWorkingSetShared)); \</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="preprocessor">        }           \</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="preprocessor">        else if ((WSINFO)-&gt;Flags.SessionSpace == 1) {      \</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">            ASSERT ((PsGetCurrentThread ()-&gt;OwnsSessionWorkingSetExclusive) || \</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="preprocessor">                    (PsGetCurrentThread ()-&gt;OwnsSessionWorkingSetShared)); \</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor">        }           \</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="preprocessor">        else {      \</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="preprocessor">            ASSERT ((PsGetCurrentThread ()-&gt;OwnsProcessWorkingSetExclusive) || \</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="preprocessor">                    (PsGetCurrentThread ()-&gt;OwnsProcessWorkingSetShared)); \</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">        }</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">// System working set synchronization definitions.</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div>
<div class="line"><a name="l01080"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abefe7e46ca198fd895fa41306d6723b5"> 1080</a></span>&#160;<span class="preprocessor">#define MM_ANY_WS_LOCK_HELD(THREAD)                                          \</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="preprocessor">        (THREAD-&gt;SameThreadApcFlags &amp; PS_SAME_THREAD_FLAGS_OWNS_A_WORKING_SET)</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div>
<div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78d9df9dd5fd9cc23ba7f602c24dca24"> 1083</a></span>&#160;<span class="preprocessor">#define MM_SYSTEM_WS_LOCK_TIMESTAMP()                           \</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="preprocessor">        LOCK_WS_TIMESTAMP(((PEPROCESS)&amp;MiSystemCacheDummyProcess));</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div>
<div class="line"><a name="l01086"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8983b4891c1a8fbbd466f364e9329e43"> 1086</a></span>&#160;<span class="preprocessor">#define MM_SYSTEM_WS_UNLOCK_TIMESTAMP()                         \</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="preprocessor">        UNLOCK_WS_TIMESTAMP(((PEPROCESS)&amp;MiSystemCacheDummyProcess));</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab680bee686976ef3b9387a44636f3333"> 1089</a></span>&#160;<span class="preprocessor">#define LOCK_SYSTEM_WS(THREAD)                                              \</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="preprocessor">            ASSERT (PsGetCurrentThread() == THREAD);                        \</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="preprocessor">            KeEnterGuardedRegionThread (&amp;THREAD-&gt;Tcb);                      \</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                          \</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="preprocessor">            ExAcquirePushLockExclusive (&amp;MmSystemCacheWs.WorkingSetMutex);  \</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetShared == 0);               \</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetExclusive == 0);            \</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsSystemWorkingSetExclusive = 1;                      \</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="preprocessor">            MM_SYSTEM_WS_LOCK_TIMESTAMP();</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div>
<div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7c6b044255b5335393d1b1241794c70d"> 1099</a></span>&#160;<span class="preprocessor">#define LOCK_SYSTEM_WS_SHARED(THREAD)                                       \</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="preprocessor">            ASSERT (PsGetCurrentThread() == THREAD);                        \</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="preprocessor">            KeEnterGuardedRegionThread (&amp;THREAD-&gt;Tcb);                      \</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                          \</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="preprocessor">            ExAcquirePushLockShared (&amp;MmSystemCacheWs.WorkingSetMutex);     \</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetShared == 0);               \</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetExclusive == 0);            \</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsSystemWorkingSetShared = 1;                         \</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="preprocessor">            MM_SYSTEM_WS_LOCK_TIMESTAMP();</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div>
<div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a68927a9e79eaa798211166541508acfd"> 1109</a></span>&#160;<span class="preprocessor">#define UNLOCK_SYSTEM_WS(THREAD)                                            \</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="preprocessor">            MM_SYSTEM_WS_UNLOCK_TIMESTAMP();                                \</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetExclusive == 1);            \</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsSystemWorkingSetExclusive = 0;                      \</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="preprocessor">            ExReleasePushLockExclusive (&amp;MmSystemCacheWs.WorkingSetMutex);  \</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="preprocessor">            KeLeaveGuardedRegionThread (&amp;THREAD-&gt;Tcb);</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac714d30b0056251d8d90ecef7ac19be1"> 1116</a></span>&#160;<span class="preprocessor">#define UNLOCK_SYSTEM_WS_SHARED(THREAD)                                     \</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="preprocessor">            MM_SYSTEM_WS_UNLOCK_TIMESTAMP();                                \</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetShared == 1);               \</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsSystemWorkingSetExclusive == 0);            \</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsSystemWorkingSetShared = 0;                         \</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="preprocessor">            ExReleasePushLockShared (&amp;MmSystemCacheWs.WorkingSetMutex);     \</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="preprocessor">            KeLeaveGuardedRegionThread (&amp;THREAD-&gt;Tcb);</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">// Generic working set synchronization definitions.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3ecdf51af6aaaf3e54c6960d99f25ff6"> 1128</a></span>&#160;<span class="preprocessor">#define LOCK_WORKING_SET(THREAD, WSINFO)                                \</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="preprocessor">            KeEnterGuardedRegionThread (&amp;THREAD-&gt;Tcb);                  \</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">            ASSERT (MI_IS_SESSION_ADDRESS(WSINFO) == FALSE);            \</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                          \</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor">            ExAcquirePushLockExclusive (&amp;(WSINFO)-&gt;WorkingSetMutex);    \</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor">            if (WSINFO == &amp;MmSystemCacheWs) {                           \</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="preprocessor">                ASSERT ((THREAD-&gt;OwnsSystemWorkingSetExclusive == 0) &amp;&amp; \</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">                        (THREAD-&gt;OwnsSystemWorkingSetShared == 0));     \</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="preprocessor">                THREAD-&gt;OwnsSystemWorkingSetExclusive = 1;              \</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="preprocessor">            else if ((WSINFO)-&gt;Flags.SessionSpace == 1) {               \</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="preprocessor">                ASSERT ((THREAD-&gt;OwnsSessionWorkingSetExclusive == 0) &amp;&amp; \</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">                        (THREAD-&gt;OwnsSessionWorkingSetShared == 0));    \</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="preprocessor">                THREAD-&gt;OwnsSessionWorkingSetExclusive = 1;             \</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="preprocessor">            else {                                                      \</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="preprocessor">                ASSERT ((THREAD-&gt;OwnsProcessWorkingSetExclusive == 0) &amp;&amp; \</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="preprocessor">                        (THREAD-&gt;OwnsProcessWorkingSetShared == 0));    \</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">                THREAD-&gt;OwnsProcessWorkingSetExclusive = 1;             \</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div>
<div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a36874d966d7db4a2b467111bd1576259"> 1149</a></span>&#160;<span class="preprocessor">#define UNLOCK_WORKING_SET(THREAD, WSINFO)                              \</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;<span class="preprocessor">            ASSERT (MI_IS_SESSION_ADDRESS(WSINFO) == FALSE);            \</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;<span class="preprocessor">            MM_WS_LOCK_ASSERT(WSINFO);                                  \</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="preprocessor">            if (WSINFO == &amp;MmSystemCacheWs) {                           \</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="preprocessor">                THREAD-&gt;OwnsSystemWorkingSetExclusive = 0;              \</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">            else if ((WSINFO)-&gt;Flags.SessionSpace == 1) {               \</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="preprocessor">                THREAD-&gt;OwnsSessionWorkingSetExclusive = 0;             \</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="preprocessor">            else {                                                      \</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="preprocessor">                THREAD-&gt;OwnsProcessWorkingSetExclusive = 0;             \</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="preprocessor">            ExReleasePushLockExclusive (&amp;(WSINFO)-&gt;WorkingSetMutex);    \</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="preprocessor">            KeLeaveGuardedRegionThread (&amp;THREAD-&gt;Tcb);</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">// Session working set synchronization definitions.</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;</div>
<div class="line"><a name="l01168"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a04d08378e3ed050de11557c085472941"> 1168</a></span>&#160;<span class="preprocessor">#define MM_SESSION_SPACE_WS_LOCK_ASSERT()                               \</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="preprocessor">            MM_WS_LOCK_ASSERT (&amp;MmSessionSpace-&gt;Vm);</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;<span class="comment">// Process working set synchronization definitions.</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div>
<div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7d8c81009fb927288a924deaf99264ef"> 1175</a></span>&#160;<span class="preprocessor">#define MI_WS_OWNER(PROCESS) (KeGetCurrentThread()-&gt;ApcState.Process == (PKPROCESS)(PROCESS) &amp;&amp; ((PsGetCurrentThread ()-&gt;OwnsProcessWorkingSetExclusive) || (PsGetCurrentThread ()-&gt;OwnsProcessWorkingSetShared)))</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0c7c537fbb53a727e36f16b7132249db"> 1177</a></span>&#160;<span class="preprocessor">#define MI_NOT_WS_OWNER(PROCESS) (!MI_WS_OWNER(PROCESS))</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div>
<div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa7f55514e13488db488553e6dc8b3851"> 1179</a></span>&#160;<span class="preprocessor">#define MI_IS_WS_UNSAFE(PROCESS) ((PROCESS)-&gt;Vm.Flags.AcquiredUnsafe == 1)</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;</div>
<div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ace89b2249661b962b391b8721e6da671"> 1181</a></span>&#160;<span class="preprocessor">#define LOCK_WS(THREAD, PROCESS)                                        \</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 0);          \</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="preprocessor">            KeEnterGuardedRegionThread (&amp;THREAD-&gt;Tcb);                  \</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                      \</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="preprocessor">            ExAcquirePushLockExclusive (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex));   \</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">            LOCK_WS_TIMESTAMP(PROCESS);                                 \</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="preprocessor">            ASSERT (!MI_IS_WS_UNSAFE(PROCESS));                         \</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsProcessWorkingSetExclusive = 1;</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aabe340f98fdca9013172161fa1dd5e23"> 1192</a></span>&#160;<span class="preprocessor">#define LOCK_WS_SHARED(THREAD,PROCESS)                                  \</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 0);          \</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="preprocessor">            KeEnterGuardedRegionThread (&amp;THREAD-&gt;Tcb);                  \</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                          \</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="preprocessor">            ExAcquirePushLockShared (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex)); \</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="preprocessor">            LOCK_WS_TIMESTAMP(PROCESS);                                 \</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="preprocessor">            ASSERT (!MI_IS_WS_UNSAFE(PROCESS));                         \</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 0);          \</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsProcessWorkingSetShared = 1;</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div>
<div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a451b1056d782fdfaa4e7868076d22068"> 1204</a></span>&#160;<span class="preprocessor">#define LOCK_WS_SHARED_CROSS_PROCESS(THREAD,PROCESS)                    \</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 0);          \</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="preprocessor">            KeEnterGuardedRegionThread (&amp;THREAD-&gt;Tcb);                  \</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                          \</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="preprocessor">            ExAcquirePushLockShared (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex)); \</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 0);          \</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa3ae51b39c1a9cb61c6558e9bccc5415"> 1213</a></span>&#160;<span class="preprocessor">#define LOCK_WS_UNSAFE(THREAD, PROCESS)                                 \</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="preprocessor">            ASSERT (KeAreAllApcsDisabled () == TRUE);                   \</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="preprocessor">            ASSERT (!MM_ANY_WS_LOCK_HELD(THREAD));                          \</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="preprocessor">            ExAcquirePushLockExclusive (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex));\</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="preprocessor">            LOCK_WS_TIMESTAMP(PROCESS);                                 \</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="preprocessor">            ASSERT (!MI_IS_WS_UNSAFE(PROCESS));                         \</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="preprocessor">            (PROCESS)-&gt;Vm.Flags.AcquiredUnsafe = 1;                     \</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsProcessWorkingSetExclusive = 1;</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6c6f0ffb3e19cf85fcbcf5a09953eab7"> 1224</a></span>&#160;<span class="preprocessor">#define MI_MUST_BE_UNSAFE(PROCESS)                                      \</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="preprocessor">            ASSERT (KeGetCurrentIrql() &lt;= APC_LEVEL);                   \</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="preprocessor">            ASSERT (KeAreAllApcsDisabled () == TRUE);                   \</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="preprocessor">            ASSERT (MI_WS_OWNER(PROCESS));                              \</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="preprocessor">            ASSERT (MI_IS_WS_UNSAFE(PROCESS));</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaff7b434fd56005b56bb17c4fb4421bb"> 1230</a></span>&#160;<span class="preprocessor">#define MI_MUST_BE_SAFE(PROCESS)                                        \</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="preprocessor">            ASSERT (MI_WS_OWNER(PROCESS));                              \</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="preprocessor">            ASSERT (!MI_IS_WS_UNSAFE(PROCESS));</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div>
<div class="line"><a name="l01234"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6518ff86e2bd429868c57c8ca3e22f49"> 1234</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS(THREAD, PROCESS)                                      \</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="preprocessor">            MI_MUST_BE_SAFE(PROCESS);                                   \</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="preprocessor">            UNLOCK_WS_TIMESTAMP(PROCESS);                               \</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 1);       \</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsProcessWorkingSetExclusive = 0;                 \</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="preprocessor">            ExReleasePushLockExclusive (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex)); \</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="preprocessor">            KeLeaveGuardedRegionThread (&amp;THREAD-&gt;Tcb);</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div>
<div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad85db24ce035e33d720808a3b9bc6960"> 1242</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS_SHARED(THREAD,PROCESS)                                \</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="preprocessor">            MI_MUST_BE_SAFE(PROCESS);                                   \</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="preprocessor">            UNLOCK_WS_TIMESTAMP(PROCESS);                               \</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 1);          \</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsProcessWorkingSetShared = 0;                    \</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="preprocessor">            ExReleasePushLockShared (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex)); \</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="preprocessor">            KeLeaveGuardedRegionThread (&amp;THREAD-&gt;Tcb);</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1410c9fb4f38459936eefa2cdec54b2e"> 1251</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS_SHARED_CROSS_PROCESS(THREAD,PROCESS)                  \</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetShared == 0);          \</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 0);       \</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="preprocessor">            ExReleasePushLockShared (&amp;((PROCESS)-&gt;Vm.WorkingSetMutex)); \</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="preprocessor">            KeLeaveGuardedRegionThread (&amp;THREAD-&gt;Tcb);</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac5ee7f4b37fd317f8bc0dee0e6d95fc9"> 1257</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS_UNSAFE(THREAD, PROCESS)                               \</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="preprocessor">            MI_MUST_BE_UNSAFE(PROCESS);                                 \</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="preprocessor">            ASSERT (KeAreAllApcsDisabled () == TRUE);                   \</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="preprocessor">            (PROCESS)-&gt;Vm.Flags.AcquiredUnsafe = 0;                     \</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="preprocessor">            UNLOCK_WS_TIMESTAMP(PROCESS);                               \</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="preprocessor">            ASSERT (THREAD-&gt;OwnsProcessWorkingSetExclusive == 1);       \</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="preprocessor">            THREAD-&gt;OwnsProcessWorkingSetExclusive = 0;                 \</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor">            ExReleasePushLockExclusive(&amp;((PROCESS)-&gt;Vm.WorkingSetMutex)); \</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="preprocessor">            ASSERT (KeGetCurrentIrql() &lt;= APC_LEVEL);</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">// Address space synchronization definitions.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;</div>
<div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adda9e3478a85f59d4cae9f481cbdd159"> 1271</a></span>&#160;<span class="preprocessor">#define LOCK_ADDRESS_SPACE(PROCESS)                                  \</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="preprocessor">            KeAcquireGuardedMutex (&amp;((PROCESS)-&gt;AddressCreationLock));</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div>
<div class="line"><a name="l01274"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab3abe46f24374fd97c9d9acf9861d2ee"> 1274</a></span>&#160;<span class="preprocessor">#define LOCK_WS_AND_ADDRESS_SPACE(THREAD, PROCESS)                  \</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="preprocessor">        LOCK_ADDRESS_SPACE(PROCESS);                                \</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="preprocessor">        LOCK_WS_UNSAFE(THREAD, PROCESS)</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div>
<div class="line"><a name="l01278"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab222f7a274d1e26fd00ec1fe03bd09da"> 1278</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS_AND_ADDRESS_SPACE(THREAD, PROCESS)                \</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="preprocessor">        UNLOCK_WS_UNSAFE(THREAD, PROCESS);                          \</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor">        UNLOCK_ADDRESS_SPACE(PROCESS);</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af20c0d8e48adf72513eb3e7c7c5fc494"> 1282</a></span>&#160;<span class="preprocessor">#define UNLOCK_ADDRESS_SPACE(PROCESS)                               \</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="preprocessor">            KeReleaseGuardedMutex (&amp;((PROCESS)-&gt;AddressCreationLock));</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment">// The working set lock may have been acquired safely or unsafely.</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment">// Release and reacquire it regardless.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a13cc8fd9e98fb79315819c0a06010fef"> 1290</a></span>&#160;<span class="preprocessor">#define UNLOCK_WS_REGARDLESS(THREAD, PROCESS, WSHELDSAFE, WSHELDSHARED) \</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="preprocessor">            ASSERT (MI_WS_OWNER (PROCESS));                         \</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="preprocessor">            if (MI_IS_WS_UNSAFE (PROCESS)) {                        \</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="preprocessor">                UNLOCK_WS_UNSAFE (THREAD, PROCESS);                 \</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="preprocessor">                WSHELDSAFE = FALSE;                                 \</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="preprocessor">                WSHELDSHARED = FALSE;                               \</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="preprocessor">            }                                                       \</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="preprocessor">            else if (THREAD-&gt;OwnsProcessWorkingSetExclusive == 1) { \</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="preprocessor">                UNLOCK_WS (THREAD, PROCESS);                        \</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="preprocessor">                WSHELDSAFE = TRUE;                                  \</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="preprocessor">                WSHELDSHARED = FALSE;                               \</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="preprocessor">            }                                                       \</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="preprocessor">            else {                                                  \</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor">                UNLOCK_WS_SHARED (THREAD, PROCESS);                 \</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="preprocessor">                WSHELDSAFE = TRUE;                                  \</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="preprocessor">                WSHELDSHARED = TRUE;                                \</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div>
<div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa98cc8eb10b759700efd7d0e6056168e"> 1308</a></span>&#160;<span class="preprocessor">#define LOCK_WS_REGARDLESS(THREAD, PROCESS, WSHELDSAFE, WSHELDSHARED) \</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor">            if (WSHELDSAFE == TRUE) {                               \</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="preprocessor">                if (WSHELDSHARED == FALSE) {                        \</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="preprocessor">                    LOCK_WS (THREAD, PROCESS);                      \</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="preprocessor">                }                                                   \</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="preprocessor">                else {                                              \</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="preprocessor">                    LOCK_WS_SHARED (THREAD, PROCESS);               \</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="preprocessor">                }                                                   \</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="preprocessor">            }                                                       \</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="preprocessor">            else {                                                  \</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="preprocessor">                LOCK_WS_UNSAFE (THREAD, PROCESS);                   \</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">// Hyperspace synchronization definitions.</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;</div>
<div class="line"><a name="l01325"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a72e97f8c835ff439d3e8d98164138533"> 1325</a></span>&#160;<span class="preprocessor">#define MI_HYPER_ADDRESS(VA)   TRUE</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div>
<div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a64567b20b0c7bcf6513f581578d64df1"> 1327</a></span>&#160;<span class="preprocessor">#define LOCK_HYPERSPACE(_Process, OLDIRQL)                      \</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="preprocessor">    ASSERT (_Process == PsGetCurrentProcess ());                \</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="preprocessor">    ExAcquireSpinLock (&amp;_Process-&gt;HyperSpaceLock, OLDIRQL);</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7518044e343ce7bbd3c7575776100929"> 1331</a></span>&#160;<span class="preprocessor">#define UNLOCK_HYPERSPACE(_Process, VA, OLDIRQL)                \</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="preprocessor">    ASSERT (_Process == PsGetCurrentProcess ());                \</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="preprocessor">    if (OLDIRQL != MM_NOIRQL) {                                 \</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="preprocessor">        ASSERT (MI_HYPER_ADDRESS (VA));                         \</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="preprocessor">        MiGetPteAddress(VA)-&gt;u.Long = 0;                        \</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="preprocessor">        ExReleaseSpinLock (&amp;_Process-&gt;HyperSpaceLock, OLDIRQL); \</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="preprocessor">    }                                                           \</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="preprocessor">    else {                                                      \</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="preprocessor">        ASSERT (!MI_HYPER_ADDRESS (VA));                        \</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a42d6252b54676f1ece3456f4a82a121a"> 1342</a></span>&#160;<span class="preprocessor">#define LOCK_HYPERSPACE_AT_DPC(_Process)                        \</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="preprocessor">    ASSERT (KeGetCurrentIrql() == DISPATCH_LEVEL);              \</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="preprocessor">    ASSERT (_Process == PsGetCurrentProcess ());                \</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="preprocessor">    ExAcquireSpinLockAtDpcLevel (&amp;_Process-&gt;HyperSpaceLock);</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8c4fb7b88f29d27c9e00db773120a0ca"> 1347</a></span>&#160;<span class="preprocessor">#define UNLOCK_HYPERSPACE_FROM_DPC(_Process, VA)                \</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="preprocessor">    ASSERT (_Process == PsGetCurrentProcess ());                \</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="preprocessor">    if (MI_HYPER_ADDRESS (VA)) {                                \</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="preprocessor">        ASSERT (KeGetCurrentIrql() == DISPATCH_LEVEL);          \</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="preprocessor">        MiGetPteAddress(VA)-&gt;u.Long = 0;                        \</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;<span class="preprocessor">        ExReleaseSpinLockFromDpcLevel (&amp;_Process-&gt;HyperSpaceLock); \</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div>
<div class="line"><a name="l01355"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab5f5be31e9d40dc842545457670a8fa5"> 1355</a></span>&#160;<span class="preprocessor">#define MiUnmapPageInHyperSpace(_Process, VA, OLDIRQL) UNLOCK_HYPERSPACE(_Process, VA, OLDIRQL)</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div>
<div class="line"><a name="l01357"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#add68486dea3c0f27c0a20d701be1bfd1"> 1357</a></span>&#160;<span class="preprocessor">#define MiUnmapPageInHyperSpaceFromDpc(_Process, VA) UNLOCK_HYPERSPACE_FROM_DPC(_Process, VA)</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">// TB flushing and debugging definitions.</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="preprocessor">#define MI_TB_FLUSH_TYPE_MAX    64</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MiFlushType[MI_TB_FLUSH_TYPE_MAX];</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="preprocessor">#define MI_INCREMENT_TB_FLUSH_TYPE(CallerId)                            \</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="preprocessor">            ASSERT (CallerId &lt; MI_TB_FLUSH_TYPE_MAX);                   \</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="preprocessor">            MiFlushType[CallerId] += 1;</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a65e53b130e5f441e6784a868305cbc6c"> 1373</a></span>&#160;<span class="preprocessor">#define MI_INCREMENT_TB_FLUSH_TYPE(CallerId)</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;</div>
<div class="line"><a name="l01376"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afe50e91999beeaf13eaffc464e30e44e"> 1376</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_ENTIRE_TB(CallerId)                                    \</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="preprocessor">        MI_INCREMENT_TB_FLUSH_TYPE(CallerId);                           \</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="preprocessor">        KeFlushEntireTb (TRUE, TRUE);</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div>
<div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9e3b53b7613a9e65d422b36c587a04aa"> 1380</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_MULTIPLE_TB(Number, Virtual, AllProcessors)            \</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="preprocessor">        KeFlushMultipleTb (Number, Virtual, AllProcessors);</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa31e621cf9c90ef13b5957d76f14edef"> 1383</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_SINGLE_TB(Virtual, AllProcessors)                      \</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="preprocessor">        KeFlushSingleTb (Virtual, AllProcessors);</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0cba4c6c4347fe2cdc155757cd66c3b5"> 1386</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_PROCESS_TB(AllProcessors)                              \</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="preprocessor">        ASSERT (AllProcessors == FALSE);                                \</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="preprocessor">        KeFlushProcessTb ();</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div>
<div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa84eb06340b05a43cf7ce775cc33d1c8"> 1390</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_CURRENT_TB()                                           \</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="preprocessor">        KeFlushCurrentTb ();</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">// There is no flush single on just the current processor so specify FALSE</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">// and hope we don&#39;t IPI too many others.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div>
<div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a51f5bd4005a9704c9507ca330110f688"> 1398</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_CURRENT_TB_SINGLE(Virtual)                             \</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="preprocessor">        KeFlushSingleTb (Virtual, FALSE);</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae61af08e0d5d4d43132b7b73b6e47c47"> 1401</a></span>&#160;<span class="preprocessor">#define MI_CHECK_TB()</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad6cc1b6ad7636b617ebb1b708e2b800a"> 1402</a></span>&#160;<span class="preprocessor">#define MI_INSERT_VALID_PTE(PointerPte)</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8c725083ccb9cfe7653067d26d06ac53"> 1403</a></span>&#160;<span class="preprocessor">#define MI_REMOVE_PTE(PointerPte)</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div>
<div class="line"><a name="l01406"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5a245932cba7d6edf34e18e8111175b9"> 1406</a></span>&#160;<span class="preprocessor">#define ZERO_LARGE(LargeInteger)                \</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor">        (LargeInteger).LowPart = 0;             \</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="preprocessor">        (LargeInteger).HighPart = 0;</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div>
<div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a69da58bc1f4918a7e1402b2aa13e77b4"> 1410</a></span>&#160;<span class="preprocessor">#define NO_BITS_FOUND   ((ULONG)-1)</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment">// MI_CHECK_BIT (</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment">//     IN PULONG_PTR ARRAY</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">//     IN ULONG BIT</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">//     The MI_CHECK_BIT macro checks to see if the specified bit is</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">//     set within the specified array.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">//     Note that for NT64, the ARRAY must be 8-byte aligned as the intrinsics</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment">//     rely on this.</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="comment">//     ARRAY - First element of the array to check.</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment">//     BIT - bit number (first bit is 0) to check.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">//     Returns the value of the bit (0 or 1).</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="preprocessor">#if _MI_USE_BIT_INTRINSICS</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="preprocessor">#define MI_CHECK_BIT(ARRAY,BIT)  \</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="preprocessor">        BitTest64 ((LONG64 *)ARRAY, BIT)</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab42cad0c592099b1ed4af49e39e817f6"> 1444</a></span>&#160;<span class="preprocessor">#define MI_CHECK_BIT(ARRAY,BIT)  \</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="preprocessor">        (((ULONG)(((PULONG)ARRAY)[(BIT) / (sizeof(ULONG)*8)]) &gt;&gt; ((BIT) &amp; 0x1F)) &amp; 1)</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">// MI_SET_BIT (</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">//     IN PULONG_PTR ARRAY</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">//     IN ULONG BIT</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">//     The MI_SET_BIT macro sets the specified bit within the</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">//     specified array.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment">//     Note that for NT64, the ARRAY must be 8-byte aligned as the intrinsics</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">//     rely on this.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment">//     ARRAY - First element of the array to set.</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment">//     BIT - bit number.</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="preprocessor">#if _MI_USE_BIT_INTRINSICS</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="preprocessor">#define MI_SET_BIT(ARRAY,BIT)  \</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="preprocessor">        BitTestAndSet64 ((LONG64 *)ARRAY, BIT)</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af1077a720715161f5d128890835ab928"> 1481</a></span>&#160;<span class="preprocessor">#define MI_SET_BIT(ARRAY,BIT)  \</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="preprocessor">        ((PULONG)ARRAY)[(BIT) / (sizeof(ULONG)*8)] |= (1 &lt;&lt; ((BIT) &amp; 0x1F))</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">// MI_CLEAR_BIT (</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">//     IN PULONG_PTR ARRAY</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">//     IN ULONG BIT</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">//     The MI_CLEAR_BIT macro sets the specified bit within the</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment">//     specified array.</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">//     Note that for NT64, the ARRAY must be 8-byte aligned as the intrinsics</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">//     rely on this.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">//     ARRAY - First element of the array to clear.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">//     BIT - bit number.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="preprocessor">#if _MI_USE_BIT_INTRINSICS</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="preprocessor">#define MI_CLEAR_BIT(ARRAY,BIT)  \</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="preprocessor">        BitTestAndReset64 ((LONG64 *)ARRAY, BIT)</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af982615feb827eb62b64c0d0b5afe6af"> 1518</a></span>&#160;<span class="preprocessor">#define MI_CLEAR_BIT(ARRAY,BIT)  \</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="preprocessor">        ((PULONG)ARRAY)[(BIT) / (sizeof(ULONG)*8)] &amp;= ~(1 &lt;&lt; ((BIT) &amp; 0x1F))</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="preprocessor">#define MI_MAGIC_AWE_PTEFRAME   0x1ffedcbffffedcb</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac76e60f86eeb5242e660446d012989f5"> 1525</a></span>&#160;<span class="preprocessor">#define MI_MAGIC_AWE_PTEFRAME   0x1ffedcb</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div>
<div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4f920052ce6dd07af0ebd19e29129128"> 1528</a></span>&#160;<span class="preprocessor">#define MI_PFN_IS_AWE(Pfn1)                                     \</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="preprocessor">        ((Pfn1-&gt;u2.ShareCount &lt;= 3) &amp;&amp;                          \</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="preprocessor">         (Pfn1-&gt;u3.e1.PageLocation == ActiveAndValid) &amp;&amp;        \</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="preprocessor">         (Pfn1-&gt;u4.VerifierAllocation == 0) &amp;&amp;                  \</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="preprocessor">         (Pfn1-&gt;u3.e1.LargeSessionAllocation == 0) &amp;&amp;           \</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="preprocessor">         (Pfn1-&gt;u3.e1.StartOfAllocation == 1) &amp;&amp;                \</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="preprocessor">         (Pfn1-&gt;u3.e1.EndOfAllocation == 1) &amp;&amp;                  \</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="preprocessor">         (Pfn1-&gt;u4.PteFrame == MI_MAGIC_AWE_PTEFRAME))</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="comment">// The cache type definitions are carefully chosen to line up with the</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="comment">// MEMORY_CACHING_TYPE definitions to ease conversions.  Any changes here must</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">// be reflected throughout the code.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;</div>
<div class="line"><a name="l01543"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5e"> 1543</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5e">_MI_PFN_CACHE_ATTRIBUTE</a> {</div>
<div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5eac74cf6651a5668164868752e07cf688a"> 1544</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5eac74cf6651a5668164868752e07cf688a">MiNonCached</a>,</div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea22ca83deb7835240ce61914ff8b14ced"> 1545</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea22ca83deb7835240ce61914ff8b14ced">MiCached</a>,</div>
<div class="line"><a name="l01546"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea0720f38a3eadc1b5247bd9fbf1ada3fe"> 1546</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea0720f38a3eadc1b5247bd9fbf1ada3fe">MiWriteCombined</a>,</div>
<div class="line"><a name="l01547"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea4aa77db9c2e35ce8aefc8d01648ac9c2"> 1547</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea4aa77db9c2e35ce8aefc8d01648ac9c2">MiNotMapped</a></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a>, *<a class="code" href="../../d9/dce/a02519.html#a96e1123dd94c9eb76731624af8fd96a5">PMI_PFN_CACHE_ATTRIBUTE</a>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">// This conversion array is unfortunately needed because not all</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment">// hardware platforms support all possible cache values.  Note that</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">// the first range is for system RAM, the second range is for I/O space.</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a> <a class="code" href="../../d9/dce/a02519.html#af5cb465f80778ec92c9e88870dbb314d">MiPlatformCacheAttributes</a>[2 * <a class="code" href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aac4894c6217334b2c21610c6d6effbd8c">MmMaximumCacheType</a>];</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">// MI_PFN_CACHE_ATTRIBUTE</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment">// MI_TRANSLATE_CACHETYPE (</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">//     IN MEMORY_CACHING_TYPE InputCacheType,</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment">//     IN ULONG IoSpace</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">//     Returns the hardware supported cache type for the requested cachetype.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">//     InputCacheType - Supplies the desired cache type.</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">//     IoSpace - Supplies nonzero (not necessarily 1 though) if this is</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment">//               I/O space, zero if it is main memory.</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">//     The actual cache type.</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a></div>
<div class="line"><a name="l01584"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9b1537075617a20ddb55619d218c1a78"> 1584</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9b1537075617a20ddb55619d218c1a78">MI_TRANSLATE_CACHETYPE</a>(</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a> InputCacheType,</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> IoSpace</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    )</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;{</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (InputCacheType &lt;= <a class="code" href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aaef8433b9494a4b6e9ed6282530b4ddda">MmWriteCombined</a>);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <span class="keywordflow">if</span> (IoSpace != 0) {</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        IoSpace = <a class="code" href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aac4894c6217334b2c21610c6d6effbd8c">MmMaximumCacheType</a>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dce/a02519.html#af5cb465f80778ec92c9e88870dbb314d">MiPlatformCacheAttributes</a>[IoSpace + InputCacheType];</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">// MI_SET_CACHETYPE_TRANSLATION (</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">//     IN MEMORY_CACHING_TYPE    InputCacheType,</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">//     IN ULONG                  IoSpace,</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">//     IN MI_PFN_CACHE_ATTRIBUTE NewAttribute</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">//     This function sets the hardware supported cachetype for the</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">//     specified cachetype.</span></div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">//     InputCacheType - Supplies the desired cache type.</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">//     IoSpace - Supplies nonzero (not necessarily 1 though) if this is</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">//               I/O space, zero if it is main memory.</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">//     NewAttribute - Supplies the desired attribute.</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l01627"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abc54d767c7af0026069c46caa04ad14f"> 1627</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#abc54d767c7af0026069c46caa04ad14f">MI_SET_CACHETYPE_TRANSLATION</a>(</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a>    InputCacheType,</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a>                  IoSpace,</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a> NewAttribute</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    )</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;{</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (InputCacheType &lt;= <a class="code" href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aaef8433b9494a4b6e9ed6282530b4ddda">MmWriteCombined</a>);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="keywordflow">if</span> (IoSpace != 0) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        IoSpace = <a class="code" href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aac4894c6217334b2c21610c6d6effbd8c">MmMaximumCacheType</a>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#af5cb465f80778ec92c9e88870dbb314d">MiPlatformCacheAttributes</a>[IoSpace + InputCacheType] = NewAttribute;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;}</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">// PFN database element.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">// Define pseudo fields for start and end of allocation.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9aead2ffa36248a0eaa9f7b6f92f7e64"> 1650</a></span>&#160;<span class="preprocessor">#define StartOfAllocation ReadInProgress</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div>
<div class="line"><a name="l01652"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2bd055673710e889d5ea9fd01a561ea1"> 1652</a></span>&#160;<span class="preprocessor">#define EndOfAllocation WriteInProgress</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div>
<div class="line"><a name="l01654"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a726a92c0ccc062689a1fe13972f15a1e"> 1654</a></span>&#160;<span class="preprocessor">#define LargeSessionAllocation PrototypePte</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;</div>
<div class="line"><a name="l01656"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html"> 1656</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d94/a00967.html">_MMPFNENTRY</a> {</div>
<div class="line"><a name="l01657"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a3cf4a569dfc7deaa575546e06cf54394"> 1657</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a3cf4a569dfc7deaa575546e06cf54394">Modified</a> : 1;</div>
<div class="line"><a name="l01658"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a5501e1d75ffb02477c469598cb4bf13d"> 1658</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a5501e1d75ffb02477c469598cb4bf13d">ReadInProgress</a> : 1;</div>
<div class="line"><a name="l01659"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#af511f81a92e1c7dbc8dc94307ff9bb80"> 1659</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#af511f81a92e1c7dbc8dc94307ff9bb80">WriteInProgress</a> : 1;</div>
<div class="line"><a name="l01660"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a29d866fa0818cc186b3ab028bf000112"> 1660</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a29d866fa0818cc186b3ab028bf000112">PrototypePte</a>: 1;</div>
<div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a1209c0306a654c2ac86c0a4f17de9655"> 1661</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a1209c0306a654c2ac86c0a4f17de9655">PageColor</a> : 4;</div>
<div class="line"><a name="l01662"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a6240a05ea6f6c3bcc9dafc36be77d5cd"> 1662</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a6240a05ea6f6c3bcc9dafc36be77d5cd">PageLocation</a> : 3;</div>
<div class="line"><a name="l01663"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a0e63c7328b44b215808d96e63c6382b0"> 1663</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a0e63c7328b44b215808d96e63c6382b0">RemovalRequested</a> : 1;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">// The CacheAttribute field is what the current (or last) TB attribute used.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="comment">// This is not cleared when the frame is unmapped because in cases like</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="comment">// system PTE mappings for MDLs, we lazy flush the TB (for performance)</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="comment">// so we don&#39;t know when the final TB flush has really occurred.  To ensure</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="comment">// that we never insert a TB that would cause an overlapping condition,</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="comment">// whenever a PTE is filled with a freshly allocated frame, the filler</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <span class="comment">// assumes responsibility for comparing the new cache attribute with the</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="comment">// last known used attribute and if they differ, the filler must flush the</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="comment">// entire TB.  KeFlushSingleTb cannot be used because we don&#39;t know</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="comment">// what virtual address(es) this physical frame was last mapped at.</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">// This may result in some TB overflushing in the case</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">// where no system PTE was used so it would have been safe to clear the</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="comment">// attribute in the PFN, but it reusing a page with a differing attribute</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">// should be a fairly rare case anyway.</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div>
<div class="line"><a name="l01683"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a0f221b620e1986aceef8514517ac95be"> 1683</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a0f221b620e1986aceef8514517ac95be">CacheAttribute</a> : 2;</div>
<div class="line"><a name="l01684"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#a75bfdd953c9ddb637f00837b3c2e45f6"> 1684</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#a75bfdd953c9ddb637f00837b3c2e45f6">Rom</a> : 1;</div>
<div class="line"><a name="l01685"></a><span class="lineno"><a class="line" href="../../d4/d94/a00967.html#aaa1e18a6e12d81759af14e058ab7a52d"> 1685</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d4/d94/a00967.html#aaa1e18a6e12d81759af14e058ab7a52d">ParityError</a> : 1;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a4615a3a1223dba3754f85801e324d561">MMPFNENTRY</a>;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div>
<div class="line"><a name="l01688"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa5e528216ac0ddb979285988b1e75a3b"> 1688</a></span>&#160;<span class="preprocessor">#define MI_PFN_PRIORITY_BITS    3</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5bb47f6859794477a350474715e86dee"> 1689</a></span>&#160;<span class="preprocessor">#define MI_PFN_PRIORITIES       (1 &lt;&lt; MI_PFN_PRIORITY_BITS)</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a636ede1a4f5b937d4a50943f8f8b5adb"> 1690</a></span>&#160;<span class="preprocessor">#define MI_DEFAULT_PFN_PRIORITY 3</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div>
<div class="line"><a name="l01692"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9948eb8305757918447a30180510b06e"> 1692</a></span>&#160;<span class="preprocessor">#define MI_SET_PFN_PRIORITY(Pfn, NewPriority)               \</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="preprocessor">    ASSERT (NewPriority &lt; MI_PFN_PRIORITIES);               \</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="preprocessor">    Pfn-&gt;u4.Priority = NewPriority;</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div>
<div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab15d3e295fda3f2045eabf68e841e059"> 1696</a></span>&#160;<span class="preprocessor">#define MI_GET_PFN_PRIORITY(Pfn)                            \</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="preprocessor">    ((ULONG)(Pfn)-&gt;u4.Priority)</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment">// Reset the PFN priority to the default when a page is reused.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment">// </span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div>
<div class="line"><a name="l01703"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab856586d16b7c69ce8311214e9a07b8f"> 1703</a></span>&#160;<span class="preprocessor">#define MI_RESET_PFN_PRIORITY(Pfn)                      \</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="preprocessor">    MI_SET_PFN_PRIORITY(Pfn, MI_DEFAULT_PFN_PRIORITY);</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="preprocessor">#if defined (_X86PAE_)</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="preprocessor">#pragma pack(1)</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div>
<div class="line"><a name="l01710"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html"> 1710</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d17/a00964.html">_MMPFN</a> {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l01712"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a5bed4740c412d8be8fc8750d1a1bfdc9"> 1712</a></span>&#160;        <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../da/d17/a00964.html#a5bed4740c412d8be8fc8750d1a1bfdc9">Flink</a>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#ac60dd9f74477e0cf3b87c3acb89964f2"> 1713</a></span>&#160;        <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../da/d17/a00964.html#ac60dd9f74477e0cf3b87c3acb89964f2">WsIndex</a>;</div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#ad9d32402125fb7a173006a233853477c"> 1714</a></span>&#160;        <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../da/d17/a00964.html#ad9d32402125fb7a173006a233853477c">Event</a>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a4c630f910a6303f4cb68ebdd0e482d70"> 1715</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a> <a class="code" href="../../da/d17/a00964.html#a4c630f910a6303f4cb68ebdd0e482d70">ReadStatus</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="comment">// Note: NextStackPfn is actually used as SLIST_ENTRY, however</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="comment">// because of its alignment characteristics, using that type would</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <span class="comment">// unnecessarily add padding to this structure.</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div>
<div class="line"><a name="l01723"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a2e162e3a75d90da3ae398888897af44b"> 1723</a></span>&#160;        <a class="code" href="../../de/db6/a01627.html">SINGLE_LIST_ENTRY</a> <a class="code" href="../../da/d17/a00964.html#a2e162e3a75d90da3ae398888897af44b">NextStackPfn</a>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    } <a class="code" href="../../da/d17/a00964.html#a863749dcf1d00789d14229b77dc18e34">u1</a>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a41217a6486b435da702536fcc18aa484"> 1725</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../da/d17/a00964.html#a41217a6486b435da702536fcc18aa484">PteAddress</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l01727"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a3c4ddde154addac346ecdbc39e0028d5"> 1727</a></span>&#160;        <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../da/d17/a00964.html#a3c4ddde154addac346ecdbc39e0028d5">Blink</a>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="comment">// ShareCount transitions are protected by the PFN lock.</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a8a10c276e3cd55b7b6e6a8c52cd560be"> 1733</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#a8a10c276e3cd55b7b6e6a8c52cd560be">ShareCount</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    } <a class="code" href="../../da/d17/a00964.html#a9b998acf0a8f26caaab34d45e0ac151a">u2</a>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="comment">// ReferenceCount transitions are generally done with InterlockedXxxPfn</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="comment">// sequences, and only the 0-&gt;1 and 1-&gt;0 transitions are protected</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="comment">// by the PFN lock.  Note that a *VERY* intricate synchronization</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="comment">// scheme is being used to maximize scalability.</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01745"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#aded2721be15f5b58b29acb7cd229a7e9"> 1745</a></span>&#160;            <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../da/d17/a00964.html#aded2721be15f5b58b29acb7cd229a7e9">ReferenceCount</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a72937e16c8afc13b05056779bcee2bbd"> 1746</a></span>&#160;            <a class="code" href="../../d4/d94/a00967.html">MMPFNENTRY</a> <a class="code" href="../../da/d17/a00964.html#a72937e16c8afc13b05056779bcee2bbd">e1</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        };</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;            <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../da/d17/a00964.html#aded2721be15f5b58b29acb7cd229a7e9">ReferenceCount</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#ae28f0e193fd63881fe7df6171dbe2d2d"> 1750</a></span>&#160;            <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../da/d17/a00964.html#ae28f0e193fd63881fe7df6171dbe2d2d">ShortFlags</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        } <a class="code" href="../../da/d17/a00964.html#a3de3d4ebb356cb08b1199a54e7021fa3">e2</a>;</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    } <a class="code" href="../../da/d17/a00964.html#a427d74bfd7e3c30f7d1c01d50c5af28a">u3</a>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> UsedPageTableEntries;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l01757"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a186c56e57729130b835b93fabb3ba9b7"> 1757</a></span>&#160;        <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../da/d17/a00964.html#a186c56e57729130b835b93fabb3ba9b7">OriginalPte</a>;</div>
<div class="line"><a name="l01758"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a5b70433c6bd0569fe904f39bbfa77579"> 1758</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../da/d17/a00964.html#a5b70433c6bd0569fe904f39bbfa77579">AweReferenceCount</a>;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    };</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l01761"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a8f3b86da2d4f0e197ffaf35197eb53be"> 1761</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#a8f3b86da2d4f0e197ffaf35197eb53be">EntireFrame</a>;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#af4e19f8b98188603aa58e51c0f6707b1">PteFrame</a>: 57;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#af4e19f8b98188603aa58e51c0f6707b1"> 1766</a></span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#af4e19f8b98188603aa58e51c0f6707b1">PteFrame</a>: 25;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#aab22fab11a360ddb400e3d6068b8e346"> 1768</a></span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#aab22fab11a360ddb400e3d6068b8e346">InPageError</a> : 1;</div>
<div class="line"><a name="l01769"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a856011f42efa4db8bb55528741f0acd9"> 1769</a></span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#a856011f42efa4db8bb55528741f0acd9">VerifierAllocation</a> : 1;</div>
<div class="line"><a name="l01770"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#ae78d191d4d5d8f36bc9d9479b35736b9"> 1770</a></span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#ae78d191d4d5d8f36bc9d9479b35736b9">AweAllocation</a> : 1;</div>
<div class="line"><a name="l01771"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#ab31296aa45ac7f874841da813088697f"> 1771</a></span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#ab31296aa45ac7f874841da813088697f">Priority</a> : <a class="code" href="../../d9/dce/a02519.html#aa5e528216ac0ddb979285988b1e75a3b">MI_PFN_PRIORITY_BITS</a>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"><a class="line" href="../../da/d17/a00964.html#a2bad683a8f4ae02a65b629200a93263a"> 1772</a></span>&#160;            <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d17/a00964.html#a2bad683a8f4ae02a65b629200a93263a">MustBeCached</a> : 1;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        };</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    } <a class="code" href="../../da/d17/a00964.html#a967589f727d90e303a9289dce4783eb1">u4</a>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#afbb146d0111330fcf61dd8f16bb04202">MMPFN</a>, *<a class="code" href="../../d9/dce/a02519.html#a56b6edb9cd44c4fc9a5678e5afe6fb55">PMMPFN</a>;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="preprocessor">#if defined (_X86PAE_)</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="preprocessor">#pragma pack()</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="keyword">extern</span> PMMPFN <a class="code" href="../../d9/dce/a02519.html#a4fa74051d12679d7d665f20fe2f64096">MmPfnDatabase</a>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;</div>
<div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abe2f21bf6b19760ecaf5bafff639ae82"> 1784</a></span>&#160;<span class="preprocessor">#define MI_PFN_ELEMENT(index) (&amp;MmPfnDatabase[index])</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">// No multiplier reciprocal needs to be inlined because the compiler (using Oxt)</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="comment">// automatically computes the correct number, avoiding the expensive divide</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="comment">// instruction.</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div>
<div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac06b12b42a3e821bf22fb53f630bc1e9"> 1792</a></span>&#160;<span class="preprocessor">#define MI_PFN_ELEMENT_TO_INDEX(_Pfn) ((PFN_NUMBER)(((ULONG_PTR)(_Pfn) - (ULONG_PTR)MmPfnDatabase) / sizeof (MMPFN)))</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a189112b9f61e9492126b4367b4a340e5">MiGetInstructionPointer</a> (</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    );</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab0a10a53e770d58dd3a5bfb340169f27"> 1799</a></span>&#160;<span class="preprocessor">#define MI_SNAP_DIRTY(_Pfn, _NewValue, _Callerid)</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div>
<div class="line"><a name="l01801"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abf428af8c775661ed20c1088be3e40fd"> 1801</a></span>&#160;<span class="preprocessor">#define MI_LOG_PTE_CHANGE(_PointerPte, _PteContents)</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a72f46157364671d5e10c84d59495df6e"> 1803</a></span>&#160;<span class="preprocessor">#define MI_DEBUGGER_WRITE_VALID_PTE_NEW_PROTECTION(_PointerPte, _PteContents) \</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="preprocessor">            InterlockedIncrement (&amp;MiInDebugger);                             \</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="preprocessor">            MI_WRITE_VALID_PTE_NEW_PROTECTION(_PointerPte, _PteContents);     \</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="preprocessor">            InterlockedDecrement (&amp;MiInDebugger);</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div>
<div class="line"><a name="l01808"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9d06b5380460cd76a77f71dbbda4edaf"> 1808</a></span>&#160;<span class="preprocessor">#define MI_STAMP_MODIFIED(Pfn,id)</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="comment">// MI_SET_MODIFIED (</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="comment">//     IN PMMPFN Pfn,</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="comment">//     IN ULONG NewValue,</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="comment">//     IN ULONG CallerId</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">//     Set (or clear) the modified bit in the PFN database element.</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">//     The PFN lock must be held.</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">//     Pfn - Supplies the PFN to operate on.</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">//     NewValue - Supplies 1 to set the modified bit, 0 to clear it.</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment">//     CallerId - Supplies a caller ID useful for debugging purposes.</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae2e9f1c2ee171082f382d7663fe9b6c2"> 1838</a></span>&#160;<span class="preprocessor">#define MI_SET_MODIFIED(_Pfn, _NewValue, _CallerId)             \</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;<span class="preprocessor">            ASSERT ((_Pfn)-&gt;u3.e1.Rom == 0);                    \</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="preprocessor">            MI_SNAP_DIRTY (_Pfn, _NewValue, _CallerId);         \</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="preprocessor">            if ((_NewValue) != 0) {                             \</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="preprocessor">                MI_STAMP_MODIFIED (_Pfn, _CallerId);            \</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="preprocessor">            }                                                   \</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="preprocessor">            (_Pfn)-&gt;u3.e1.Modified = (_NewValue);</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment">// ccNUMA is supported in multiprocessor PAE and WIN64 systems only.</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="preprocessor">#if (defined(_WIN64) || defined(_X86PAE_)) &amp;&amp; !defined(NT_UP)</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="preprocessor">#define MI_MULTINODE</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a80a3b07766cccbd3e80f1003e5ceb9b3">MiDetermineNode</a> (</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> Page,</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    );</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01861"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a80a3b07766cccbd3e80f1003e5ceb9b3"> 1861</a></span>&#160;<span class="preprocessor">#define MiDetermineNode(x,y)    ((y)-&gt;u3.e1.PageColor = 0)</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment">// Note there are some places where these portable macros are not currently</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="comment">// used because we are not in the correct address space required.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="preprocessor">#define MI_CAPTURE_USED_PAGETABLE_ENTRIES(PFN) \</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="preprocessor">        ASSERT ((PFN)-&gt;UsedPageTableEntries &lt;= PTE_PER_PAGE); \</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="preprocessor">        (PFN)-&gt;OriginalPte.u.Soft.UsedPageTableEntries = (PFN)-&gt;UsedPageTableEntries;</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="preprocessor">#define MI_RETRIEVE_USED_PAGETABLE_ENTRIES_FROM_PTE(RBL, PTE) \</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="preprocessor">        ASSERT ((PTE)-&gt;u.Soft.UsedPageTableEntries &lt;= PTE_PER_PAGE); \</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="preprocessor">        (RBL)-&gt;UsedPageTableEntries = (ULONG)(((PMMPTE)(PTE))-&gt;u.Soft.UsedPageTableEntries);</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="preprocessor">#define MI_ZERO_USED_PAGETABLE_ENTRIES_IN_INPAGE_SUPPORT(INPAGE_SUPPORT) \</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="preprocessor">            (INPAGE_SUPPORT)-&gt;UsedPageTableEntries = 0;</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="preprocessor">#define MI_ZERO_USED_PAGETABLE_ENTRIES_IN_PFN(PFN) (PFN)-&gt;UsedPageTableEntries = 0;</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="preprocessor">#define MI_INSERT_USED_PAGETABLE_ENTRIES_IN_PFN(PFN, INPAGE_SUPPORT) \</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="preprocessor">        ASSERT ((INPAGE_SUPPORT)-&gt;UsedPageTableEntries &lt;= PTE_PER_PAGE); \</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="preprocessor">        (PFN)-&gt;UsedPageTableEntries = (INPAGE_SUPPORT)-&gt;UsedPageTableEntries;</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="preprocessor">#define MI_ZERO_USED_PAGETABLE_ENTRIES(PFN) \</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="preprocessor">        (PFN)-&gt;UsedPageTableEntries = 0;</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="preprocessor">#define MI_CHECK_USED_PTES_HANDLE(VA) \</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="preprocessor">        ASSERT (MiGetPdeAddress(VA)-&gt;u.Hard.Valid == 1);</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="preprocessor">#define MI_GET_USED_PTES_HANDLE(VA) \</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="preprocessor">        ((PVOID)MI_PFN_ELEMENT((PFN_NUMBER)MiGetPdeAddress(VA)-&gt;u.Hard.PageFrameNumber))</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="preprocessor">#define MI_GET_USED_PTES_FROM_HANDLE(PFN) \</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="preprocessor">        ((ULONG)(((PMMPFN)(PFN))-&gt;UsedPageTableEntries))</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="preprocessor">#define MI_INCREMENT_USED_PTES_BY_HANDLE(PFN) \</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="preprocessor">        (((PMMPFN)(PFN))-&gt;UsedPageTableEntries += 1); \</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="preprocessor">        ASSERT (((PMMPFN)(PFN))-&gt;UsedPageTableEntries &lt;= PTE_PER_PAGE)</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;<span class="preprocessor">#define MI_INCREMENT_USED_PTES_BY_HANDLE_CLUSTER(PFN,INCR) \</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;<span class="preprocessor">        (((PMMPFN)(PFN))-&gt;UsedPageTableEntries += (ULONG)(INCR)); \</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;<span class="preprocessor">        ASSERT (((PMMPFN)(PFN))-&gt;UsedPageTableEntries &lt;= PTE_PER_PAGE)</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;<span class="preprocessor">#define MI_DECREMENT_USED_PTES_BY_HANDLE(PFN) \</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;<span class="preprocessor">        (((PMMPFN)(PFN))-&gt;UsedPageTableEntries -= 1); \</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;<span class="preprocessor">        ASSERT (((PMMPFN)(PFN))-&gt;UsedPageTableEntries &lt; PTE_PER_PAGE)</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div>
<div class="line"><a name="l01915"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a49edcef8445964fc801117e4e2c0e7cd"> 1915</a></span>&#160;<span class="preprocessor">#define MI_CAPTURE_USED_PAGETABLE_ENTRIES(PFN)</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae1fd2942d4f533ab0178be54e29cf4ef"> 1916</a></span>&#160;<span class="preprocessor">#define MI_RETRIEVE_USED_PAGETABLE_ENTRIES_FROM_PTE(RBL, PTE)</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9a968567c64f55c82443fdb502e8ad3a"> 1917</a></span>&#160;<span class="preprocessor">#define MI_ZERO_USED_PAGETABLE_ENTRIES_IN_INPAGE_SUPPORT(INPAGE_SUPPORT)</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8d8502e2103e33bc7eba41223e70f954"> 1918</a></span>&#160;<span class="preprocessor">#define MI_ZERO_USED_PAGETABLE_ENTRIES_IN_PFN(PFN)</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div>
<div class="line"><a name="l01920"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a095dd9d757ca6a7dfdd2794a57810ba7"> 1920</a></span>&#160;<span class="preprocessor">#define MI_INSERT_USED_PAGETABLE_ENTRIES_IN_PFN(PFN, INPAGE_SUPPORT)</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div>
<div class="line"><a name="l01922"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a934e808f4161c7c904ea47eb66bff906"> 1922</a></span>&#160;<span class="preprocessor">#define MI_CHECK_USED_PTES_HANDLE(VA)</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;</div>
<div class="line"><a name="l01924"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af41bb9af6e1e2f261b56d17f115f3f61"> 1924</a></span>&#160;<span class="preprocessor">#define MI_GET_USED_PTES_HANDLE(VA) ((PVOID)&amp;MmWorkingSetList-&gt;UsedPageTableEntries[MiGetPdeIndex(VA)])</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div>
<div class="line"><a name="l01926"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a70a0d4e19cb4d4c22cf83bf7affc026b"> 1926</a></span>&#160;<span class="preprocessor">#define MI_GET_USED_PTES_FROM_HANDLE(PDSHORT) ((ULONG)(*(PUSHORT)(PDSHORT)))</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div>
<div class="line"><a name="l01928"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a67abc1e856d81a8e97c76e2d66aaf233"> 1928</a></span>&#160;<span class="preprocessor">#define MI_INCREMENT_USED_PTES_BY_HANDLE(PDSHORT) \</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="preprocessor">    ((*(PUSHORT)(PDSHORT)) += 1); \</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="preprocessor">    ASSERT (((*(PUSHORT)(PDSHORT)) &lt;= PTE_PER_PAGE))</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div>
<div class="line"><a name="l01932"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8e9827274ac7162338965210c65d04eb"> 1932</a></span>&#160;<span class="preprocessor">#define MI_INCREMENT_USED_PTES_BY_HANDLE_CLUSTER(PDSHORT,INCR) \</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="preprocessor">    (*(PUSHORT)(PDSHORT)) = (USHORT)((*(PUSHORT)(PDSHORT)) + (INCR)); \</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="preprocessor">    ASSERT (((*(PUSHORT)(PDSHORT)) &lt;= PTE_PER_PAGE))</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div>
<div class="line"><a name="l01936"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a292359fd6a1d979611893eb1d0baf24f"> 1936</a></span>&#160;<span class="preprocessor">#define MI_DECREMENT_USED_PTES_BY_HANDLE(PDSHORT) \</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="preprocessor">    ((*(PUSHORT)(PDSHORT)) -= 1); \</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="preprocessor">    ASSERT (((*(PUSHORT)(PDSHORT)) &lt; PTE_PER_PAGE))</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a6d426503c04a00a48a0665dc0272de32">MmDynamicPfn</a>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../db/db9/a00387.html">EX_PUSH_LOCK</a> <a class="code" href="../../d9/dce/a02519.html#ac209f696e9b5019f0ec3c80a53b358a2">MmDynamicMemoryLock</a>;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div>
<div class="line"><a name="l01946"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a061dd165de5334d0c8d8941c8817ad86"> 1946</a></span>&#160;<span class="preprocessor">#define MI_INITIALIZE_DYNAMIC_MEMORY_LOCK()   ExInitializePushLock (&amp;MmDynamicMemoryLock);</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;</div>
<div class="line"><a name="l01948"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2a6379050dbcbdd2cfa6dfe77935516e"> 1948</a></span>&#160;<span class="preprocessor">#define MI_LOCK_DYNAMIC_MEMORY_EXCLUSIVE()    ExAcquirePushLockExclusive (&amp;MmDynamicMemoryLock);</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div>
<div class="line"><a name="l01950"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af75a481872a8275df020b8b03a09a762"> 1950</a></span>&#160;<span class="preprocessor">#define MI_UNLOCK_DYNAMIC_MEMORY_EXCLUSIVE()  ExReleasePushLockExclusive (&amp;MmDynamicMemoryLock);</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div>
<div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0d4e579a9cd3e51e8bdca01c79095a5f"> 1952</a></span>&#160;<span class="preprocessor">#define MI_LOCK_DYNAMIC_MEMORY_SHARED()    ExAcquirePushLockShared (&amp;MmDynamicMemoryLock);</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div>
<div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a873ccd27ef94c861cb8d35c41fb5ecd1"> 1954</a></span>&#160;<span class="preprocessor">#define MI_UNLOCK_DYNAMIC_MEMORY_SHARED()  ExReleasePushLockShared (&amp;MmDynamicMemoryLock);</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">// Cache attribute tracking for I/O space mappings.</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div>
<div class="line"><a name="l01960"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8f25faba24cdc6c6ba70a0db2cced1f3"> 1960</a></span>&#160;<span class="preprocessor">#define MI_IO_BACKTRACE_LENGTH  6</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html"> 1962</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d9c/a00958.html">_MMIO_TRACKER</a> {</div>
<div class="line"><a name="l01963"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html#aa1c371b3b4982508f1f4eec9a977c0bc"> 1963</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../df/d9c/a00958.html#aa1c371b3b4982508f1f4eec9a977c0bc">ListEntry</a>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html#ac0edc7002d9cfee1af7c6a20a43ff7ff"> 1964</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/d9c/a00958.html#ac0edc7002d9cfee1af7c6a20a43ff7ff">BaseVa</a>;</div>
<div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html#af36e524f01db77e48924e680a3eda753"> 1965</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../df/d9c/a00958.html#af36e524f01db77e48924e680a3eda753">PageFrameIndex</a>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html#adea1de1d4169729112e0e91afa7a8e4b"> 1966</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../df/d9c/a00958.html#adea1de1d4169729112e0e91afa7a8e4b">NumberOfPages</a>;</div>
<div class="line"><a name="l01967"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html#a6a02ae9e3c07a3ff1015654336d92c8e"> 1967</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a> <a class="code" href="../../df/d9c/a00958.html#a6a02ae9e3c07a3ff1015654336d92c8e">CacheAttribute</a>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"><a class="line" href="../../df/d9c/a00958.html#abc7518235c50b97cf41c6c3990d32476"> 1968</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/d9c/a00958.html#abc7518235c50b97cf41c6c3990d32476">StackTrace</a>[<a class="code" href="../../d9/dce/a02519.html#a8f25faba24cdc6c6ba70a0db2cced1f3">MI_IO_BACKTRACE_LENGTH</a>];</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ab9c2d51f27883d0f9606d8bcaba9bfb8">MMIO_TRACKER</a>, *<a class="code" href="../../d9/dce/a02519.html#aed6c391a70b089d93fc77033203e1ebe">PMMIO_TRACKER</a>;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/de4/a02241.html#a89adb6dc0ec6cc3fcce2441adcf97013">KSPIN_LOCK</a> <a class="code" href="../../d9/dce/a02519.html#a7d5652cac8a0813cc059c67328ef4d95">MmIoTrackerLock</a>;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a3bbb554c80913a8dc00d6e76a28d9d99">MmIoHeader</a>;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a6addcc52e2dfddf231bf3213859ae2bb">PCHAR</a> <a class="code" href="../../d9/dce/a02519.html#a94c8a22084b904a3778c298af0601312">MiCacheStrings</a>[];</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5922d8f65a066a7fc945cff8d0233aa1">MiInsertIoSpaceMap</a> (</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseVa,</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPages,</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a> CacheAttribute</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    );</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a55f349b02b1d685401da963fb41028db">MiIsProbeActive</a> (</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> InputPte,</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> InputPages</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    );</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment">// Total number of committed pages.</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#addced45236530bee7cce688d544a5bf0">MmTotalCommittedPages</a>;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a2d0cb761434dc1e2a94b68ddd65ccefe">MmTotalCommitLimit</a>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#ada728c8572767052481d71c87159a2da">MmSharedCommit</a>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#a0fffa47d0cca8521b6ff56b16b27baed">SPFN_NUMBER</a> MiLockedCommit;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="preprocessor">#define MI_INCREMENT_LOCKED_COMMIT()        \</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="preprocessor">            MiLockedCommit += 1;</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="preprocessor">#define MI_DECREMENT_LOCKED_COMMIT()        \</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="preprocessor">            ASSERT (MiLockedCommit &gt; 0);    \</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="preprocessor">            MiLockedCommit -= 1;</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div>
<div class="line"><a name="l02013"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afb30c5c1cfdb0e06fd8dc9541cea8818"> 2013</a></span>&#160;<span class="preprocessor">#define MI_INCREMENT_LOCKED_COMMIT()</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a199397165e78fa985c2f3be2f047df83"> 2014</a></span>&#160;<span class="preprocessor">#define MI_DECREMENT_LOCKED_COMMIT()</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="preprocessor">#if defined(_WIN64)</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="preprocessor">#define MiChargeCommitmentRegardless() \</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="preprocessor">    MI_INCREMENT_LOCKED_COMMIT(); \</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="preprocessor">    InterlockedIncrement64 ((PLONGLONG) &amp;MmTotalCommittedPages);</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="preprocessor">#define MiReturnCommitmentRegardless() \</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="preprocessor">    MI_DECREMENT_LOCKED_COMMIT(); \</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="preprocessor">    InterlockedDecrement64 ((PLONGLONG) &amp;MmTotalCommittedPages);</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad5c63fac400d4fd8b8caf5ed9a6c2718"> 2030</a></span>&#160;<span class="preprocessor">#define MiChargeCommitmentRegardless() \</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="preprocessor">    MI_INCREMENT_LOCKED_COMMIT(); \</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="preprocessor">    InterlockedIncrement ((PLONG) &amp;MmTotalCommittedPages);</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;</div>
<div class="line"><a name="l02034"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8cdc7540339c8b08e7f56bd3ed59fdcb"> 2034</a></span>&#160;<span class="preprocessor">#define MiReturnCommitmentRegardless() \</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="preprocessor">    MI_DECREMENT_LOCKED_COMMIT(); \</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="preprocessor">    InterlockedDecrement ((PLONG) &amp;MmTotalCommittedPages);</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ab14b07f14cba23f7e0ac51628dd0a1b5">MiChargeCommitmentFailures</a>[3];   <span class="comment">// referenced also in mi.h macros.</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l02044"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a49faf6018caaebf8f92bbcc26c351092"> 2044</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a49faf6018caaebf8f92bbcc26c351092">MiChargeCommitmentPfnLockHeld</a> (</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> Force</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    )</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;<span class="comment">    This routine charges the specified commitment without attempting</span></div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;<span class="comment">    to expand paging files and waiting for the expansion.</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;<span class="comment">    Force - Supplies TRUE if the lock is short-term and should be forced through</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;<span class="comment">            if necessary.</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;<span class="comment">    TRUE if the commitment was permitted, FALSE if not.</span></div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;<span class="comment">    Kernel mode, PFN lock is held.</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;{</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/dce/a02519.html#addced45236530bee7cce688d544a5bf0">MmTotalCommittedPages</a> &gt; <a class="code" href="../../d9/dce/a02519.html#a2d0cb761434dc1e2a94b68ddd65ccefe">MmTotalCommitLimit</a> - 64) {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="keywordflow">if</span> ((Force == 0) &amp;&amp; ((<a class="code" href="../../dc/d15/a02583.html#a0bb9b4c169cf895991433e639eca6640">PsGetCurrentThread</a>()-&gt;MemoryMaker == 0) || (<a class="code" href="../../df/d0e/a02195.html#a3fdc1ea7a70952e69beab45a0ef2399b">KeIsExecutingDpc</a> () == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>))) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#ab14b07f14cba23f7e0ac51628dd0a1b5">MiChargeCommitmentFailures</a>[2] += 1;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        }</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="comment">// No need to do an InterlockedCompareExchange for this, keep it fast.</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#ad5c63fac400d4fd8b8caf5ed9a6c2718">MiChargeCommitmentRegardless</a> ();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                                                             </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="comment">// Total number of available pages on the system.  This</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="comment">// is the sum of the pages on the zeroed, free and standby lists.</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#abe69743c34ae5666a82e381046b40ed1">MmAvailablePages</a>;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="comment">// Total number physical pages which would be usable if every process</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="comment">// was at it&#39;s minimum working set size.  This value is initialized</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="comment">// at system initialization to MmAvailablePages - MM_FLUID_PHYSICAL_PAGES.</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="comment">// Everytime a thread is created, the kernel stack is subtracted from</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="comment">// this and every time a process is created, the minimum working set</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="comment">// is subtracted from this.  If the value would become negative, the</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="comment">// operation (create process/kernel stack/ adjust working set) fails.</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="comment">// The PFN LOCK must be owned to manipulate this value.</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#a0fffa47d0cca8521b6ff56b16b27baed">SPFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#adc924f9ee8d1a50c3fb3d90aa58eae93">MmResidentAvailablePages</a>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="comment">// The total number of pages which would be removed from working sets</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment">// if every working set was at its minimum.</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a97772f923445b27847c21e9711a8cea7">MmPagesAboveWsMinimum</a>;</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<span class="comment">// If memory is becoming short and MmPagesAboveWsMinimum is</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="comment">// greater than MmPagesAboveWsThreshold, trim working sets.</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a6edb3925640e48dd51455aa640d4c2e8">MmPlentyFreePages</a>;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a786aca989ca87b629afe359cd8be5e67">MmPagesAboveWsThreshold</a>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../d9/dce/a02519.html#a3ac495e88fb022227d39b3bde0872f24">MiDelayPageFaults</a>;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div>
<div class="line"><a name="l02126"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5218814e225f498b205fa31269f6ddde"> 2126</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_NONPAGED_POOL_EXPANSION           0</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afb405fd7e50118b397c5f4c9b063ac86"> 2127</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_PAGED_POOL_PAGETABLE              1</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7e17d46e9e5dccd37c02162ba4d95ec4"> 2128</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_PAGED_POOL_PAGES                  2</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9fabbca99254ca8b23f516784bd94bc6"> 2129</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_POOL_PAGE_TABLES          3</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0c8e9dd0576ab67b28380b0f42daa3e7"> 2130</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_ALLOCVM1                          4</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8d0ef97f02341b8b3c2aeae8f7991b64"> 2131</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_ALLOCVM_SEGMENT                   5</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6f78354d0de3f22cf2a55c5ec59dd7da"> 2132</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_IMAGE                             6</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7148d7cdb179e72f88626fe3e3c9b071"> 2133</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_PAGEFILE_BACKED_SHMEM             7</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4e94e2067b47b2db1a7a97cca7731f9d"> 2134</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_INDEPENDENT_PAGES                 8</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a976ee94903c9c7388c9035f75df157ae"> 2135</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_CONTIGUOUS_PAGES                  9</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a32c1f85373b5eb412e5073fbce21e42c"> 2136</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_MDL_PAGES                         0xA</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aea02291ae3b2b604e80d30a6e69d9fae"> 2137</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_NONCACHED_PAGES                   0xB</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a82efdf8460bb38430d6d9417d6d444a5"> 2138</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_MAPVIEW_DATA                      0xC</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acd6a1beebd3059683d0a2e57d0f99774"> 2139</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_FILL_SYSTEM_DIRECTORY             0xD</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a94d97ee15c8aa0c9a56b051251385557"> 2140</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_EXTRA_SYSTEM_PTES                 0xE</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaf18387101f4a762d161318a83372209"> 2141</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_DRIVER_PAGING_AT_INIT             0xF</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adb4cbe5145414ca4df2e1d44e957dcb4"> 2142</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_PAGEFILE_FULL                     0x10</span></div>
<div class="line"><a name="l02143"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a42cf3cb40b67c608327f9dda00dc61b8"> 2143</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_PROCESS_CREATE                    0x11</span></div>
<div class="line"><a name="l02144"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a03149e1c292d102c1ad896f5e236d28b"> 2144</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_KERNEL_STACK_CREATE               0x12</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab76c3a182f724947ee3385fc3dc64f6f"> 2145</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SET_PROTECTION                    0x13</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8dc6ee83fddc5575a4245dc63d6440a4"> 2146</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_CREATE                    0x14</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae8203078fe08ba38ed8bb99548001114"> 2147</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_IMAGE_PAGES               0x15</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aafe6d9617c558b71adcebd646d260e46"> 2148</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_PAGETABLE_PAGES           0x16</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a20084dfd5bd0a78913c726a924122c78"> 2149</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_SHARED_IMAGE              0x17</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa1c82973d280d74941b199a52ba36680"> 2150</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_DRIVER_PAGES                      0x18</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af3cd6ae3e6bd2b2a06af184cd9f567cd"> 2151</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_INSERT_VAD                        0x19</span></div>
<div class="line"><a name="l02152"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a39005f202cadf04e106949513b1d0bcb"> 2152</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_WS_INIT                   0x1A</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6909c50acb4768475d4479483bacc7c2"> 2153</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_ADDITIONAL_WS_PAGES       0x1B</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af3730ea164d4d986e03c433ae6721aa7"> 2154</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SESSION_ADDITIONAL_WS_HASHPAGES   0x1C</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acbfddee8e7597d59373ddff5d4adea51"> 2155</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SPECIAL_POOL_PAGES                0x1D</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3525f5830e3d00087ae5f60c3515ada8"> 2156</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SPECIAL_POOL_MAPPING_PAGES        0x1E</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad99a8e57c804411166460629288849f1"> 2157</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_SMALL                             0x1F</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab678611c921755676f94e154e7036d49"> 2158</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_EXTRA_WS_PAGES                    0x20</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2ee51f56ddc34b609e8e90fc6ec3735b"> 2159</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_EXTRA_INITIAL_SESSION_WS_PAGES    0x21</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78f83efa6c47001eb1e9c6bd35134e68"> 2160</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_ALLOCVM_PROCESS                   0x22</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a99c9292563e4e29965f7786dba71f9a7"> 2161</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_INSERT_VAD_PT                     0x23</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abcdffbde795a86678538116efeb3e78d"> 2162</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_ALLOCVM_PROCESS2                  0x24</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0484a9111d4b9018cdf7afada447de00"> 2163</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_CHARGE_NORMAL                     0x25</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aedb9f427f1b18aff46e6cb9e54961548"> 2164</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_CHARGE_CAUSE_POPUP                0x26</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a61e27d84c079fa44f57808347f7d2394"> 2165</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_CHARGE_CANT_EXPAND                0x27</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae05a613edd3f2892837f28a5c3a95b99"> 2166</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_LARGE_VA_PAGES                    0x28</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2a30ee085877e6e1e7ddc28cd1465b49"> 2167</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_LOAD_SYSTEM_IMAGE_TEMP            0x29</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div>
<div class="line"><a name="l02169"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a39a529910786b3bf947d8c0d5e92d471"> 2169</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_NONPAGED_POOL_EXPANSION    0x40</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a055b472392ea0c6578540c3f5fc474db"> 2170</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PAGED_POOL_PAGES           0x41</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa155a84a9995266f9b87986dad047b0b"> 2171</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SESSION_DATAPAGE           0x42</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae091ebc43e4e9a68c7cbe63079dcef2a"> 2172</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_ALLOCVM_SEGMENT            0x43</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a92f62d599076ea0c1e53cb8de000d1d6"> 2173</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_ALLOCVM2                   0x44</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div>
<div class="line"><a name="l02175"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6b0b52212b4bd55a21f4554e4d328cdb"> 2175</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_IMAGE_NO_LARGE_CA          0x46</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0b35ffe49ac68932fb57b25223ff70d4"> 2176</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PTE_RANGE                  0x47</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3fdb8ce73d80c17b06cf549f910f1ff3"> 2177</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_NTFREEVM1                  0x48</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9215bc2bf31f0cd5d03d306782cd536c"> 2178</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_NTFREEVM2                  0x49</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a845154606af32d9f2ef1294e9d5c581d"> 2179</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_INDEPENDENT_PAGES          0x4A</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae079e15d08f4fb8275a92f9aacddeeee"> 2180</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_AWE_EXCESS                 0x4B</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a47d46d7ecb669b56688456ce33052c1a"> 2181</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_MDL_PAGES                  0x4C</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab42aa5a826cf45cf2e2a6aefc659f852"> 2182</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_NONCACHED_PAGES            0x4D</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae1b4a573a5700f9fd6dc275490b67d80"> 2183</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SESSION_CREATE_FAILURE     0x4E</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4de3416114d3058fc79a173594a82cfa"> 2184</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PAGETABLES                 0x4F</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adb15910965ae092df9cc063730cc31c2"> 2185</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PROTECTION                 0x50</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab3f5cd67bea8fe08387a175e43623d6f"> 2186</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SEGMENT_DELETE1            0x51</span></div>
<div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ace54479107386699fca21e9cb04ca033"> 2187</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SEGMENT_DELETE2            0x52</span></div>
<div class="line"><a name="l02188"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1b655a0f380bc493b9c505355b26b225"> 2188</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PAGEFILE_FULL              0x53</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afedc8b0da531c900bf9bef210866c172"> 2189</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SESSION_DEREFERENCE        0x54</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1b4746eb0e85b3d7a6ba305364797e32"> 2190</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_VAD                        0x55</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a32929d7513208827ef615ee19b85f5fa"> 2191</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PROCESS_CREATE_FAILURE1    0x56</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a670ba7497049797e2092b8ac1d319b50"> 2192</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PROCESS_DELETE             0x57</span></div>
<div class="line"><a name="l02193"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0b8394775d6545b2ce5fec17358de77f"> 2193</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PROCESS_CLEAN_PAGETABLES   0x58</span></div>
<div class="line"><a name="l02194"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adf57c8ecac231198c0f27fc8381b6ceb"> 2194</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_KERNEL_STACK_DELETE        0x59</span></div>
<div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4d01c14e531dcde6d9dd15fc892f468d"> 2195</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SESSION_DRIVER_LOAD_FAILURE1 0x5A</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afec68673900662c2636e016ac5257fee"> 2196</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_DRIVER_INIT_CODE           0x5B</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9f707be60c1b3f5bc5d97e7f64b2a318"> 2197</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_DRIVER_UNLOAD              0x5C</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7eab3de0733ab94e6038ab463a22ffdd"> 2198</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_DRIVER_UNLOAD1             0x5D</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aad243c676af9165c98ac65936d07faa6"> 2199</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_NORMAL                     0x5E</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac385217333e36a402e8cd63cd99ed311"> 2200</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_PF_FULL_EXTEND             0x5F</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a66aeaf5eea761649340be34cb49c2819"> 2201</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_EXTENDED                   0x60</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a28cd39446b7076e0ed99d6c9250cd93c"> 2202</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_SEGMENT_DELETE3            0x61</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a29d9b6c43f43c25f302a5ac62cc5923c"> 2203</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_CHARGE_LARGE_PAGES                0x62</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3caf15d0397537ab5357327bd96857f7"> 2204</a></span>&#160;<span class="preprocessor">#define MM_DBG_COMMIT_RETURN_LARGE_PAGES                0x63</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;</div>
<div class="line"><a name="l02206"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a45906f0873a8bf0306857cf3fc032959"> 2206</a></span>&#160;<span class="preprocessor">#define MM_TRACK_COMMIT(_index, bump)</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af7771196aaac627a34bd10331c1570b4"> 2207</a></span>&#160;<span class="preprocessor">#define MM_TRACK_COMMIT_REDUCTION(_index, bump)</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1264e830c9a31753943415d5532eef4a"> 2208</a></span>&#160;<span class="preprocessor">#define MI_INCREMENT_TOTAL_PROCESS_COMMIT(_charge)</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div>
<div class="line"><a name="l02210"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b"> 2210</a></span>&#160;<span class="preprocessor">#define MiReturnCommitment(_QuotaCharge)                                \</span></div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="preprocessor">            ASSERT ((SSIZE_T)(_QuotaCharge) &gt;= 0);                      \</span></div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="preprocessor">            ASSERT (MmTotalCommittedPages &gt;= (_QuotaCharge));           \</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="preprocessor">            InterlockedExchangeAddSizeT (&amp;MmTotalCommittedPages, 0-((SIZE_T)(_QuotaCharge))); \</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="preprocessor">            MM_TRACK_COMMIT (MM_DBG_COMMIT_RETURN_NORMAL, (_QuotaCharge));</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="comment">// PFN_NUMBER</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;<span class="comment">// MI_NONPAGEABLE_MEMORY_AVAILABLE(</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;<span class="comment">//    VOID</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;<span class="comment">//    This routine lets callers know how many pages can be charged against</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;<span class="comment">//    the resident available, factoring in earlier Mm promises that</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;<span class="comment">//    may not have been redeemed at this point (ie: nonpaged pool expansion,</span></div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<span class="comment">//    etc, that must be honored at a later point if requested).</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="comment">//    The number of currently available pages in the resident available.</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="comment">//    N.B.  This is a signed quantity and can be negative.</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a08c8b8020fb639d64c0caf9af7fa6e1c"> 2241</a></span>&#160;<span class="preprocessor">#define MI_NONPAGEABLE_MEMORY_AVAILABLE()                                    \</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;<span class="preprocessor">        ((SPFN_NUMBER)                                                      \</span></div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;<span class="preprocessor">            (MmResidentAvailablePages -                                     \</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="preprocessor">             MmSystemLockPagesCount))</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">// Convert these to intrinsics as soon as compiler support is available...</span></div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="preprocessor">#if defined(_X86_)</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l02257"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4087075d61df8717e16b565f7f33050b"> 2257</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4087075d61df8717e16b565f7f33050b">InterlockedCompareExchange16</a> (</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a> <span class="keyword">volatile</span> *Destination,</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a> Exchange,</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a> Comperand</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    )</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;{</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    __asm {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        mov     ax, Comperand</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        mov     ecx, Destination</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        mov     dx, Exchange</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        lock cmpxchg word ptr [ecx], dx</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;}</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l02274"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5c3c4d1d78200215696cd20ad3a687f4"> 2274</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5c3c4d1d78200215696cd20ad3a687f4">InterlockedIncrement16</a> (</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a> Addend</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    )</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;{</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    __asm {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        mov     ax, 1</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        mov     ecx, Addend</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        lock xadd    word ptr [ecx], ax</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        inc     ax</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;    }</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;}</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l02289"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a918c09b7cc040be1be598557ea0682ee"> 2289</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a918c09b7cc040be1be598557ea0682ee">InterlockedDecrement16</a> (</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a> Addend</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    )</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;{</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    __asm {</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        mov     ax, -1</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        mov     ecx, Addend</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        lock xadd    word ptr [ecx], ax</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        dec     ax</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    }</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;}</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="preprocessor">#if !defined(_AMD64_)</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4087075d61df8717e16b565f7f33050b">InterlockedCompareExchange16</a> (</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a> <span class="keyword">volatile</span> *Destination,</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a> Exchange,</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a> Comperand</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    );</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5c3c4d1d78200215696cd20ad3a687f4">InterlockedIncrement16</a> (</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a> Addend</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    );</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a918c09b7cc040be1be598557ea0682ee">InterlockedDecrement16</a> (</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a> Addend</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    );</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div>
<div class="line"><a name="l02328"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab954958dbc3cf0ab78454acd88e1eaa2"> 2328</a></span>&#160;<span class="preprocessor">#define MI_SNAP_PFNREF(_Pfn, _NewValue, _Value, _CallerId)</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;</div>
<div class="line"><a name="l02330"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad3527fc95b6093e86e81c55d8522d282"> 2330</a></span>&#160;<span class="preprocessor">#define InterlockedCompareExchangePfn InterlockedCompareExchange16</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac49fd6af7e8d58fbb120a4270b671e0a"> 2331</a></span>&#160;<span class="preprocessor">#define InterlockedIncrementPfn       InterlockedIncrement16</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0e76c18c689c31607b0cfdfe841b5de9"> 2332</a></span>&#160;<span class="preprocessor">#define InterlockedDecrementPfn       InterlockedDecrement16</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a82076de5922c5eff0bd753758c99852c">MiBadRefCount</a> (</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <a class="code" href="../../de/d4e/a02289.html#a3f6b8655e1aa9dfc15a9029f0343009e">__in</a> PMMPFN Pfn1</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    );</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9d6fd4e313851acb50647e30e8c2c1de">MiDecrementReferenceCount</a> (</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    );</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a513a26bce891e3191631fa3285421d49">MmReferenceCountCheck</a>;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l02350"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8767b9768f36acff5a6564cdf70890cf"> 2350</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8767b9768f36acff5a6564cdf70890cf">MI_ADD_LOCKED_PAGE_CHARGE</a> (</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    )</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">    Charge the systemwide count of locked pages if this is the initial</span></div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">    lock for this page (multiple concurrent locks are only charged once).</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="comment">    Pfn - Supplies the PFN entry to operate on.</span></div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;<span class="comment">    TRUE if the charge succeeded, FALSE if not.</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">    Kernel mode.  PFN lock held.</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;{</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> NewRefCount;</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> ChargedCommit;</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="comment">// We must charge systemwide resources (commit &amp; resident available)</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="comment">// in advance of incrementing the PFN reference count.  This is because </span></div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;    <span class="comment">// the PFN reference count is updated lock free and so another thread</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="comment">// can pass this one without charging against system, and if this thread</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <span class="comment">// were to instead charge afterwards, it may fail below and it would be</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <span class="comment">// unable to stop the other thread(s) that have already proceeded.</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">if</span> ((Pfn1-&gt;u3.e1.PrototypePte == 1) &amp;&amp;</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;        (Pfn1-&gt;OriginalPte.u.Soft.Prototype == 1)) {</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="comment">// This is a filesystem-backed page - charge commit for</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;        <span class="comment">// it as we have no way to tell when the caller will</span></div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        <span class="comment">// unlock the page.  Note this is a short term charge so</span></div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;        <span class="comment">// always push it through.</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        ChargedCommit = <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a49faf6018caaebf8f92bbcc26c351092">MiChargeCommitmentPfnLockHeld</a> (<a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    }</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;        ChargedCommit = <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    }</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="comment">// Now charge resident available.</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <a class="code" href="../../df/d0e/a02195.html#acffac2af59e9aba42fa546317f3c9867">InterlockedIncrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    NewRefCount = <a class="code" href="../../d9/dce/a02519.html#ac49fd6af7e8d58fbb120a4270b671e0a">InterlockedIncrementPfn</a> ((<a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a>)&amp;Pfn1-&gt;u3.e2.ReferenceCount);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keywordflow">if</span> (NewRefCount == 2) {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        <span class="keywordflow">if</span> (Pfn1-&gt;u2.ShareCount != 0) {</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;            <span class="comment">// This is the first thread to lock the page so keep the charges.</span></div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e1.PageLocation == <a class="code" href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a>);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        }</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;            <span class="comment">// The page is in transition with no share count so it has already</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;            <span class="comment">// been locked.</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;            <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;            <span class="keywordflow">if</span> (ChargedCommit == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                <a class="code" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a> (1);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        }</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (NewRefCount &lt; <a class="code" href="../../d9/dce/a02519.html#a513a26bce891e3191631fa3285421d49">MmReferenceCountCheck</a> + 0x400);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        <span class="comment">// This thread was not the first one to lock this page so return</span></div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <span class="comment">// the excess systemwide charges we had to allocate in advance (since</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;        <span class="comment">// some other thread has already incurred them).</span></div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;        <span class="keywordflow">if</span> (ChargedCommit == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a> (1);</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        }</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    }</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    </div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l02457"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad9d97d7a3cfbbb0e393bd9abfb383d1c"> 2457</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad9d97d7a3cfbbb0e393bd9abfb383d1c">MI_ADD_LOCKED_PAGE_CHARGE_FOR_PROBE</a> (</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> Force,</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    )</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;<span class="comment">    Charge the systemwide count of locked pages if this is the initial</span></div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="comment">    lock for this page (multiple concurrent locks are only charged once).</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;<span class="comment">    This routine is written specifically for MmProbeAndLockPages use.</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;<span class="comment">    Pfn - Supplies the PFN entry to operate on.</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<span class="comment">    Force - Supplies TRUE if the lock is short-term and should be forced through</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="comment">            if necessary.</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="comment">    PointerPte - Supplies the PTE entry for the page being locked.  This should</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="comment">                 only be used for system space addresses where the share count</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="comment">                 is zero or the page is not active.  This is because this PTE</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;<span class="comment">                 argument is meaningless for large page addresses, but large</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="comment">                 page kernel addresses would never have a zero sharecount or</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;<span class="comment">                 non-active page state.</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">    TRUE if the charge succeeded, FALSE if not.</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="comment">    Kernel mode.  PFN lock may be held.</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;{</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> ChargedCommit;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> FunkyAddress;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> RefCount;</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> OldRefCount;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;<span class="preprocessor">#if !DBG</span></div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab8caf1706fee9e06b2937fec2fb3d6ed">UNREFERENCED_PARAMETER</a> (PointerPte);</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e2.ReferenceCount != 0);</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="keywordflow">if</span> ((Pfn1-&gt;u2.ShareCount != 0) &amp;&amp;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        (Pfn1-&gt;u3.e1.PageLocation == <a class="code" href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a>)) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        FunkyAddress = <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    }</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        <span class="comment">// The only way this can happen is if a driver</span></div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        <span class="comment">// builds an MDL for a user address and then gets</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;        <span class="comment">// a system VA for it.  The driver may then call MmProbeAndLockPages</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;        <span class="comment">// again, this time with the system VA (instead of the original</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        <span class="comment">// user VA) for the same range.</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        <span class="comment">// Thus the PFNs will really point at PFNs which generally</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <span class="comment">// require the relevant process&#39; working set pushlock, but in</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;        <span class="comment">// this instance we will be holding the PFN lock (not the process</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        <span class="comment">// working set pushlock).  The PFN lock is used because it</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;        <span class="comment">// prevents the PFN sharecounts and active states from changing.</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d1/df5/a02496.html#a7b86d7101cf859cdaaef6fe108a421c6">MiGetVirtualAddressMappedByPte</a> (PointerPte) &gt;= <a class="code" href="../../df/d0e/a02195.html#a74408dc6a84942757727eab8adf88686">MmSystemRangeStart</a>);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (PointerPte-&gt;u.Hard.Valid == 1);</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d9/dce/a02519.html#abe2f21bf6b19760ecaf5bafff639ae82">MI_PFN_ELEMENT</a> (PointerPte-&gt;u.Hard.PageFrameNumber) == Pfn1);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a8c85bdeb5a8178759e8cd6806f570ccc">MM_PFN_LOCK_ASSERT</a> ();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        FunkyAddress = <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    }</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    <span class="comment">// We must charge systemwide resources (commit &amp; resident available)</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <span class="comment">// in advance of incrementing the PFN reference count.  This is because </span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    <span class="comment">// the PFN reference count is updated lock free and so another thread</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="comment">// can pass this one without charging against system, and if this thread</span></div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="comment">// were to instead charge afterwards, it may fail below and it would be</span></div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <span class="comment">// unable to stop the other thread(s) that have already proceeded.</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keywordflow">if</span> ((Pfn1-&gt;u3.e1.PrototypePte == 1) &amp;&amp;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;        (Pfn1-&gt;OriginalPte.u.Soft.Prototype == 1)) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <span class="comment">// This is a filesystem-backed page - charge commit for</span></div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        <span class="comment">// it as we have no way to tell when the caller will</span></div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        <span class="comment">// unlock the page.</span></div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/dce/a02519.html#a49faf6018caaebf8f92bbcc26c351092">MiChargeCommitmentPfnLockHeld</a> (Force) == <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;        }</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        ChargedCommit = <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;    }</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        ChargedCommit = <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    }</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="comment">// Now charge resident available.</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    <a class="code" href="../../df/d0e/a02195.html#acffac2af59e9aba42fa546317f3c9867">InterlockedIncrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d9/dce/a02519.html#a08c8b8020fb639d64c0caf9af7fa6e1c">MI_NONPAGEABLE_MEMORY_AVAILABLE</a>() &lt;= 0) &amp;&amp; (Force == <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)) {</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;        <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;        <span class="keywordflow">if</span> (ChargedCommit == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a> (1);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        }</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    }</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;        OldRefCount = Pfn1-&gt;u3.e2.ReferenceCount;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (OldRefCount != 0);</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="keywordflow">if</span> (OldRefCount &gt;= <a class="code" href="../../d9/dce/a02519.html#a513a26bce891e3191631fa3285421d49">MmReferenceCountCheck</a>) {</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;            <span class="keywordflow">if</span> (ChargedCommit == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;                <a class="code" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a> (1);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;            }</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        }</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        RefCount = <a class="code" href="../../d9/dce/a02519.html#ad3527fc95b6093e86e81c55d8522d282">InterlockedCompareExchangePfn</a> ((<a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a>)&amp;Pfn1-&gt;u3.e2.ReferenceCount,</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                                                  OldRefCount + 1,</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                                                  OldRefCount);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (RefCount != 0);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    } <span class="keywordflow">while</span> (OldRefCount != RefCount);</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <span class="keywordflow">if</span> ((OldRefCount != 1) || (FunkyAddress == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)) {</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <span class="comment">// This thread was not the first one to lock this page so return</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        <span class="comment">// the excess systemwide charges we had to allocate in advance (since</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        <span class="comment">// some other thread has already incurred them).</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;        <span class="keywordflow">if</span> (ChargedCommit == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a> (1);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        }</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    }</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;}</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l02619"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac2edc72c103e5b6e34471fb87ffac0be"> 2619</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac2edc72c103e5b6e34471fb87ffac0be">MI_ADD_LOCKED_PAGE_CHARGE_FOR_MODIFIED_PAGE</a> (</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    )</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="comment">    Charge the systemwide count of locked pages if this is the initial</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="comment">    lock for this page (multiple concurrent locks are only charged once).</span></div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="comment">    Pfn1 - Supplies the PFN entry to operate on.</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="comment">    None.</span></div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="comment">    Kernel mode.  PFN lock held.</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;{</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> ChargedCommit;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> NewRefCount;</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u2.ShareCount == 0);</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e1.PageLocation != <a class="code" href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a>);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="comment">// We must charge systemwide resources (commit &amp; resident available)</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <span class="comment">// in advance of incrementing the PFN reference count.  This is because </span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="comment">// the PFN reference count is updated lock free and so another thread</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="comment">// can pass this one without charging against system, and if this thread</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="comment">// were to instead charge afterwards, it may fail below and it would be</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="comment">// unable to stop the other thread(s) that have already proceeded.</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="keywordflow">if</span> ((Pfn1-&gt;u3.e1.PrototypePte == 1) &amp;&amp;</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        (Pfn1-&gt;OriginalPte.u.Soft.Prototype == 1)) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <span class="comment">// This is a filesystem-backed page - charge commit for</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="comment">// it as we have no way to tell when the caller will</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <span class="comment">// unlock the page.  Note this is a short term charge so</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        <span class="comment">// always push it through.</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        ChargedCommit = <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a49faf6018caaebf8f92bbcc26c351092">MiChargeCommitmentPfnLockHeld</a> (<a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    }</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;        ChargedCommit = <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    }</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <span class="comment">// Now charge resident available.</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    <a class="code" href="../../df/d0e/a02195.html#acffac2af59e9aba42fa546317f3c9867">InterlockedIncrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    NewRefCount = <a class="code" href="../../d9/dce/a02519.html#ac49fd6af7e8d58fbb120a4270b671e0a">InterlockedIncrementPfn</a> ((<a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a>)&amp;Pfn1-&gt;u3.e2.ReferenceCount);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <span class="keywordflow">if</span> (NewRefCount != 1) {</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (NewRefCount &lt; <a class="code" href="../../d9/dce/a02519.html#a513a26bce891e3191631fa3285421d49">MmReferenceCountCheck</a> + 0x400);</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;        <span class="comment">// This thread was not the first one to lock this page so return</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        <span class="comment">// the excess systemwide charges we had to allocate in advance (since</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        <span class="comment">// some other thread has already incurred them).</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;        <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        <span class="keywordflow">if</span> (ChargedCommit == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a> (1);</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;        }</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    }</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;        <span class="comment">// This is the first thread to lock the page so keep the charges.</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <a class="code" href="../../dd/d67/a02230.html#aad4a7ebff687dc5228cc3fd4d25067f2">NOTHING</a>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    }</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;}</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l02714"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abc6422c6f476ad98d6e3d06670aa3767"> 2714</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#abc6422c6f476ad98d6e3d06670aa3767">MI_REMOVE_LOCKED_PAGE_CHARGE</a> (</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    )</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;<span class="comment">    Remove the charge from the systemwide count of locked pages if this</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="comment">    is the last lock for this page (multiple concurrent locks are only</span></div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;<span class="comment">    charged once).</span></div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<span class="comment">    The PFN reference count is NOT decremented, instead the fault handler</span></div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="comment">    is going to up the share count and make this page valid.</span></div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="comment">    Pfn1 - Supplies the PFN entry to operate on.</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;<span class="comment">    None.</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="comment">    Kernel mode.  PFN lock held.</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;{</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e2.ReferenceCount != 0);</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u2.ShareCount == 0);</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">if</span> (Pfn1-&gt;u3.e2.ReferenceCount == 1) {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        <span class="comment">// This page has already been deleted from all process address</span></div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;        <span class="comment">// spaces.  It is sitting in limbo (not on any list) awaiting</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <span class="comment">// this last dereference.</span></div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e1.PageLocation != <a class="code" href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a>);</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        <span class="keywordflow">if</span> ((Pfn1-&gt;u3.e1.PrototypePte == 1) &amp;&amp;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;            (Pfn1-&gt;OriginalPte.u.Soft.Prototype == 1)) {</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#a8cdc7540339c8b08e7f56bd3ed59fdcb">MiReturnCommitmentRegardless</a> ();</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;        }</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;        <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    }</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;}</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l02770"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a79cc623a92a57d124b3cc51ec7dbcf22"> 2770</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a79cc623a92a57d124b3cc51ec7dbcf22">MI_REMOVE_LOCKED_PAGE_CHARGE_AND_DECREF</a> (</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    )</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;<span class="comment">    Remove the charge from the systemwide count of locked pages if this</span></div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="comment">    is the last lock for this page (multiple concurrent locks are only</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;<span class="comment">    charged once).</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="comment">    The PFN reference checks are carefully ordered so the most common case</span></div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="comment">    is handled first, the next most common case next, etc.  The case of</span></div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;<span class="comment">    a reference count of 2 occurs more than 1000x (yes, 3 orders of</span></div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="comment">    magnitude) more than a reference count of 1.  And reference counts of &gt;2</span></div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;<span class="comment">    occur 3 orders of magnitude more frequently than reference counts of</span></div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="comment">    exactly 1.</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="comment">    The PFN reference count is then decremented.</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="comment">    Pfn1 - Supplies the PFN entry to operate on.</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;<span class="comment">    TRUE if the charge succeeded, FALSE if not.</span></div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="comment">    Kernel mode.  PFN lock held.</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;{</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> RefCount;</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> OldRefCount;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;        OldRefCount = Pfn1-&gt;u3.e2.ReferenceCount;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;        <span class="keywordflow">if</span> (OldRefCount == 0) {</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#a82076de5922c5eff0bd753758c99852c">MiBadRefCount</a> (Pfn1);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;        }</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        <span class="keywordflow">if</span> (OldRefCount == 1) {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            <span class="comment">// This page has already been deleted from all process address</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;            <span class="comment">// spaces.  It is sitting in limbo (not on any list) awaiting</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;            <span class="comment">// this last dereference.</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;            <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e2.ReferenceCount == 1);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;            <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e1.PageLocation != <a class="code" href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a>);</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;            <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u2.ShareCount == 0);</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            <span class="keywordflow">if</span> ((Pfn1-&gt;u3.e1.PrototypePte == 1) &amp;&amp;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                (Pfn1-&gt;OriginalPte.u.Soft.Prototype == 1)) {</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                <a class="code" href="../../d9/dce/a02519.html#a8cdc7540339c8b08e7f56bd3ed59fdcb">MiReturnCommitmentRegardless</a> ();</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;            }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;            <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;            PageFrameIndex = <a class="code" href="../../d9/dce/a02519.html#ac06b12b42a3e821bf22fb53f630bc1e9">MI_PFN_ELEMENT_TO_INDEX</a> (Pfn1);</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;            <a class="code" href="../../d9/dce/a02519.html#a9d6fd4e313851acb50647e30e8c2c1de">MiDecrementReferenceCount</a> (Pfn1, PageFrameIndex);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;        }</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        RefCount = <a class="code" href="../../d9/dce/a02519.html#ad3527fc95b6093e86e81c55d8522d282">InterlockedCompareExchangePfn</a> ((<a class="code" href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a>)&amp;Pfn1-&gt;u3.e2.ReferenceCount,</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                                                  OldRefCount - 1,</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;                                                  OldRefCount);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (RefCount != 0);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    } <span class="keywordflow">while</span> (OldRefCount != RefCount);</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (RefCount &gt; 1);</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keywordflow">if</span> (RefCount == 2) {</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;        <span class="keywordflow">if</span> (Pfn1-&gt;u2.ShareCount &gt;= 1) {</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;            <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Pfn1-&gt;u3.e1.PageLocation == <a class="code" href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a>);</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;            <span class="keywordflow">if</span> ((Pfn1-&gt;u3.e1.PrototypePte == 1) &amp;&amp;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;                (Pfn1-&gt;OriginalPte.u.Soft.Prototype == 1)) {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                <a class="code" href="../../d9/dce/a02519.html#a8cdc7540339c8b08e7f56bd3ed59fdcb">MiReturnCommitmentRegardless</a> ();</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;            }</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;            <a class="code" href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a> (&amp;<a class="code" href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a>);</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;        }</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;            <span class="comment">// There are multiple referencers to this page and the</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            <span class="comment">// page is no longer valid in any process address space.</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;            <span class="comment">// The systemwide lock count can only be decremented</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;            <span class="comment">// by the last dereference.</span></div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <a class="code" href="../../dd/d67/a02230.html#aad4a7ebff687dc5228cc3fd4d25067f2">NOTHING</a>;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;        }</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    }</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;        <span class="comment">// There are still multiple referencers to this page (it may</span></div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        <span class="comment">// or may not be resident in any process address space).</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;        <span class="comment">// Since the systemwide lock count can only be decremented</span></div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;        <span class="comment">// by the last dereference (and this is not it), no action</span></div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;        <span class="comment">// is taken here.</span></div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;        <a class="code" href="../../dd/d67/a02230.html#aad4a7ebff687dc5228cc3fd4d25067f2">NOTHING</a>;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    }</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;}</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;<span class="comment">// MI_ZERO_WSINDEX (</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;<span class="comment">//     IN PMMPFN Pfn</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;<span class="comment">//     Zero the Working Set Index field of the argument PFN entry.</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="comment">//     There is a subtlety here on systems where the WsIndex ULONG is</span></div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;<span class="comment">//     overlaid with an Event pointer and sizeof(ULONG) != sizeof(PKEVENT).</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;<span class="comment">//     Note this will need to be updated if we ever decide to allocate bodies of</span></div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;<span class="comment">//     thread objects on 4GB boundaries.</span></div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;<span class="comment">//     Pfn - the PFN index to operate on.</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="comment">//     None.</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02917"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af759cc84598431df8dcf3583b5b7391e"> 2917</a></span>&#160;<span class="preprocessor">#define MI_ZERO_WSINDEX(Pfn) \</span></div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;<span class="preprocessor">    Pfn-&gt;u1.Event = NULL;</span></div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div>
<div class="line"><a name="l02920"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933dee"> 2920</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933dee">_MMSHARE_TYPE</a> {</div>
<div class="line"><a name="l02921"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deea5ecbcf0afce98b042f35ec71ba03fa4b"> 2921</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deea5ecbcf0afce98b042f35ec71ba03fa4b">Normal</a>,</div>
<div class="line"><a name="l02922"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deea66a73d8f2c873c84a520e4bf691b3552"> 2922</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deea66a73d8f2c873c84a520e4bf691b3552">ShareCountOnly</a>,</div>
<div class="line"><a name="l02923"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deeade72c436b84dbfff96d990c378c9bded"> 2923</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deeade72c436b84dbfff96d990c378c9bded">AndValid</a></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a1c04a5780dd6b395a940d90071f1a51a">MMSHARE_TYPE</a>;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;</div>
<div class="line"><a name="l02926"></a><span class="lineno"><a class="line" href="../../de/de2/a00999.html"> 2926</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../de/de2/a00999.html">_MMWSLE_HASH</a> {</div>
<div class="line"><a name="l02927"></a><span class="lineno"><a class="line" href="../../de/de2/a00999.html#a892b7997d3e0fd3fedcd389b951f5cda"> 2927</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../de/de2/a00999.html#a892b7997d3e0fd3fedcd389b951f5cda">Key</a>;</div>
<div class="line"><a name="l02928"></a><span class="lineno"><a class="line" href="../../de/de2/a00999.html#a1a74c9d105b844955fa91b4d887754ec"> 2928</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../de/de2/a00999.html#a1a74c9d105b844955fa91b4d887754ec">Index</a>;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a0f9c5c11b0e03a11bf26390f1135f92e">MMWSLE_HASH</a>, *<a class="code" href="../../d9/dce/a02519.html#a3cb772409bf9adfca95e634f3aae0f03">PMMWSLE_HASH</a>;</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;<span class="comment">// WSLE_NUMBER</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="comment">// MI_WSLE_HASH (</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;<span class="comment">//     IN ULONG_PTR VirtualAddress,</span></div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;<span class="comment">//     IN PMMWSL WorkingSetList</span></div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;<span class="comment">//     Hash the address</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;<span class="comment">//     VirtualAddress - the address to hash.</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="comment">//     WorkingSetList - the working set to hash the address into.</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;<span class="comment">//     The hash key.</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad9b15568caf61fe95f9e77ad2b0af1dc"> 2955</a></span>&#160;<span class="preprocessor">#define MI_WSLE_HASH(Address, Wsl) \</span></div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="preprocessor">    ((WSLE_NUMBER)(((ULONG_PTR)PAGE_ALIGN(Address) &gt;&gt; (PAGE_SHIFT - 2)) % \</span></div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="preprocessor">        ((Wsl)-&gt;HashTableSize - 1)))</span></div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;<span class="comment">// Working Set List Entry.</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div>
<div class="line"><a name="l02963"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html"> 2963</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/df2/a01000.html">_MMWSLENTRY</a> {</div>
<div class="line"><a name="l02964"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#a1165b0e21d44a876ae7ea2bd755b96bc"> 2964</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#a1165b0e21d44a876ae7ea2bd755b96bc">Valid</a> : 1;</div>
<div class="line"><a name="l02965"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#abebea81d01865c27100fd66d45534113"> 2965</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#abebea81d01865c27100fd66d45534113">LockedInWs</a> : 1;</div>
<div class="line"><a name="l02966"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#a43d0a9326a297d3be9d0ae2256597974"> 2966</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#a43d0a9326a297d3be9d0ae2256597974">LockedInMemory</a> : 1;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <span class="comment">// If Protection == MM_ZERO_ACCESS, it means the WSLE is using the</span></div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <span class="comment">// same protection as the prototype PTE.  Otherwise the protection is</span></div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="comment">// real and potentially different from the prototype PTE.</span></div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;</div>
<div class="line"><a name="l02974"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#a21e3437f4b88b685bda3ea2d997c6411"> 2974</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#a21e3437f4b88b685bda3ea2d997c6411">Protection</a> : 5;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;</div>
<div class="line"><a name="l02976"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#a766b4c484ebd16e1e1886fca2cd00021"> 2976</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#a766b4c484ebd16e1e1886fca2cd00021">Hashed</a> : 1;</div>
<div class="line"><a name="l02977"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#a1845c4b77bc47233b20561bea91c6d86"> 2977</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#a1845c4b77bc47233b20561bea91c6d86">Direct</a> : 1;</div>
<div class="line"><a name="l02978"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#ac2eb4934794efd37b4ba67f482d5a8aa"> 2978</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#ac2eb4934794efd37b4ba67f482d5a8aa">Age</a> : 2;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;<span class="preprocessor">#if MM_VIRTUAL_PAGE_FILLER</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Filler : <a class="code" href="../../d1/df5/a02496.html#af537a1abdeae17ec73572f6647c240bb">MM_VIRTUAL_PAGE_FILLER</a>;</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02982"></a><span class="lineno"><a class="line" href="../../d7/df2/a01000.html#ab942c2fc7f955697c8204356cb9127c6"> 2982</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/df2/a01000.html#ab942c2fc7f955697c8204356cb9127c6">VirtualPageNumber</a> : <a class="code" href="../../d1/df5/a02496.html#a5bf16ed51ac673beb093aaac5df3f092">MM_VIRTUAL_PAGE_SIZE</a>;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ac2299d32a42fd7acc7fcbae7b83c311e">MMWSLENTRY</a>;</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;</div>
<div class="line"><a name="l02985"></a><span class="lineno"><a class="line" href="../../d0/d28/a00997.html"> 2985</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d28/a00997.html">_MMWSLE</a> {</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l02987"></a><span class="lineno"><a class="line" href="../../d0/d28/a00997.html#a20290cbd0cac4424ffbe86dd2c2cb97e"> 2987</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d0/d28/a00997.html#a20290cbd0cac4424ffbe86dd2c2cb97e">VirtualAddress</a>;</div>
<div class="line"><a name="l02988"></a><span class="lineno"><a class="line" href="../../d0/d28/a00997.html#a696bef9c183b5ce11f12fd5ce99687e2"> 2988</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d0/d28/a00997.html#a696bef9c183b5ce11f12fd5ce99687e2">Long</a>;</div>
<div class="line"><a name="l02989"></a><span class="lineno"><a class="line" href="../../d0/d28/a00997.html#aa7ea1ae22f69aca8097c8b2af61ba0a3"> 2989</a></span>&#160;        <a class="code" href="../../d7/df2/a01000.html">MMWSLENTRY</a> <a class="code" href="../../d0/d28/a00997.html#aa7ea1ae22f69aca8097c8b2af61ba0a3">e1</a>;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    } <a class="code" href="../../d0/d28/a00997.html#a3b66e863ce18daaf0cd10092865be56f">u1</a>;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aad50996fb7e3724fb607f762eefe3f01">MMWSLE</a>;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<span class="comment">// Mask off everything but the VPN and the valid bit so the WSLE compare</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;<span class="comment">// can be done in one instruction.</span></div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;</div>
<div class="line"><a name="l02998"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acdeed3c7b03878145b1431d39fbfe6cb"> 2998</a></span>&#160;<span class="preprocessor">#define MI_GENERATE_VALID_WSLE(Wsle)                   \</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;<span class="preprocessor">        ((PVOID)(ULONG_PTR)((Wsle)-&gt;u1.Long &amp; (~(PAGE_SIZE - 1) | 0x1)))</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;</div>
<div class="line"><a name="l03001"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2facb4c368007037b18eb3cafcc3d668"> 3001</a></span>&#160;<span class="preprocessor">#define MI_GET_PROTECTION_FROM_WSLE(Wsl) ((Wsl)-&gt;u1.e1.Protection)</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;</div>
<div class="line"><a name="l03003"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5fb9d923c2a187c4f6a09c9b898e9000"> 3003</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="../../d0/d28/a00997.html">MMWSLE</a> *<a class="code" href="../../d9/dce/a02519.html#a5fb9d923c2a187c4f6a09c9b898e9000">PMMWSLE</a>;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;<span class="comment">// Working Set List.  Must be quadword sized.</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div>
<div class="line"><a name="l03009"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html"> 3009</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/daa/a00996.html">_MMWSL</a> {</div>
<div class="line"><a name="l03010"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#af9ebaa7284cdbdb217fa787972249d19"> 3010</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d3/daa/a00996.html#af9ebaa7284cdbdb217fa787972249d19">FirstFree</a>;</div>
<div class="line"><a name="l03011"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#abddf7ba2418ad6cf3f12034cbde6ab8d"> 3011</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d3/daa/a00996.html#abddf7ba2418ad6cf3f12034cbde6ab8d">FirstDynamic</a>;</div>
<div class="line"><a name="l03012"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#a37d7f44b6f86e0f0dc04b867798f18be"> 3012</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d3/daa/a00996.html#a37d7f44b6f86e0f0dc04b867798f18be">LastEntry</a>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#adbacb4b77ff0f17ceb6b530354bbe81d"> 3013</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d3/daa/a00996.html#adbacb4b77ff0f17ceb6b530354bbe81d">NextSlot</a>;               <span class="comment">// The next slot to trim</span></div>
<div class="line"><a name="l03014"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#a7200f5af72bef027a24c5c505a4e26d2"> 3014</a></span>&#160;    <a class="code" href="../../d0/d28/a00997.html">PMMWSLE</a> <a class="code" href="../../d3/daa/a00996.html#a7200f5af72bef027a24c5c505a4e26d2">Wsle</a>;</div>
<div class="line"><a name="l03015"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#ae75b69d54612d35e59da1de06dfdea14"> 3015</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d3/daa/a00996.html#ae75b69d54612d35e59da1de06dfdea14">LastInitializedWsle</a>;</div>
<div class="line"><a name="l03016"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#ab2f667b6eb2e8a376e22abc622836878"> 3016</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d3/daa/a00996.html#ab2f667b6eb2e8a376e22abc622836878">NonDirectCount</a>;</div>
<div class="line"><a name="l03017"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#a08d2fea7e5cbf980149308e092f9f76f"> 3017</a></span>&#160;    PMMWSLE_HASH <a class="code" href="../../d3/daa/a00996.html#a08d2fea7e5cbf980149308e092f9f76f">HashTable</a>;</div>
<div class="line"><a name="l03018"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#ad35956a2707df4215e5acc0f20fd73e2"> 3018</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/daa/a00996.html#ad35956a2707df4215e5acc0f20fd73e2">HashTableSize</a>;</div>
<div class="line"><a name="l03019"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#a77a1162ff2ac50a4bf2b8c594cc2c627"> 3019</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/daa/a00996.html#a77a1162ff2ac50a4bf2b8c594cc2c627">NumberOfCommittedPageTables</a>;</div>
<div class="line"><a name="l03020"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#ad24824a26c4cf4b7c2984bf0a95d169b"> 3020</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d3/daa/a00996.html#ad24824a26c4cf4b7c2984bf0a95d169b">HashTableStart</a>;</div>
<div class="line"><a name="l03021"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#aecfbb5324c4db9c5e6612bd9301dabd2"> 3021</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d3/daa/a00996.html#aecfbb5324c4db9c5e6612bd9301dabd2">HighestPermittedHashAddress</a>;</div>
<div class="line"><a name="l03022"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#af478f66632d2212d8911db977a4df18c"> 3022</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/daa/a00996.html#af478f66632d2212d8911db977a4df18c">NumberOfImageWaiters</a>;</div>
<div class="line"><a name="l03023"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#a5c5deedb3d000bcbb08483bfb4b7240a"> 3023</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/daa/a00996.html#a5c5deedb3d000bcbb08483bfb4b7240a">VadBitMapHint</a>;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="preprocessor">#if _WIN64</span></div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> HighestUserAddress;           <span class="comment">// Maintained for wow64 processes only</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 3)</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MaximumUserPageTablePages;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 4)</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MaximumUserPageDirectoryPages;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> <a class="code" href="../../d3/daa/a00996.html#aa4b5fdc541d9e95ad17b253c33895df6">CommittedPageTables</a>;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfCommittedPageDirectories;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> CommittedPageDirectories;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfCommittedPageDirectoryParents;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> CommittedPageDirectoryParents[(<a class="code" href="../../d1/df5/a02496.html#ab07bf92e29c19a1eb66f62c2287817ad">MM_USER_PAGE_DIRECTORY_PARENT_PAGES</a> + <span class="keyword">sizeof</span>(<a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a>)*8-1)/(<span class="keyword">sizeof</span>(<a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a>)*8)];</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;<span class="preprocessor">#elif (_MI_PAGING_LEVELS &gt;= 3)</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> <a class="code" href="../../d3/daa/a00996.html#aa4b5fdc541d9e95ad17b253c33895df6">CommittedPageTables</a>;</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfCommittedPageDirectories;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> CommittedPageDirectories[(<a class="code" href="../../d1/df5/a02496.html#a1af6ab66fe9e6ba1c9260201fd39222f">MM_USER_PAGE_DIRECTORY_PAGES</a> + <span class="keyword">sizeof</span>(<a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a>)*8-1)/(<span class="keyword">sizeof</span>(<a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a>)*8)];</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <span class="comment">// This must be at the end.</span></div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="comment">// Not used in system cache or session working set lists.</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;</div>
<div class="line"><a name="l03056"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#a85b29618762c108851d0eab4ad9470d3"> 3056</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d3/daa/a00996.html#a85b29618762c108851d0eab4ad9470d3">UsedPageTableEntries</a>[<a class="code" href="../../d1/df5/a02496.html#a7c45686394d96bad88d7c4516e11e610">MM_USER_PAGE_TABLE_PAGES</a>];</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;</div>
<div class="line"><a name="l03058"></a><span class="lineno"><a class="line" href="../../d3/daa/a00996.html#aa4b5fdc541d9e95ad17b253c33895df6"> 3058</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/daa/a00996.html#aa4b5fdc541d9e95ad17b253c33895df6">CommittedPageTables</a>[<a class="code" href="../../d1/df5/a02496.html#a7c45686394d96bad88d7c4516e11e610">MM_USER_PAGE_TABLE_PAGES</a>/(<span class="keyword">sizeof</span>(<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a>)*8)];</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#af5a2baad9a451ef8a93fa7f96a3722f6">MMWSL</a>, *<a class="code" href="../../d9/dce/a02519.html#a0f0c0a6a0bd767f8529b615b8ab3eec4">PMMWSL</a>;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;</div>
<div class="line"><a name="l03063"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad21c2c8faf91fcdbad6bfeceaee0870c"> 3063</a></span>&#160;<span class="preprocessor">#define MI_LOG_WSLE_CHANGE(_WorkingSetList, _WorkingSetIndex, _WsleValue)</span></div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;<span class="preprocessor">#if defined(_X86_)</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;<span class="keyword">extern</span> PMMWSL <a class="code" href="../../d9/dce/a02519.html#a09dd82c6296436365b6b5a7914b784f9">MmWorkingSetList</a>;</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a9081f502f3e9cd3dd242001d9ae6ca40">MiHighMemoryEvent</a>;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a925d03bcd595402b7e35dda83f35f434">MiLowMemoryEvent</a>;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="comment">// The claim estimate of unused pages in a working set is limited</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<span class="comment">// to grow by this amount per estimation period.</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div>
<div class="line"><a name="l03077"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aadccd6b83053d576f03f1d98db8b0c64"> 3077</a></span>&#160;<span class="preprocessor">#define MI_CLAIM_INCR 30</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;<span class="comment">// The maximum number of different ages a page can be.</span></div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;</div>
<div class="line"><a name="l03083"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad9ab34d278146f346a8c9543d3c22253"> 3083</a></span>&#160;<span class="preprocessor">#define MI_USE_AGE_COUNT 4</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a599604c4f4cf7003563b7b277816a1fc"> 3084</a></span>&#160;<span class="preprocessor">#define MI_USE_AGE_MAX (MI_USE_AGE_COUNT - 1)</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;<span class="comment">// If more than this &quot;percentage&quot; of the working set is estimated to</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;<span class="comment">// be used then allow it to grow freely.</span></div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div>
<div class="line"><a name="l03091"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa758e2b4688b8edc4ce5db2b3cdf42c9"> 3091</a></span>&#160;<span class="preprocessor">#define MI_REPLACEMENT_FREE_GROWTH_SHIFT 5</span></div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;<span class="comment">// If more than this &quot;percentage&quot; of the working set has been claimed</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;<span class="comment">// then force replacement in low memory.</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;</div>
<div class="line"><a name="l03098"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa25037b3f567ed4a8b9b07cedcd67f64"> 3098</a></span>&#160;<span class="preprocessor">#define MI_REPLACEMENT_CLAIM_THRESHOLD_SHIFT 3</span></div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;<span class="comment">// If more than this &quot;percentage&quot; of the working set is estimated to</span></div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;<span class="comment">// be available then force replacement in low memory.</span></div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;</div>
<div class="line"><a name="l03105"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4dc3383d118d6335eff0dcbfe084a695"> 3105</a></span>&#160;<span class="preprocessor">#define MI_REPLACEMENT_EAVAIL_THRESHOLD_SHIFT 3</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;<span class="comment">// If while doing replacement a page is found of this age or older then</span></div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="comment">// replace it.  Otherwise the oldest is selected.</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;</div>
<div class="line"><a name="l03112"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a62ebf64ff142da1715af957d5dbad892"> 3112</a></span>&#160;<span class="preprocessor">#define MI_IMMEDIATE_REPLACEMENT_AGE 2</span></div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="comment">// When trimming, use these ages for different passes.</span></div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;</div>
<div class="line"><a name="l03118"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab74d9ad45c520735071d0372cb60048b"> 3118</a></span>&#160;<span class="preprocessor">#define MI_MAX_TRIM_PASSES 4</span></div>
<div class="line"><a name="l03119"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3880bf278a9ad7e88dc30657151bf5b9"> 3119</a></span>&#160;<span class="preprocessor">#define MI_PASS0_TRIM_AGE 2</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9cac969138eaa89cfda0484b13987c53"> 3120</a></span>&#160;<span class="preprocessor">#define MI_PASS1_TRIM_AGE 1</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a79e1b8251235c6f5d37330baad9b611c"> 3121</a></span>&#160;<span class="preprocessor">#define MI_PASS2_TRIM_AGE 1</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a62378bece0575bfe9eeebdcf740589c1"> 3122</a></span>&#160;<span class="preprocessor">#define MI_PASS3_TRIM_AGE 1</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afe52b58a060b85dcb68117f7b0236bbb"> 3123</a></span>&#160;<span class="preprocessor">#define MI_PASS4_TRIM_AGE 0</span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;<span class="comment">// If not a forced trim, trim pages older than this age.</span></div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;</div>
<div class="line"><a name="l03129"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a58cea69d1951076d4be96071992912e9"> 3129</a></span>&#160;<span class="preprocessor">#define MI_TRIM_AGE_THRESHOLD 2</span></div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;<span class="comment">// This &quot;percentage&quot; of a claim is up for grabs in a foreground process.</span></div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;</div>
<div class="line"><a name="l03135"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a90ff987eaeea8e16b3f7ab46882347f3"> 3135</a></span>&#160;<span class="preprocessor">#define MI_FOREGROUND_CLAIM_AVAILABLE_SHIFT 3</span></div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;<span class="comment">// This &quot;percentage&quot; of a claim is up for grabs in a background process.</span></div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;</div>
<div class="line"><a name="l03141"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78a2d4b654f444b225de34f46a860382"> 3141</a></span>&#160;<span class="preprocessor">#define MI_BACKGROUND_CLAIM_AVAILABLE_SHIFT 1</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;<span class="comment">// DWORD</span></div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;<span class="comment">// MI_CALC_NEXT_VALID_ESTIMATION_SLOT (</span></div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;<span class="comment">//     DWORD Previous,</span></div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;<span class="comment">//     DWORD Minimum,</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;<span class="comment">//     DWORD Maximum,</span></div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<span class="comment">//     MI_NEXT_ESTIMATION_SLOT_CONST NextEstimationSlotConst,</span></div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;<span class="comment">//     PMMWSLE Wsle</span></div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;<span class="comment">//      We iterate through the working set array in a non-sequential</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<span class="comment">//      manner so that the sample is independent of any aging or trimming.</span></div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;<span class="comment">//      This algorithm walks through the working set with a stride of</span></div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;<span class="comment">//      2^MiEstimationShift elements.</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;<span class="comment">//      Previous - Last slot used</span></div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;<span class="comment">//      Minimum - Minimum acceptable slot (ie. the first dynamic one)</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;<span class="comment">//      Maximum - max slot number + 1</span></div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;<span class="comment">//      NextEstimationSlotConst - for this algorithm it contains the stride</span></div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;<span class="comment">//      Wsle - the working set array</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;<span class="comment">//      Next slot.</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;<span class="comment">// Environment:</span></div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;<span class="comment">//      Kernel mode, APCs disabled, working set lock held and PFN lock held.</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;</div>
<div class="line"><a name="l03184"></a><span class="lineno"><a class="line" href="../../dd/d98/a00927.html"> 3184</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/d98/a00927.html">_MI_NEXT_ESTIMATION_SLOT_CONST</a> {</div>
<div class="line"><a name="l03185"></a><span class="lineno"><a class="line" href="../../dd/d98/a00927.html#aa51ab3dc71fe8d176d6db7777a4aefc6"> 3185</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../dd/d98/a00927.html#aa51ab3dc71fe8d176d6db7777a4aefc6">Stride</a>;</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a581c844c8c7c2f8be2a55134754cae6b">MI_NEXT_ESTIMATION_SLOT_CONST</a>;</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;</div>
<div class="line"><a name="l03189"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad1bcfab3d2c12decc2d04f4b71e56e9b"> 3189</a></span>&#160;<span class="preprocessor">#define MI_CALC_NEXT_ESTIMATION_SLOT_CONST(NextEstimationSlotConst, WorkingSetList) \</span></div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;<span class="preprocessor">    (NextEstimationSlotConst).Stride = 1 &lt;&lt; MiEstimationShift;</span></div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div>
<div class="line"><a name="l03192"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a995103e7e98ab7d1a63f672b42342c52"> 3192</a></span>&#160;<span class="preprocessor">#define MI_NEXT_VALID_ESTIMATION_SLOT(Previous, StartEntry, Minimum, Maximum, NextEstimationSlotConst, Wsle) \</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="preprocessor">    ASSERT(((Previous) &gt;= Minimum) &amp;&amp; ((Previous) &lt;= Maximum)); \</span></div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="preprocessor">    ASSERT(((StartEntry) &gt;= Minimum) &amp;&amp; ((StartEntry) &lt;= Maximum)); \</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;<span class="preprocessor">    do { \</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="preprocessor">        (Previous) += (NextEstimationSlotConst).Stride; \</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="preprocessor">        if ((Previous) &gt; Maximum) { \</span></div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="preprocessor">            (Previous) = Minimum + ((Previous + 1) &amp; (NextEstimationSlotConst.Stride - 1)); \</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;<span class="preprocessor">            StartEntry += 1; \</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="preprocessor">            (Previous) = StartEntry; \</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="preprocessor">        if ((Previous) &gt; Maximum || (Previous) &lt; Minimum) { \</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;<span class="preprocessor">            StartEntry = Minimum; \</span></div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;<span class="preprocessor">            (Previous) = StartEntry; \</span></div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;<span class="preprocessor">    } while (Wsle[Previous].u1.e1.Valid == 0);</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;<span class="comment">// WSLE_NUMBER</span></div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;<span class="comment">// MI_NEXT_VALID_AGING_SLOT (</span></div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="comment">//     DWORD Previous,</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;<span class="comment">//     DWORD Minimum,</span></div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="comment">//     DWORD Maximum,</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;<span class="comment">//     PMMWSLE Wsle</span></div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;<span class="comment">//      This finds the next slot to valid slot to age.  It walks</span></div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;<span class="comment">//      through the slots sequentially.</span></div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;<span class="comment">//      Previous - Last slot used</span></div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="comment">//      Minimum - Minimum acceptable slot (ie. the first dynamic one)</span></div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="comment">//      Maximum - Max slot number + 1</span></div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="comment">//      Wsle - the working set array</span></div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="comment">//      None.</span></div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="comment">// Environment:</span></div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="comment">//      Kernel mode, APCs disabled, working set lock held and PFN lock held.</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;</div>
<div class="line"><a name="l03243"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af3bb0f0546b1d411ec44fe14c31e0cf9"> 3243</a></span>&#160;<span class="preprocessor">#define MI_NEXT_VALID_AGING_SLOT(Previous, Minimum, Maximum, Wsle) \</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="preprocessor">    ASSERT(((Previous) &gt;= Minimum) &amp;&amp; ((Previous) &lt;= Maximum)); \</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="preprocessor">    do { \</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;<span class="preprocessor">        (Previous) += 1; \</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="preprocessor">        if ((Previous) &gt; Maximum) { \</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="preprocessor">            Previous = Minimum; \</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;<span class="preprocessor">    } while ((Wsle[Previous].u1.e1.Valid == 0));</span></div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;<span class="comment">// MI_CALCULATE_USAGE_ESTIMATE (</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;<span class="comment">//     IN PULONG SampledAgeCounts.</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;<span class="comment">//     IN ULONG CounterShift</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<span class="comment">//      In Usage Estimation, we count the number of pages of each age in</span></div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="comment">//      a sample.  The function turns the SampledAgeCounts into an</span></div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;<span class="comment">//      estimate of the unused pages.</span></div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;<span class="comment">//      SampledAgeCounts - counts of pages of each different age in the sample</span></div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;<span class="comment">//      CounterShift - shift necessary to apply sample to entire WS</span></div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;<span class="comment">//      The number of pages to walk in the working set to get a good</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<span class="comment">//      estimate of the number available.</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div>
<div class="line"><a name="l03279"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a64f051d7eb755671cd1172a82f351532"> 3279</a></span>&#160;<span class="preprocessor">#define MI_CALCULATE_USAGE_ESTIMATE(SampledAgeCounts, CounterShift) \</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="preprocessor">                (((SampledAgeCounts)[1] + \</span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;<span class="preprocessor">                    (SampledAgeCounts)[2] + (SampledAgeCounts)[3]) \</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;<span class="preprocessor">                    &lt;&lt; (CounterShift))</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="comment">// MI_RESET_WSLE_AGE (</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="comment">//     IN PMMPTE PointerPte,</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="comment">//     IN PMMWSLE Wsle</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;<span class="comment">//      Clear the age counter for the working set entry.</span></div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;<span class="comment">//      PointerPte - pointer to the working set list entry&#39;s PTE.</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<span class="comment">//      Wsle - pointer to the working set list entry.</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="comment">//      None.</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a043d6ad9da9c5aadc339fe0551881bd5"> 3307</a></span>&#160;<span class="preprocessor">#define MI_RESET_WSLE_AGE(PointerPte, Wsle) \</span></div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;<span class="preprocessor">    (Wsle)-&gt;u1.e1.Age = 0;</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;<span class="comment">// MI_GET_WSLE_AGE (</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;<span class="comment">//     IN PMMPTE PointerPte,</span></div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;<span class="comment">//     IN PMMWSLE Wsle</span></div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;<span class="comment">//      Clear the age counter for the working set entry.</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;<span class="comment">//      PointerPte - pointer to the working set list entry&#39;s PTE</span></div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;<span class="comment">//      Wsle - pointer to the working set list entry</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;<span class="comment">//      Age group of the working set entry</span></div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4bdf77b541f17c76f2d4810821585845"> 3332</a></span>&#160;<span class="preprocessor">#define MI_GET_WSLE_AGE(PointerPte, Wsle) \</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;<span class="preprocessor">    ((ULONG)((Wsle)-&gt;u1.e1.Age))</span></div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;<span class="comment">// MI_INC_WSLE_AGE (</span></div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;<span class="comment">//     IN PMMPTE PointerPte,</span></div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;<span class="comment">//     IN PMMWSLE Wsle,</span></div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;<span class="comment">//      Increment the age counter for the working set entry.</span></div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;<span class="comment">//      PointerPte - pointer to the working set list entry&#39;s PTE.</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;<span class="comment">//      Wsle - pointer to the working set list entry.</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;<span class="comment">//      None</span></div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;</div>
<div class="line"><a name="l03359"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a482a7e10083fe69c21d4b75a83e3e54c"> 3359</a></span>&#160;<span class="preprocessor">#define MI_INC_WSLE_AGE(PointerPte, Wsle) \</span></div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="preprocessor">    if ((Wsle)-&gt;u1.e1.Age &lt; 3) { \</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;<span class="preprocessor">        (Wsle)-&gt;u1.e1.Age += 1; \</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;<span class="comment">// MI_UPDATE_USE_ESTIMATE (</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;<span class="comment">//     IN PMMPTE PointerPte,</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;<span class="comment">//     IN PMMWSLE Wsle,</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<span class="comment">//     IN ULONG *SampledAgeCounts</span></div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;<span class="comment">//      Update the sampled age counts.</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;<span class="comment">//      PointerPte - pointer to the working set list entry&#39;s PTE.</span></div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;<span class="comment">//      Wsle - pointer to the working set list entry.</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;<span class="comment">//      SampledAgeCounts - array of age counts to be updated.</span></div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;<span class="comment">//      None</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;</div>
<div class="line"><a name="l03391"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a838950a1d7756e41a0ef9ab88bcdd97e"> 3391</a></span>&#160;<span class="preprocessor">#define MI_UPDATE_USE_ESTIMATE(PointerPte, Wsle, SampledAgeCounts) \</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;<span class="preprocessor">    (SampledAgeCounts)[(Wsle)-&gt;u1.e1.Age] += 1;</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="comment">// BOOLEAN</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;<span class="comment">// MI_WS_GROWING_TOO_FAST (</span></div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;<span class="comment">//     IN PMMSUPPORT VmSupport</span></div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;<span class="comment">//     )</span></div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;<span class="comment">//      Limit the growth rate of processes as the</span></div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;<span class="comment">//      available memory approaches zero.  Note the caller must ensure that</span></div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;<span class="comment">//      MmAvailablePages is low enough so this calculation does not wrap.</span></div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;<span class="comment">//      VmSupport - a working set.</span></div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;<span class="comment">//      TRUE if the growth rate is too fast, FALSE otherwise.</span></div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;</div>
<div class="line"><a name="l03417"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a000c5a223ee764ab1313e75103b2da75"> 3417</a></span>&#160;<span class="preprocessor">#define MI_WS_GROWING_TOO_FAST(VmSupport) \</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;<span class="preprocessor">    ((VmSupport)-&gt;GrowthSinceLastEstimate &gt; \</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;<span class="preprocessor">        (((MI_CLAIM_INCR * (MmAvailablePages*MmAvailablePages)) / (64*64)) + 1))</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;</div>
<div class="line"><a name="l03421"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a09f4076dec3230ffa044f092254960a9"> 3421</a></span>&#160;<span class="preprocessor">#define SECTION_BASE_ADDRESS(_NtSection) \</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="preprocessor">    (*((PVOID *)&amp;(_NtSection)-&gt;PointerToRelocations))</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;</div>
<div class="line"><a name="l03424"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8b9817a402e406962a67f202d8586a26"> 3424</a></span>&#160;<span class="preprocessor">#define SECTION_LOCK_COUNT_POINTER(_NtSection) \</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="preprocessor">    ((PLONG)&amp;(_NtSection)-&gt;NumberOfRelocations)</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;<span class="comment">// Memory Management Object structures.</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div>
<div class="line"><a name="l03431"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73"> 3431</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73">_SECTION_CHECK_TYPE</a> {</div>
<div class="line"><a name="l03432"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a511022cab93d44bd1682d9eaa6d63863"> 3432</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a511022cab93d44bd1682d9eaa6d63863">CheckDataSection</a>,</div>
<div class="line"><a name="l03433"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a8e6030a5da732bf7bde0475a91770dee"> 3433</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a8e6030a5da732bf7bde0475a91770dee">CheckImageSection</a>,</div>
<div class="line"><a name="l03434"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a8b5ed30aafd5192ce4cffee601b271ea"> 3434</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a8b5ed30aafd5192ce4cffee601b271ea">CheckUserDataSection</a>,</div>
<div class="line"><a name="l03435"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a35abdd85a29e96e890a7ebf8d050697f"> 3435</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a35abdd85a29e96e890a7ebf8d050697f">CheckBothSection</a></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a3449f7ed981425ef234ccf614f871942">SECTION_CHECK_TYPE</a>;</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;</div>
<div class="line"><a name="l03438"></a><span class="lineno"><a class="line" href="../../d3/dca/a00954.html"> 3438</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/dca/a00954.html">_MMEXTEND_INFO</a> {</div>
<div class="line"><a name="l03439"></a><span class="lineno"><a class="line" href="../../d3/dca/a00954.html#ab2a647a56bf3ac4070f8bd9796757aea"> 3439</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> <a class="code" href="../../d3/dca/a00954.html#ab2a647a56bf3ac4070f8bd9796757aea">CommittedSize</a>;</div>
<div class="line"><a name="l03440"></a><span class="lineno"><a class="line" href="../../d3/dca/a00954.html#a150a067a25e1393e8c6997346d6818ab"> 3440</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dca/a00954.html#a150a067a25e1393e8c6997346d6818ab">ReferenceCount</a>;</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#af36f5753e48c1590d9921411af2b11f8">MMEXTEND_INFO</a>, *<a class="code" href="../../d9/dce/a02519.html#ad2f5109cfcbdab2f7cd908f4e3982e14">PMMEXTEND_INFO</a>;</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;</div>
<div class="line"><a name="l03443"></a><span class="lineno"><a class="line" href="../../dc/dbf/a01595.html"> 3443</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/dbf/a01595.html">_SEGMENT_FLAGS</a> {</div>
<div class="line"><a name="l03444"></a><span class="lineno"><a class="line" href="../../dc/dbf/a01595.html#ab9344ac4223fd315f8d710ed900fe095"> 3444</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../dc/dbf/a01595.html#ab9344ac4223fd315f8d710ed900fe095">TotalNumberOfPtes4132</a> : 10;</div>
<div class="line"><a name="l03445"></a><span class="lineno"><a class="line" href="../../dc/dbf/a01595.html#ae9ccbd10a0e95010e36bd8cc95068ea5"> 3445</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../dc/dbf/a01595.html#ae9ccbd10a0e95010e36bd8cc95068ea5">ExtraSharedWowSubsections</a> : 1;</div>
<div class="line"><a name="l03446"></a><span class="lineno"><a class="line" href="../../dc/dbf/a01595.html#a7e03ecd50cf8f13b853cc5b1cbc3a730"> 3446</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../dc/dbf/a01595.html#a7e03ecd50cf8f13b853cc5b1cbc3a730">LargePages</a> : 1;</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../dc/dbf/a01595.html#a4a9aecd42a0da8783cf1e49f74da8e7f">Spare</a> : 52;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03450"></a><span class="lineno"><a class="line" href="../../dc/dbf/a01595.html#a4a9aecd42a0da8783cf1e49f74da8e7f"> 3450</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../dc/dbf/a01595.html#a4a9aecd42a0da8783cf1e49f74da8e7f">Spare</a> : 20;</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#abd5d2b329a96d467e841cb76d4a166fc">SEGMENT_FLAGS</a>, *<a class="code" href="../../d9/dce/a02519.html#a8035ddc9229cba6541300cbc3efb89a2">PSEGMENT_FLAGS</a>;</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;</div>
<div class="line"><a name="l03454"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html"> 3454</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/def/a01594.html">_SEGMENT</a> {</div>
<div class="line"><a name="l03455"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a3460a99e8c67f16dc5bb98427c88ae7c"> 3455</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../da/d15/a00188.html">_CONTROL_AREA</a> *<a class="code" href="../../dc/def/a01594.html#a3460a99e8c67f16dc5bb98427c88ae7c">ControlArea</a>;</div>
<div class="line"><a name="l03456"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a51ab317a203a88a827b3dc55b04648bb"> 3456</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/def/a01594.html#a51ab317a203a88a827b3dc55b04648bb">TotalNumberOfPtes</a>;</div>
<div class="line"><a name="l03457"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#aebf9ceda8c14b4b20276f2d90b0b4d29"> 3457</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/def/a01594.html#aebf9ceda8c14b4b20276f2d90b0b4d29">NonExtendedPtes</a>;</div>
<div class="line"><a name="l03458"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#addc04ff2599a38ce720035ef2202db3f"> 3458</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/def/a01594.html#addc04ff2599a38ce720035ef2202db3f">Spare0</a>;</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;</div>
<div class="line"><a name="l03460"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a8bc8d8d2fb0503eb7146a0eb7f2569cb"> 3460</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> <a class="code" href="../../dc/def/a01594.html#a8bc8d8d2fb0503eb7146a0eb7f2569cb">SizeOfSegment</a>;</div>
<div class="line"><a name="l03461"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a76b20ba81992e6bb06d27ec26058f50c"> 3461</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../dc/def/a01594.html#a76b20ba81992e6bb06d27ec26058f50c">SegmentPteTemplate</a>;</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;</div>
<div class="line"><a name="l03463"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a9f062de4b2586c1d595dfd29f56d06d7"> 3463</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dc/def/a01594.html#a9f062de4b2586c1d595dfd29f56d06d7">NumberOfCommittedPages</a>;</div>
<div class="line"><a name="l03464"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a26878cc7d6034b2481769e81dcdaf9a8"> 3464</a></span>&#160;    PMMEXTEND_INFO <a class="code" href="../../dc/def/a01594.html#a26878cc7d6034b2481769e81dcdaf9a8">ExtendInfo</a>;</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;</div>
<div class="line"><a name="l03466"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a84c1f45956497bdce70a53c10f58167f"> 3466</a></span>&#160;    <a class="code" href="../../dc/dbf/a01595.html">SEGMENT_FLAGS</a> <a class="code" href="../../dc/def/a01594.html#a84c1f45956497bdce70a53c10f58167f">SegmentFlags</a>;</div>
<div class="line"><a name="l03467"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a6168f91b9dea6420a3b821c83c6c4c71"> 3467</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/def/a01594.html#a6168f91b9dea6420a3b821c83c6c4c71">BasedAddress</a>;</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <span class="comment">// The fields below are for image &amp; pagefile-backed sections only.</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="comment">// Common fields are above and new common entries must be added to</span></div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="comment">// both the SEGMENT and MAPPED_FILE_SEGMENT declarations.</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03476"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a22cf0be4c473ad1bfbac6275c0412761"> 3476</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dc/def/a01594.html#a22cf0be4c473ad1bfbac6275c0412761">ImageCommitment</a>;     <span class="comment">// for image-backed sections only</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a3922f3b42f382b3180c9fe13628a2642"> 3477</a></span>&#160;        <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> <a class="code" href="../../dc/def/a01594.html#a3922f3b42f382b3180c9fe13628a2642">CreatingProcess</a>;  <span class="comment">// for pagefile-backed sections only</span></div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    } <a class="code" href="../../dc/def/a01594.html#ad50378b2b4cf28b75c06c5e8a449fb54">u1</a>;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03481"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#adb4f1a7593ee5709ebcae260657195d7"> 3481</a></span>&#160;        <a class="code" href="../../d5/d81/a01579.html">PSECTION_IMAGE_INFORMATION</a> <a class="code" href="../../dc/def/a01594.html#adb4f1a7593ee5709ebcae260657195d7">ImageInformation</a>;    <span class="comment">// for images only</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a25f1d224dec91c9e30d7a97d806b5570"> 3482</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/def/a01594.html#a25f1d224dec91c9e30d7a97d806b5570">FirstMappedVa</a>;        <span class="comment">// for pagefile-backed sections only</span></div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    } <a class="code" href="../../dc/def/a01594.html#a5df7f154be6661929b6c5278b1d5fbc8">u2</a>;</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;</div>
<div class="line"><a name="l03485"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a79dea8e5e020f05a37b67c2448ed804b"> 3485</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../dc/def/a01594.html#a79dea8e5e020f05a37b67c2448ed804b">PrototypePte</a>;</div>
<div class="line"><a name="l03486"></a><span class="lineno"><a class="line" href="../../dc/def/a01594.html#a895e8ab7f080e058c34739afe605cca2"> 3486</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../dc/def/a01594.html#a895e8ab7f080e058c34739afe605cca2">ThePtes</a>[<a class="code" href="../../d1/df5/a02496.html#a81d7381924e53a35d29d252ada8796d7">MM_PROTO_PTE_ALIGNMENT</a> / <a class="code" href="../../df/d0e/a02195.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>];</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a6ac102588f1771b47f75cfeeb4a2221b">SEGMENT</a>, *<a class="code" href="../../d9/dce/a02519.html#a21a199b3e2240d177a92c24edde865ad">PSEGMENT</a>;</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;</div>
<div class="line"><a name="l03490"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html"> 3490</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d21/a00895.html">_MAPPED_FILE_SEGMENT</a> {</div>
<div class="line"><a name="l03491"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a968a586641763a121315983c9f4b1eba"> 3491</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../da/d15/a00188.html">_CONTROL_AREA</a> *<a class="code" href="../../d2/d21/a00895.html#a968a586641763a121315983c9f4b1eba">ControlArea</a>;</div>
<div class="line"><a name="l03492"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a8c2129f0634a969d6fadabf694e6ac69"> 3492</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d2/d21/a00895.html#a8c2129f0634a969d6fadabf694e6ac69">TotalNumberOfPtes</a>;</div>
<div class="line"><a name="l03493"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a6cba001e9daef65ea256b15763d6160f"> 3493</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d2/d21/a00895.html#a6cba001e9daef65ea256b15763d6160f">NonExtendedPtes</a>;</div>
<div class="line"><a name="l03494"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#abeca11ebd1682bd67e12a166682b0a03"> 3494</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d2/d21/a00895.html#abeca11ebd1682bd67e12a166682b0a03">Spare0</a>;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;</div>
<div class="line"><a name="l03496"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#af6bc6435f2b5a386d551af461e5aa722"> 3496</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> <a class="code" href="../../d2/d21/a00895.html#af6bc6435f2b5a386d551af461e5aa722">SizeOfSegment</a>;</div>
<div class="line"><a name="l03497"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a0c05b81f21b565183e340e964382354d"> 3497</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d2/d21/a00895.html#a0c05b81f21b565183e340e964382354d">SegmentPteTemplate</a>;</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;</div>
<div class="line"><a name="l03499"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a7fa93d3f7bd3992d7b134ccf53197574"> 3499</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d2/d21/a00895.html#a7fa93d3f7bd3992d7b134ccf53197574">NumberOfCommittedPages</a>;</div>
<div class="line"><a name="l03500"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a2bc8c6eb81d4190a50cb6431c4166421"> 3500</a></span>&#160;    PMMEXTEND_INFO <a class="code" href="../../d2/d21/a00895.html#a2bc8c6eb81d4190a50cb6431c4166421">ExtendInfo</a>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;</div>
<div class="line"><a name="l03502"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#a7fbad8f97c4bef054e4f6024e177bccf"> 3502</a></span>&#160;    <a class="code" href="../../dc/dbf/a01595.html">SEGMENT_FLAGS</a> <a class="code" href="../../d2/d21/a00895.html#a7fbad8f97c4bef054e4f6024e177bccf">SegmentFlags</a>;</div>
<div class="line"><a name="l03503"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#ad3fb4ca888a315ac1b9a5f229383e37c"> 3503</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d2/d21/a00895.html#ad3fb4ca888a315ac1b9a5f229383e37c">BasedAddress</a>;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;</div>
<div class="line"><a name="l03505"></a><span class="lineno"><a class="line" href="../../d2/d21/a00895.html#af6712e77046792ceeba427de0f3fd1e8"> 3505</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/dd3/a01185.html">_MSUBSECTION</a> *<a class="code" href="../../d2/d21/a00895.html#af6712e77046792ceeba427de0f3fd1e8">LastSubsectionHint</a>;</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a38c89927b27c36c26208f48420e13a58">MAPPED_FILE_SEGMENT</a>, *<a class="code" href="../../d9/dce/a02519.html#a53ed0a33e646041aade07c19baf03109">PMAPPED_FILE_SEGMENT</a>;</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;</div>
<div class="line"><a name="l03509"></a><span class="lineno"><a class="line" href="../../dd/dcb/a00375.html"> 3509</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/dcb/a00375.html">_EVENT_COUNTER</a> {</div>
<div class="line"><a name="l03510"></a><span class="lineno"><a class="line" href="../../dd/dcb/a00375.html#a0cba03261b2a7920bafb7d386a67138e"> 3510</a></span>&#160;    <a class="code" href="../../de/dc3/a02256.html#a20d44d1431b214ecfeb4e5939603c99e">SLIST_ENTRY</a> <a class="code" href="../../dd/dcb/a00375.html#a0cba03261b2a7920bafb7d386a67138e">ListEntry</a>;</div>
<div class="line"><a name="l03511"></a><span class="lineno"><a class="line" href="../../dd/dcb/a00375.html#ab168e6c7f13d9e70164b351bd02e4969"> 3511</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/dcb/a00375.html#ab168e6c7f13d9e70164b351bd02e4969">RefCount</a>;</div>
<div class="line"><a name="l03512"></a><span class="lineno"><a class="line" href="../../dd/dcb/a00375.html#a8db26245f6b86d18609da7f36efea3ee"> 3512</a></span>&#160;    <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../dd/dcb/a00375.html#a8db26245f6b86d18609da7f36efea3ee">Event</a>;</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a06b57daedd1133d099b30aa8d16e5fd9">EVENT_COUNTER</a>, *<a class="code" href="../../d9/dce/a02519.html#a5b330203d020c5a57fb18321f4279d99">PEVENT_COUNTER</a>;</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;</div>
<div class="line"><a name="l03515"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html"> 3515</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/d24/a00981.html">_MMSECTION_FLAGS</a> {</div>
<div class="line"><a name="l03516"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a53f9eeae2aa20bf2d5b3b25eb1238bd2"> 3516</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a53f9eeae2aa20bf2d5b3b25eb1238bd2">BeingDeleted</a> : 1;</div>
<div class="line"><a name="l03517"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ad4a9eb972016951a30bbc39e48077525"> 3517</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ad4a9eb972016951a30bbc39e48077525">BeingCreated</a> : 1;</div>
<div class="line"><a name="l03518"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ad047c46da2c9da2e79998e2ec758d10c"> 3518</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ad047c46da2c9da2e79998e2ec758d10c">BeingPurged</a> : 1;</div>
<div class="line"><a name="l03519"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#afa8a32df54b91ced528178a902c32d34"> 3519</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#afa8a32df54b91ced528178a902c32d34">NoModifiedWriting</a> : 1;</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;</div>
<div class="line"><a name="l03521"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a59e645ad44d89874a8ea4289d90b0487"> 3521</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a59e645ad44d89874a8ea4289d90b0487">FailAllIo</a> : 1;</div>
<div class="line"><a name="l03522"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a74c283469394ed4e4992ac2b604aab0a"> 3522</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a74c283469394ed4e4992ac2b604aab0a">Image</a> : 1;</div>
<div class="line"><a name="l03523"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a4f3198933f3c2fe44ab55c6675b001a2"> 3523</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a4f3198933f3c2fe44ab55c6675b001a2">Based</a> : 1;</div>
<div class="line"><a name="l03524"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a2d587f17ad1bf8f38fa339231ffbd85a"> 3524</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a2d587f17ad1bf8f38fa339231ffbd85a">File</a> : 1;</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;</div>
<div class="line"><a name="l03526"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a6be17cdb680b3f09d639cd1c5f57f00e"> 3526</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a6be17cdb680b3f09d639cd1c5f57f00e">Networked</a> : 1;</div>
<div class="line"><a name="l03527"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ac46f00d62bd379a22b8f350a476a44db"> 3527</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ac46f00d62bd379a22b8f350a476a44db">NoCache</a> : 1;</div>
<div class="line"><a name="l03528"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a670fc501930100e0e3e86c660474f7d4"> 3528</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a670fc501930100e0e3e86c660474f7d4">PhysicalMemory</a> : 1;</div>
<div class="line"><a name="l03529"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#adf7041351ea12eb314a488abbc3fcaf9"> 3529</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#adf7041351ea12eb314a488abbc3fcaf9">CopyOnWrite</a> : 1;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;</div>
<div class="line"><a name="l03531"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a8c673745dfe838f8521758e614cebd14"> 3531</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a8c673745dfe838f8521758e614cebd14">Reserve</a> : 1;  <span class="comment">// not a spare bit!</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#add79bd36d53a28785497be27d410dbd1"> 3532</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#add79bd36d53a28785497be27d410dbd1">Commit</a> : 1;</div>
<div class="line"><a name="l03533"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a8b471a3709014ce9f9c2b8a326b9a7db"> 3533</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a8b471a3709014ce9f9c2b8a326b9a7db">FloppyMedia</a> : 1;</div>
<div class="line"><a name="l03534"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#aecbed85e12b4f24fa8f90ecdf4281d84"> 3534</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#aecbed85e12b4f24fa8f90ecdf4281d84">WasPurged</a> : 1;</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;</div>
<div class="line"><a name="l03536"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a63f274af210fc4c319fd57f16e940676"> 3536</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a63f274af210fc4c319fd57f16e940676">UserReference</a> : 1;</div>
<div class="line"><a name="l03537"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a3da7644310a1527eb9f7a79807d963f7"> 3537</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a3da7644310a1527eb9f7a79807d963f7">GlobalMemory</a> : 1;</div>
<div class="line"><a name="l03538"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a726aa9e8e271691a73771f6d9fa9fc55"> 3538</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a726aa9e8e271691a73771f6d9fa9fc55">DeleteOnClose</a> : 1;</div>
<div class="line"><a name="l03539"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a611c89e61b2aef2c59ac940e57eb7a94"> 3539</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a611c89e61b2aef2c59ac940e57eb7a94">FilePointerNull</a> : 1;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;</div>
<div class="line"><a name="l03541"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#aed8c2d2f42591b98ab3c19c67c427eab"> 3541</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#aed8c2d2f42591b98ab3c19c67c427eab">DebugSymbolsLoaded</a> : 1;</div>
<div class="line"><a name="l03542"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ad365d3f1746fc4d00db1398bd7845fcb"> 3542</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ad365d3f1746fc4d00db1398bd7845fcb">SetMappedFileIoComplete</a> : 1;</div>
<div class="line"><a name="l03543"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ab13bcf5f16c59a8e15d5302fa91981b0"> 3543</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ab13bcf5f16c59a8e15d5302fa91981b0">CollidedFlush</a> : 1;</div>
<div class="line"><a name="l03544"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a3219d98e4bb56573de13dadafde5d267"> 3544</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a3219d98e4bb56573de13dadafde5d267">NoChange</a> : 1;</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;</div>
<div class="line"><a name="l03546"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ad672f3c076177f2e541112494194bac9"> 3546</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ad672f3c076177f2e541112494194bac9">filler0</a> : 1;</div>
<div class="line"><a name="l03547"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a367d5570bd7e1baac630324e0e8088e3"> 3547</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a367d5570bd7e1baac630324e0e8088e3">ImageMappedInSystemSpace</a> : 1;</div>
<div class="line"><a name="l03548"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a0831638a03378a75937df2bbbf7f6789"> 3548</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a0831638a03378a75937df2bbbf7f6789">UserWritable</a> : 1;</div>
<div class="line"><a name="l03549"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a75c4f94f86b9f868672dbf88efc769d1"> 3549</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a75c4f94f86b9f868672dbf88efc769d1">Accessed</a> : 1;</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div>
<div class="line"><a name="l03551"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#ae32d83bd8b0fcbddbbbb25059182e5c5"> 3551</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#ae32d83bd8b0fcbddbbbb25059182e5c5">GlobalOnlyPerSession</a> : 1;</div>
<div class="line"><a name="l03552"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a274c4bcabde69f7ee3bf0b03a687bdf7"> 3552</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a274c4bcabde69f7ee3bf0b03a687bdf7">Rom</a> : 1;</div>
<div class="line"><a name="l03553"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a3f80443240b39fd5375d866229fa0d18"> 3553</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a3f80443240b39fd5375d866229fa0d18">WriteCombined</a> : 1;</div>
<div class="line"><a name="l03554"></a><span class="lineno"><a class="line" href="../../dd/d24/a00981.html#a711cfe41e7defc6fd168107d8fe97c0e"> 3554</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d24/a00981.html#a711cfe41e7defc6fd168107d8fe97c0e">filler</a> : 1;</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aaa3a5e1459f5cd91a64169aea65b9e9a">MMSECTION_FLAGS</a>;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;</div>
<div class="line"><a name="l03557"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html"> 3557</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d15/a00188.html">_CONTROL_AREA</a> {</div>
<div class="line"><a name="l03558"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a017cb136a531df7bafe7528d09f7c394"> 3558</a></span>&#160;    PSEGMENT <a class="code" href="../../da/d15/a00188.html#a017cb136a531df7bafe7528d09f7c394">Segment</a>;</div>
<div class="line"><a name="l03559"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#ae53dca819f94189be6ba3fb297a96d99"> 3559</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../da/d15/a00188.html#ae53dca819f94189be6ba3fb297a96d99">DereferenceList</a>;</div>
<div class="line"><a name="l03560"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a122a594a65f81d3ff6c3bbd5376747da"> 3560</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#a122a594a65f81d3ff6c3bbd5376747da">NumberOfSectionReferences</a>;    <span class="comment">// All section refs &amp; image flushes</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#adbff9c17f6201428d83236bf613b1856"> 3561</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#adbff9c17f6201428d83236bf613b1856">NumberOfPfnReferences</a>;        <span class="comment">// valid + transition prototype PTEs</span></div>
<div class="line"><a name="l03562"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a20224e72be95bdfa075ab82c915387e5"> 3562</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#a20224e72be95bdfa075ab82c915387e5">NumberOfMappedViews</a>;          <span class="comment">// total # mapped views, including</span></div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;                                        <span class="comment">// system cache &amp; system space views</span></div>
<div class="line"><a name="l03564"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#af5adada5424faea4281cfba52821bdaa"> 3564</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#af5adada5424faea4281cfba52821bdaa">NumberOfSystemCacheViews</a>;     <span class="comment">// system cache views only</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a4e3bf64993e043620abbd3406360022a"> 3565</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#a4e3bf64993e043620abbd3406360022a">NumberOfUserReferences</a>;       <span class="comment">// user section &amp; view references</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03567"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a5dc1ac6e770a9479df359cb06327f7a0"> 3567</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#a5dc1ac6e770a9479df359cb06327f7a0">LongFlags</a>;</div>
<div class="line"><a name="l03568"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a883319c669cf77ad1f14170dd461a9c2"> 3568</a></span>&#160;        <a class="code" href="../../dd/d24/a00981.html">MMSECTION_FLAGS</a> <a class="code" href="../../da/d15/a00188.html#a883319c669cf77ad1f14170dd461a9c2">Flags</a>;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    } <a class="code" href="../../da/d15/a00188.html#aaf1ed88b757bc7b588bc18fc8265a77a">u</a>;</div>
<div class="line"><a name="l03570"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a92138cd2cdc0eecfe555d31e07e14ac0"> 3570</a></span>&#160;    <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> <a class="code" href="../../da/d15/a00188.html#a92138cd2cdc0eecfe555d31e07e14ac0">FilePointer</a>;</div>
<div class="line"><a name="l03571"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a1dd221249cd669a59c64d52d830aa8e4"> 3571</a></span>&#160;    PEVENT_COUNTER <a class="code" href="../../da/d15/a00188.html#a1dd221249cd669a59c64d52d830aa8e4">WaitingForDeletion</a>;</div>
<div class="line"><a name="l03572"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#ab3888c3dbe08a7ac139269b37ecf49e4"> 3572</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../da/d15/a00188.html#ab3888c3dbe08a7ac139269b37ecf49e4">ModifiedWriteCount</a>;</div>
<div class="line"><a name="l03573"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#ab85014c3f978d37245cf0a0b3bf08fb7"> 3573</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../da/d15/a00188.html#ab85014c3f978d37245cf0a0b3bf08fb7">FlushInProgressCount</a>;</div>
<div class="line"><a name="l03574"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a67cae426a2a49e5eba3121dbea24b44b"> 3574</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#a67cae426a2a49e5eba3121dbea24b44b">WritableUserReferences</a>;</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="preprocessor">#if !defined (_WIN64)</span></div>
<div class="line"><a name="l03576"></a><span class="lineno"><a class="line" href="../../da/d15/a00188.html#a5e937146ad31b6dba6d659cf6d421ef5"> 3576</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../da/d15/a00188.html#a5e937146ad31b6dba6d659cf6d421ef5">QuadwordPad</a>;</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a46b65e50fc7fa8d275934c906b678d78">CONTROL_AREA</a>, *<a class="code" href="../../d9/dce/a02519.html#a739228d03081f023814ce7565f5e04ed">PCONTROL_AREA</a>;</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;</div>
<div class="line"><a name="l03580"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html"> 3580</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d60/a00816.html">_LARGE_CONTROL_AREA</a> {</div>
<div class="line"><a name="l03581"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#ae2466e568123f7c0b15781e164f6975b"> 3581</a></span>&#160;    PSEGMENT <a class="code" href="../../d7/d60/a00816.html#ae2466e568123f7c0b15781e164f6975b">Segment</a>;</div>
<div class="line"><a name="l03582"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#aa8ba9b19f4fd65588657ab4031558fc9"> 3582</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d7/d60/a00816.html#aa8ba9b19f4fd65588657ab4031558fc9">DereferenceList</a>;</div>
<div class="line"><a name="l03583"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#abc5bb7810a4829bf61248e5672fda620"> 3583</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#abc5bb7810a4829bf61248e5672fda620">NumberOfSectionReferences</a>;</div>
<div class="line"><a name="l03584"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#af3f9a317bcac4fd204316f4558a48f28"> 3584</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#af3f9a317bcac4fd204316f4558a48f28">NumberOfPfnReferences</a>;</div>
<div class="line"><a name="l03585"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#aeef41af0075e682535254f9918b3a28a"> 3585</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#aeef41af0075e682535254f9918b3a28a">NumberOfMappedViews</a>;</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;</div>
<div class="line"><a name="l03587"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a1eea098e63fbf538b5a4abe0a58fd337"> 3587</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#a1eea098e63fbf538b5a4abe0a58fd337">NumberOfSystemCacheViews</a>;</div>
<div class="line"><a name="l03588"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a8a598e5b99515f392774dcb4c30f516b"> 3588</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#a8a598e5b99515f392774dcb4c30f516b">NumberOfUserReferences</a>;</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03590"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#ac1c1d5b74e2bcd080b7ceecce87abe3b"> 3590</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#ac1c1d5b74e2bcd080b7ceecce87abe3b">LongFlags</a>;</div>
<div class="line"><a name="l03591"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a14c8e8ab98a8181c1cd1882b2b388af8"> 3591</a></span>&#160;        <a class="code" href="../../dd/d24/a00981.html">MMSECTION_FLAGS</a> <a class="code" href="../../d7/d60/a00816.html#a14c8e8ab98a8181c1cd1882b2b388af8">Flags</a>;</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    } <a class="code" href="../../d7/d60/a00816.html#a57163933ee8566fbd53b5f4ed093e73a">u</a>;</div>
<div class="line"><a name="l03593"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a6e6855b2b1f5432400d49f7433523a21"> 3593</a></span>&#160;    <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> <a class="code" href="../../d7/d60/a00816.html#a6e6855b2b1f5432400d49f7433523a21">FilePointer</a>;</div>
<div class="line"><a name="l03594"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a9b262ff4c2638d1bf96e03da156bb226"> 3594</a></span>&#160;    PEVENT_COUNTER <a class="code" href="../../d7/d60/a00816.html#a9b262ff4c2638d1bf96e03da156bb226">WaitingForDeletion</a>;</div>
<div class="line"><a name="l03595"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a653906483c61b455d362079b057991c4"> 3595</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d7/d60/a00816.html#a653906483c61b455d362079b057991c4">ModifiedWriteCount</a>;</div>
<div class="line"><a name="l03596"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#aa0617166fae49938aad3623bca8ff4fe"> 3596</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../d7/d60/a00816.html#aa0617166fae49938aad3623bca8ff4fe">FlushInProgressCount</a>;</div>
<div class="line"><a name="l03597"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a6f8a7a6dc82a3caf36d35d3c7ee646c1"> 3597</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#a6f8a7a6dc82a3caf36d35d3c7ee646c1">WritableUserReferences</a>;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;<span class="preprocessor">#if !defined (_WIN64)</span></div>
<div class="line"><a name="l03599"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a7520b9bda9da33ec5af49ba045e6ad93"> 3599</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#a7520b9bda9da33ec5af49ba045e6ad93">QuadwordPad</a>;</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#a2e62a85b29f044d2003e8c638f48a408"> 3601</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d7/d60/a00816.html#a2e62a85b29f044d2003e8c638f48a408">StartingFrame</a>;       <span class="comment">// only used if Flags.Rom == 1.</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#ac4c0df7d45a4ca18b511cd015068abaf"> 3602</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d7/d60/a00816.html#ac4c0df7d45a4ca18b511cd015068abaf">UserGlobalList</a>;</div>
<div class="line"><a name="l03603"></a><span class="lineno"><a class="line" href="../../d7/d60/a00816.html#aa66daa1ff5bb7392e2dd30367bf478df"> 3603</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d60/a00816.html#aa66daa1ff5bb7392e2dd30367bf478df">SessionId</a>;</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aa739fc37089a30b9a41b3cea6ad18bef">LARGE_CONTROL_AREA</a>, *<a class="code" href="../../d9/dce/a02519.html#a4bb8e01f978726e2d6ad6b7aee700cc1">PLARGE_CONTROL_AREA</a>;</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;</div>
<div class="line"><a name="l03606"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html"> 3606</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d4c/a00984.html">_MMSUBSECTION_FLAGS</a> {</div>
<div class="line"><a name="l03607"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#a464843a41a917c79a099f870066f3d93"> 3607</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#a464843a41a917c79a099f870066f3d93">ReadOnly</a> : 1;</div>
<div class="line"><a name="l03608"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#aec14ff9ba0a945f2380d10a685d43d91"> 3608</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#aec14ff9ba0a945f2380d10a685d43d91">ReadWrite</a> : 1;</div>
<div class="line"><a name="l03609"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#ad2f1f811416d6f8f3e9d004f829249bc"> 3609</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#ad2f1f811416d6f8f3e9d004f829249bc">SubsectionStatic</a> : 1;</div>
<div class="line"><a name="l03610"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#ad8701c907566fe22e6c9450bb3aefa8c"> 3610</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#ad8701c907566fe22e6c9450bb3aefa8c">GlobalMemory</a>: 1;</div>
<div class="line"><a name="l03611"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#a518fde0f2fc3c353078cde026a85fbab"> 3611</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#a518fde0f2fc3c353078cde026a85fbab">Protection</a> : 5;</div>
<div class="line"><a name="l03612"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#af7dd41fd2224e3208caecbdd0e798f67"> 3612</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#af7dd41fd2224e3208caecbdd0e798f67">Spare</a> : 1;</div>
<div class="line"><a name="l03613"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#a5bc0158a81778db70ad70b1e44774c95"> 3613</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#a5bc0158a81778db70ad70b1e44774c95">StartingSector4132</a> : 10;   <span class="comment">// 2 ** (42+12) == 4MB*4GB == 16K TB</span></div>
<div class="line"><a name="l03614"></a><span class="lineno"><a class="line" href="../../d2/d4c/a00984.html#a331a0195bdff1f2e0d08756b99f51206"> 3614</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d4c/a00984.html#a331a0195bdff1f2e0d08756b99f51206">SectorEndOffset</a> : 12;</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a5369164ba535dbafcf20b864df7b1a1f">MMSUBSECTION_FLAGS</a>;</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;</div>
<div class="line"><a name="l03617"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html"> 3617</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/d71/a01664.html">_SUBSECTION</a> { <span class="comment">// Must start on quadword boundary and be quad sized</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#aad64adeff097260f21058c214f161663"> 3618</a></span>&#160;    PCONTROL_AREA <a class="code" href="../../dc/d71/a01664.html#aad64adeff097260f21058c214f161663">ControlArea</a>;</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03620"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#aa63a51ac8fdd18981f311010f03000da"> 3620</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d71/a01664.html#aa63a51ac8fdd18981f311010f03000da">LongFlags</a>;</div>
<div class="line"><a name="l03621"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#aa86f21a3bb5cc5175bc7bd4e21bb73a4"> 3621</a></span>&#160;        <a class="code" href="../../d2/d4c/a00984.html">MMSUBSECTION_FLAGS</a> <a class="code" href="../../dc/d71/a01664.html#aa86f21a3bb5cc5175bc7bd4e21bb73a4">SubsectionFlags</a>;</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    } <a class="code" href="../../dc/d71/a01664.html#a00064c11729b1dccb90d618795d2decc">u</a>;</div>
<div class="line"><a name="l03623"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#aae865233fbf920447981ee21116afdbe"> 3623</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d71/a01664.html#aae865233fbf920447981ee21116afdbe">StartingSector</a>;</div>
<div class="line"><a name="l03624"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#a5edbba89b07d8f17b71bd07b7b1f1256"> 3624</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d71/a01664.html#a5edbba89b07d8f17b71bd07b7b1f1256">NumberOfFullSectors</a>;  <span class="comment">// (4GB-1) * 4K == 16TB-4K limit per subsection</span></div>
<div class="line"><a name="l03625"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#adc68aaaf8068775b74e0840c78076ac4"> 3625</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../dc/d71/a01664.html#adc68aaaf8068775b74e0840c78076ac4">SubsectionBase</a>;</div>
<div class="line"><a name="l03626"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#a600fd51cd8f5d7f3f7e13557a92964fe"> 3626</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d71/a01664.html#a600fd51cd8f5d7f3f7e13557a92964fe">UnusedPtes</a>;</div>
<div class="line"><a name="l03627"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#aa26fa67cefa4b93eeb9167da58cacd07"> 3627</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d71/a01664.html#aa26fa67cefa4b93eeb9167da58cacd07">PtesInSubsection</a>;</div>
<div class="line"><a name="l03628"></a><span class="lineno"><a class="line" href="../../dc/d71/a01664.html#ae0c17e41e44c9d3d280593632f92c82d"> 3628</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/d71/a01664.html">_SUBSECTION</a> *<a class="code" href="../../dc/d71/a01664.html#ae0c17e41e44c9d3d280593632f92c82d">NextSubsection</a>;</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aa4c591f0de1636bf83133f3fb0072783">SUBSECTION</a>, *<a class="code" href="../../d9/dce/a02519.html#a183842707695cc756654592ebd7193f4">PSUBSECTION</a>;</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a2071494637dcf57d073e6425859ca77f">MMSECT</a>;</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;<span class="comment">// Accesses to MMSUBSECTION_FLAGS2 are synchronized via the PFN lock</span></div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;<span class="comment">// (unlike MMSUBSECTION_FLAGS access which is not lock protected at all).</span></div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;</div>
<div class="line"><a name="l03638"></a><span class="lineno"><a class="line" href="../../da/deb/a00985.html"> 3638</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/deb/a00985.html">_MMSUBSECTION_FLAGS2</a> {</div>
<div class="line"><a name="l03639"></a><span class="lineno"><a class="line" href="../../da/deb/a00985.html#abaa12e13940c1c46f48ffc18a77bdb9b"> 3639</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../da/deb/a00985.html#abaa12e13940c1c46f48ffc18a77bdb9b">SubsectionAccessed</a> : 1;</div>
<div class="line"><a name="l03640"></a><span class="lineno"><a class="line" href="../../da/deb/a00985.html#a8804f8ebd955e3ba134f7d301b7f9be7"> 3640</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../da/deb/a00985.html#a8804f8ebd955e3ba134f7d301b7f9be7">SubsectionConverted</a> : 1;       <span class="comment">// only needed for debug</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"><a class="line" href="../../da/deb/a00985.html#a4af40636d47aba248ee3334c3f5ecd9d"> 3641</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../d9/d13/a02237.html#ac4ba056700d2913c40f13f20d1be42a3">Reserved</a> : 30;</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a976095bf12b7847a6e4f3bfb7ef5d4e1">MMSUBSECTION_FLAGS2</a>;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;<span class="comment">// Mapped data file subsection structure.  Not used for images</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;<span class="comment">// or pagefile-backed shared memory.</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;</div>
<div class="line"><a name="l03649"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html"> 3649</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/dd3/a01185.html">_MSUBSECTION</a> { <span class="comment">// Must start on quadword boundary and be quad sized</span></div>
<div class="line"><a name="l03650"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a0a48ab11c970d164f60e587e7dbad077"> 3650</a></span>&#160;    PCONTROL_AREA <a class="code" href="../../d3/dd3/a01185.html#a0a48ab11c970d164f60e587e7dbad077">ControlArea</a>;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03652"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#ab0c0b5cddd42a1feb8ec34fcae0dc776"> 3652</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dd3/a01185.html#ab0c0b5cddd42a1feb8ec34fcae0dc776">LongFlags</a>;</div>
<div class="line"><a name="l03653"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#aec4b3a55bf0f81f433d5517516d2ed31"> 3653</a></span>&#160;        <a class="code" href="../../d2/d4c/a00984.html">MMSUBSECTION_FLAGS</a> <a class="code" href="../../d3/dd3/a01185.html#aec4b3a55bf0f81f433d5517516d2ed31">SubsectionFlags</a>;</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    } <a class="code" href="../../d3/dd3/a01185.html#acc209123672ef8568c2205e94a4109e2">u</a>;</div>
<div class="line"><a name="l03655"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#acd20416cfbd538e11b286f59f6e5f8cf"> 3655</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dd3/a01185.html#acd20416cfbd538e11b286f59f6e5f8cf">StartingSector</a>;</div>
<div class="line"><a name="l03656"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a6e59d852d4b52f3506af2c09a1115e7a"> 3656</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dd3/a01185.html#a6e59d852d4b52f3506af2c09a1115e7a">NumberOfFullSectors</a>;  <span class="comment">// (4GB-1) * 4K == 16TB-4K limit per subsection</span></div>
<div class="line"><a name="l03657"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#adbfbd1787c739f49461192725d33f6c8"> 3657</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d3/dd3/a01185.html#adbfbd1787c739f49461192725d33f6c8">SubsectionBase</a>;</div>
<div class="line"><a name="l03658"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a78f5a3c50b6094fb29e03aa942e0cd03"> 3658</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dd3/a01185.html#a78f5a3c50b6094fb29e03aa942e0cd03">UnusedPtes</a>;</div>
<div class="line"><a name="l03659"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#abc2e9296eadcbfc386ce025d724ba48f"> 3659</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dd3/a01185.html#abc2e9296eadcbfc386ce025d724ba48f">PtesInSubsection</a>;</div>
<div class="line"><a name="l03660"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#aac3fe9c96ca96d0e5c08114051228a8e"> 3660</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/d71/a01664.html">_SUBSECTION</a> *<a class="code" href="../../d3/dd3/a01185.html#aac3fe9c96ca96d0e5c08114051228a8e">NextSubsection</a>;</div>
<div class="line"><a name="l03661"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a4d0ce37bb36f458a023d455702477105"> 3661</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d3/dd3/a01185.html#a4d0ce37bb36f458a023d455702477105">DereferenceList</a>;</div>
<div class="line"><a name="l03662"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a9254fc81b8b6b7cf7cba9208e3ab658e"> 3662</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d3/dd3/a01185.html#a9254fc81b8b6b7cf7cba9208e3ab658e">NumberOfMappedViews</a>;</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03664"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a79efe90354b28d3dbde3ad6972a52d78"> 3664</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d3/dd3/a01185.html#a79efe90354b28d3dbde3ad6972a52d78">LongFlags2</a>;</div>
<div class="line"><a name="l03665"></a><span class="lineno"><a class="line" href="../../d3/dd3/a01185.html#a461dff2a17317b2c7c2df3fad2d3a974"> 3665</a></span>&#160;        <a class="code" href="../../da/deb/a00985.html">MMSUBSECTION_FLAGS2</a> <a class="code" href="../../d3/dd3/a01185.html#a461dff2a17317b2c7c2df3fad2d3a974">SubsectionFlags2</a>;</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;    } <a class="code" href="../../d3/dd3/a01185.html#aefc3d1378e196d0ac77521ff2fca470d">u2</a>;</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aff8fc8dcebbaa0edddac02fc8671b33e">MSUBSECTION</a>, *<a class="code" href="../../d9/dce/a02519.html#aab0c9a1a4dfb3eab100797937ca50477">PMSUBSECTION</a>;</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;</div>
<div class="line"><a name="l03669"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af0d07a3c2292650801a9693281c896c4"> 3669</a></span>&#160;<span class="preprocessor">#define MI_MAXIMUM_SECTION_SIZE ((UINT64)16*1024*1024*1024*1024*1024 - ((UINT64)1&lt;&lt;MM4K_SHIFT))</span></div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aaaf29efa23fd293e7a755e33c014b859">MiDecrementSubsections</a> (</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION FirstSubsection,</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION LastSubsection <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    );</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab4a92bdaf5c354b6fdd31d66f6fbf515">MiAddViewsForSectionWithPfn</a> (</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMSUBSECTION StartMappedSubsection,</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> LastPteOffset <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    );</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aceac3e7de7b4c6a1e74fd826708bae60">MiAddViewsForSection</a> (</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMSUBSECTION MappedSubsection,</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> LastPteOffset <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a>,</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql,</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> Waited</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    );</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af0cd32de5649206d276856323b894329">MiReferenceSubsection</a> (</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMSUBSECTION MappedSubsection</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    );</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0e82835327d2d38b07ba41bed2b30010">MiRemoveViewsFromSection</a> (</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMSUBSECTION StartMappedSubsection,</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> LastPteOffset <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    );</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa29e28a917d8eceecd76a7ec6486358e">MiRemoveViewsFromSectionWithPfn</a> (</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMSUBSECTION StartMappedSubsection,</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> LastPteOffset <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    );</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a50da5787cc76d93860cd69ab9bab02d6">MiSubsectionConsistent</a>(</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION Subsection</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    );</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;<span class="preprocessor">#define MI_CHECK_SUBSECTION(_subsection) MiSubsectionConsistent((PSUBSECTION)(_subsection))</span></div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03716"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad30e4df206d6dd6e93202138b91bca0d"> 3716</a></span>&#160;<span class="preprocessor">#define MI_CHECK_SUBSECTION(_subsection)</span></div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;<span class="comment">// Mi4KStartForSubsection (</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;<span class="comment">//    IN PLARGE_INTEGER address,</span></div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;<span class="comment">//    IN OUT PSUBSECTION subsection</span></div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;<span class="comment">//    This macro sets into the specified subsection the supplied information</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;<span class="comment">//    indicating the start address (in 4K units) of this portion of the file.</span></div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;<span class="comment">//    address - Supplies the 64-bit address (in 4K units) of the start of this</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;<span class="comment">//              portion of the file.</span></div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;<span class="comment">//    subsection - Supplies the subsection address to store the address in.</span></div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;</div>
<div class="line"><a name="l03744"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad536cc51d660ec65b57955719785a2c5"> 3744</a></span>&#160;<span class="preprocessor">#define Mi4KStartForSubsection(address, subsection)  \</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;<span class="preprocessor">   subsection-&gt;StartingSector = ((PLARGE_INTEGER)address)-&gt;LowPart; \</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;<span class="preprocessor">   subsection-&gt;u.SubsectionFlags.StartingSector4132 = \</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;<span class="preprocessor">        (((PLARGE_INTEGER)(address))-&gt;HighPart &amp; 0x3ff);</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;<span class="comment">// Mi4KStartFromSubsection (</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;<span class="comment">//    IN OUT PLARGE_INTEGER address,</span></div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;<span class="comment">//    IN PSUBSECTION subsection</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;<span class="comment">//    This macro gets the start 4K offset from the specified subsection.</span></div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;<span class="comment">//    address - Supplies the 64-bit address (in 4K units) to place the</span></div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;<span class="comment">//              start of this subsection into.</span></div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;<span class="comment">//    subsection - Supplies the subsection address to get the address from.</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;</div>
<div class="line"><a name="l03773"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac59bb0d6e5b24531079d12f98803c595"> 3773</a></span>&#160;<span class="preprocessor">#define Mi4KStartFromSubsection(address, subsection)  \</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;<span class="preprocessor">   ((PLARGE_INTEGER)address)-&gt;LowPart = subsection-&gt;StartingSector; \</span></div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;<span class="preprocessor">   ((PLARGE_INTEGER)address)-&gt;HighPart = subsection-&gt;u.SubsectionFlags.StartingSector4132;</span></div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;</div>
<div class="line"><a name="l03777"></a><span class="lineno"><a class="line" href="../../d5/da3/a00953.html"> 3777</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/da3/a00953.html">_MMDEREFERENCE_SEGMENT_HEADER</a> {</div>
<div class="line"><a name="l03778"></a><span class="lineno"><a class="line" href="../../d5/da3/a00953.html#a65eec8e2a1bd2088cdb2b67a06345d3f"> 3778</a></span>&#160;    <a class="code" href="../../df/de4/a02241.html#a89adb6dc0ec6cc3fcce2441adcf97013">KSPIN_LOCK</a> <a class="code" href="../../d5/da3/a00953.html#a65eec8e2a1bd2088cdb2b67a06345d3f">Lock</a>;</div>
<div class="line"><a name="l03779"></a><span class="lineno"><a class="line" href="../../d5/da3/a00953.html#a727f2c71d45c63834690eb882ab424c0"> 3779</a></span>&#160;    <a class="code" href="../../d0/d7d/a00799.html">KSEMAPHORE</a> <a class="code" href="../../d5/da3/a00953.html#a727f2c71d45c63834690eb882ab424c0">Semaphore</a>;</div>
<div class="line"><a name="l03780"></a><span class="lineno"><a class="line" href="../../d5/da3/a00953.html#aff6272a032f00175e89c11230a619172"> 3780</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d5/da3/a00953.html#aff6272a032f00175e89c11230a619172">ListHead</a>;</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aba65d39610d89c3b50cb19cc59afce1e">MMDEREFERENCE_SEGMENT_HEADER</a>;</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;<span class="comment">// This entry is used for calling the segment dereference thread</span></div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;<span class="comment">// to perform page file expansion.  It has a similar structure</span></div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;<span class="comment">// to a control area to allow either a control area or a page file</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;<span class="comment">// expansion entry to be placed on the list.  Note that for a control</span></div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;<span class="comment">// area the segment pointer is valid whereas for page file expansion</span></div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;<span class="comment">// it is null.</span></div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;</div>
<div class="line"><a name="l03792"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html"> 3792</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d88/a00962.html">_MMPAGE_FILE_EXPANSION</a> {</div>
<div class="line"><a name="l03793"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#af3d263d85757fa5b000d428fd81f2ec2"> 3793</a></span>&#160;    PSEGMENT <a class="code" href="../../df/d88/a00962.html#af3d263d85757fa5b000d428fd81f2ec2">Segment</a>;</div>
<div class="line"><a name="l03794"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#a6645f328d3b763fedfa2ba59dc4ff3b3"> 3794</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../df/d88/a00962.html#a6645f328d3b763fedfa2ba59dc4ff3b3">DereferenceList</a>;</div>
<div class="line"><a name="l03795"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#a661b6e8301a262ad160faf006ebe1e28"> 3795</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../df/d88/a00962.html#a661b6e8301a262ad160faf006ebe1e28">RequestedExpansionSize</a>;</div>
<div class="line"><a name="l03796"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#a3c62eef11ebb50c97b30d406d050e798"> 3796</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../df/d88/a00962.html#a3c62eef11ebb50c97b30d406d050e798">ActualExpansion</a>;</div>
<div class="line"><a name="l03797"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#a9475c93cf95f88b63db4657d88132edd"> 3797</a></span>&#160;    <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../df/d88/a00962.html#a9475c93cf95f88b63db4657d88132edd">Event</a>;</div>
<div class="line"><a name="l03798"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#a6cfc1529368d5342254a5c1a37bcf4e5"> 3798</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d88/a00962.html#a6cfc1529368d5342254a5c1a37bcf4e5">InProgress</a>;</div>
<div class="line"><a name="l03799"></a><span class="lineno"><a class="line" href="../../df/d88/a00962.html#abd66057c3e904bcc389cbbc79984aa3d"> 3799</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d88/a00962.html#abd66057c3e904bcc389cbbc79984aa3d">PageFileNumber</a>;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a74fb75b9abb148de92b63c5ee6646216">MMPAGE_FILE_EXPANSION</a>, *<a class="code" href="../../d9/dce/a02519.html#a6ff132293a0aab700304cb5b461e8f92">PMMPAGE_FILE_EXPANSION</a>;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;</div>
<div class="line"><a name="l03802"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1780de8402f8a4f3399d3f7f06e5753a"> 3802</a></span>&#160;<span class="preprocessor">#define MI_EXTEND_ANY_PAGEFILE      ((ULONG)-1)</span></div>
<div class="line"><a name="l03803"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9ba02406d58bf2dbbe87c6d46d54bfa9"> 3803</a></span>&#160;<span class="preprocessor">#define MI_CONTRACT_PAGEFILES       ((SIZE_T)-1)</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;</div>
<div class="line"><a name="l03805"></a><span class="lineno"><a class="line" href="../../d4/dd0/a00994.html"> 3805</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/dd0/a00994.html">_MMWORKING_SET_EXPANSION_HEAD</a> {</div>
<div class="line"><a name="l03806"></a><span class="lineno"><a class="line" href="../../d4/dd0/a00994.html#af237b5055d9770dc4ff3fba0459622d6"> 3806</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d4/dd0/a00994.html#af237b5055d9770dc4ff3fba0459622d6">ListHead</a>;</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a640a0a18cd24c5ccf003820ca78bc948">MMWORKING_SET_EXPANSION_HEAD</a>;</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;</div>
<div class="line"><a name="l03809"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad092aec8224610ef3bfe31285e6ac8a7"> 3809</a></span>&#160;<span class="preprocessor">#define SUBSECTION_READ_ONLY      1L</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a21599313d8b394a792186b2f9ebc3840"> 3810</a></span>&#160;<span class="preprocessor">#define SUBSECTION_READ_WRITE     2L</span></div>
<div class="line"><a name="l03811"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0d6467d82cc5387a0da14a3b18e3d4bc"> 3811</a></span>&#160;<span class="preprocessor">#define SUBSECTION_COPY_ON_WRITE  4L</span></div>
<div class="line"><a name="l03812"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a544e5ba6df2c9efd1a04420a06b5dc6a"> 3812</a></span>&#160;<span class="preprocessor">#define SUBSECTION_SHARE_ALLOW    8L</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="comment">// The MMINPAGE_FLAGS relies on the fact that a pool allocation is always</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;<span class="comment">// QUADWORD aligned so the low 3 bits are always available.</span></div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;</div>
<div class="line"><a name="l03819"></a><span class="lineno"><a class="line" href="../../d3/de5/a00956.html"> 3819</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/de5/a00956.html">_MMINPAGE_FLAGS</a> {</div>
<div class="line"><a name="l03820"></a><span class="lineno"><a class="line" href="../../d3/de5/a00956.html#af438089e9c885279e02958cb2c3746e6"> 3820</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d3/de5/a00956.html#af438089e9c885279e02958cb2c3746e6">Completed</a> : 1;</div>
<div class="line"><a name="l03821"></a><span class="lineno"><a class="line" href="../../d3/de5/a00956.html#af09ae440a4ff5f9ad5a843466ae6e0d9"> 3821</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d3/de5/a00956.html#af09ae440a4ff5f9ad5a843466ae6e0d9">Available1</a> : 1;</div>
<div class="line"><a name="l03822"></a><span class="lineno"><a class="line" href="../../d3/de5/a00956.html#aba5f9160ab87ead227b5649ee849b7d0"> 3822</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d3/de5/a00956.html#aba5f9160ab87ead227b5649ee849b7d0">Available2</a> : 1;</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d3/de5/a00956.html#a524cea938898ef1034dbc6b404d28ffc">PrefetchMdlHighBits</a> : 61;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"><a class="line" href="../../d3/de5/a00956.html#a524cea938898ef1034dbc6b404d28ffc"> 3826</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d3/de5/a00956.html#a524cea938898ef1034dbc6b404d28ffc">PrefetchMdlHighBits</a> : 29;</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ab73dadb201741b8b0bd0450a511935fa">MMINPAGE_FLAGS</a>, *<a class="code" href="../../d9/dce/a02519.html#a3ec3a847577be0647d265cebbe6b33b5">PMMINPAGE_FLAGS</a>;</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;</div>
<div class="line"><a name="l03830"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a20c7c5914575c80408a19d51f161bf3e"> 3830</a></span>&#160;<span class="preprocessor">#define MI_EXTRACT_PREFETCH_MDL(_Support) ((PMDL)((ULONG_PTR)(_Support-&gt;u1.PrefetchMdl) &amp; ~(sizeof(QUAD) - 1)))</span></div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;</div>
<div class="line"><a name="l03832"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html"> 3832</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/df7/a00957.html">_MMINPAGE_SUPPORT</a> {</div>
<div class="line"><a name="l03833"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a6dee117b79213c584a94d84849f0e390"> 3833</a></span>&#160;    <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d1/df7/a00957.html#a6dee117b79213c584a94d84849f0e390">Event</a>;</div>
<div class="line"><a name="l03834"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a48267dc826ba285428acaddaa1abb457"> 3834</a></span>&#160;    <a class="code" href="../../d5/d39/a00676.html">IO_STATUS_BLOCK</a> <a class="code" href="../../d1/df7/a00957.html#a48267dc826ba285428acaddaa1abb457">IoStatus</a>;</div>
<div class="line"><a name="l03835"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#aa706f08262f8d3908a1eff7b4a5a4f47"> 3835</a></span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d1/df7/a00957.html#aa706f08262f8d3908a1eff7b4a5a4f47">ReadOffset</a>;</div>
<div class="line"><a name="l03836"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#abc2854cce99693bde8f53e37bb598453"> 3836</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../d1/df7/a00957.html#abc2854cce99693bde8f53e37bb598453">WaitCount</a>;</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> UsedPageTableEntries;</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03840"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a725e18d5c5fd45bdc6f681587cf49d8c"> 3840</a></span>&#160;    <a class="code" href="../../db/d7e/a00372.html">PETHREAD</a> <a class="code" href="../../d1/df7/a00957.html#a725e18d5c5fd45bdc6f681587cf49d8c">Thread</a>;</div>
<div class="line"><a name="l03841"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a5ef23dcbc92d798f7fec92f31e55a734"> 3841</a></span>&#160;    <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> <a class="code" href="../../d1/df7/a00957.html#a5ef23dcbc92d798f7fec92f31e55a734">FilePointer</a>;</div>
<div class="line"><a name="l03842"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a5440b250628c2d28d4e03b1ff1d234ed"> 3842</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d1/df7/a00957.html#a5440b250628c2d28d4e03b1ff1d234ed">BasePte</a>;</div>
<div class="line"><a name="l03843"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#ac2074651dd943d13973845275f2602c5"> 3843</a></span>&#160;    PMMPFN <a class="code" href="../../d1/df7/a00957.html#ac2074651dd943d13973845275f2602c5">Pfn</a>;</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03845"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a246248379c1c5a09aa2e1c561698dc6a"> 3845</a></span>&#160;        <a class="code" href="../../d3/de5/a00956.html">MMINPAGE_FLAGS</a> <a class="code" href="../../d1/df7/a00957.html#a246248379c1c5a09aa2e1c561698dc6a">e1</a>;</div>
<div class="line"><a name="l03846"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a6fa1995cef63fc1cfe83edfe59b759f5"> 3846</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d1/df7/a00957.html#a6fa1995cef63fc1cfe83edfe59b759f5">LongFlags</a>;</div>
<div class="line"><a name="l03847"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a84396afdf753179f22d1dbb6607d014c"> 3847</a></span>&#160;        <a class="code" href="../../d4/d1c/a00903.html">PMDL</a> <a class="code" href="../../d1/df7/a00957.html#a84396afdf753179f22d1dbb6607d014c">PrefetchMdl</a>;       <span class="comment">// Only used under _PREFETCH_</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    } <a class="code" href="../../d1/df7/a00957.html#ac5cd96a6d57db0525e8dcbde899d5b80">u1</a>;</div>
<div class="line"><a name="l03849"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#adc4485d53182dccb758ed6a297b96c27"> 3849</a></span>&#160;    <a class="code" href="../../d4/d1c/a00903.html">MDL</a> <a class="code" href="../../d1/df7/a00957.html#adc4485d53182dccb758ed6a297b96c27">Mdl</a>;</div>
<div class="line"><a name="l03850"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a20f1a4ee6216273a6496d82afb2a49bb"> 3850</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d1/df7/a00957.html#a20f1a4ee6216273a6496d82afb2a49bb">Page</a>[<a class="code" href="../../dd/d31/a02215.html#a6c5b94222653d38fd517ae97023327fe">MM_MAXIMUM_READ_CLUSTER_SIZE</a> + 1];</div>
<div class="line"><a name="l03851"></a><span class="lineno"><a class="line" href="../../d1/df7/a00957.html#a4b85def23771963cb7cc3a5fd21ad3c5"> 3851</a></span>&#160;    <a class="code" href="../../de/db6/a01627.html">SINGLE_LIST_ENTRY</a> <a class="code" href="../../d1/df7/a00957.html#a4b85def23771963cb7cc3a5fd21ad3c5">ListEntry</a>;</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a24719b7fc6b3daf78bd3d3349ebec350">MMINPAGE_SUPPORT</a>, *<a class="code" href="../../d9/dce/a02519.html#a21d4e407e0876f5acf546fe9e2a46b85">PMMINPAGE_SUPPORT</a>;</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;</div>
<div class="line"><a name="l03854"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a71e38c6d94d9744b74f8745c04080ee2"> 3854</a></span>&#160;<span class="preprocessor">#define MI_PF_DUMMY_PAGE_PTE ((PMMPTE)0x23452345)   // Only used by _PREFETCH_</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;<span class="comment">// Section support.</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;</div>
<div class="line"><a name="l03860"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html"> 3860</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d88/a01578.html">_SECTION</a> {</div>
<div class="line"><a name="l03861"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html#af813bc99120bd46c1a54de0f2491dfae"> 3861</a></span>&#160;    <a class="code" href="../../d3/d29/a00947.html">MMADDRESS_NODE</a> <a class="code" href="../../d1/d88/a01578.html#af813bc99120bd46c1a54de0f2491dfae">Address</a>;</div>
<div class="line"><a name="l03862"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html#a7476b7304e5e846ce63678c44d6c2ac3"> 3862</a></span>&#160;    PSEGMENT <a class="code" href="../../d1/d88/a01578.html#a7476b7304e5e846ce63678c44d6c2ac3">Segment</a>;</div>
<div class="line"><a name="l03863"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html#aff2045585d87e326b3fb8742d7fa1ff7"> 3863</a></span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d1/d88/a01578.html#aff2045585d87e326b3fb8742d7fa1ff7">SizeOfSection</a>;</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03865"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html#a569d2aeb87d3791eb07556d116fcfada"> 3865</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d1/d88/a01578.html#a569d2aeb87d3791eb07556d116fcfada">LongFlags</a>;</div>
<div class="line"><a name="l03866"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html#a12c09278fa44c96ddec92b0d57456a33"> 3866</a></span>&#160;        <a class="code" href="../../dd/d24/a00981.html">MMSECTION_FLAGS</a> <a class="code" href="../../d1/d88/a01578.html#a12c09278fa44c96ddec92b0d57456a33">Flags</a>;</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    } <a class="code" href="../../d1/d88/a01578.html#a0dd3dd9eb51879a91b00ca1335df2f94">u</a>;</div>
<div class="line"><a name="l03868"></a><span class="lineno"><a class="line" href="../../d1/d88/a01578.html#ab616ff7863c6a83672f11c5388bbac06"> 3868</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a> <a class="code" href="../../d1/d88/a01578.html#ab616ff7863c6a83672f11c5388bbac06">InitialPageProtection</a>;</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aacf5b2443b855269cae4e18f3ccf480c">SECTION</a>, *<a class="code" href="../../d9/dce/a02519.html#ab39029b20ed1997698dda7a264fbef16">PSECTION</a>;</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;<span class="comment">// Banked memory descriptor.  Pointed to by VAD which has</span></div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;<span class="comment">// the PhysicalMemory flags set and the Banked pointer field as</span></div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;<span class="comment">// non-NULL.</span></div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;</div>
<div class="line"><a name="l03877"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html"> 3877</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d18/a00948.html">_MMBANKED_SECTION</a> {</div>
<div class="line"><a name="l03878"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#aab2b28d42fed77ea1792ea7e89073d64"> 3878</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d8/d18/a00948.html#aab2b28d42fed77ea1792ea7e89073d64">BasePhysicalPage</a>;</div>
<div class="line"><a name="l03879"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#ac31df5117d9d79da317c05adfa1a3306"> 3879</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d8/d18/a00948.html#ac31df5117d9d79da317c05adfa1a3306">BasedPte</a>;</div>
<div class="line"><a name="l03880"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#afe3adc73fc946e011bf476d7d2f44b4a"> 3880</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d8/d18/a00948.html#afe3adc73fc946e011bf476d7d2f44b4a">BankSize</a>;</div>
<div class="line"><a name="l03881"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#afe3e6c129a1eeaccdcb1e03537c4e6df"> 3881</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d8/d18/a00948.html#afe3e6c129a1eeaccdcb1e03537c4e6df">BankShift</a>; <span class="comment">// shift for PTEs to calculate bank number</span></div>
<div class="line"><a name="l03882"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#af75e737e658c39da24616d1db9f7a394"> 3882</a></span>&#160;    <a class="code" href="../../dd/d31/a02215.html#af3dc594f70d521d134bef433d0aae5ac">PBANKED_SECTION_ROUTINE</a> <a class="code" href="../../d8/d18/a00948.html#af75e737e658c39da24616d1db9f7a394">BankedRoutine</a>;</div>
<div class="line"><a name="l03883"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#ade9d0751213795e9f1d9a188db450121"> 3883</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d8/d18/a00948.html#ade9d0751213795e9f1d9a188db450121">Context</a>;</div>
<div class="line"><a name="l03884"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#a1783ac18cf691a54826ca6626fa093dc"> 3884</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d8/d18/a00948.html#a1783ac18cf691a54826ca6626fa093dc">CurrentMappedPte</a>;</div>
<div class="line"><a name="l03885"></a><span class="lineno"><a class="line" href="../../d8/d18/a00948.html#ab407ff0a25e6c32fbdbcaded1cd33772"> 3885</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d8/d18/a00948.html#ab407ff0a25e6c32fbdbcaded1cd33772">BankTemplate</a>[1];</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a62871339836c6271a69764e5c93a54db">MMBANKED_SECTION</a>, *<a class="code" href="../../d9/dce/a02519.html#a59413db6b7cdde09e04c871f5123fd9e">PMMBANKED_SECTION</a>;</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;<span class="comment">// Virtual address descriptor</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;<span class="comment">// ***** NOTE **********</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;<span class="comment">//  The first part of a virtual address descriptor is a MMADDRESS_NODE!!!</span></div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;<span class="preprocessor">#define COMMIT_SIZE 51</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;<span class="preprocessor">#if ((COMMIT_SIZE + PAGE_SHIFT) &lt; 63)</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;<span class="preprocessor">#error COMMIT_SIZE too small</span></div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03905"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acb90ddcdf809f8c7cd10d315e4480b64"> 3905</a></span>&#160;<span class="preprocessor">#define COMMIT_SIZE 19</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;<span class="preprocessor">#if ((COMMIT_SIZE + PAGE_SHIFT) &lt; 31)</span></div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;<span class="preprocessor">#error COMMIT_SIZE too small</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;</div>
<div class="line"><a name="l03912"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa3ba5c9a452a0439a00be5e0e91ebe0d"> 3912</a></span>&#160;<span class="preprocessor">#define MM_MAX_COMMIT (((ULONG_PTR) 1 &lt;&lt; COMMIT_SIZE) - 1)</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;</div>
<div class="line"><a name="l03914"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2d40759ca1c297057f3257b2e2da34fd"> 3914</a></span>&#160;<span class="preprocessor">#define MM_VIEW_UNMAP 0</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5d711ea38b0fd38aafa345df72b811c8"> 3915</a></span>&#160;<span class="preprocessor">#define MM_VIEW_SHARE 1</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;</div>
<div class="line"><a name="l03917"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cc"> 3917</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cc">_MI_VAD_TYPE</a> {</div>
<div class="line"><a name="l03918"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaff81ddea34a68e5bc6be454fb2901db8"> 3918</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaff81ddea34a68e5bc6be454fb2901db8">VadNone</a>,</div>
<div class="line"><a name="l03919"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaa44bbf2976390cf0def02ed8190f79b6"> 3919</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaa44bbf2976390cf0def02ed8190f79b6">VadDevicePhysicalMemory</a>,</div>
<div class="line"><a name="l03920"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaf0d8e242b0ddce86a0663823b5e91a20"> 3920</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaf0d8e242b0ddce86a0663823b5e91a20">VadImageMap</a>,</div>
<div class="line"><a name="l03921"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca2d39e90b409c959cc46af202a0509823"> 3921</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca2d39e90b409c959cc46af202a0509823">VadAwe</a>,</div>
<div class="line"><a name="l03922"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca4e96928a984a92d9181408557f7e4027"> 3922</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca4e96928a984a92d9181408557f7e4027">VadWriteWatch</a>,</div>
<div class="line"><a name="l03923"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca5518030a9764b9c5b68592e715d6c8e5"> 3923</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca5518030a9764b9c5b68592e715d6c8e5">VadLargePages</a>,</div>
<div class="line"><a name="l03924"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca66eacdd61aa24996a72053d86b526b95"> 3924</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca66eacdd61aa24996a72053d86b526b95">VadRotatePhysical</a>,</div>
<div class="line"><a name="l03925"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca43d289192c6ca7f6145c0b38f61d3965"> 3925</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca43d289192c6ca7f6145c0b38f61d3965">VadLargePageSection</a></div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a05837414a11b8e3ad9400255265006b4">MI_VAD_TYPE</a>, *<a class="code" href="../../d9/dce/a02519.html#a97be8923a273c60aaf8087b9a0cb4ef3">PMI_VAD_TYPE</a>;</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;</div>
<div class="line"><a name="l03928"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html"> 3928</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d95/a00989.html">_MMVAD_FLAGS</a> {</div>
<div class="line"><a name="l03929"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#a74be13ee72ded1dbe43b58b90b870355"> 3929</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#a74be13ee72ded1dbe43b58b90b870355">CommitCharge</a> : <a class="code" href="../../d9/dce/a02519.html#acb90ddcdf809f8c7cd10d315e4480b64">COMMIT_SIZE</a>; <span class="comment">// limits system to 4k pages or bigger!</span></div>
<div class="line"><a name="l03930"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#a01e1d482ee00d46c1610959d6a5a5a9b"> 3930</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#a01e1d482ee00d46c1610959d6a5a5a9b">NoChange</a> : 1;</div>
<div class="line"><a name="l03931"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#aca88e2c8e69a676691bd3a8ca1e28d39"> 3931</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#aca88e2c8e69a676691bd3a8ca1e28d39">VadType</a> : 3;</div>
<div class="line"><a name="l03932"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#a166a3ce21a220389993d127f2800dbcb"> 3932</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#a166a3ce21a220389993d127f2800dbcb">MemCommit</a>: 1;</div>
<div class="line"><a name="l03933"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#a723c99484efdffad1869c76a88cbd176"> 3933</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#a723c99484efdffad1869c76a88cbd176">Protection</a> : 5;</div>
<div class="line"><a name="l03934"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#a987ba321477ee9113e80840bf58c3202"> 3934</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#a987ba321477ee9113e80840bf58c3202">Spare</a> : 2;</div>
<div class="line"><a name="l03935"></a><span class="lineno"><a class="line" href="../../d4/d95/a00989.html#ad7e34fc55b73dc7247960132c4b35611"> 3935</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d4/d95/a00989.html#ad7e34fc55b73dc7247960132c4b35611">PrivateMemory</a> : 1;    <span class="comment">// used to tell VAD from VAD_SHORT</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#adee56853e24be9d1c8120424504a7462">MMVAD_FLAGS</a>;</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;</div>
<div class="line"><a name="l03938"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html"> 3938</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/d7a/a00990.html">_MMVAD_FLAGS2</a> {</div>
<div class="line"><a name="l03939"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#ae688d475f6f62e916e51cea63d11e326"> 3939</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#ae688d475f6f62e916e51cea63d11e326">FileOffset</a> : 24;       <span class="comment">// number of 64k units into file</span></div>
<div class="line"><a name="l03940"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#a826eef2e71c8c7d62a9ac417b99d12e4"> 3940</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#a826eef2e71c8c7d62a9ac417b99d12e4">SecNoChange</a> : 1;       <span class="comment">// set if SEC_NOCHANGE specified</span></div>
<div class="line"><a name="l03941"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#a695a38ddc241dbd7f064604aadf49975"> 3941</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#a695a38ddc241dbd7f064604aadf49975">OneSecured</a> : 1;        <span class="comment">// set if u3 field is a range</span></div>
<div class="line"><a name="l03942"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#ae58973a0eb3985133aed2196a86ef171"> 3942</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#ae58973a0eb3985133aed2196a86ef171">MultipleSecured</a> : 1;   <span class="comment">// set if u3 field is a list head</span></div>
<div class="line"><a name="l03943"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#a08cc73a110ba7c4634cf69c614a6d1a5"> 3943</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#a08cc73a110ba7c4634cf69c614a6d1a5">ReadOnly</a> : 1;          <span class="comment">// protected as ReadOnly</span></div>
<div class="line"><a name="l03944"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#af080a409c799297ec1a9ac09f8191324"> 3944</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#af080a409c799297ec1a9ac09f8191324">LongVad</a> : 1;           <span class="comment">// set if VAD is a long VAD</span></div>
<div class="line"><a name="l03945"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#ac76e20292c2949b350268098e4ed4b7f"> 3945</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#ac76e20292c2949b350268098e4ed4b7f">ExtendableFile</a> : 1;</div>
<div class="line"><a name="l03946"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#a0c7e30ad548c3c943eec7b67129723c0"> 3946</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#a0c7e30ad548c3c943eec7b67129723c0">Inherit</a> : 1;           <span class="comment">//1 = ViewShare, 0 = ViewUnmap</span></div>
<div class="line"><a name="l03947"></a><span class="lineno"><a class="line" href="../../dd/d7a/a00990.html#afcd173cf36d9fc38e8658605f88c62f1"> 3947</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d7a/a00990.html#afcd173cf36d9fc38e8658605f88c62f1">CopyOnWrite</a> : 1;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ad339e20da6e720855a23ff222310bdc4">MMVAD_FLAGS2</a>;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;</div>
<div class="line"><a name="l03950"></a><span class="lineno"><a class="line" href="../../da/d40/a00946.html"> 3950</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d40/a00946.html">_MMADDRESS_LIST</a> {</div>
<div class="line"><a name="l03951"></a><span class="lineno"><a class="line" href="../../da/d40/a00946.html#abafb8fc689626e7e2bf8f41c7231c457"> 3951</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d40/a00946.html#abafb8fc689626e7e2bf8f41c7231c457">StartVpn</a>;</div>
<div class="line"><a name="l03952"></a><span class="lineno"><a class="line" href="../../da/d40/a00946.html#a2ca132754c6f30a090148704997a7ea8"> 3952</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d40/a00946.html#a2ca132754c6f30a090148704997a7ea8">EndVpn</a>;</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ad9e4fe78e10532dc8e081d5e56349ef7">MMADDRESS_LIST</a>, *<a class="code" href="../../d9/dce/a02519.html#afdbbaff803094d001c80ccf52496898f">PMMADDRESS_LIST</a>;</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;</div>
<div class="line"><a name="l03955"></a><span class="lineno"><a class="line" href="../../d1/d7a/a00982.html"> 3955</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d7a/a00982.html">_MMSECURE_ENTRY</a> {</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03957"></a><span class="lineno"><a class="line" href="../../d1/d7a/a00982.html#abacefce753c806e2b90e30c61fe046a6"> 3957</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d1/d7a/a00982.html#abacefce753c806e2b90e30c61fe046a6">LongFlags2</a>;</div>
<div class="line"><a name="l03958"></a><span class="lineno"><a class="line" href="../../d1/d7a/a00982.html#aeea97edb8131e869cb4e897ef707034a"> 3958</a></span>&#160;        <a class="code" href="../../dd/d7a/a00990.html">MMVAD_FLAGS2</a> <a class="code" href="../../d1/d7a/a00982.html#aeea97edb8131e869cb4e897ef707034a">VadFlags2</a>;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    } <a class="code" href="../../d1/d7a/a00982.html#abe73ee6e73102d43412c84ad10d85b2c">u2</a>;</div>
<div class="line"><a name="l03960"></a><span class="lineno"><a class="line" href="../../d1/d7a/a00982.html#aa1a37aa46e928902421d88dafbc63464"> 3960</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d1/d7a/a00982.html#aa1a37aa46e928902421d88dafbc63464">StartVpn</a>;</div>
<div class="line"><a name="l03961"></a><span class="lineno"><a class="line" href="../../d1/d7a/a00982.html#a73042199eff7ef3494af44459e01ff40"> 3961</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d1/d7a/a00982.html#a73042199eff7ef3494af44459e01ff40">EndVpn</a>;</div>
<div class="line"><a name="l03962"></a><span class="lineno"><a class="line" href="../../d1/d7a/a00982.html#a3afc1f0a547651ebb23292491c11f5f6"> 3962</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d1/d7a/a00982.html#a3afc1f0a547651ebb23292491c11f5f6">List</a>;</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a00f3d6848d90acbf5dfebf8d5836420c">MMSECURE_ENTRY</a>, *<a class="code" href="../../d9/dce/a02519.html#a712d5f9ad5df7621d267dea19d1bd446">PMMSECURE_ENTRY</a>;</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div>
<div class="line"><a name="l03965"></a><span class="lineno"><a class="line" href="../../d5/d79/a00030.html"> 3965</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d79/a00030.html">_ALIAS_VAD_INFO</a> {</div>
<div class="line"><a name="l03966"></a><span class="lineno"><a class="line" href="../../d5/d79/a00030.html#aa70b19a1977c87df6adead393e871e14"> 3966</a></span>&#160;    <a class="code" href="../../dc/d14/a00720.html">KAPC</a> <a class="code" href="../../d5/d79/a00030.html#aa70b19a1977c87df6adead393e871e14">Apc</a>;</div>
<div class="line"><a name="l03967"></a><span class="lineno"><a class="line" href="../../d5/d79/a00030.html#a1ba6dc16e5f3a52e6ee4452591f1578d"> 3967</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d5/d79/a00030.html#a1ba6dc16e5f3a52e6ee4452591f1578d">NumberOfEntries</a>;</div>
<div class="line"><a name="l03968"></a><span class="lineno"><a class="line" href="../../d5/d79/a00030.html#a762ab8f7260e813f8d73608db943cdad"> 3968</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d5/d79/a00030.html#a762ab8f7260e813f8d73608db943cdad">MaximumEntries</a>;</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#af63c7d4343934dc71b6ea534037f89fe">ALIAS_VAD_INFO</a>, *<a class="code" href="../../d9/dce/a02519.html#a4c84541c44b142dd982820aaf1b41682">PALIAS_VAD_INFO</a>;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;</div>
<div class="line"><a name="l03971"></a><span class="lineno"><a class="line" href="../../df/d61/a00031.html"> 3971</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d61/a00031.html">_ALIAS_VAD_INFO2</a> {</div>
<div class="line"><a name="l03972"></a><span class="lineno"><a class="line" href="../../df/d61/a00031.html#a90b535ff58446fb4affb3ae60c1d5797"> 3972</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d61/a00031.html#a90b535ff58446fb4affb3ae60c1d5797">BaseAddress</a>;</div>
<div class="line"><a name="l03973"></a><span class="lineno"><a class="line" href="../../df/d61/a00031.html#a85e8016492915576c9dd9feed87cdd74"> 3973</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="../../df/d61/a00031.html#a85e8016492915576c9dd9feed87cdd74">SecureHandle</a>;</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#abf2350478b2785cc914acf2ce6d61dc8">ALIAS_VAD_INFO2</a>, *<a class="code" href="../../d9/dce/a02519.html#ad3f6d877fd6362482637b08829a5ccdc">PALIAS_VAD_INFO2</a>;</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;</div>
<div class="line"><a name="l03976"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html"> 3976</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> {</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03978"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#a1ba57ff8dfbbe6eaa8c41b30b76f998d"> 3978</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#ab806494dc8904358e60aec7d1efc9331">LONG_PTR</a> <a class="code" href="../../d6/d48/a00988.html#a1ba57ff8dfbbe6eaa8c41b30b76f998d">Balance</a> : 2;</div>
<div class="line"><a name="l03979"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#ab0aecdc0d6f3b7f27cb926fb033f1dd4"> 3979</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../d6/d48/a00988.html#ab0aecdc0d6f3b7f27cb926fb033f1dd4">Parent</a>;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;    } <a class="code" href="../../d6/d48/a00988.html#a2dae94cdbf75a72ba085fa4d8cbd0fe8">u1</a>;</div>
<div class="line"><a name="l03981"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#a29f8b58a1023e50ddccf15a289ceef77"> 3981</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../d6/d48/a00988.html#a29f8b58a1023e50ddccf15a289ceef77">LeftChild</a>;</div>
<div class="line"><a name="l03982"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#a1a8e7b3d959c6718069c4d927859def5"> 3982</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../d6/d48/a00988.html#a1a8e7b3d959c6718069c4d927859def5">RightChild</a>;</div>
<div class="line"><a name="l03983"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#aa15cd7f3cfad2dde5e9d717d65299ff9"> 3983</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d6/d48/a00988.html#aa15cd7f3cfad2dde5e9d717d65299ff9">StartingVpn</a>;</div>
<div class="line"><a name="l03984"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#a2dd7dd62362f076b679598b10b82b623"> 3984</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d6/d48/a00988.html#a2dd7dd62362f076b679598b10b82b623">EndingVpn</a>;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03987"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#af3fc743716882d8ea38b4d16fdf1fec3"> 3987</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d6/d48/a00988.html#af3fc743716882d8ea38b4d16fdf1fec3">LongFlags</a>;</div>
<div class="line"><a name="l03988"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#ab0a7d97a3de3182eb216743b13ae91a6"> 3988</a></span>&#160;        <a class="code" href="../../d4/d95/a00989.html">MMVAD_FLAGS</a> <a class="code" href="../../d6/d48/a00988.html#ab0a7d97a3de3182eb216743b13ae91a6">VadFlags</a>;</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    } <a class="code" href="../../d6/d48/a00988.html#af7281c3b8108031e27cb50d51124ce22">u</a>;</div>
<div class="line"><a name="l03990"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#a6c0a9f2d6187cc0ea559bda1b7b99171"> 3990</a></span>&#160;    PCONTROL_AREA <a class="code" href="../../d6/d48/a00988.html#a6c0a9f2d6187cc0ea559bda1b7b99171">ControlArea</a>;</div>
<div class="line"><a name="l03991"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#afce2d19b388eee856fc2e4c27828a530"> 3991</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d6/d48/a00988.html#afce2d19b388eee856fc2e4c27828a530">FirstPrototypePte</a>;</div>
<div class="line"><a name="l03992"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#aa517d3c2faecd9a2993a122fc45e9245"> 3992</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d6/d48/a00988.html#aa517d3c2faecd9a2993a122fc45e9245">LastContiguousPte</a>;</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l03994"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#a31d167c6f548d69c33bf0fdc3530c030"> 3994</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d6/d48/a00988.html#a31d167c6f548d69c33bf0fdc3530c030">LongFlags2</a>;</div>
<div class="line"><a name="l03995"></a><span class="lineno"><a class="line" href="../../d6/d48/a00988.html#aaf9fd5e7a5b5c39e2c1e1e60369074db"> 3995</a></span>&#160;        <a class="code" href="../../dd/d7a/a00990.html">MMVAD_FLAGS2</a> <a class="code" href="../../d6/d48/a00988.html#aaf9fd5e7a5b5c39e2c1e1e60369074db">VadFlags2</a>;</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    } <a class="code" href="../../d6/d48/a00988.html#aaf87eb75a65abf3dee5a23aa96d5490d">u2</a>;</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a6b2a64419be2f92fa86c380076a8fd41">MMVAD</a>, *<a class="code" href="../../d9/dce/a02519.html#ac818f9f725f779b224d93ab24d3a6fee">PMMVAD</a>;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;</div>
<div class="line"><a name="l03999"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html"> 3999</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d2f/a00991.html">_MMVAD_LONG</a> {</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04001"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a9eb12af450b83e3e7f5ddc7fe83b5ef1"> 4001</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#ab806494dc8904358e60aec7d1efc9331">LONG_PTR</a> <a class="code" href="../../df/d2f/a00991.html#a9eb12af450b83e3e7f5ddc7fe83b5ef1">Balance</a> : 2;</div>
<div class="line"><a name="l04002"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a3478c66075aa78b821c74542ab2d8fe1"> 4002</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../df/d2f/a00991.html#a3478c66075aa78b821c74542ab2d8fe1">Parent</a>;</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    } <a class="code" href="../../df/d2f/a00991.html#a3545e76c374b68ae646ff97951d193e9">u1</a>;</div>
<div class="line"><a name="l04004"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#adcae5f2d6f0b5813e6c5f727ed28df40"> 4004</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../df/d2f/a00991.html#adcae5f2d6f0b5813e6c5f727ed28df40">LeftChild</a>;</div>
<div class="line"><a name="l04005"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#ac3655ec7f538d71e91b5ffea32b56edc"> 4005</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../df/d2f/a00991.html#ac3655ec7f538d71e91b5ffea32b56edc">RightChild</a>;</div>
<div class="line"><a name="l04006"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#afe6e1aab9d3bd7395fc2d0c90753d236"> 4006</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../df/d2f/a00991.html#afe6e1aab9d3bd7395fc2d0c90753d236">StartingVpn</a>;</div>
<div class="line"><a name="l04007"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a941c2324e7cedfb13843cb66753df308"> 4007</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../df/d2f/a00991.html#a941c2324e7cedfb13843cb66753df308">EndingVpn</a>;</div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04010"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a79d25bdaea2755c90ffaf1f989c7b3d4"> 4010</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../df/d2f/a00991.html#a79d25bdaea2755c90ffaf1f989c7b3d4">LongFlags</a>;</div>
<div class="line"><a name="l04011"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a3903167d942c1a67727401504eef96fb"> 4011</a></span>&#160;        <a class="code" href="../../d4/d95/a00989.html">MMVAD_FLAGS</a> <a class="code" href="../../df/d2f/a00991.html#a3903167d942c1a67727401504eef96fb">VadFlags</a>;</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;    } <a class="code" href="../../df/d2f/a00991.html#a1ba084e7f66be7ec0500b54e89df526d">u</a>;</div>
<div class="line"><a name="l04013"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#abaf583109f8002b90e6ab042befc3042"> 4013</a></span>&#160;    PCONTROL_AREA <a class="code" href="../../df/d2f/a00991.html#abaf583109f8002b90e6ab042befc3042">ControlArea</a>;</div>
<div class="line"><a name="l04014"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a2352ef182045dd872ac8f7bd55e3d099"> 4014</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../df/d2f/a00991.html#a2352ef182045dd872ac8f7bd55e3d099">FirstPrototypePte</a>;</div>
<div class="line"><a name="l04015"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a1013ca3ac89d546a6ba359e565f13376"> 4015</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../df/d2f/a00991.html#a1013ca3ac89d546a6ba359e565f13376">LastContiguousPte</a>;</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04017"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#ac24d7708cbb9898fe88b286c0c11f7b8"> 4017</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d2f/a00991.html#ac24d7708cbb9898fe88b286c0c11f7b8">LongFlags2</a>;</div>
<div class="line"><a name="l04018"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#acc9741fcb046fe22bba13abdc309e2c1"> 4018</a></span>&#160;        <a class="code" href="../../dd/d7a/a00990.html">MMVAD_FLAGS2</a> <a class="code" href="../../df/d2f/a00991.html#acc9741fcb046fe22bba13abdc309e2c1">VadFlags2</a>;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    } <a class="code" href="../../df/d2f/a00991.html#a62db07708d410dec2361f46cb54db82a">u2</a>;</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04021"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#aa4e0576487be9244ca79bc9584237d24"> 4021</a></span>&#160;        <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../df/d2f/a00991.html#aa4e0576487be9244ca79bc9584237d24">List</a>;</div>
<div class="line"><a name="l04022"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a1fa3382530db024282c9b1a9224caeca"> 4022</a></span>&#160;        <a class="code" href="../../da/d40/a00946.html">MMADDRESS_LIST</a> <a class="code" href="../../df/d2f/a00991.html#a1fa3382530db024282c9b1a9224caeca">Secured</a>;</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;    } <a class="code" href="../../df/d2f/a00991.html#ad8d1404afdcbf2860da192436aa74683">u3</a>;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04025"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a11be1e947a04f4e5bc42ee67ccc711db"> 4025</a></span>&#160;        PMMBANKED_SECTION <a class="code" href="../../df/d2f/a00991.html#a11be1e947a04f4e5bc42ee67ccc711db">Banked</a>;</div>
<div class="line"><a name="l04026"></a><span class="lineno"><a class="line" href="../../df/d2f/a00991.html#a7534ffed254becafd8d6152b62f2d9af"> 4026</a></span>&#160;        PMMEXTEND_INFO <a class="code" href="../../df/d2f/a00991.html#a7534ffed254becafd8d6152b62f2d9af">ExtendedInfo</a>;</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    } <a class="code" href="../../df/d2f/a00991.html#aa0282cba0f7a5a1ca3b460f019ea4845">u4</a>;</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aeb2c773b00411fa0694a4d77f1a0ab8f">MMVAD_LONG</a>, *<a class="code" href="../../d9/dce/a02519.html#abd312d26fce8e0a43c12e98856d4e429">PMMVAD_LONG</a>;</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;</div>
<div class="line"><a name="l04030"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html"> 4030</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d76/a00992.html">_MMVAD_SHORT</a> {</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04032"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#a83a988ddc6164c4ce119b8e787d767db"> 4032</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#ab806494dc8904358e60aec7d1efc9331">LONG_PTR</a> <a class="code" href="../../d7/d76/a00992.html#a83a988ddc6164c4ce119b8e787d767db">Balance</a> : 2;</div>
<div class="line"><a name="l04033"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#a230573ba241f563ce36a5a08c714027e"> 4033</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../d7/d76/a00992.html#a230573ba241f563ce36a5a08c714027e">Parent</a>;</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    } <a class="code" href="../../d7/d76/a00992.html#a6e5096bc6623c54c163799347eac61df">u1</a>;</div>
<div class="line"><a name="l04035"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#a3706aed80705b47c6af21e38d0b5bbdf"> 4035</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../d7/d76/a00992.html#a3706aed80705b47c6af21e38d0b5bbdf">LeftChild</a>;</div>
<div class="line"><a name="l04036"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#ac6f160bce88665033aec3cd6b61ce4e2"> 4036</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d48/a00988.html">_MMVAD</a> *<a class="code" href="../../d7/d76/a00992.html#ac6f160bce88665033aec3cd6b61ce4e2">RightChild</a>;</div>
<div class="line"><a name="l04037"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#a5a30f2abe19e5058b297ad296b408da7"> 4037</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/d76/a00992.html#a5a30f2abe19e5058b297ad296b408da7">StartingVpn</a>;</div>
<div class="line"><a name="l04038"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#aff9d8b215f0b1114a7c4f60e9a891aad"> 4038</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/d76/a00992.html#aff9d8b215f0b1114a7c4f60e9a891aad">EndingVpn</a>;</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04041"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#acbdf4f03dbb22ebc60c3bc8f6ec9ebe3"> 4041</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/d76/a00992.html#acbdf4f03dbb22ebc60c3bc8f6ec9ebe3">LongFlags</a>;</div>
<div class="line"><a name="l04042"></a><span class="lineno"><a class="line" href="../../d7/d76/a00992.html#a6706f54ec71c638e44bf1fc7e509d440"> 4042</a></span>&#160;        <a class="code" href="../../d4/d95/a00989.html">MMVAD_FLAGS</a> <a class="code" href="../../d7/d76/a00992.html#a6706f54ec71c638e44bf1fc7e509d440">VadFlags</a>;</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;    } <a class="code" href="../../d7/d76/a00992.html#ae94cec7ae56f94a1e71a352b043eb46d">u</a>;</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#af515a887741852b5e8c9d22dcaca422e">MMVAD_SHORT</a>, *<a class="code" href="../../d9/dce/a02519.html#a8e14e3bb677c1219c30d854a4e3b0629">PMMVAD_SHORT</a>;</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;</div>
<div class="line"><a name="l04046"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad9482cd6c7cd0bd7f2d9b71b77d83f06"> 4046</a></span>&#160;<span class="preprocessor">#define MI_GET_PROTECTION_FROM_VAD(_Vad) ((ULONG)(_Vad)-&gt;u.VadFlags.Protection)</span></div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;</div>
<div class="line"><a name="l04048"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html"> 4048</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d16/a00930.html">_MI_PHYSICAL_VIEW</a> {</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04050"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a97891433fb6bbcf19e4fee942a2e80f7"> 4050</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#ab806494dc8904358e60aec7d1efc9331">LONG_PTR</a> <a class="code" href="../../d7/d16/a00930.html#a97891433fb6bbcf19e4fee942a2e80f7">Balance</a> : 2;</div>
<div class="line"><a name="l04051"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a9b8edd6d244e966c1136705fefff273f"> 4051</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a> *<a class="code" href="../../d7/d16/a00930.html#a9b8edd6d244e966c1136705fefff273f">Parent</a>;</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;    } <a class="code" href="../../d7/d16/a00930.html#ac6443251509d368144faa136a59dc897">u1</a>;</div>
<div class="line"><a name="l04053"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a8aeecd94243862563093f2668f98b918"> 4053</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a> *<a class="code" href="../../d7/d16/a00930.html#a8aeecd94243862563093f2668f98b918">LeftChild</a>;</div>
<div class="line"><a name="l04054"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a4976cba3b745452f0464dac94516fcf3"> 4054</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a> *<a class="code" href="../../d7/d16/a00930.html#a4976cba3b745452f0464dac94516fcf3">RightChild</a>;</div>
<div class="line"><a name="l04055"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a1a847ba8eb5d40822d93f409d271b7d4"> 4055</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/d16/a00930.html#a1a847ba8eb5d40822d93f409d271b7d4">StartingVpn</a>;      <span class="comment">// Actually a virtual address, not a VPN</span></div>
<div class="line"><a name="l04056"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a04c6ac3f8efccda1cc3894557fa63080"> 4056</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/d16/a00930.html#a04c6ac3f8efccda1cc3894557fa63080">EndingVpn</a>;        <span class="comment">// Actually a virtual address, not a VPN</span></div>
<div class="line"><a name="l04057"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#abd44d4ff357fbc6a9e2e5850283730a4"> 4057</a></span>&#160;    PMMVAD <a class="code" href="../../d7/d16/a00930.html#abd44d4ff357fbc6a9e2e5850283730a4">Vad</a>;</div>
<div class="line"><a name="l04058"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#afa5849d53963e6e2089d8d5c83f7b424"> 4058</a></span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a05837414a11b8e3ad9400255265006b4">MI_VAD_TYPE</a> <a class="code" href="../../d7/d16/a00930.html#afa5849d53963e6e2089d8d5c83f7b424">VadType</a>;</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04060"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a2ed3f7155be1374714e21b16da604109"> 4060</a></span>&#160;        <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d7/d16/a00930.html#a2ed3f7155be1374714e21b16da604109">MappingPte</a>;      <span class="comment">// only if Vad-&gt;u.VadFlags.RotatePhysical == 1</span></div>
<div class="line"><a name="l04061"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a3df99e07ca27e2f06b8f46f893adb369"> 4061</a></span>&#160;        <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../d7/d16/a00930.html#a3df99e07ca27e2f06b8f46f893adb369">BitMap</a>;     <span class="comment">// only if Vad-&gt;u.VadFlags.WriteWatch == 1</span></div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    } <a class="code" href="../../d7/d16/a00930.html#a8e233fe201059a2a7c4b41d32bffbe5d">u</a>;</div>
<div class="line"><a name="l04063"></a><span class="lineno"><a class="line" href="../../d7/d16/a00930.html#a735a1ab723b66b3a2f7f6ae4122708d5"> 4063</a></span>&#160;    PMMINPAGE_SUPPORT <a class="code" href="../../d7/d16/a00930.html#a735a1ab723b66b3a2f7f6ae4122708d5">InPageSupport</a>;</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ab3bc8aaf5d24bfa7c94da5c55a435817">MI_PHYSICAL_VIEW</a>, *<a class="code" href="../../d9/dce/a02519.html#a2d05c8cfb3c2964bcda276a26dd5102a">PMI_PHYSICAL_VIEW</a>;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;</div>
<div class="line"><a name="l04066"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a024e8de94a120d03874b338cf3619e52"> 4066</a></span>&#160;<span class="preprocessor">#define MI_PHYSICAL_VIEW_ROOT_KEY   &#39;rpmM&#39;</span></div>
<div class="line"><a name="l04067"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adf2d6ec954547fb8828f3c2c02342ce3"> 4067</a></span>&#160;<span class="preprocessor">#define MI_PHYSICAL_VIEW_KEY        &#39;vpmM&#39;</span></div>
<div class="line"><a name="l04068"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad66a533ce30cde440478d9adf67c346c"> 4068</a></span>&#160;<span class="preprocessor">#define MI_ROTATE_PHYSICAL_VIEW_KEY &#39;ipmM&#39;</span></div>
<div class="line"><a name="l04069"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa82d8731608203ec0640798d52035f93"> 4069</a></span>&#160;<span class="preprocessor">#define MI_WRITEWATCH_VIEW_KEY      &#39;wWmM&#39;</span></div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;<span class="comment">// Stuff for support of Write Watch.</span></div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a21283e46aafbd1d9ce3c617a2e34eb50">MiCaptureWriteWatchDirtyBit</a> (</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;    );</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;<span class="comment">// Stuff for support of AWE (Address Windowing Extensions).</span></div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;</div>
<div class="line"><a name="l04085"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html"> 4085</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../db/db6/a00074.html">_AWEINFO</a> {</div>
<div class="line"><a name="l04086"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html#a8de55e7ff7935a7d94ca1da6cd7110ee"> 4086</a></span>&#160;    <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../db/db6/a00074.html#a8de55e7ff7935a7d94ca1da6cd7110ee">VadPhysicalPagesBitMap</a>;</div>
<div class="line"><a name="l04087"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html#ac4b2c10c3c5fbee5aa45509a2ee71c09"> 4087</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../db/db6/a00074.html#ac4b2c10c3c5fbee5aa45509a2ee71c09">VadPhysicalPages</a>;</div>
<div class="line"><a name="l04088"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html#aea3a9c6db008c07f1944a9340459ce89"> 4088</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../db/db6/a00074.html#aea3a9c6db008c07f1944a9340459ce89">VadPhysicalPagesLimit</a>;</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;    <span class="comment">// The PushLock is used to allow most of the NtMapUserPhysicalPages{Scatter}</span></div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    <span class="comment">// to execute in parallel as this is acquired shared for these calls.</span></div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;    <span class="comment">// Exclusive acquisitions are used to protect maps against frees of the</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    <span class="comment">// pages as well as to protect updates to the AweVadList.  Collisions</span></div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;    <span class="comment">// should be rare because the exclusive acquisitions should be rare.</span></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;</div>
<div class="line"><a name="l04098"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html#ae852781d856447febcfa23688a871fe6"> 4098</a></span>&#160;    <a class="code" href="../../d9/dc1/a00388.html">PEX_PUSH_LOCK_CACHE_AWARE</a> <a class="code" href="../../db/db6/a00074.html#ae852781d856447febcfa23688a871fe6">PushLock</a>;</div>
<div class="line"><a name="l04099"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html#ab467a4148013153cbf7ee9a2b2d8038c"> 4099</a></span>&#160;    PMI_PHYSICAL_VIEW <a class="code" href="../../db/db6/a00074.html#ab467a4148013153cbf7ee9a2b2d8038c">PhysicalViewHint</a>[<a class="code" href="../../db/d7a/a02253.html#abfb8de71fa3666360d31b3f1a7ffceb9">MAXIMUM_PROCESSORS</a>];</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;</div>
<div class="line"><a name="l04101"></a><span class="lineno"><a class="line" href="../../db/db6/a00074.html#a5410f14637581221a3b16018b231944c"> 4101</a></span>&#160;    <a class="code" href="../../d8/d19/a00935.html">MM_AVL_TABLE</a> <a class="code" href="../../db/db6/a00074.html#a5410f14637581221a3b16018b231944c">AweVadRoot</a>;</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#acf0577dcd95d744e3abed6d683db08ad">AWEINFO</a>, *<a class="code" href="../../d9/dce/a02519.html#a57e28d46f05b97ddc262d8dafb3319c8">PAWEINFO</a>;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7ffd040002d46dcbccdad10c9e01e9e8">MiAweViewInserter</a> (</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMI_PHYSICAL_VIEW PhysicalView</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;    );</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad3a81b74483763af5e54519579efbbe7">MiAweViewRemover</a> (</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;    );</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0315b890ecae79daf990c135eb972f61">WIN32_PROTECTION_MASK</a></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac551cbbfea2cdc2b642c4c907a688253">MiProtectAweRegion</a> (</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a> ProtectionMask</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    );</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9389ebc6cf1acf9cb05cfe466e945a63">MiReleasePhysicalCharges</a> (</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> NumberOfPages,</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    );</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;</div>
<div class="line"><a name="l04129"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3b25077507f9507a0eec0a068617d2c6"> 4129</a></span>&#160;<span class="preprocessor">#define MI_ALLOCATION_IS_AWE       0x80000000</span></div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;<a class="code" href="../../d4/d1c/a00903.html">PMDL</a></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af1e9f7166a27c018f6a3eddea2f38f41">MiAllocatePagesForMdl</a> (</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PHYSICAL_ADDRESS</a> LowAddress,</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PHYSICAL_ADDRESS</a> HighAddress,</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PHYSICAL_ADDRESS</a> SkipBytes,</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> TotalBytes,</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a> CacheAttribute,</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Flags</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;    );</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;<span class="comment">// Stuff for support of POSIX Fork.</span></div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;</div>
<div class="line"><a name="l04145"></a><span class="lineno"><a class="line" href="../../df/dc6/a00949.html"> 4145</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/dc6/a00949.html">_MMCLONE_BLOCK</a> {</div>
<div class="line"><a name="l04146"></a><span class="lineno"><a class="line" href="../../df/dc6/a00949.html#ab5806a3ed12b188a4e11c04191d19304"> 4146</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../df/dc6/a00949.html#ab5806a3ed12b188a4e11c04191d19304">ProtoPte</a>;</div>
<div class="line"><a name="l04147"></a><span class="lineno"><a class="line" href="../../df/dc6/a00949.html#ae5f699f436791496671ef94c4d52e7f4"> 4147</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/dc6/a00949.html#ae5f699f436791496671ef94c4d52e7f4">CloneRefCount</a>;</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a6823227b57532304ef5332d3d9383998">MMCLONE_BLOCK</a>, *<a class="code" href="../../d9/dce/a02519.html#a00b68e0673243df063aaf44c14a7768b">PMMCLONE_BLOCK</a>;</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;</div>
<div class="line"><a name="l04150"></a><span class="lineno"><a class="line" href="../../dc/da0/a00951.html"> 4150</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/da0/a00951.html">_MMCLONE_HEADER</a> {</div>
<div class="line"><a name="l04151"></a><span class="lineno"><a class="line" href="../../dc/da0/a00951.html#a9482fb341f24f73fae6c13f824ffa488"> 4151</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/da0/a00951.html#a9482fb341f24f73fae6c13f824ffa488">NumberOfPtes</a>;</div>
<div class="line"><a name="l04152"></a><span class="lineno"><a class="line" href="../../dc/da0/a00951.html#a4a59eb3d1537c6520e0149bc768f9b0d"> 4152</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../dc/da0/a00951.html#a4a59eb3d1537c6520e0149bc768f9b0d">NumberOfProcessReferences</a>;</div>
<div class="line"><a name="l04153"></a><span class="lineno"><a class="line" href="../../dc/da0/a00951.html#a80f1e935f4e62ea002871a96dd20db32"> 4153</a></span>&#160;    PMMCLONE_BLOCK <a class="code" href="../../dc/da0/a00951.html#a80f1e935f4e62ea002871a96dd20db32">ClonePtes</a>;</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a6574e879d8d4fd9c1b0b43b4b317ff51">MMCLONE_HEADER</a>, *<a class="code" href="../../d9/dce/a02519.html#a9e3fa9c33b19b3007573e1abef7d3e96">PMMCLONE_HEADER</a>;</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;</div>
<div class="line"><a name="l04156"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html"> 4156</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d39/a00950.html">_MMCLONE_DESCRIPTOR</a> {</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04158"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#ab4f1525b0fab02be47f036692f49c41b"> 4158</a></span>&#160;        <a class="code" href="../../de/d48/a02167.html#ab806494dc8904358e60aec7d1efc9331">LONG_PTR</a> <a class="code" href="../../df/d39/a00950.html#ab4f1525b0fab02be47f036692f49c41b">Balance</a> : 2;</div>
<div class="line"><a name="l04159"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#aa7437e6ecb08c7b1db1260743876d371"> 4159</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a> *<a class="code" href="../../df/d39/a00950.html#aa7437e6ecb08c7b1db1260743876d371">Parent</a>;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    } <a class="code" href="../../df/d39/a00950.html#a40b14ca72e2bef9c2c56e007e13f8764">u1</a>;</div>
<div class="line"><a name="l04161"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#af4b93f819ad34b8a8f5bcb651217871b"> 4161</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a> *<a class="code" href="../../df/d39/a00950.html#af4b93f819ad34b8a8f5bcb651217871b">LeftChild</a>;</div>
<div class="line"><a name="l04162"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#a77bb5924b24daabe4c85ebbed4c12682"> 4162</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a> *<a class="code" href="../../df/d39/a00950.html#a77bb5924b24daabe4c85ebbed4c12682">RightChild</a>;</div>
<div class="line"><a name="l04163"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#af678b46972ebfb52904392469528d70c"> 4163</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../df/d39/a00950.html#af678b46972ebfb52904392469528d70c">StartingVpn</a>;</div>
<div class="line"><a name="l04164"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#add4c2ca33cb265e7ac8c1c1744de120e"> 4164</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../df/d39/a00950.html#add4c2ca33cb265e7ac8c1c1744de120e">EndingVpn</a>;</div>
<div class="line"><a name="l04165"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#a17d24cc442ecaea7dcc9bfaeeb199d8c"> 4165</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d39/a00950.html#a17d24cc442ecaea7dcc9bfaeeb199d8c">NumberOfPtes</a>;</div>
<div class="line"><a name="l04166"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#a066ae3bfe318848005236de0035b9e50"> 4166</a></span>&#160;    PMMCLONE_HEADER <a class="code" href="../../df/d39/a00950.html#a066ae3bfe318848005236de0035b9e50">CloneHeader</a>;</div>
<div class="line"><a name="l04167"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#a48d6d99ebf5ce5dd77150edddfb8b167"> 4167</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d39/a00950.html#a48d6d99ebf5ce5dd77150edddfb8b167">NumberOfReferences</a>;</div>
<div class="line"><a name="l04168"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#ae38091ecdc4e5a936d4026f3850d0684"> 4168</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d39/a00950.html#ae38091ecdc4e5a936d4026f3850d0684">FinalNumberOfReferences</a>;</div>
<div class="line"><a name="l04169"></a><span class="lineno"><a class="line" href="../../df/d39/a00950.html#a49855f4bbbbf3e3c5805d1a8033d1a4d"> 4169</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../df/d39/a00950.html#a49855f4bbbbf3e3c5805d1a8033d1a4d">PagedPoolQuotaCharge</a>;</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a45d87fb5468a914667d1b947c5ec199b">MMCLONE_DESCRIPTOR</a>, *<a class="code" href="../../d9/dce/a02519.html#a783b052228a1afb58d9c7808798ee44e">PMMCLONE_DESCRIPTOR</a>;</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;<span class="comment">// The following macro allocates and initializes a bitmap from the</span></div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;<span class="comment">// specified pool of the specified size.</span></div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;<span class="comment">//      VOID</span></div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;<span class="comment">//      MiCreateBitMap (</span></div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;<span class="comment">//          OUT PRTL_BITMAP *BitMapHeader,</span></div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;<span class="comment">//          IN SIZE_T SizeOfBitMap,</span></div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;<span class="comment">//          IN POOL_TYPE PoolType</span></div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;<span class="comment">//          );</span></div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;</div>
<div class="line"><a name="l04184"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a023c5e9d7bb2def2a8c807b2d7194173"> 4184</a></span>&#160;<span class="preprocessor">#define MiCreateBitMap(BMH,S,P) {                          \</span></div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;<span class="preprocessor">    ULONG _S;                                              \</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;<span class="preprocessor">    ASSERT ((ULONG64)(S) &lt; _4gb);                          \</span></div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;<span class="preprocessor">    _S = sizeof(RTL_BITMAP) + (ULONG)((((S) + 31) / 32) * 4);         \</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;<span class="preprocessor">    *(BMH) = (PRTL_BITMAP)ExAllocatePoolWithTag( (P), _S, &#39;  mM&#39;);       \</span></div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;<span class="preprocessor">    if (*(BMH)) { \</span></div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;<span class="preprocessor">        RtlInitializeBitMap( *(BMH), (PULONG)((*(BMH))+1), (ULONG)(S)); \</span></div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;<span class="preprocessor">    }                                                          \</span></div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;</div>
<div class="line"><a name="l04194"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a77c3c617fa87d8525e42e913191088ed"> 4194</a></span>&#160;<span class="preprocessor">#define MiRemoveBitMap(BMH)     {                          \</span></div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;<span class="preprocessor">    ExFreePool(*(BMH));                                    \</span></div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;<span class="preprocessor">    *(BMH) = NULL;                                         \</span></div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;<span class="preprocessor">}</span></div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;</div>
<div class="line"><a name="l04199"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a50df4b4afa68c5c7e41005bc48e85b83"> 4199</a></span>&#160;<span class="preprocessor">#define MI_INITIALIZE_ZERO_MDL(MDL) { \</span></div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;<span class="preprocessor">    MDL-&gt;Next = (PMDL) NULL; \</span></div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;<span class="preprocessor">    MDL-&gt;MdlFlags = 0; \</span></div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;<span class="preprocessor">    MDL-&gt;StartVa = NULL; \</span></div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;<span class="preprocessor">    MDL-&gt;ByteOffset = 0; \</span></div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;<span class="preprocessor">    MDL-&gt;ByteCount = 0; \</span></div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;<span class="comment">// Page File structures.</span></div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;</div>
<div class="line"><a name="l04211"></a><span class="lineno"><a class="line" href="../../dd/d11/a00960.html"> 4211</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/d11/a00960.html">_MMMOD_WRITER_LISTHEAD</a> {</div>
<div class="line"><a name="l04212"></a><span class="lineno"><a class="line" href="../../dd/d11/a00960.html#a92bd53bffb3162a5eec2c0bda1cc0bc5"> 4212</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dd/d11/a00960.html#a92bd53bffb3162a5eec2c0bda1cc0bc5">ListHead</a>;</div>
<div class="line"><a name="l04213"></a><span class="lineno"><a class="line" href="../../dd/d11/a00960.html#a0e40c28e89e01c9fd90f14192c694e87"> 4213</a></span>&#160;    <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../dd/d11/a00960.html#a0e40c28e89e01c9fd90f14192c694e87">Event</a>;</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a51d0fb124ffc1031d9f8afdb62d83c69">MMMOD_WRITER_LISTHEAD</a>, *<a class="code" href="../../d9/dce/a02519.html#adf8ba1e7d99382bfa1f4afa910f95021">PMMMOD_WRITER_LISTHEAD</a>;</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;</div>
<div class="line"><a name="l04216"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html"> 4216</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d45/a00961.html">_MMMOD_WRITER_MDL_ENTRY</a> {</div>
<div class="line"><a name="l04217"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a0dce6115855dbb392227005d3b94fb93"> 4217</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../da/d45/a00961.html#a0dce6115855dbb392227005d3b94fb93">Links</a>;</div>
<div class="line"><a name="l04218"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a8f0c07bb611721fbd84f037389a34525"> 4218</a></span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../da/d45/a00961.html#a8f0c07bb611721fbd84f037389a34525">WriteOffset</a>;</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04220"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a7f3c75b55330ebee9c9f8c5a2793eb66"> 4220</a></span>&#160;        <a class="code" href="../../d5/d39/a00676.html">IO_STATUS_BLOCK</a> <a class="code" href="../../da/d45/a00961.html#a7f3c75b55330ebee9c9f8c5a2793eb66">IoStatus</a>;</div>
<div class="line"><a name="l04221"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a63089aad1a5c0e72c8d28f4608024359"> 4221</a></span>&#160;        <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../da/d45/a00961.html#a63089aad1a5c0e72c8d28f4608024359">LastByte</a>;</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    } <a class="code" href="../../da/d45/a00961.html#a992357c22bcca6e023994d63d2cb40d6">u</a>;</div>
<div class="line"><a name="l04223"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a0c7b72c080df4dbda6b68ff80d5daa49"> 4223</a></span>&#160;    <a class="code" href="../../dd/dce/a02200.html#a72ac9d3792fa806a30a1a8df851b590b">PIRP</a> <a class="code" href="../../da/d45/a00961.html#a0c7b72c080df4dbda6b68ff80d5daa49">Irp</a>;</div>
<div class="line"><a name="l04224"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a98a42e41ccc8cf2c86ce5465a3ae763e"> 4224</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d45/a00961.html#a98a42e41ccc8cf2c86ce5465a3ae763e">LastPageToWrite</a>;</div>
<div class="line"><a name="l04225"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#ab4d9cfbb10669964582e3efbf0e8f5e3"> 4225</a></span>&#160;    PMMMOD_WRITER_LISTHEAD <a class="code" href="../../da/d45/a00961.html#ab4d9cfbb10669964582e3efbf0e8f5e3">PagingListHead</a>;</div>
<div class="line"><a name="l04226"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a7ff76c973458fff67cd4f815ffcb69be"> 4226</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">PLIST_ENTRY</a> <a class="code" href="../../da/d45/a00961.html#a7ff76c973458fff67cd4f815ffcb69be">CurrentList</a>;</div>
<div class="line"><a name="l04227"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#af0de74a1c94433f82d5380441bffbfc9"> 4227</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../de/dad/a00963.html">_MMPAGING_FILE</a> *<a class="code" href="../../da/d45/a00961.html#af0de74a1c94433f82d5380441bffbfc9">PagingFile</a>;</div>
<div class="line"><a name="l04228"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a1101e7f75f5014f448fb5cf808c8e543"> 4228</a></span>&#160;    <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> <a class="code" href="../../da/d45/a00961.html#a1101e7f75f5014f448fb5cf808c8e543">File</a>;</div>
<div class="line"><a name="l04229"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a4efc016a4e288fef1be830a4c6858658"> 4229</a></span>&#160;    PCONTROL_AREA <a class="code" href="../../da/d45/a00961.html#a4efc016a4e288fef1be830a4c6858658">ControlArea</a>;</div>
<div class="line"><a name="l04230"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#a408528ef6355592f0a12ba8424a53c61"> 4230</a></span>&#160;    <a class="code" href="../../d3/d30/a00370.html">PERESOURCE</a> <a class="code" href="../../da/d45/a00961.html#a408528ef6355592f0a12ba8424a53c61">FileResource</a>;</div>
<div class="line"><a name="l04231"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#ac69294aa364f4010590503c4d49b5b4c"> 4231</a></span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../da/d45/a00961.html#ac69294aa364f4010590503c4d49b5b4c">IssueTime</a>;</div>
<div class="line"><a name="l04232"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#ac256f658efb252377c7746ee98244b4f"> 4232</a></span>&#160;    <a class="code" href="../../d4/d1c/a00903.html">MDL</a> <a class="code" href="../../da/d45/a00961.html#ac256f658efb252377c7746ee98244b4f">Mdl</a>;</div>
<div class="line"><a name="l04233"></a><span class="lineno"><a class="line" href="../../da/d45/a00961.html#ad5c519ad72f064c017b5e155fed1389d"> 4233</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../da/d45/a00961.html#ad5c519ad72f064c017b5e155fed1389d">Page</a>[1];</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a0fbb18827857c6d0ed3fbc34640fc1b1">MMMOD_WRITER_MDL_ENTRY</a>, *<a class="code" href="../../d9/dce/a02519.html#aea7bb1d3a06a2e20e5bc7f85685556be">PMMMOD_WRITER_MDL_ENTRY</a>;</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;</div>
<div class="line"><a name="l04237"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a81830a16c4d4264fda4d0b27d8070239"> 4237</a></span>&#160;<span class="preprocessor">#define MM_PAGING_FILE_MDLS 2</span></div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;</div>
<div class="line"><a name="l04239"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html"> 4239</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../de/dad/a00963.html">_MMPAGING_FILE</a> {</div>
<div class="line"><a name="l04240"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a1cdab5deeef4d12755b05ba9def0d4fe"> 4240</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#a1cdab5deeef4d12755b05ba9def0d4fe">Size</a>;</div>
<div class="line"><a name="l04241"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#ac9a016d7ed172c621ef35e62c2746bb4"> 4241</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#ac9a016d7ed172c621ef35e62c2746bb4">MaximumSize</a>;</div>
<div class="line"><a name="l04242"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a0ca60bfbfd08ffd153d26e3efba5c795"> 4242</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#a0ca60bfbfd08ffd153d26e3efba5c795">MinimumSize</a>;</div>
<div class="line"><a name="l04243"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a7be8871ae40d9c3abe07e231e417b7f1"> 4243</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#a7be8871ae40d9c3abe07e231e417b7f1">FreeSpace</a>;</div>
<div class="line"><a name="l04244"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a30cb9d21e45718c6f8b6e480dc9ee5eb"> 4244</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#a30cb9d21e45718c6f8b6e480dc9ee5eb">CurrentUsage</a>;</div>
<div class="line"><a name="l04245"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a81d114077b22387aa657b9f9ad8fad97"> 4245</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#a81d114077b22387aa657b9f9ad8fad97">PeakUsage</a>;</div>
<div class="line"><a name="l04246"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#afccc1b04281cd13cfa884512f8ef4bc6"> 4246</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../de/dad/a00963.html#afccc1b04281cd13cfa884512f8ef4bc6">HighestPage</a>;</div>
<div class="line"><a name="l04247"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a6f3c38ed0dde3c272677dbd1415ec0b4"> 4247</a></span>&#160;    <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> <a class="code" href="../../de/dad/a00963.html#a6f3c38ed0dde3c272677dbd1415ec0b4">File</a>;</div>
<div class="line"><a name="l04248"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a862e537500bad83395e3442621eaf8ca"> 4248</a></span>&#160;    PMMMOD_WRITER_MDL_ENTRY <a class="code" href="../../de/dad/a00963.html#a862e537500bad83395e3442621eaf8ca">Entry</a>[<a class="code" href="../../d9/dce/a02519.html#a81830a16c4d4264fda4d0b27d8070239">MM_PAGING_FILE_MDLS</a>];</div>
<div class="line"><a name="l04249"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a103beb78e5053193a21f21b6fdcc599c"> 4249</a></span>&#160;    <a class="code" href="../../dd/d00/a01776.html">UNICODE_STRING</a> <a class="code" href="../../de/dad/a00963.html#a103beb78e5053193a21f21b6fdcc599c">PageFileName</a>;</div>
<div class="line"><a name="l04250"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a24ef80872d6b02afd9ebc4aef177b750"> 4250</a></span>&#160;    <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../de/dad/a00963.html#a24ef80872d6b02afd9ebc4aef177b750">Bitmap</a>;</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    <span class="keyword">struct </span>{</div>
<div class="line"><a name="l04252"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a7260b86340ebcc83f3b844cc10cd73c3"> 4252</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../de/dad/a00963.html#a7260b86340ebcc83f3b844cc10cd73c3">PageFileNumber</a> :  4;</div>
<div class="line"><a name="l04253"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a475b9de91bb6efacfc39e9cb32281373"> 4253</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../de/dad/a00963.html#a475b9de91bb6efacfc39e9cb32281373">ReferenceCount</a> :  4;      <span class="comment">// really only need 1 bit for this.</span></div>
<div class="line"><a name="l04254"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a5e645b20ff715d45e01ac81e7ec73023"> 4254</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../de/dad/a00963.html#a5e645b20ff715d45e01ac81e7ec73023">BootPartition</a>  :  1;</div>
<div class="line"><a name="l04255"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#a0beb33b820ca4a65d9facd5cfba2f110"> 4255</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/d13/a02237.html#ac4ba056700d2913c40f13f20d1be42a3">Reserved</a>       : 23;</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    };</div>
<div class="line"><a name="l04257"></a><span class="lineno"><a class="line" href="../../de/dad/a00963.html#affe6e07474af72ea59c8056079ef60b3"> 4257</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="../../de/dad/a00963.html#affe6e07474af72ea59c8056079ef60b3">FileHandle</a>;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aa78c8d641fcb41034073bc3944727616">MMPAGING_FILE</a>, *<a class="code" href="../../d9/dce/a02519.html#a5ee29342b234af04a987758ef544965f">PMMPAGING_FILE</a>;</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;<span class="comment">// System PTE structures.</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;</div>
<div class="line"><a name="l04264"></a><span class="lineno"><a class="line" href="../../dc/db6/a00955.html"> 4264</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/db6/a00955.html">_MMFREE_POOL_ENTRY</a> {</div>
<div class="line"><a name="l04265"></a><span class="lineno"><a class="line" href="../../dc/db6/a00955.html#acbfa6e3ef1141d222313facf2cbeb422"> 4265</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dc/db6/a00955.html#acbfa6e3ef1141d222313facf2cbeb422">List</a>;        <span class="comment">// maintained free&amp;chk, 1st entry only</span></div>
<div class="line"><a name="l04266"></a><span class="lineno"><a class="line" href="../../dc/db6/a00955.html#a814eeb3912709015561262c25df9230f"> 4266</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../dc/db6/a00955.html#a814eeb3912709015561262c25df9230f">Size</a>;        <span class="comment">// maintained free&amp;chk, 1st entry only</span></div>
<div class="line"><a name="l04267"></a><span class="lineno"><a class="line" href="../../dc/db6/a00955.html#a8363e53018513ff464789e69cba6514a"> 4267</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/db6/a00955.html#a8363e53018513ff464789e69cba6514a">Signature</a>;        <span class="comment">// maintained chk only, all entries</span></div>
<div class="line"><a name="l04268"></a><span class="lineno"><a class="line" href="../../dc/db6/a00955.html#a84f9d7d6b5b05073ddd9f4d52d97b723"> 4268</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../dc/db6/a00955.html">_MMFREE_POOL_ENTRY</a> *<a class="code" href="../../dc/db6/a00955.html#a84f9d7d6b5b05073ddd9f4d52d97b723">Owner</a>; <span class="comment">// maintained free&amp;chk, all entries</span></div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ab19d895ed972c5900dad94cad2f8eefd">MMFREE_POOL_ENTRY</a>, *<a class="code" href="../../d9/dce/a02519.html#a005e6e317d09c0b92430b0c42ada942c">PMMFREE_POOL_ENTRY</a>;</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;</div>
<div class="line"><a name="l04272"></a><span class="lineno"><a class="line" href="../../db/d40/a00959.html"> 4272</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../db/d40/a00959.html">_MMLOCK_CONFLICT</a> {</div>
<div class="line"><a name="l04273"></a><span class="lineno"><a class="line" href="../../db/d40/a00959.html#a8a3744dd851e127b5a79d8076368f647"> 4273</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../db/d40/a00959.html#a8a3744dd851e127b5a79d8076368f647">List</a>;</div>
<div class="line"><a name="l04274"></a><span class="lineno"><a class="line" href="../../db/d40/a00959.html#ad7233bf25145d605822c1d3e0efe583c"> 4274</a></span>&#160;    <a class="code" href="../../db/d7e/a00372.html">PETHREAD</a> <a class="code" href="../../db/d40/a00959.html#ad7233bf25145d605822c1d3e0efe583c">Thread</a>;</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ad9e536b77258fce5ebb2ff16203414b1">MMLOCK_CONFLICT</a>, *<a class="code" href="../../d9/dce/a02519.html#a08b77d14533361e9d211e45d0012f36d">PMMLOCK_CONFLICT</a>;</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;<span class="comment">// System view structures</span></div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;</div>
<div class="line"><a name="l04281"></a><span class="lineno"><a class="line" href="../../da/d0a/a00993.html"> 4281</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d0a/a00993.html">_MMVIEW</a> {</div>
<div class="line"><a name="l04282"></a><span class="lineno"><a class="line" href="../../da/d0a/a00993.html#aa20a4720623e9b61216610ca4efa3563"> 4282</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../da/d0a/a00993.html#aa20a4720623e9b61216610ca4efa3563">Entry</a>;</div>
<div class="line"><a name="l04283"></a><span class="lineno"><a class="line" href="../../da/d0a/a00993.html#a7b5522e676d79a0b9536ce1c2ac50aa1"> 4283</a></span>&#160;    PCONTROL_AREA <a class="code" href="../../da/d0a/a00993.html#a7b5522e676d79a0b9536ce1c2ac50aa1">ControlArea</a>;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a7aa74dc61a538e7c8c23c314a15219a6">MMVIEW</a>, *<a class="code" href="../../d9/dce/a02519.html#a8968d03534cae4d0003603e8d4e9bd2c">PMMVIEW</a>;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;<span class="comment">// The MMSESSION structure represents kernel memory that is only valid on a</span></div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="comment">// per-session basis, thus the calling thread must be in the proper session</span></div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;<span class="comment">// to access this structure.</span></div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;</div>
<div class="line"><a name="l04292"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html"> 4292</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d98/a00983.html">_MMSESSION</a> {</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;    <span class="comment">// Never refer to the SystemSpaceViewLock directly - always use the pointer</span></div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;    <span class="comment">// following it or you will break support for multiple concurrent sessions.</span></div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;</div>
<div class="line"><a name="l04299"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#acb2d91dc6aedf4abab6982a97a23f2a6"> 4299</a></span>&#160;    <a class="code" href="../../d8/dba/a00773.html">KGUARDED_MUTEX</a> <a class="code" href="../../d7/d98/a00983.html#acb2d91dc6aedf4abab6982a97a23f2a6">SystemSpaceViewLock</a>;</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="comment">// This points to the mutex above and is needed because the MMSESSION</span></div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;    <span class="comment">// is mapped in session space and the mutex needs to be globally</span></div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <span class="comment">// visible for proper KeWaitForSingleObject &amp; KeSetEvent operation.</span></div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;</div>
<div class="line"><a name="l04307"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a6e46b078e5963600f1993d1a78dadbf6"> 4307</a></span>&#160;    <a class="code" href="../../d8/dba/a00773.html">PKGUARDED_MUTEX</a> <a class="code" href="../../d7/d98/a00983.html#a6e46b078e5963600f1993d1a78dadbf6">SystemSpaceViewLockPointer</a>;</div>
<div class="line"><a name="l04308"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a8a9c0ccdcbeec4150965cae130906ff3"> 4308</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a6addcc52e2dfddf231bf3213859ae2bb">PCHAR</a> <a class="code" href="../../d7/d98/a00983.html#a8a9c0ccdcbeec4150965cae130906ff3">SystemSpaceViewStart</a>;</div>
<div class="line"><a name="l04309"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a8f5c4e498ae7ff7ffbd228044908863b"> 4309</a></span>&#160;    PMMVIEW <a class="code" href="../../d7/d98/a00983.html#a8f5c4e498ae7ff7ffbd228044908863b">SystemSpaceViewTable</a>;</div>
<div class="line"><a name="l04310"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a8c90d81a8771faba7b38fea0c55dd2bd"> 4310</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d98/a00983.html#a8c90d81a8771faba7b38fea0c55dd2bd">SystemSpaceHashSize</a>;</div>
<div class="line"><a name="l04311"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a143c8ae8f9d71d70770ec05add64bf89"> 4311</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d98/a00983.html#a143c8ae8f9d71d70770ec05add64bf89">SystemSpaceHashEntries</a>;</div>
<div class="line"><a name="l04312"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a0006e31589bcf77dad036e1eff1dd320"> 4312</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d98/a00983.html#a0006e31589bcf77dad036e1eff1dd320">SystemSpaceHashKey</a>;</div>
<div class="line"><a name="l04313"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a45ff0c95e9b875792a0e9af41777f9a5"> 4313</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/d98/a00983.html#a45ff0c95e9b875792a0e9af41777f9a5">BitmapFailures</a>;</div>
<div class="line"><a name="l04314"></a><span class="lineno"><a class="line" href="../../d7/d98/a00983.html#a8325a079d716fe6c3575aa996affc4ab"> 4314</a></span>&#160;    <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../d7/d98/a00983.html#a8325a079d716fe6c3575aa996affc4ab">SystemSpaceBitMap</a>;</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a1ec71864cdb890fcf2a622b19a2955e9">MMSESSION</a>, *<a class="code" href="../../d9/dce/a02519.html#ae3c777908a8008a565c7748bcd8a2f0b">PMMSESSION</a>;</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/d98/a00983.html">MMSESSION</a>   <a class="code" href="../../d9/dce/a02519.html#a43362109da13d646bc966a048677926e">MmSession</a>;</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;</div>
<div class="line"><a name="l04320"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad29d995b8a3f1938844bc8770a8c937c"> 4320</a></span>&#160;<span class="preprocessor">#define LOCK_SYSTEM_VIEW_SPACE(_Session) \</span></div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;<span class="preprocessor">            KeAcquireGuardedMutex (_Session-&gt;SystemSpaceViewLockPointer)</span></div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;</div>
<div class="line"><a name="l04323"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8fbbc8f6c4bea8eb2af6590cf0e42309"> 4323</a></span>&#160;<span class="preprocessor">#define UNLOCK_SYSTEM_VIEW_SPACE(_Session) \</span></div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;<span class="preprocessor">            KeReleaseGuardedMutex (_Session-&gt;SystemSpaceViewLockPointer)</span></div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;<span class="comment">// List for flushing TBs singularly.</span></div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;</div>
<div class="line"><a name="l04330"></a><span class="lineno"><a class="line" href="../../de/d4e/a00972.html"> 4330</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../de/d4e/a00972.html">_MMPTE_FLUSH_LIST</a> {</div>
<div class="line"><a name="l04331"></a><span class="lineno"><a class="line" href="../../de/d4e/a00972.html#a00f2056315540d1cea84eda82129e2a6"> 4331</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../de/d4e/a00972.html#a00f2056315540d1cea84eda82129e2a6">Count</a>;</div>
<div class="line"><a name="l04332"></a><span class="lineno"><a class="line" href="../../de/d4e/a00972.html#a197a2a24e791a39b4e1ffbecd788ffa3"> 4332</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../de/d4e/a00972.html#a197a2a24e791a39b4e1ffbecd788ffa3">FlushVa</a>[<a class="code" href="../../d9/dce/a02519.html#a7f0a8d4679df587284a4c45da3dcd72e">MM_MAXIMUM_FLUSH_COUNT</a>];</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aa001b00338162382c5d492e7e6d67ab2">MMPTE_FLUSH_LIST</a>, *<a class="code" href="../../d9/dce/a02519.html#a7af5b067c68a4db78548e23ab91652f5">PMMPTE_FLUSH_LIST</a>;</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;<span class="comment">// List for flushing WSLEs and TBs singularly.</span></div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;</div>
<div class="line"><a name="l04339"></a><span class="lineno"><a class="line" href="../../d9/d9a/a00998.html"> 4339</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d9a/a00998.html">_MMWSLE_FLUSH_LIST</a> {</div>
<div class="line"><a name="l04340"></a><span class="lineno"><a class="line" href="../../d9/d9a/a00998.html#af21de8a491632b161eadda7284d92918"> 4340</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/d9a/a00998.html#af21de8a491632b161eadda7284d92918">Count</a>;</div>
<div class="line"><a name="l04341"></a><span class="lineno"><a class="line" href="../../d9/d9a/a00998.html#a913ba42682f0382c8c5ab95343e9b088"> 4341</a></span>&#160;    <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> <a class="code" href="../../d9/d9a/a00998.html#a913ba42682f0382c8c5ab95343e9b088">FlushIndex</a>[<a class="code" href="../../d9/dce/a02519.html#a7f0a8d4679df587284a4c45da3dcd72e">MM_MAXIMUM_FLUSH_COUNT</a>];</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#abe07e6993bd9b88114442013dc0aae7c">MMWSLE_FLUSH_LIST</a>, *<a class="code" href="../../d9/dce/a02519.html#a8169ed7a6db7fe4bfb7178167955e358">PMMWSLE_FLUSH_LIST</a>;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;</div>
<div class="line"><a name="l04344"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html"> 4344</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/d0a/a00850.html">_LOCK_TRACKER</a> {</div>
<div class="line"><a name="l04345"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a3485a16f609cbac4d0d5bdea82cb6b24"> 4345</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../dc/d0a/a00850.html#a3485a16f609cbac4d0d5bdea82cb6b24">ListEntry</a>;</div>
<div class="line"><a name="l04346"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a8c186d8c2257c4244490a1be255ba0e2"> 4346</a></span>&#160;    <a class="code" href="../../d4/d1c/a00903.html">PMDL</a> <a class="code" href="../../dc/d0a/a00850.html#a8c186d8c2257c4244490a1be255ba0e2">Mdl</a>;</div>
<div class="line"><a name="l04347"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#aa8f94193303330b55d085467fca64d12"> 4347</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/d0a/a00850.html#aa8f94193303330b55d085467fca64d12">StartVa</a>;</div>
<div class="line"><a name="l04348"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a4e33bf251acf6ea99cfd30999525e088"> 4348</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../dc/d0a/a00850.html#a4e33bf251acf6ea99cfd30999525e088">Count</a>;</div>
<div class="line"><a name="l04349"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a5cf9e1a3944926a138d1af2b23e5dc0b"> 4349</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d0a/a00850.html#a5cf9e1a3944926a138d1af2b23e5dc0b">Offset</a>;</div>
<div class="line"><a name="l04350"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a419e2adb984e00e77ab700434a59f217"> 4350</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d0a/a00850.html#a419e2adb984e00e77ab700434a59f217">Length</a>;</div>
<div class="line"><a name="l04351"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a7d0f8f94accf1d4c26ed959263addb9c"> 4351</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../dc/d0a/a00850.html#a7d0f8f94accf1d4c26ed959263addb9c">Page</a>;</div>
<div class="line"><a name="l04352"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a2fe4e4060e1444d3ac2cbb8d8fc3fc0c"> 4352</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/d0a/a00850.html#a2fe4e4060e1444d3ac2cbb8d8fc3fc0c">CallingAddress</a>;</div>
<div class="line"><a name="l04353"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a5080bef460495c5aeb2a29df1f45cd7f"> 4353</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dc/d0a/a00850.html#a5080bef460495c5aeb2a29df1f45cd7f">CallersCaller</a>;</div>
<div class="line"><a name="l04354"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#a3e65ea8819691c34ed1d8d3ea79929d7"> 4354</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d0a/a00850.html#a3e65ea8819691c34ed1d8d3ea79929d7">Who</a>;</div>
<div class="line"><a name="l04355"></a><span class="lineno"><a class="line" href="../../dc/d0a/a00850.html#acb5cd0f9b5130653987d5f6586171218"> 4355</a></span>&#160;    <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> <a class="code" href="../../dc/d0a/a00850.html#acb5cd0f9b5130653987d5f6586171218">Process</a>;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a4b021e12e843ddb31aa4c2107a9176f4">LOCK_TRACKER</a>, *<a class="code" href="../../d9/dce/a02519.html#a5e69df55ba48341f0b71e9b41c495505">PLOCK_TRACKER</a>;</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a>  <a class="code" href="../../d9/dce/a02519.html#a363a9385ea6c288150e4f3ac8a2671a8">MmTrackLockedPages</a>;</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a>  <a class="code" href="../../d9/dce/a02519.html#a14563eeed98cab769b33b9816b7f81c9">MiTrackingAborted</a>;</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aaf9f894ba403191b59c693d5544004ab">MiDereferenceIoSpace</a> (</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d1c/a00903.html">PMDL</a> MemoryDescriptorList</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;    );</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;</div>
<div class="line"><a name="l04366"></a><span class="lineno"><a class="line" href="../../d4/d60/a00847.html"> 4366</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d60/a00847.html">_LOCK_HEADER</a> {</div>
<div class="line"><a name="l04367"></a><span class="lineno"><a class="line" href="../../d4/d60/a00847.html#ae61e2bc9ad9f6031e5b56e9e14a6c991"> 4367</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d4/d60/a00847.html#ae61e2bc9ad9f6031e5b56e9e14a6c991">ListHead</a>;</div>
<div class="line"><a name="l04368"></a><span class="lineno"><a class="line" href="../../d4/d60/a00847.html#aec34161eaedd6f2368dc91a099308400"> 4368</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d4/d60/a00847.html#aec34161eaedd6f2368dc91a099308400">Count</a>;</div>
<div class="line"><a name="l04369"></a><span class="lineno"><a class="line" href="../../d4/d60/a00847.html#a8e6566a162a4d5d22dded83504300a65"> 4369</a></span>&#160;    <a class="code" href="../../df/de4/a02241.html#a89adb6dc0ec6cc3fcce2441adcf97013">KSPIN_LOCK</a> <a class="code" href="../../d4/d60/a00847.html#a8e6566a162a4d5d22dded83504300a65">Lock</a>;</div>
<div class="line"><a name="l04370"></a><span class="lineno"><a class="line" href="../../d4/d60/a00847.html#a67bc7ca32a80ced78e9aa0c5e78499f6"> 4370</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d4/d60/a00847.html#a67bc7ca32a80ced78e9aa0c5e78499f6">Valid</a>;</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ad71fce3c641ede6ff80f532978d4172b">LOCK_HEADER</a>, *<a class="code" href="../../d9/dce/a02519.html#a99441d23070c13a77467dd8689047cdf">PLOCK_HEADER</a>;</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#aa548b383222d899d1e8436a2cd40ebaa">MmSnapUnloads</a>;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;</div>
<div class="line"><a name="l04375"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aee47b3a32cf828090b815efbcd4e9650"> 4375</a></span>&#160;<span class="preprocessor">#define MI_UNLOADED_DRIVERS 50</span></div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a446ab3a758c5cab5b54458f52fa604ce">MmLastUnloadedDriver</a>;</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d3/dac/a01777.html">PUNLOADED_DRIVERS</a> <a class="code" href="../../d9/dce/a02519.html#a48a0d9611893cdee41d7d2e778afb87f">MmUnloadedDrivers</a>;</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a> <a class="code" href="../../d9/dce/a02519.html#a3de94e712de9ceec442cd98c74b8bab8">MiAllMainMemoryMustBeCached</a>;</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a9985cd59f3e0bc22e374e417737124f5">MiFullyInitialized</a>;</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a93c35638100dd8d3bcb85df27755f63a">MiInitMachineDependent</a> (</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dcf/a00845.html">PLOADER_PARAMETER_BLOCK</a> LoaderBlock</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    );</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a23c522beaf83f412db2d3e49ed6f0780">MiAddHalIoMappings</a> (</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    );</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a86b642b51c578df0b7eb3ed19219fb27">MiReportPhysicalMemory</a> (</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;    );</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#aaec871e0214e873a7f9d1517e36e5023">MiNumberOfCompressionPages</a>;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac9b68302351f140b5d10983ec6670d05">MiArmCompressionInterrupt</a> (</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;    );</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa2e1e8609bd2c12a502fb1366c7740fe">MiBuildPagedPool</a> (</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;    );</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aea2f29084b6d771c5074fdbe736bbc60">MiInitializeNonPagedPool</a> (</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;    );</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a53b8db23aeb871854683c81ebe89e5e5">MiAddExpansionNonPagedPool</a> (</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPages,</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> PfnHeld</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    );</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a316bb06b745a4833b5574acdb0297472">MiInitializePoolEvents</a> (</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;    );</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aee3c7ab7dfb9e65f94581d4b5c6c5367">MiInitializeNonPagedPoolThresholds</a> (</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    );</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a3586f36fcd5ab80f572a517288fcc6ed">MiInitializeSystemSpaceMap</a> (</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> Session <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;    );</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;<a class="code" href="../../d9/dce/a02519.html#adab89ad863aa585c1526683603618208">MiFindInitializationCode</a> (</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *StartVa,</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *EndVa</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    );</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a15718240acd391e5312b3b42bf8287eb">MiFreeInitializationCode</a> (</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartVa,</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndVa</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;    );</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a356314cddf1b83d8181d3b0b5a44422c">MiNonCachedCollisions</a>;</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;<span class="comment">// If /NOLOWMEM is used, this is set to the boundary PFN (pages below this</span></div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;<span class="comment">// value are not used whenever possible).</span></div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#acc84022ecd4f2b705b0a6f6ee65593a1">MiNoLowMemory</a>;</div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a284cc466957e655fde93c943580fb508">MiAllocateLowMemory</a> (</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d5/ddd/a02184.html#a46c1fda1daa0351fcd9ee85bb6c1fa6d">NumberOfBytes</a>,</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> LowestAcceptablePfn,</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> HighestAcceptablePfn,</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> BoundaryPfn,</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> CallingAddress,</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a> <a class="code" href="../../dd/d31/a02215.html#a3dcd9f7dac8168477fc17173a7d8e7f4">CacheType</a>,</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d5/ddd/a02184.html#a81afa05d457d7830c34d1c17a2872a5f">Tag</a></div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;    );</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;<a class="code" href="../../d9/dce/a02519.html#adc0adf23eefacfaa48da5e5d19f9c58a">MiFreeLowMemory</a> (</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress,</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d5/ddd/a02184.html#a81afa05d457d7830c34d1c17a2872a5f">Tag</a></div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    );</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;<span class="comment">// Move drivers out of the low 16mb that ntldr placed them at - this makes more</span></div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;<span class="comment">// memory below 16mb available for ISA-type drivers that cannot run without it.</span></div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#a4222654e7fca252795caee85f49fd31d">MmMakeLowMemory</a>;</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a72379d74af1215f256603571741f05ae">MiRemoveLowPages</a> (</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> RemovePhase</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;    );</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab82c3c5f3e73439d2c66bdce818892de">MiSectionInitialization</a> (</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    );</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;</div>
<div class="line"><a name="l04494"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab09bd83ae374acacca5a0b519b2c8bfe"> 4494</a></span>&#160;<span class="preprocessor">#define MI_MAX_DEREFERENCE_CHUNK (64 * 1024 / PAGE_SIZE)</span></div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;</div>
<div class="line"><a name="l04496"></a><span class="lineno"><a class="line" href="../../dc/d92/a00929.html"> 4496</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/d92/a00929.html">_MI_PFN_DEREFERENCE_CHUNK</a> {</div>
<div class="line"><a name="l04497"></a><span class="lineno"><a class="line" href="../../dc/d92/a00929.html#a0bd293011b88800b3c67d3e406b626b5"> 4497</a></span>&#160;    <a class="code" href="../../de/db6/a01627.html">SINGLE_LIST_ENTRY</a> <a class="code" href="../../dc/d92/a00929.html#a0bd293011b88800b3c67d3e406b626b5">ListEntry</a>;</div>
<div class="line"><a name="l04498"></a><span class="lineno"><a class="line" href="../../dc/d92/a00929.html#adee5b5ca500174695e3fdddfe38cf770"> 4498</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2f97102877eb5065bef97a8dd09b125">CSHORT</a> <a class="code" href="../../dc/d92/a00929.html#adee5b5ca500174695e3fdddfe38cf770">Flags</a>;</div>
<div class="line"><a name="l04499"></a><span class="lineno"><a class="line" href="../../dc/d92/a00929.html#a421677bd135bb071da218fd68fca52fd"> 4499</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a> <a class="code" href="../../dc/d92/a00929.html#a421677bd135bb071da218fd68fca52fd">NumberOfPages</a>;</div>
<div class="line"><a name="l04500"></a><span class="lineno"><a class="line" href="../../dc/d92/a00929.html#ad3dceb56ace4e0a72a14cccdb325712a"> 4500</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../dc/d92/a00929.html#ad3dceb56ace4e0a72a14cccdb325712a">Pfns</a>[<a class="code" href="../../d9/dce/a02519.html#ab09bd83ae374acacca5a0b519b2c8bfe">MI_MAX_DEREFERENCE_CHUNK</a>];</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a97eb49afe32df70551f5da8feb8bc530">MI_PFN_DEREFERENCE_CHUNK</a>, *<a class="code" href="../../d9/dce/a02519.html#a71942b2e9de0f67357593f0c5eb1e1ca">PMI_PFN_DEREFERENCE_CHUNK</a>;</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/deb/a01628.html">SLIST_HEADER</a> <a class="code" href="../../d9/dce/a02519.html#a51a92e6a3f888a90f92748ad5d602de2">MmPfnDereferenceSListHead</a>;</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/dc3/a02256.html#a51a55345c30f049d20abe1f3301c9040">PSLIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a2517eb6410f3caf6d99dfca289105d43">MmPfnDeferredList</a>;</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;</div>
<div class="line"><a name="l04506"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a270ca2bfb57ec082dda0abcd2e25fa35"> 4506</a></span>&#160;<span class="preprocessor">#define MI_DEFER_PFN_HELD               0x1</span></div>
<div class="line"><a name="l04507"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a52bcef6a79361649184988d302beaa88"> 4507</a></span>&#160;<span class="preprocessor">#define MI_DEFER_DRAIN_LOCAL_ONLY       0x2</span></div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a44bc4e22684cc5d15be273c889bea0be">MiDeferredUnlockPages</a> (</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;     <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Flags</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;     );</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a93ec4ba3d5cc729ce9b7ff7656d4569a">MiFreeAllExpansionNonPagedPool</a> (</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    );</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab056e8e11d9c343849e849d4a854be9d">MiDecrementReferenceCountForAwePage</a> (</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> PfnHeld</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;    );</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;<span class="comment">// MiDecrementReferenceCountInline (</span></div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;<span class="comment">//    IN PMMPFN PFN</span></div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;<span class="comment">//    IN PFN_NUMBER FRAME</span></div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;<span class="comment">//    MiDecrementReferenceCountInline decrements the reference count inline,</span></div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;<span class="comment">//    only calling MiDecrementReferenceCount if the count would go to zero</span></div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;<span class="comment">//    which would cause the page to be released.</span></div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;<span class="comment">//    PFN - Supplies the PFN to decrement.</span></div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;<span class="comment">//    FRAME - Supplies the frame matching the above PFN.</span></div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;<span class="comment">// Environment:</span></div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;<span class="comment">//    PFN lock held.</span></div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;</div>
<div class="line"><a name="l04554"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afe821e13cc752dc8351cefe0db887be1"> 4554</a></span>&#160;<span class="preprocessor">#define MiDecrementReferenceCountInline(PFN, FRAME)                     \</span></div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;<span class="preprocessor">            MM_PFN_LOCK_ASSERT();                                       \</span></div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;<span class="preprocessor">            ASSERT (MI_PFN_ELEMENT(FRAME) == (PFN));                    \</span></div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;<span class="preprocessor">            ASSERT ((FRAME) &lt;= MmHighestPhysicalPage);                  \</span></div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;<span class="preprocessor">            ASSERT ((PFN)-&gt;u3.e2.ReferenceCount != 0);                  \</span></div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;<span class="preprocessor">            if ((PFN)-&gt;u3.e2.ReferenceCount != 1) {                     \</span></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;<span class="preprocessor">                InterlockedDecrementPfn ((PSHORT)&amp;((PFN)-&gt;u3.e2.ReferenceCount)); \</span></div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;<span class="preprocessor">            else {                                                      \</span></div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;<span class="preprocessor">                MiDecrementReferenceCount (PFN, FRAME);                 \</span></div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aeb7477ef0388511817b5c77d15cf0132">MiDecrementShareCount</a> (</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;    );</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;<span class="comment">// MiDecrementShareCountInline (</span></div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;<span class="comment">//    IN PMMPFN PFN,</span></div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;<span class="comment">//    IN PFN_NUMBER FRAME</span></div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;<span class="comment">//    MiDecrementShareCountInline decrements the share count inline,</span></div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;<span class="comment">//    only calling MiDecrementShareCount if the count would go to zero</span></div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;<span class="comment">//    which would cause the page to be released.</span></div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;<span class="comment">//    PFN - Supplies the PFN to decrement.</span></div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;<span class="comment">//    FRAME - Supplies the frame matching the above PFN.</span></div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;<span class="comment">// Environment:</span></div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;<span class="comment">//    PFN lock held.</span></div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;</div>
<div class="line"><a name="l04602"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8095ecd220a238628004f81c5c86d78e"> 4602</a></span>&#160;<span class="preprocessor">#define MiDecrementShareCountInline(PFN, FRAME)                         \</span></div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;<span class="preprocessor">            if ((PFN)-&gt;u2.ShareCount != 1) {                            \</span></div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;<span class="preprocessor">                MM_PFN_LOCK_ASSERT();                                   \</span></div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;<span class="preprocessor">                ASSERT ((FRAME) &gt; 0);                                   \</span></div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;<span class="preprocessor">                ASSERT (MI_IS_PFN(FRAME));                              \</span></div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;<span class="preprocessor">                ASSERT (MI_PFN_ELEMENT(FRAME) == (PFN));                \</span></div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;<span class="preprocessor">                ASSERT ((PFN)-&gt;u2.ShareCount != 0);                     \</span></div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;<span class="preprocessor">                if ((PFN)-&gt;u3.e1.PageLocation != ActiveAndValid &amp;&amp; (PFN)-&gt;u3.e1.PageLocation != StandbyPageList) {                                      \</span></div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;<span class="preprocessor">                    KeBugCheckEx (PFN_LIST_CORRUPT, 0x99, FRAME, (PFN)-&gt;u3.e1.PageLocation, 0);                                                         \</span></div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;<span class="preprocessor">                }                                                       \</span></div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;<span class="preprocessor">                (PFN)-&gt;u2.ShareCount -= 1;                              \</span></div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;<span class="preprocessor">                ASSERT ((PFN)-&gt;u2.ShareCount &lt; 0xF000000);              \</span></div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;<span class="preprocessor">            }                                                           \</span></div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;<span class="preprocessor">            else {                                                      \</span></div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;<span class="preprocessor">                MiDecrementShareCount (PFN, FRAME);                     \</span></div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;<span class="preprocessor">            }</span></div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;<span class="comment">// Routines which operate on the Page Frame Database Lists</span></div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a02cd88d7364e5999f9a489615132555d">MiInsertPageInList</a> (</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dd4/a00968.html">PMMPFNLIST</a> ListHead,</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;    );</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af325a9368d5bac25ccdcfbf32d0e4b63">MiInsertPageInFreeList</a> (</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    );</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a760bb7f78babb98c1a42edac0130a2fc">MiInsertZeroListAtBack</a> (</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;    );</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;<a class="code" href="../../d9/dce/a02519.html#adfb31bb0639deb82388bc876e06ae570">MiInsertStandbyListAtFront</a> (</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    );</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab7002b22f45e581f6f1e416d627f111d">MiRemovePageFromList</a> (</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dd4/a00968.html">PMMPFNLIST</a> ListHead</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    );</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5a0c2ee8a2560bc6254a52a45b2dda91">MiUnlinkPageFromList</a> (</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;    );</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a37063eb33d61b794d02702641aacffd2">MiUnlinkFreeOrZeroedPage</a> (</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;    );</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ace21c29e3dd94150ba0adb3f64b4de91">MiInsertFrontModifiedNoWrite</a> (</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    );</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;<span class="comment">// These are the thresholds for handing out an available page.</span></div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;</div>
<div class="line"><a name="l04675"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af4fcf4b0bdbf4767bfc7614dc6505139"> 4675</a></span>&#160;<span class="preprocessor">#define MM_LOW_LIMIT                2</span></div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;</div>
<div class="line"><a name="l04677"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a59e56ae1e66eda5d1b4ac7a646794a63"> 4677</a></span>&#160;<span class="preprocessor">#define MM_MEDIUM_LIMIT            32</span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;</div>
<div class="line"><a name="l04679"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a90632de08cfb1955a8fe201a72e6558f"> 4679</a></span>&#160;<span class="preprocessor">#define MM_HIGH_LIMIT             128</span></div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;<span class="comment">// These are thresholds for enabling various optimizations.</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;</div>
<div class="line"><a name="l04685"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ace2812202bd00c0d2e40a97e073add2f"> 4685</a></span>&#160;<span class="preprocessor">#define MM_TIGHT_LIMIT            256</span></div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;</div>
<div class="line"><a name="l04687"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a67921b73601c75bfbad54df50e47097a"> 4687</a></span>&#160;<span class="preprocessor">#define MM_PLENTY_FREE_LIMIT     1024</span></div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;</div>
<div class="line"><a name="l04689"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afa6d4e3a3d31eafb4455c407d9b7ed5f"> 4689</a></span>&#160;<span class="preprocessor">#define MM_VERY_HIGH_LIMIT      10000</span></div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;</div>
<div class="line"><a name="l04691"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5fa8fef273462637b5f099d8e47dfb5f"> 4691</a></span>&#160;<span class="preprocessor">#define MM_ENORMOUS_LIMIT       20000</span></div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8be983d89556b4ab842952b14e3bc838">MiEnsureAvailablePageOrWait</a> (</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    );</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1733b189327e89134aedf61646e8899d">MiAllocatePfn</a> (</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Protection</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;    );</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a93cb8d2987437170f0b56a464a9ad81c">MiRemoveAnyPage</a> (</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> PageColor</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    );</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab077389b87b9cc0bea0709fb2a0a79ff">MiRemoveZeroPage</a> (</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> PageColor</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;    );</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;</div>
<div class="line"><a name="l04718"></a><span class="lineno"><a class="line" href="../../d8/d64/a00181.html"> 4718</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d64/a00181.html">_COLORED_PAGE_INFO</a> {</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l04720"></a><span class="lineno"><a class="line" href="../../d8/d64/a00181.html#a4f03ffd54d044b24ba3741fd98a1ccab"> 4720</a></span>&#160;        <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d8/d64/a00181.html#a4f03ffd54d044b24ba3741fd98a1ccab">PagesLeftToScan</a>;</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;<span class="preprocessor">#if defined(MI_MULTINODE) </span></div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;        <a class="code" href="../../de/d48/a02167.html#a4dd2e8c7f1a4ba202385c73fe6fd6c22">KAFFINITY</a> Affinity;</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    };</div>
<div class="line"><a name="l04725"></a><span class="lineno"><a class="line" href="../../d8/d64/a00181.html#a6325465a02a7873c1432c24d5b507878"> 4725</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#aaeb17bbcfab2592bd93fd7c4a7a0ce92">PFN_COUNT</a> <a class="code" href="../../d8/d64/a00181.html#a6325465a02a7873c1432c24d5b507878">PagesQueued</a>;</div>
<div class="line"><a name="l04726"></a><span class="lineno"><a class="line" href="../../d8/d64/a00181.html#a22eb91e18c7f4ffae5535842f6c119f5"> 4726</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab9c55cfdb7ce38f441883f50c21c00ed">SCHAR</a> <a class="code" href="../../d8/d64/a00181.html#a22eb91e18c7f4ffae5535842f6c119f5">BasePriority</a>;</div>
<div class="line"><a name="l04727"></a><span class="lineno"><a class="line" href="../../d8/d64/a00181.html#a38fb645000a7721f05ad26c2b45b596c"> 4727</a></span>&#160;    PMMPFN <a class="code" href="../../d8/d64/a00181.html#a38fb645000a7721f05ad26c2b45b596c">PfnAllocation</a>;</div>
<div class="line"><a name="l04728"></a><span class="lineno"><a class="line" href="../../d8/d64/a00181.html#a6e018b86f1f6f550de71a54367f7ef99"> 4728</a></span>&#160;    <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d8/d64/a00181.html#a6e018b86f1f6f550de71a54367f7ef99">Event</a>;</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ab105d1dde88bd85ee5bdb708f9a7c778">COLORED_PAGE_INFO</a>, *<a class="code" href="../../d9/dce/a02519.html#a3781c66ecf6aaa1a6b569b1d089945c8">PCOLORED_PAGE_INFO</a>;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac1c32f14cbee84c37561d659cd0e2c34">MiZeroInParallel</a> (</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCOLORED_PAGE_INFO ColoredPageInfoBase</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;    );</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac05a63c6b70a794da8b3d9e2450e824c">MiStartZeroPageWorkers</a> (</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;    );</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a595f1f92af113904c75b47d68fde14e0">MiPurgeTransitionList</a> (</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;    );</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;</div>
<div class="line"><a name="l04746"></a><span class="lineno"><a class="line" href="../../d5/d54/a00938.html"> 4746</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d54/a00938.html">_MM_LDW_WORK_CONTEXT</a> {</div>
<div class="line"><a name="l04747"></a><span class="lineno"><a class="line" href="../../d5/d54/a00938.html#a7466ede537f2c0a9c782b6e40bac9b3b"> 4747</a></span>&#160;    <a class="code" href="../../de/dfb/a01874.html">WORK_QUEUE_ITEM</a> <a class="code" href="../../d5/d54/a00938.html#a7466ede537f2c0a9c782b6e40bac9b3b">WorkItem</a>;</div>
<div class="line"><a name="l04748"></a><span class="lineno"><a class="line" href="../../d5/d54/a00938.html#a704ecb102e0a04b7a62d979226c4661b"> 4748</a></span>&#160;    <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> <a class="code" href="../../d5/d54/a00938.html#a704ecb102e0a04b7a62d979226c4661b">FileObject</a>;</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a67d743e4765f93673bcadeef58b11643">MM_LDW_WORK_CONTEXT</a>, *<a class="code" href="../../d9/dce/a02519.html#a51c3e998ff452ee3e87c2b5051e446f4">PMM_LDW_WORK_CONTEXT</a>;</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a95260003d95d30c704faf789b366da07">MiLdwPopupWorker</a> (</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> Context</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    );</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aeec41aea1fb9d5d8d321b922bb482375">MiDereferenceLastChanceLdw</a> (</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMM_LDW_WORK_CONTEXT LdwContext</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    );</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;</div>
<div class="line"><a name="l04761"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a49a64cb882e715b274d35f6e12f92871"> 4761</a></span>&#160;<span class="preprocessor">#define MI_LARGE_PAGE_DRIVER_BUFFER_LENGTH 512</span></div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aad61bc3eae1804d8784adebdce0721d3">WCHAR</a> <a class="code" href="../../d9/dce/a02519.html#aa5ef77b3379c5937062a44e49b043650">MmLargePageDriverBuffer</a>[];</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a9d5869abf2976729d4f6f853ab3d490c">MmLargePageDriverBufferLength</a>;</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;<a class="code" href="../../d9/dce/a02519.html#adb1a1caa2e4b21c9c44159b8bb73a1fb">MiInitializeDriverLargePageList</a> (</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;    );</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2af626dd2a2a395615cf0e312d95a5cf">MiInitializeLargePageSupport</a> (</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;    );</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;</div>
<div class="line"><a name="l04776"></a><span class="lineno"><a class="line" href="../../d8/d38/a00926.html"> 4776</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d38/a00926.html">_MI_LARGEPAGE_MEMORY_RUN</a> {</div>
<div class="line"><a name="l04777"></a><span class="lineno"><a class="line" href="../../d8/d38/a00926.html#a1a1f92c2de96049d5d06379b85b8826a"> 4777</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d8/d38/a00926.html">_MI_LARGEPAGE_MEMORY_RUN</a> *<a class="code" href="../../d8/d38/a00926.html#a1a1f92c2de96049d5d06379b85b8826a">Next</a>;</div>
<div class="line"><a name="l04778"></a><span class="lineno"><a class="line" href="../../d8/d38/a00926.html#affefcbdcf84dc809e6fe02500a4a461b"> 4778</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d8/d38/a00926.html#affefcbdcf84dc809e6fe02500a4a461b">BasePage</a>;</div>
<div class="line"><a name="l04779"></a><span class="lineno"><a class="line" href="../../d8/d38/a00926.html#a4a30662c0a696c7ee7fd7828ebf7ae08"> 4779</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d8/d38/a00926.html#a4a30662c0a696c7ee7fd7828ebf7ae08">PageCount</a>;</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a596f0b94349a209bc0284ca64a3f4aa5">MI_LARGEPAGE_MEMORY_RUN</a>, *<a class="code" href="../../d9/dce/a02519.html#af88c4ddceeb565fe0d91f5918533a16d">PMI_LARGEPAGE_MEMORY_RUN</a>;</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2e6666340f11ee8cb7339972cbc4754e">MiReturnLargePages</a> (</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMI_LARGEPAGE_MEMORY_RUN LargePageListHead</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    );</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;PMI_LARGEPAGE_MEMORY_RUN</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af8c0e41e9a17029e5958372d1eb25d71">MiAllocateLargeZeroPages</a> (</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPages,</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a> ProtectionMask</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;    );</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0bacc69e91680ae93c1258dfa30e4873">MiAllocateLargePages</a> (</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a> ProtectionMask,</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> CallerHasPages</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;    );</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a535cf95b1ba584eacf9b9321a1d13060">MiFindLargePageMemory</a> (</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCOLORED_PAGE_INFO ColoredPageInfo,</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages,</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a> ProtectionMask,</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../df/d0e/a02195.html#a90161b777082de0a1042e4ccec5cc90a">PPFN_NUMBER</a> OutZeroCount</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    );</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af141e189af976e9751b226c41c53e69a">MiFreeLargePageMemory</a> (</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    );</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;<a class="code" href="../../d9/dce/a02519.html#afc40878afcbfa091eb7f5d28c880c02e">MiFreeLargePages</a> (</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> CallerHadPages</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    );</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aba8da66a8e1b617e1dfbe7f38258c746">MiMapWithLargePages</a> (</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPages,</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Protection,</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a> <a class="code" href="../../dd/d31/a02215.html#a3dcd9f7dac8168477fc17173a7d8e7f4">CacheType</a></div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    );</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a25a4333aa538f0036b116d12739d4138">MiUnmapLargePages</a> (</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress,</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d5/ddd/a02184.html#a46c1fda1daa0351fcd9ee85bb6c1fa6d">NumberOfBytes</a></div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    );</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac2d953ce24805ef0614099c726973533">MiMustFrameBeCached</a> (</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;    );</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1611f6e833db11f419204fa8cb1717aa">MiSyncCachedRanges</a> (</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    );</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0c60e3df189b7316008e892f21415374">MiAddCachedRange</a> (</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> LastPageFrameIndex</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    );</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;<a class="code" href="../../d9/dce/a02519.html#afc682704cd2f7d555ab0c849501dca56">MiRemoveCachedRange</a> (</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> LastPageFrameIndex</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;    );</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;</div>
<div class="line"><a name="l04861"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#addcd6bd239789d12f57b165e0e10cd6a"> 4861</a></span>&#160;<span class="preprocessor">#define MI_PAGE_FRAME_INDEX_MUST_BE_CACHED(PageFrameIndex)                  \</span></div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;<span class="preprocessor">            MiMustFrameBeCached(PageFrameIndex)</span></div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0b96dfda36f88bfba99c7e2237e24a7a">MiFreeContiguousPages</a> (</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;    );</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab0e1efeb5bc213f4a4acbf9e72dec118">MiFindContiguousPages</a> (</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> LowestPfn,</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> HighestPfn,</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> BoundaryPfn,</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages,</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a> <a class="code" href="../../dd/d31/a02215.html#a3dcd9f7dac8168477fc17173a7d8e7f4">CacheType</a></div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    );</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad5fc5a47aa7b2616d42dda0404f6e01f">MiFindContiguousMemory</a> (</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> LowestPfn,</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> HighestPfn,</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> BoundaryPfn,</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages,</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a> <a class="code" href="../../dd/d31/a02215.html#a3dcd9f7dac8168477fc17173a7d8e7f4">CacheType</a>,</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> CallingAddress</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;    );</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac25d8eb5316004ac41778ad5e40a7a72">MiCheckForContiguousMemory</a> (</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress,</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> BaseAddressPages,</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages,</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> LowestPfn,</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> HighestPfn,</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> BoundaryPfn,</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a> CacheAttribute</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    );</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;<span class="comment">// Routines which operate on the page frame database entry.</span></div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1b0d893a6210e20e0c7fe93e2e587f31">MiInitializePfn</a> (</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ModifiedState</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;    );</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7e984e718cf171744238dc9dc49d98f7">MiInitializePfnAndMakePteValid</a> (</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> NewPteContents</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;    );</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac4c1f5ecc63a28e1dff8da975d1eabcc">MiInitializePfnForOtherProcess</a> (</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> ContainingPageFrame</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;    );</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ae10f78210ca351b006aa29e3e9b6a7dd">MiInitializeCopyOnWritePfn</a> (</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WorkingSetIndex,</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMWSL WorkingSetList</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    );</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;<a class="code" href="../../d9/dce/a02519.html#acb3eba71012236b9148d1bd59e58abda">MiInitializeTransitionPfn</a> (</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;    );</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/deb/a01628.html">SLIST_HEADER</a> <a class="code" href="../../d9/dce/a02519.html#afcdc0c2b2ae3b04aca561762c9fa4c4a">MmInPageSupportSListHead</a>;</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1c9c09fd0218857d745f392856edb6ed">MiFreeInPageSupportBlock</a> (</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMINPAGE_SUPPORT Support</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    );</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;PMMINPAGE_SUPPORT</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8f1ae077e75bb29818a522cd87348f76">MiGetInPageSupportBlock</a> (</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql,</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ad64a44524a71caf12eab151d0daef5b2">PNTSTATUS</a> <a class="code" href="../../d8/d22/a02044.html#a8d0307cc6eebba297dba1b97a0a7618e">Status</a></div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    );</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;<span class="comment">// Routines which require a physical page to be mapped into hyperspace</span></div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;<span class="comment">// within the current process.</span></div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a70defef6bf8d513ec6ea3ed549030f71">MiZeroPhysicalPage</a> (</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    );</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a39bb1513b38f385ff2dcad46c20aa4a1">MiRestoreTransitionPte</a> (</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;    );</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;PSUBSECTION</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a88381da50cb05cc30f4115e75adcfe05">MiGetSubsectionAndProtoFromPte</a> (</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> *ProtoPte</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;    );</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;<a class="code" href="../../d9/dce/a02519.html#abe7684e750bc113b744637f8285fae6a">MiMapPageInHyperSpace</a> (</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#aa8495c77c87618ddbab765a549c9cbcb">PKIRQL</a> OldIrql</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;    );</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8392082477b7a67fa07f02acd9c9ab55">MiMapPageInHyperSpaceAtDpc</a> (</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;    );</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a14ab8981369f56a43b06a4661646e886">MiUnmapPagesInZeroSpace</a> (</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#aaeb17bbcfab2592bd93fd7c4a7a0ce92">PFN_COUNT</a> NumberOfPages</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;    );</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a07443e8f94932aeaae2819f6190f12a3">MiGetPageForHeader</a> (</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> ZeroPage</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    );</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2559031e3de143faef08a953a69377a5">MiRemoveImageHeaderPage</a> (</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameNumber</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    );</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1610f3a6893ec357b74bbe1e28ddea2d">MiMapPagesToZeroInHyperSpace</a> (</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN PfnAllocation,</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#aaeb17bbcfab2592bd93fd7c4a7a0ce92">PFN_COUNT</a> NumberOfPages</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    );</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;<span class="comment">// Routines to obtain and release system PTEs.</span></div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a6eb8f5c16863a1a9cf23ad7756162ff4">MmTotalSystemPtes</a>;</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a56c9799ec30de11dbb72de54029036b9">MiLowestSystemPteVirtualAddress</a>;</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;<span class="comment">// Keep a list of the extra PTE ranges.</span></div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;</div>
<div class="line"><a name="l05024"></a><span class="lineno"><a class="line" href="../../df/dbc/a00931.html"> 5024</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/dbc/a00931.html">_MI_PTE_RANGES</a> {</div>
<div class="line"><a name="l05025"></a><span class="lineno"><a class="line" href="../../df/dbc/a00931.html#a4880ef0049de6c0a85646b998c1088c8"> 5025</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/dbc/a00931.html#a4880ef0049de6c0a85646b998c1088c8">StartingVa</a>;</div>
<div class="line"><a name="l05026"></a><span class="lineno"><a class="line" href="../../df/dbc/a00931.html#a8dd6d49cc666dfa50d8335765fa94b36"> 5026</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/dbc/a00931.html#a8dd6d49cc666dfa50d8335765fa94b36">EndingVa</a>;</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a104c36cefce44a56737edddce3c5b558">MI_PTE_RANGES</a>, *<a class="code" href="../../d9/dce/a02519.html#a1155bfa93325c4755f606a53d8d15790">PMI_PTE_RANGES</a>;</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;<span class="preprocessor">#define MI_NUMBER_OF_PTE_RANGES 1</span></div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05032"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8011058be2811392759cff5126fca2b9"> 5032</a></span>&#160;<span class="preprocessor">#define MI_NUMBER_OF_PTE_RANGES 8</span></div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a5f218e7069556503c1c0164c99f40e1e">MiPteRangeIndex</a>;</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/dbc/a00931.html">MI_PTE_RANGES</a> <a class="code" href="../../d9/dce/a02519.html#a151133b72137023218c7000aa85f0a81">MiPteRanges</a>[<a class="code" href="../../d9/dce/a02519.html#a8011058be2811392759cff5126fca2b9">MI_NUMBER_OF_PTE_RANGES</a>];</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;<a class="code" href="../../d0/daf/a00970.html">PMMPTE</a></div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5ee0d1546d372fd7a7c8e0db925b6f4b">MiReserveSystemPtes</a> (</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfPtes,</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPteType</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    );</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;<a class="code" href="../../d0/daf/a00970.html">PMMPTE</a></div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4ff08aa74e20c9d29c763cb7a7b08106">MiReserveAlignedSystemPtes</a> (</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfPtes,</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPtePoolType,</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Alignment</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    );</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a43228681a739b27a8156b552ff55c985">MiReleaseSystemPtes</a> (</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> StartingPte,</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfPtes,</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPteType</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;    );</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5d68144fcedf05fcdd743c3b1a524cd8">MiReleaseSplitSystemPtes</a> (</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> StartingPte,</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfPtes,</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPtePoolType</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    );</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a463bd4fcda7e0aba114c4c718b4f54d6">MiIncrementSystemPtes</a> (</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a>  NumberOfPtes</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    );</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9c3c47be93e53a822cde85957640a77e">MiIssueNoPtesBugcheck</a> (</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfPtes,</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPteType</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    );</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0610a88d5e7cff0f569d29e0b442b62b">MiInitializeSystemPtes</a> (</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> StartingPte,</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPtes,</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPteType</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    );</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0ebaa47343241475eb6034b9cb43c5bf">MiAddMappedPtes</a> (</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> FirstPte,</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPtes,</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    );</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7fd9ec62c531de00608cfedc425d9b23">MiInitializeIoTrackers</a> (</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    );</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9ee78402801d9d7e26fcb1b8196f7e27">MiAddMdlTracker</a> (</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d1c/a00903.html">PMDL</a> MemoryDescriptorList,</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> CallingAddress,</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> CallersCaller,</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPagesToLock,</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Who</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;    );</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a797fafec1b6e7fcd0792c8fad7175c43">MiMapSinglePage</a> (</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;     <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a> <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a>,</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;     <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;     <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a> <a class="code" href="../../dd/d31/a02215.html#a3dcd9f7dac8168477fc17173a7d8e7f4">CacheType</a>,</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;     <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#ae3cd2141a0310cc52aa9a7643e8d9f8c">MM_PAGE_PRIORITY</a> <a class="code" href="../../d5/ddd/a02184.html#af05a562f4d336d8f3e7e36edd2a31bfe">Priority</a></div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;     );</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aff8133d00b05df80fdccf323e2c317e0">MiUnmapSinglePage</a> (</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;     <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;     );</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;</div>
<div class="line"><a name="l05117"></a><span class="lineno"><a class="line" href="../../d7/db6/a00940.html"> 5117</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/db6/a00940.html">_MM_PTE_MAPPING</a> {</div>
<div class="line"><a name="l05118"></a><span class="lineno"><a class="line" href="../../d7/db6/a00940.html#a12ccf3ddc77271c23e749afcdf5c2398"> 5118</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d7/db6/a00940.html#a12ccf3ddc77271c23e749afcdf5c2398">ListEntry</a>;</div>
<div class="line"><a name="l05119"></a><span class="lineno"><a class="line" href="../../d7/db6/a00940.html#ad5be983cece69f5823c6897f7289b0ac"> 5119</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/db6/a00940.html#ad5be983cece69f5823c6897f7289b0ac">SystemVa</a>;</div>
<div class="line"><a name="l05120"></a><span class="lineno"><a class="line" href="../../d7/db6/a00940.html#a0a822cd7f559e6d5b990a71cb7c278c6"> 5120</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/db6/a00940.html#a0a822cd7f559e6d5b990a71cb7c278c6">SystemEndVa</a>;</div>
<div class="line"><a name="l05121"></a><span class="lineno"><a class="line" href="../../d7/db6/a00940.html#a75b6a9a4d9427ca4144ec9f5f9332efd"> 5121</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d7/db6/a00940.html#a75b6a9a4d9427ca4144ec9f5f9332efd">Protection</a>;</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a26f52e71a07708c41c0b43e357f192af">MM_PTE_MAPPING</a>, *<a class="code" href="../../d9/dce/a02519.html#a09b2fa61039eb57160901a5774d3ed08">PMM_PTE_MAPPING</a>;</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a6d6fdcfb3ddf29dab9fd68e66740f724">MmProtectedPteList</a>;</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/de4/a02241.html#a89adb6dc0ec6cc3fcce2441adcf97013">KSPIN_LOCK</a> <a class="code" href="../../d9/dce/a02519.html#ab2ca6a155dc599f6f1de9b1f4334844e">MmProtectedPteLock</a>;</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a33b9bac6057a849cb2d52bbc62194807">MiCheckSystemPteProtection</a> (</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> StoreInstruction,</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    );</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;<span class="comment">// Access Fault routines.</span></div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;</div>
<div class="line"><a name="l05138"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0135affa7e99d52c4bb70dedf2cbaed3"> 5138</a></span>&#160;<span class="preprocessor">#define STATUS_ISSUE_PAGING_IO (0xC0033333)</span></div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;</div>
<div class="line"><a name="l05140"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1ba82621a5b511defadda82cda6193a7"> 5140</a></span>&#160;<span class="preprocessor">#define MM_NOIRQL (HIGH_LEVEL + 2)</span></div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab54a03ad3b02308fa98223c2d3d1ede9">MiDispatchFault</a> (</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> FaultStatus,</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> VirtualAdress,</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerProtoPte,</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> RecheckAccess,</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a984817daa8faa8a1c1b7691aaa320fb4">TrapInformation</a>,</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;    );</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2d8c2ebda10cc04939e2f33a8b3f5ce6">MiResolveDemandZeroFault</a> (</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;    );</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a></div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a08715ef87480cb789fece8bc006360c3">MiIsAddressValid</a> (</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> UseForceIfPossible</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;    );</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa5cc6d677ee5c91362d3e51fedd0b531">MiAllowWorkingSetExpansion</a> (</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;    );</div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;<a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a></div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0e43736f9a3a62c8f00cb36361ad6116">MiAddValidPageToWorkingSet</a> (</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> WsleMask</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    );</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a6b13644194c82b15b66312c9328f17cd">MiTrimPte</a> (</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> ReadPte,</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess,</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> NewPteContents</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;    );</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4c2bf045b7726aefd1bdb3f2e95b3e9a">MiWaitForInPageComplete</a> (</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn,</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> FaultingAddress,</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPteContents,</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMINPAGE_SUPPORT InPageSupport,</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;    );</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;<a class="code" href="../../d9/dce/a02519.html#acc000a2578d2187a922db591d264d6df">MiCopyOnWrite</a> (</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> FaultingAddress,</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    );</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ae4de36b3f7edfae4116de1c2c6fadecb">MiSetDirtyBit</a> (</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> FaultingAddress,</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> PfnHeld</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;    );</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;<a class="code" href="../../d0/daf/a00970.html">PMMPTE</a></div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7a38a07c63971f8087388eeb2dbeb9f2">MiFindActualFaultingPte</a> (</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> FaultingAddress</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;    );</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8dacff69da76e2a00c26e77a267a98a2">MiInitializeReadInProgressSinglePfn</a> (</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> BasePte,</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> Event,</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WorkingSetIndex</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    );</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a25bbda090700a973ac5bab59d340ab0a">MiInitializeReadInProgressPfn</a> (</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/d1c/a00903.html">PMDL</a> Mdl,</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> BasePte,</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> Event,</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WorkingSetIndex</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;    );</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a3117b0194dcaec616f34145a19f85011">MiAccessCheck</a> (</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> WriteOperation,</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/dc3/a02249.html#a425eea3f57239dc3a8b77669eba3ca97">KPROCESSOR_MODE</a> PreviousMode,</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Protection,</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a984817daa8faa8a1c1b7691aaa320fb4">TrapInformation</a>,</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a> CallerHoldsPfnLock</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    );</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a28f09d090bcdfb4f2ca6f96128ee2b30">MiCheckForUserStackOverflow</a> (</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> FaultingAddress,</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a984817daa8faa8a1c1b7691aaa320fb4">TrapInformation</a></div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;    );</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;<a class="code" href="../../d0/daf/a00970.html">PMMPTE</a></div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a67a547be63ea7bada77ba8567b199886">MiCheckVirtualAddress</a> (</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> ProtectCode,</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> PMMVAD *VadOut</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    );</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a857e4ea64ee8a0c6e68f7eb5d6afb658">MiCheckPdeForPagedPool</a> (</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    );</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;<span class="preprocessor">#define MI_IS_WOW64_PROCESS(PROCESS) (PROCESS-&gt;Wow64Process)</span></div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05268"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6013d9001d9c2b894a3c96af9f1869d2"> 5268</a></span>&#160;<span class="preprocessor">#define MI_IS_WOW64_PROCESS(PROCESS) NULL</span></div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;</div>
<div class="line"><a name="l05271"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5c1322bbecfdec7eec758b2f6c7b7b2e"> 5271</a></span>&#160;<span class="preprocessor">#define MI_BREAK_ON_AV(VirtualAddress, Id)</span></div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;<span class="comment">// Routines which operate on an address tree.</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a></div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a010a4e864c00f09c4f4057cea789cdb9">MiGetNextNode</a> (</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> Node</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;    );</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a></div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a672b4c4cbe7a6706160d898a2c82d403">MiGetPreviousNode</a> (</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> Node</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    );</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a></div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a79253dd1b3d8e4fe2b554e0fce862c5c">MiGetFirstNode</a> (</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;    );</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a></div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2838cb6be0337bc36ff91541fda471ea">MiGetLastNode</a> (</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    );</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a360e764fadb9fe2504aa180e7823a568">MiInsertNode</a> (</div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> Node,</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    );</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0a4a5431a4bf7956ead7c29d2abb7f3f">MiRemoveNode</a> (</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> Node,</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    );</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a></div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8530f4b79553d951573f1b4991f9fedb">MiLocateAddressInTree</a> (</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Vpn,</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;    );</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a></div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8aad2946476dadcf9da8a11c89336446">MiCheckForConflictingNode</a> (</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> StartVpn,</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> EndVpn,</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;    );</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a18078c8539a19f4c5325ece33a93a3f0">MiFindEmptyAddressRangeInTree</a> (</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> SizeOfRange,</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Alignment,</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root,</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> *PreviousVad,</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *Base</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;    );</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8a67acb344fa200b220457dc39a2c8ec">MiFindEmptyAddressRangeDownTree</a> (</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> SizeOfRange,</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> HighestAddressToEndAt,</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Alignment,</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root,</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *Base</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;    );</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2055bded7a14a78bbcca3c4ae36d1378">MiFindEmptyAddressRangeDownBasedTree</a> (</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> SizeOfRange,</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> HighestAddressToEndAt,</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Alignment,</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root,</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *Base</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;    );</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af9f57119085759177fa27d27c15e94f4">MiEnumerateGenericTableWithoutSplayingAvl</a> (</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Table,</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *RestartKey</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;    );</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a80ffb5f3e90a0201249b63f82ef36022">NodeTreeWalk</a> (</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> Start</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    );</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;<a class="code" href="../../de/dc3/a02256.html#a7b3165ced8c4e2f6e30cde8983a2e23f">TABLE_SEARCH_RESULT</a></div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a19f4140a0c0f43bac7cef84750c7c309">MiFindNodeOrParent</a> (</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Table,</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> StartingVpn,</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a> *NodeOrParent</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;    );</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;<span class="comment">// Routines which operate on the tree of virtual address descriptors.</span></div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa0fbf4f25079e5f75ae31648bf95d1f5">MiInsertVadCharges</a> (</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    );</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a028d8411d8e9c252ff1ed7789473128f">MiRemoveVadCharges</a> (</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    );</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l05392"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a90460e3768f71713c04eb1a665f98408"> 5392</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a90460e3768f71713c04eb1a665f98408">MiInsertVad</a> (</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    )</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;<span class="comment">    This function inserts a virtual address descriptor into the tree and</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;<span class="comment">    rebalances the AVL tree as appropriate.</span></div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;<span class="comment">    Vad - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;<span class="comment">    Process - Supplies a pointer to the current process.</span></div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;<span class="comment">    None.</span></div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;{</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root;</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Vad-&gt;EndingVpn &gt;= Vad-&gt;StartingVpn);</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (CurrentProcess == <a class="code" href="../../dc/d15/a02583.html#a9e810cfa1d74915bff8b5e7cfe306f9b">PsGetCurrentProcess</a> ());</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    Root = &amp;CurrentProcess-&gt;VadRoot;</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <span class="comment">// Set the hint field in the process to this VAD.</span></div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;    CurrentProcess-&gt;VadRoot.<a class="code" href="../../d8/d19/a00935.html#aa0286a954030fdaaa2d020c94fe4cf4c">NodeHint</a> = Vad;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a360e764fadb9fe2504aa180e7823a568">MiInsertNode</a> ((<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a>)Vad, Root);</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;}</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l05437"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab4589c7d8e99d3822bac5a2caade946a"> 5437</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab4589c7d8e99d3822bac5a2caade946a">MiRemoveVad</a> (</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;    )</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;<span class="comment">    This function removes a virtual address descriptor from the tree and</span></div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;<span class="comment">    rebalances the AVL tree as appropriate.  Any quota or commitment</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;<span class="comment">    charged to the VAD has been (or will be) returned separately.</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;<span class="comment">    Vad - Supplies a pointer to a virtual address descriptor.</span></div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;<span class="comment">    CurrentProcess - Supplies a pointer to the current process.</span></div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;<span class="comment">    None.</span></div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;{</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    <a class="code" href="../../d8/d19/a00935.html">PMM_AVL_TABLE</a> Root;</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (CurrentProcess == <a class="code" href="../../dc/d15/a02583.html#a9e810cfa1d74915bff8b5e7cfe306f9b">PsGetCurrentProcess</a> ());</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;    Root = &amp;CurrentProcess-&gt;VadRoot;</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Root-&gt;<a class="code" href="../../d8/d19/a00935.html#acd6e88e82b2d41d76db396ad58583ecd">NumberGenericTableElements</a> &gt;= 1);</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a0a4a5431a4bf7956ead7c29d2abb7f3f">MiRemoveNode</a> ((<a class="code" href="../../d3/d29/a00947.html">PMMADDRESS_NODE</a>)Vad, Root);</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;    <span class="comment">// If the hint points at the removed VAD, change the hint.</span></div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;    <span class="keywordflow">if</span> (Root-&gt;<a class="code" href="../../d8/d19/a00935.html#aa0286a954030fdaaa2d020c94fe4cf4c">NodeHint</a> == Vad) {</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;        Root-&gt;<a class="code" href="../../d8/d19/a00935.html#aa0286a954030fdaaa2d020c94fe4cf4c">NodeHint</a> = Root-&gt;<a class="code" href="../../d8/d19/a00935.html#ae5f26489ed7d3dc29e2ab6957f9bb2e0">BalancedRoot</a>.<a class="code" href="../../d3/d29/a00947.html#a42ffec1da639f36cbe4784b249880f23">RightChild</a>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;        <span class="keywordflow">if</span>(Root-&gt;<a class="code" href="../../d8/d19/a00935.html#acd6e88e82b2d41d76db396ad58583ecd">NumberGenericTableElements</a> == 0) {</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;            Root-&gt;<a class="code" href="../../d8/d19/a00935.html#aa0286a954030fdaaa2d020c94fe4cf4c">NodeHint</a> = <a class="code" href="../../dd/d67/a02230.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;        }</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    }</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;}</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;PMMVAD</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a493d7e5654d44b52c2dc4dee7eccbe22">MiLocateAddress</a> (</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    );</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad6d1d8b8b1e962e6796e363738c6251f">MiFindEmptyAddressRange</a> (</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> SizeOfRange,</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Alignment,</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> QuickCheck,</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *Base</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;    );</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7554808a3ff5dae0adf379bb0ff68483">MiQueryAddressState</a> (</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> Va,</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> TargetProcess,</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> ReturnedProtect,</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *NextVaToQuery</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;    );</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;<span class="comment">// Routines which operate on the clone tree structure.</span></div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1e9c6bee87c6aec8a1bdcf86cace0b70">MiCloneProcessAddressSpace</a> (</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> ProcessToClone,</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> ProcessToInitialize</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;    );</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9feb21b585c652fdb0a42a3bdc57e91d">MiDecrementCloneBlockReference</a> (</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMCLONE_DESCRIPTOR CloneDescriptor,</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMCLONE_BLOCK CloneBlock,</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess,</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPTE_FLUSH_LIST PteFlushList <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a>,</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;    );</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a407f0a14313222f2b82566689bc28329">MiWaitForForkToComplete</a> (</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    );</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;<span class="comment">// Routines which operate on the working set list.</span></div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;<a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a></div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a677203dd74a513c3fd9892e81848ca36">MiAllocateWsle</a> (</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> WsleMask</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;    );</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac48912e4eb11eea5576b22529ec472d3">MiReleaseWsle</a> (</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WorkingSetIndex,</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;    );</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a3f7bc7b7e1acd09ff105729ac513f74f">MiInitializeWorkingSetList</a> (</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;    );</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aaee338470e05d2cd93a1384d9b81b5db">MiGrowWsleHash</a> (</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;    );</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a73a4bee2158c7dfa2b89fd0ebc7c1b57">MiFillWsleHash</a> (</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMWSL WorkingSetList</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;    );</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;<a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a></div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a67b4a43cdeb316bccbddd91dfb3a28ef">MiTrimWorkingSet</a> (</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> Reduction,</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> TrimAge</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;    );</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;<span class="preprocessor">#if defined(_AMD64_)</span></div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;<span class="preprocessor">#define MM_PROCESS_COMMIT_CHARGE 6</span></div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;<span class="preprocessor">#elif defined (_X86PAE_)</span></div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;<span class="preprocessor">#define MM_PROCESS_COMMIT_CHARGE 7</span></div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05583"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af24338e27a40dd44426e99ba03682539"> 5583</a></span>&#160;<span class="preprocessor">#define MM_PROCESS_COMMIT_CHARGE 4</span></div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;</div>
<div class="line"><a name="l05586"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a002c95bbd13db5e9e13211e2b0e9f3cb"> 5586</a></span>&#160;<span class="preprocessor">#define MI_SYSTEM_GLOBAL    0</span></div>
<div class="line"><a name="l05587"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9d812037cf2c964c1b10efcb2533a271"> 5587</a></span>&#160;<span class="preprocessor">#define MI_USER_LOCAL       1</span></div>
<div class="line"><a name="l05588"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3dacaf69ee17891dd88b4867f2a8c5de"> 5588</a></span>&#160;<span class="preprocessor">#define MI_SESSION_LOCAL    2</span></div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad93f6926dbeb94eea0bd27f64c83b784">MiTrimAllSystemPageableMemory</a> (</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MemoryType,</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> PurgeTransition</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    );</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5878ddd3653683ad14f239d3ac7232d9">MiRemoveWorkingSetPages</a> (</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;    );</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4da11e5af22fe6cb21dbbe8fe4a1e789">MiAgeWorkingSet</a> (</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> VmSupport,</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> DoAging,</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a636403863c1b1229e9f6eff0c4d1e8e4">PWSLE_NUMBER</a> WslesScanned,</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../df/d0e/a02195.html#a90161b777082de0a1042e4ccec5cc90a">PPFN_NUMBER</a> TotalClaim,</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../df/d0e/a02195.html#a90161b777082de0a1042e4ccec5cc90a">PPFN_NUMBER</a> TotalEstimatedAvailable</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;    );</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2a0a9aafdf5f72598433a448638604ec">MiInsertWsleHash</a> (</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> Entry,</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;    );</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af5ffd074c5c069da75722e2b73e7729f">MiRemoveWsle</a> (</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> Entry,</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMWSL WorkingSetList</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    );</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad72f0279622c0840caf540483969d4b6">MiTerminateWsle</a> (</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WsPfnIndex</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    );</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;<a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a></div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;<a class="code" href="../../d9/dce/a02519.html#affb4fe3c4b81c5d18252579eb2f89354">MiLocateWsle</a> (</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMWSL WorkingSetList,</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WsPfnIndex,</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> Deletion</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    );</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a760e3c54b258c41c53b613860ff68adf">MiFreeWsle</a> (</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> WorkingSetIndex,</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    );</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;<a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a></div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a31c238e916dd269c4d27a33eb686ae3e">MiFreeWsleList</a> (</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMWSLE_FLUSH_LIST WsleFlushList</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;    );</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a95ebbb36f9a78a71eee0806ce6ae7869">MiSwapWslEntries</a> (</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> SwapEntry,</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> Entry,</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> EntryNotInHash</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;    );</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a490c668cbfaecf226d00664383d2256d">MiRemoveWsleFromFreeList</a> (</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a> Entry,</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/d28/a00997.html">PMMWSLE</a> Wsle,</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMWSL WorkingSetList</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;    );</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aeec181dd425b788e48c7611dc1be908c">MiRemovePageFromWorkingSet</a> (</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;    );</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;</div>
<div class="line"><a name="l05676"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a077624f03aa061fa1d208ea3e2951f92"> 5676</a></span>&#160;<span class="preprocessor">#define MI_DELETE_FLUSH_TB  0x1</span></div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af45334fcdb29c168b32aaea63320b064">MiDeleteSystemPageableVm</a> (</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPtes,</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Flags,</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../df/d0e/a02195.html#a90161b777082de0a1042e4ccec5cc90a">PPFN_NUMBER</a> ResidentPages <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;    );</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a42fd9a3db62290db8d79f79952e86e0f">MiLockCode</a> (</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> FirstPte,</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> LastPte,</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> LockType</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;    );</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;<a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a></div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a3b676b84fafdde67ee8a79f790bc2f76">MiLookupDataTableEntry</a> (</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> AddressWithinSection,</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ResourceHeld</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;    );</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;<span class="comment">// Routines which perform working set management.</span></div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a6b1fe32476b7d90a8ea9feac6805d813">MiObtainFreePages</a> (</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;    );</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a39f459834af316f04569da71aae8d2f3">MiModifiedPageWriter</a> (</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartContext</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;    );</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab7e159478b20d87d29129fc5689408e2">MiMappedPageWriter</a> (</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartContext</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;    );</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2670d3e56dfc926b3197555e4fea3f89">MiIssuePageExtendRequest</a> (</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPAGE_FILE_EXPANSION PageExtend</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;    );</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4a4c99015719034bb434932103c8eabf">MiIssuePageExtendRequestNoWait</a> (</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SizeInPages</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;    );</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;<a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a></div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a6aeeb2dd9d02eb06875c7b5a6cefdfa3">MiExtendPagingFiles</a> (</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPAGE_FILE_EXPANSION PageExpand</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;    );</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a825d16e529f02f160608e1c0635efd5f">MiContractPagingFiles</a> (</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    );</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a034e95aa5c969353e0d5145abf288a6a">MiAttemptPageFileReduction</a> (</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    );</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a17cdafd4d3782942bdc5d792aaaabf98">MiCancelWriteOfMappedPfn</a> (</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageToStop,</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;    );</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;<span class="comment">// Routines to delete address space.</span></div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aea7e182afd28632cdbb87b77acf1abb5">MiDeletePteRange</a> (</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> LastPte,</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> AddressSpaceDeletion</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;    );</div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a365542a6ca378282aba45cd7732c9bd5">MiDeleteVirtualAddresses</a> (</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a9de25ce33a4628ba620c6ec99fa46ede">PUCHAR</a> StartingAddress,</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a9de25ce33a4628ba620c6ec99fa46ede">PUCHAR</a> EndingAddress,</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad</div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;    );</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad1ecebf8d1acef3560b358ca47313602">MiDeletePte</a> (</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> AddressSpaceDeletion,</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess,</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#aa31b9f746e59233b4f0cc8f812e81b86">PrototypePte</a>,</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPTE_FLUSH_LIST PteFlushList <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a>,</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;    );</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8317f43f500cf04a05f4220f3a912709">MiDeleteValidSystemPte</a> (</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPTE_FLUSH_LIST PteFlushList <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;    );</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5fc73fca67ec8afa63f24c786a4f3909">MiCreatePageTablesForPhysicalRange</a> (</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;    );</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1eec45fed88f3e00397b42a705bafadc">MiDeletePageTablesForPhysicalRange</a> (</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;    );</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;MiCreatePageDirectoriesForPhysicalRange (</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;    );</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;MiDeletePageDirectoriesForPhysicalRange (</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;    );</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05817"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7aa1af65a940d9fffc74605c2e0c7830"> 5817</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7aa1af65a940d9fffc74605c2e0c7830">MiFlushPteList</a> (</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPTE_FLUSH_LIST PteFlushList</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;    )</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;<span class="comment">    This routine flushes all the PTEs in the PTE flush list.</span></div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;<span class="comment">    If the list has overflowed, the entire TB is flushed.</span></div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;<span class="comment">    PteFlushList - Supplies a pointer to the list to be flushed.</span></div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;<span class="comment">    THIS MUST BE A LIST OF USERMODE ADDRESSES !!!</span></div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;<span class="comment">    None.</span></div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;<span class="comment">    Kernel mode, PFN or a pre-process AWE lock may optionally be held.</span></div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;{</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> count;</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;    count = PteFlushList-&gt;Count;</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (count != 0);</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;    <span class="keywordflow">if</span> (count == 1) {</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#aa31e621cf9c90ef13b5957d76f14edef">MI_FLUSH_SINGLE_TB</a> (PteFlushList-&gt;FlushVa[0], <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;    }</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &lt; <a class="code" href="../../d9/dce/a02519.html#a7f0a8d4679df587284a4c45da3dcd72e">MM_MAXIMUM_FLUSH_COUNT</a>) {</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a9e3b53b7613a9e65d422b36c587a04aa">MI_FLUSH_MULTIPLE_TB</a> (count, &amp;PteFlushList-&gt;FlushVa[0], <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;    }</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;        <span class="comment">// Array has overflowed, flush the entire TB.</span></div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a0cba4c6c4347fe2cdc155757cd66c3b5">MI_FLUSH_PROCESS_TB</a> (<a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    }</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;    PteFlushList-&gt;Count = 0;</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;}</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4b54008d8e431a8adf73357656ea60ec">MiReleasePageFileSpace</a> (</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> PteContents</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;    );</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;<a class="code" href="../../d9/dce/a02519.html#acfd84fe0e4659df607ae0894b97ed9fe">MiUpdateModifiedWriterMdls</a> (</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> PageFileNumber</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;    );</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a6ec00c9fed087a8161167df3b9778b1a">MiAllocateAweInfo</a> (</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;    );</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2088ecdc26443a8fcbb9e97fcd177ee3">MiFreeAweInfo</a> (</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PAWEINFO AweInfo</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;    );</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2c10b4fc7f9229d2e2f4a0e3e0d91398">MiInsertAweInfo</a> (</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PAWEINFO AweInfo</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;    );</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a49aa016a650ee3c02a2ba3ae868f929a">MiRemoveUserPhysicalPagesVad</a> (</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD_SHORT FoundVad</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;    );</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7fe577c931a811a177a7de9cabc8c167">MiCleanPhysicalProcessPages</a> (</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;    );</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;</div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a00ab641521d2abaf30a6b21547f9322d">MiResidentPagesForSpan</a> (</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress</div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;    );</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0658d315eda0b2e4793972af2f3ac642">MiChargeResidentAvailable</a> (</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPages,</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Id</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;    );</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;<a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a05baa574863b98b61ca0cb4a2f412b1b">MiCreatePhysicalVadRoot</a> (</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> WsHeld</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    );</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab70ef0d11e76d124b53f8e1b66245c05">MiPhysicalViewRemover</a> (</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    );</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a52ddca7a1dacf5855a92d129e3184ca3">MiPhysicalViewAdjuster</a> (</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD OldVad,</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD NewVad</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    );</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;<span class="comment">// MM_SYSTEM_PAGE_COLOR - MmSystemPageColor</span></div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;<span class="comment">// This variable is updated frequently, on MP systems we keep</span></div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;<span class="comment">// a separate system color per processor to avoid cache line</span></div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;<span class="comment">// thrashing.</span></div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;<span class="preprocessor">#if defined(NT_UP)</span></div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;<span class="preprocessor">#define MI_SYSTEM_PAGE_COLOR    MmSystemPageColor</span></div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;</div>
<div class="line"><a name="l05953"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0513f796a3b440dc3c03abd4dbc2b3b2"> 5953</a></span>&#160;<span class="preprocessor">#define MI_SYSTEM_PAGE_COLOR    (KeGetCurrentPrcb()-&gt;PageColor)</span></div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;<span class="preprocessor">#if defined(MI_MULTINODE)</span></div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d43/a02205.html#a1f3b66c209723809a1af7804bb056fad">PKNODE</a> <a class="code" href="../../dc/d43/a02205.html#a1777453fc97d399dc332c84cd438bd2e">KeNodeBlock</a>[];</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;<span class="preprocessor">#define MI_NODE_FROM_COLOR(c)                                               \</span></div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;<span class="preprocessor">        (KeNodeBlock[(c) &gt;&gt; MmSecondaryColorNodeShift])</span></div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;<span class="preprocessor">#define MI_GET_COLOR_FROM_LIST_ENTRY(index,pfn)                             \</span></div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;<span class="preprocessor">    ((ULONG)(((pfn)-&gt;u3.e1.PageColor &lt;&lt; MmSecondaryColorNodeShift) |        \</span></div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;<span class="preprocessor">         MI_GET_SECONDARY_COLOR((index),(pfn))))</span></div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;<span class="preprocessor">#define MI_ADJUST_COLOR_FOR_NODE(c,n)   ((c) | (n)-&gt;Color)</span></div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;<span class="preprocessor">#define MI_CURRENT_NODE_COLOR           (KeGetCurrentNodeShiftedColor())</span></div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;<span class="preprocessor">#define MiRemoveZeroPageIfAny(COLOR)                                        \</span></div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;<span class="preprocessor">        KeNumberNodes &gt; 1 ? (KeGetCurrentNode()-&gt;FreeCount[ZeroedPageList] != 0) ? MiRemoveZeroPage(COLOR) : 0 :                                           \</span></div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;<span class="preprocessor">    (MmFreePagesByColor[ZeroedPageList][COLOR].Flink != MM_EMPTY_LIST) ?    \</span></div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;<span class="preprocessor">                       MiRemoveZeroPage(COLOR) : 0</span></div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;<span class="preprocessor">#define MI_GET_PAGE_COLOR_NODE(n)                                           \</span></div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;<span class="preprocessor">        (((MI_SYSTEM_PAGE_COLOR++) &amp; MmSecondaryColorMask) |                \</span></div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;<span class="preprocessor">         KeNodeBlock[n]-&gt;MmShiftedColor)</span></div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;</div>
<div class="line"><a name="l05982"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5b10818bfa70b06342906c2d4b1ee096"> 5982</a></span>&#160;<span class="preprocessor">#define MI_NODE_FROM_COLOR(c)</span></div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;</div>
<div class="line"><a name="l05984"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9ed1693da61742e1b0a3a8709744f785"> 5984</a></span>&#160;<span class="preprocessor">#define MI_GET_COLOR_FROM_LIST_ENTRY(index,pfn)                             \</span></div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;<span class="preprocessor">         ((ULONG)MI_GET_SECONDARY_COLOR((index),(pfn)))</span></div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;</div>
<div class="line"><a name="l05987"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a234a6b48b2ed2d926035a05f73d6e2e4"> 5987</a></span>&#160;<span class="preprocessor">#define MI_ADJUST_COLOR_FOR_NODE(c,n)   (c)</span></div>
<div class="line"><a name="l05988"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa93d84d9dd4137dcd832e9116f9f06b5"> 5988</a></span>&#160;<span class="preprocessor">#define MI_CURRENT_NODE_COLOR           0</span></div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;</div>
<div class="line"><a name="l05990"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a615192acfe805f067664519980114c56"> 5990</a></span>&#160;<span class="preprocessor">#define MiRemoveZeroPageIfAny(COLOR)   \</span></div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;<span class="preprocessor">    (MmFreePagesByColor[ZeroedPageList][COLOR].Flink != MM_EMPTY_LIST) ? \</span></div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;<span class="preprocessor">                       MiRemoveZeroPage(COLOR) : 0</span></div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;</div>
<div class="line"><a name="l05994"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad608209511bb91836da4c6b757f5b88f"> 5994</a></span>&#160;<span class="preprocessor">#define MI_GET_PAGE_COLOR_NODE(n)                                           \</span></div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;<span class="preprocessor">        ((MI_SYSTEM_PAGE_COLOR++) &amp; MmSecondaryColorMask)</span></div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;<a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div>
<div class="line"><a name="l06001"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a02e3dafe42854c68bf8a7921a09a0b9f"> 6001</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a02e3dafe42854c68bf8a7921a09a0b9f">MiRemoveZeroPageMayReleaseLocks</a> (</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Color,</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;    )</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;<span class="comment">    This routine returns a zeroed page.</span></div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;<span class="comment">    It may release and reacquire the PFN lock to do so, as well as mapping</span></div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;<span class="comment">    the page in hyperspace to perform the actual zeroing if necessary.</span></div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;<span class="comment">    Kernel mode.  PFN lock held, hyperspace lock NOT held.</span></div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;{</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex;</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    PageFrameIndex = <a class="code" href="../../d9/dce/a02519.html#a615192acfe805f067664519980114c56">MiRemoveZeroPageIfAny</a> (Color);</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    <span class="keywordflow">if</span> (PageFrameIndex == 0) {</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;        PageFrameIndex = <a class="code" href="../../d9/dce/a02519.html#a93cb8d2987437170f0b56a464a9ad81c">MiRemoveAnyPage</a> (Color);</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a3d5445c465d616cc0b2e9582d1175baf">UNLOCK_PFN</a> (OldIrql);</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a70defef6bf8d513ec6ea3ed549030f71">MiZeroPhysicalPage</a> (PageFrameIndex);</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#af73046f675bd172cbd0b4e11c44c51e4">LOCK_PFN</a> (OldIrql);</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    }</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;    <span class="keywordflow">return</span> PageFrameIndex;</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;}</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;<span class="comment">// General support routines.</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &lt;= 3)</span></div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;<span class="comment">// PMMPTE</span></div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;<span class="comment">// MiGetPxeAddress (</span></div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;<span class="comment">//    IN PVOID va</span></div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;<span class="comment">//    MiGetPxeAddress returns the address of the extended page directory parent</span></div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;<span class="comment">//    entry which maps the given virtual address.  This is one level above the</span></div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;<span class="comment">//    page parent directory.</span></div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;<span class="comment">//    Va - Supplies the virtual address to locate the PXE for.</span></div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;<span class="comment">//    The address of the PXE.</span></div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;</div>
<div class="line"><a name="l06064"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6031df2ee45df1f5f4396f5bf6ac4513"> 6064</a></span>&#160;<span class="preprocessor">#define MiGetPxeAddress(va)   ((PMMPTE)0)</span></div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;<span class="comment">// LOGICAL</span></div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;<span class="comment">// MiIsPteOnPxeBoundary (</span></div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;<span class="comment">//    IN PVOID PTE</span></div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;<span class="comment">//    MiIsPteOnPxeBoundary returns TRUE if the PTE is</span></div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;<span class="comment">//    on an extended page directory parent entry boundary.</span></div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;<span class="comment">//    PTE - Supplies the PTE to check.</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;<span class="comment">//    TRUE if on a boundary, FALSE if not.</span></div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;</div>
<div class="line"><a name="l06087"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9e2db9dbc2c5b56a137091bd4298b48d"> 6087</a></span>&#160;<span class="preprocessor">#define MiIsPteOnPxeBoundary(PTE) (FALSE)</span></div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &lt;= 2)</span></div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;<span class="comment">// PMMPTE</span></div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;<span class="comment">// MiGetPpeAddress (</span></div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;<span class="comment">//    IN PVOID va</span></div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;<span class="comment">//    MiGetPpeAddress returns the address of the page directory parent entry</span></div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;<span class="comment">//    which maps the given virtual address.  This is one level above the</span></div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;<span class="comment">//    page directory.</span></div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;<span class="comment">//    Va - Supplies the virtual address to locate the PPE for.</span></div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;<span class="comment">//    The address of the PPE.</span></div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;</div>
<div class="line"><a name="l06115"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af52ec2472252e84d3317777ecca3375d"> 6115</a></span>&#160;<span class="preprocessor">#define MiGetPpeAddress(va)  ((PMMPTE)0)</span></div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;<span class="comment">// LOGICAL</span></div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;<span class="comment">// MiIsPteOnPpeBoundary (</span></div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;<span class="comment">//    IN PVOID VA</span></div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;<span class="comment">//    MiIsPteOnPpeBoundary returns TRUE if the PTE is</span></div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;<span class="comment">//    on a page directory parent entry boundary.</span></div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;<span class="comment">//    VA - Supplies the virtual address to check.</span></div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;<span class="comment">//    TRUE if on a boundary, FALSE if not.</span></div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;</div>
<div class="line"><a name="l06138"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a906f69dd66b5247273c9e5cac030345a"> 6138</a></span>&#160;<span class="preprocessor">#define MiIsPteOnPpeBoundary(PTE) (FALSE)</span></div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7f5c178103a6d6a7bee15e3472f81db6">MiDoesPdeExistAndMakeValid</a> (</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPde,</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> TargetProcess,</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql,</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> Waited</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    );</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 3)</span></div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;<span class="preprocessor">#define MiDoesPpeExistAndMakeValid(PPE, PROCESS, PFNLOCKIRQL, WAITED) \</span></div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;<span class="preprocessor">            MiDoesPdeExistAndMakeValid(PPE, PROCESS, PFNLOCKIRQL, WAITED)</span></div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06154"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7e502bc7006a1e9a7f8d0150246a8c3a"> 6154</a></span>&#160;<span class="preprocessor">#define MiDoesPpeExistAndMakeValid(PPE, PROCESS, PFNLOCKIRQL, WAITED) 1</span></div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;</div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 4)</span></div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;<span class="preprocessor">#define MiDoesPxeExistAndMakeValid(PXE, PROCESS, PFNLOCKIRQL, WAITED) \</span></div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;<span class="preprocessor">            MiDoesPdeExistAndMakeValid(PXE, PROCESS, PFNLOCKIRQL, WAITED)</span></div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06161"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8abb3e3e959f9688dd2157e84f5bec0e"> 6161</a></span>&#160;<span class="preprocessor">#define MiDoesPxeExistAndMakeValid(PXE, PROCESS, PFNLOCKIRQL, WAITED) 1</span></div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aed22fc4a40990d81e7dafc0c674ba3e0">MiMakePdeExistAndMakeValid</a> (</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPde,</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> TargetProcess,</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    );</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aab7380b41807d1ee23fcf90516ed8dea">MiMakeSystemAddressValid</a> (</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess</div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;    );</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9bde24ca8879200b902d0054de4532b5">MiMakeSystemAddressValidPfnWs</a> (</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess,</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    );</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2eaef353656ba32d609bd64decc3160e">MiMakeSystemAddressValidPfnSystemWs</a> (</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    );</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a92956a3150c69f1df88e9de95ee789de">MiMakeSystemAddressValidPfn</a> (</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    );</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l06203"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7f5c178103a6d6a7bee15e3472f81db6"> 6203</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7f5c178103a6d6a7bee15e3472f81db6">MiDoesPdeExistAndMakeValid</a> (</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPde,</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> TargetProcess,</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql,</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> Waited</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    )</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;<span class="comment">    This routine examines the specified Page Directory Entry to determine</span></div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;<span class="comment">    if the page table page mapped by the PDE exists.</span></div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;<span class="comment">    If the page table page exists and is not currently in memory, the</span></div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;<span class="comment">    working set pushlock and, if held, the PFN lock are released and the</span></div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;<span class="comment">    page table page is faulted into the working set.  The pushlock and PFN</span></div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;<span class="comment">    lock are reacquired.</span></div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;<span class="comment">    If the PDE exists, the function returns TRUE.</span></div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;<span class="comment">    PointerPde - Supplies a pointer to the PDE to examine and potentially</span></div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;<span class="comment">                 bring into the working set.</span></div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;<span class="comment">    TargetProcess - Supplies a pointer to the current process.</span></div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;<span class="comment">    OldIrql - Supplies the IRQL the caller acquired the PFN lock at or MM_NOIRQL</span></div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;<span class="comment">              if the caller does not hold the PFN lock.</span></div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;<span class="comment">    Waited - Supplies a pointer to a ULONG to increment if the pushlock is</span></div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;<span class="comment">             released and reacquired.  Note this value may be incremented</span></div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;<span class="comment">             more than once.</span></div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;<span class="comment">    TRUE if the PDE exists, FALSE if the PDE is zero.</span></div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;<span class="comment">    Kernel mode, APCs disabled, working set pushlock held.</span></div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;{</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte;</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d8/d1e/a02208.html#af3ed097c6b453b6c4e5964fbef5b9ca7">KeAreAllApcsDisabled</a> () == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    <span class="keywordflow">if</span> (PointerPde-&gt;u.Long == 0) {</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;        <span class="comment">// This page directory entry doesn&#39;t exist, return FALSE.</span></div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;    }</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;    <span class="keywordflow">if</span> (PointerPde-&gt;u.Hard.Valid == 1) {</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;        <span class="comment">// Already valid.</span></div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    }</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <span class="comment">// Page directory entry exists, it is either valid, in transition</span></div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;    <span class="comment">// or in the paging file.  Fault it in.</span></div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;    <span class="keywordflow">if</span> (OldIrql != <a class="code" href="../../d9/dce/a02519.html#a1ba82621a5b511defadda82cda6193a7">MM_NOIRQL</a>) {</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a3d5445c465d616cc0b2e9582d1175baf">UNLOCK_PFN</a> (OldIrql);</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d8/d1e/a02208.html#af3ed097c6b453b6c4e5964fbef5b9ca7">KeAreAllApcsDisabled</a> () == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;        *Waited += 1;</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    }</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;    PointerPte = <a class="code" href="../../d1/df5/a02496.html#a7b86d7101cf859cdaaef6fe108a421c6">MiGetVirtualAddressMappedByPte</a> (PointerPde);</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;    *Waited += <a class="code" href="../../d9/dce/a02519.html#aab7380b41807d1ee23fcf90516ed8dea">MiMakeSystemAddressValid</a> (PointerPte, TargetProcess);</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    <span class="keywordflow">if</span> (OldIrql != <a class="code" href="../../d9/dce/a02519.html#a1ba82621a5b511defadda82cda6193a7">MM_NOIRQL</a>) {</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#af73046f675bd172cbd0b4e11c44c51e4">LOCK_PFN</a> (OldIrql);</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;    }</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;}</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a155037b5768d0ccc5e3bdeceabee360c">MiLockPagedAddress</a> (</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;    );</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af5fcbf214b73ad9a0b0a7f18ff154edb">MiUnlockPagedAddress</a> (</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;    );</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l06306"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1171c4cd01e566b09637e60eb8d92c57"> 6306</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1171c4cd01e566b09637e60eb8d92c57">MiIsPteDecommittedPage</a> (</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;    )</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;<span class="comment">    This function checks the contents of a PTE to determine if the</span></div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;<span class="comment">    PTE is explicitly decommitted.</span></div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;<span class="comment">    If the PTE is a prototype PTE and the protection is not in the</span></div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;<span class="comment">    prototype PTE, the value FALSE is returned.</span></div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;<span class="comment">    PointerPte - Supplies a pointer to the PTE to examine.</span></div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;<span class="comment">    TRUE if the PTE is in the explicit decommitted state.</span></div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;<span class="comment">    FALSE if the PTE is not in the explicit decommitted state.</span></div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;<span class="comment">    Kernel mode, APCs disabled, working set pushlock held.</span></div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;{</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> PteContents;</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;    PteContents = *PointerPte;</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    <span class="comment">// If the protection in the PTE is not decommitted, return FALSE.</span></div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <span class="keywordflow">if</span> (PteContents.<a class="code" href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">u</a>.<a class="code" href="../../d0/daf/a00970.html#ad0c25548484125476485d5f72743dff6">Soft</a>.<a class="code" href="../../d2/ddd/a00978.html#a981a32b5ccd29d7ab92ce75cdb0e06dc">Protection</a> != <a class="code" href="../../d9/dce/a02519.html#a7fcdf61eb23b926efd6ab6482e98f632">MM_DECOMMIT</a>) {</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    }</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    <span class="comment">// Check to make sure the protection field is really being interpreted</span></div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    <span class="comment">// correctly.</span></div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    <span class="keywordflow">if</span> (PteContents.<a class="code" href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">u</a>.<a class="code" href="../../d0/daf/a00970.html#afa28ee661e71cfe2effd5fc655302e2b">Hard</a>.<a class="code" href="../../d3/da5/a00973.html#a081ca8eba4d912617b63842b756cbdff">Valid</a> == 1) {</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;        <span class="comment">// The PTE is valid and therefore cannot be decommitted.</span></div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;    }</div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    <span class="keywordflow">if</span> ((PteContents.<a class="code" href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">u</a>.<a class="code" href="../../d0/daf/a00970.html#ad0c25548484125476485d5f72743dff6">Soft</a>.<a class="code" href="../../d2/ddd/a00978.html#afd7bce724113deb325b9ed8658b88433">Prototype</a> == 1) &amp;&amp;</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;         (PteContents.<a class="code" href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">u</a>.<a class="code" href="../../d0/daf/a00970.html#ad0c25548484125476485d5f72743dff6">Soft</a>.<a class="code" href="../../d2/ddd/a00978.html#a1d28f3f9f8a7377c2b20d9283d6a1de7">PageFileHigh</a> != <a class="code" href="../../d1/df5/a02496.html#acdf42011a632000dc0db74c64abfe7dd">MI_PTE_LOOKUP_NEEDED</a>)) {</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;        <span class="comment">// The PTE&#39;s protection is not known as it is in</span></div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;        <span class="comment">// prototype PTE format.  Return FALSE.</span></div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;    }</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;    <span class="comment">// It is a decommitted PTE.</span></div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;}</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a27ddcdfb7c9b6140ddbec913c452f655">MiIsProtectionCompatible</a> (</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> OldProtect,</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NewProtect</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;    );</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8292d4956b28986d7560fd8268816c8b">MiIsPteProtectionCompatible</a> (</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> OldPteProtection,</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NewProtect</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    );</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a46e822a3cb25c854396606cba6a91b08">MiMakeProtectionMask</a> (</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Protect</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;    );</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8ab42d30d9e61430b1fba202ba7c95de">MiIsEntireRangeCommitted</a> (</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process</div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    );</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5de00ad5ae32fbd92eb777397db0a1a0">MiIsEntireRangeDecommitted</a> (</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    );</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad66a7ab054d3032556ffa3867f05f617">MiCheckProtoPtePageState</a> (</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#aa31b9f746e59233b4f0cc8f812e81b86">PrototypePte</a>,</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql,</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#aae604290388ca9cc8cc90ad0043c1e49">PLOGICAL</a> DroppedPfnLock</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    );</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;<span class="comment">// PMMPTE</span></div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;<span class="comment">// MiGetProtoPteAddress (</span></div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;<span class="comment">//    IN PMMPTE VAD,</span></div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;<span class="comment">//    IN ULONG_PTR VPN</span></div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;<span class="comment">//    MiGetProtoPteAddress returns a pointer to the prototype PTE which</span></div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;<span class="comment">//    is mapped by the given virtual address descriptor and address within</span></div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;<span class="comment">//    the virtual address descriptor.</span></div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;<span class="comment">//    VAD - Supplies a pointer to the virtual address descriptor that contains</span></div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;<span class="comment">//          the VA.</span></div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;<span class="comment">//    VPN - Supplies the virtual page number.</span></div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;<span class="comment">//    A pointer to the proto PTE which corresponds to the VA.</span></div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;</div>
<div class="line"><a name="l06450"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8e06ca84805f2fc996d3f24a04b7b69e"> 6450</a></span>&#160;<span class="preprocessor">#define MiGetProtoPteAddress(VAD,VPN)                                        \</span></div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;<span class="preprocessor">    ((((((VPN) - (VAD)-&gt;StartingVpn) &lt;&lt; PTE_SHIFT) +                         \</span></div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;<span class="preprocessor">      (ULONG_PTR)(VAD)-&gt;FirstPrototypePte) &lt;= (ULONG_PTR)(VAD)-&gt;LastContiguousPte) ? \</span></div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;<span class="preprocessor">    ((PMMPTE)(((((VPN) - (VAD)-&gt;StartingVpn) &lt;&lt; PTE_SHIFT) +                 \</span></div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;<span class="preprocessor">        (ULONG_PTR)(VAD)-&gt;FirstPrototypePte))) :                                  \</span></div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;<span class="preprocessor">        MiGetProtoPteAddressExtended ((VAD),(VPN)))</span></div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;</div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;<a class="code" href="../../d0/daf/a00970.html">PMMPTE</a></div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a59c3dc707e4bed135b68b9d0760bf16e">MiGetProtoPteAddressExtended</a> (</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Vpn</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    );</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;PSUBSECTION</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af8e44f3dd96f69450b0d258f2d3e0526">MiLocateSubsection</a> (</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Vpn</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;    );</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;<a class="code" href="../../d9/dce/a02519.html#acf4279ff7c97d675f64880bebbf6547b">MiInitializeSystemCache</a> (</div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MinimumWorkingSet,</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MaximumWorkingSet</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    );</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa63bd3c882fe1cf68bb6b07de79e34b8">MiAdjustWorkingSetManagerParameters</a>(</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> WorkStation</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;    );</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a2816ff776b858b1e544fcecb26cf49ed">MmLowMemoryThreshold</a>;</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#af38161f5555ffe6eb114a17e03f1495b">MmHighMemoryThreshold</a>;</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a436df4b7f3a1cb5ac881090051d42e14">MiLowPagedPoolThreshold</a>;</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a744078cdb79b6e7a44c8b4a87da54c27">MiHighPagedPoolThreshold</a>;</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#abaef4042d8150d8799d60d06051c2020">MiLowNonPagedPoolThreshold</a>;</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#abc238c9da9b284ee182f67348bf354c4">MiHighNonPagedPoolThreshold</a>;</div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#add464605884e3fe68125a48ebbe4e482">MiLowPagedPoolEvent</a>;</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#ac478e6c3133a8dcc42938959e79f8897">MiHighPagedPoolEvent</a>;</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a899c88578e710ef85730b134277592da">MiLowNonPagedPoolEvent</a>;</div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#afa9257666c262c0bb6f40001a2e83bc8">MiHighNonPagedPoolEvent</a>;</div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;</div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;<span class="comment">// Section support</span></div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;</div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad1500b300f0e2a97a8ef476c2a7de3b3">MiInsertBasedSection</a> (</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSECTION Section</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;    );</div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a24e9a04c30599fe6684c9c201e9b713a">MiMapViewOfPhysicalSection</a> (</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *CapturedBase,</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PLARGE_INTEGER</a> SectionOffset,</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#a0369490f03e75c2b2ba109965cc14892">PSIZE_T</a> CapturedViewSize,</div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProtectionMask,</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> ZeroBits,</div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> AllocationType</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    );</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a54b59e13fbdc7767ca6d0cfdd77d2477">MiMapViewOfDataSection</a> (</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *CapturedBase,</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PLARGE_INTEGER</a> SectionOffset,</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#a0369490f03e75c2b2ba109965cc14892">PSIZE_T</a> CapturedViewSize,</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSECTION Section,</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/d14/a02245.html#a0a64bb526e58ec166d35c6a4b1622603">SECTION_INHERIT</a> InheritDisposition,</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProtectionMask,</div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> CommitSize,</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> ZeroBits,</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> AllocationType</div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;    );</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;</div>
<div class="line"><a name="l06534"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aac0b63373171e650b06c4042ed1342c8"> 6534</a></span>&#160;<span class="preprocessor">#define UNMAP_ADDRESS_SPACE_HELD    0x1</span></div>
<div class="line"><a name="l06535"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0972fb21885ebe5c48f477c05cd805de"> 6535</a></span>&#160;<span class="preprocessor">#define UNMAP_ROTATE_PHYSICAL_OK    0x2</span></div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a548ffb29b1cfd428ae148ec661d92230">MiUnmapViewOfSection</a> (</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress,</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> UnmapFlags</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;    );</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1a5c614131698e82846555dc521e3db2">MiRemoveImageSectionObject</a>(</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> File,</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;    );</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;<a class="code" href="../../d9/dce/a02519.html#add711d4001eeec57ae4969e652d4ca07">MiAddSystemPtes</a>(</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> StartingPte,</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a>  NumberOfPtes,</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a> SystemPtePoolType</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    );</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;<a class="code" href="../../d9/dce/a02519.html#afa17ce03c6c3e82a03120fe7055e3c12">MiRemoveMappedView</a> (</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess,</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;    );</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a491ceceb99a5d209b8e2206e1aaf19a7">MiSegmentDelete</a> (</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;    PSEGMENT Segment</div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;    );</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a740118e1e4df2d3ea586802e18adedaa">MiSectionDelete</a> (</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> Object</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    );</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a8e20d0072576523063a280aed55e17be">MiDereferenceSegmentThread</a> (</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartContext</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;    );</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a34407d48cbe22767b28ccc13871503d3">MiCreateImageFileMap</a> (</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> File,</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> PSEGMENT *Segment</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;    );</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5eb000ffa8c3d71032a84043ca80bf5f">MiCreateDataFileMap</a> (</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> File,</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> PSEGMENT *Segment,</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#ad413c7f23e00f0764dfa0ab21b6442a0">PUINT64</a> MaximumSize,</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> SectionPageProtection,</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> AllocationAttributes,</div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> IgnoreFileSizing</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    );</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab5b0e41516227cdda96a5baa4c215a3c">MiCreatePagingFileMap</a> (</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> PSEGMENT *Segment,</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#ad413c7f23e00f0764dfa0ab21b6442a0">PUINT64</a> MaximumSize,</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProtectionMask,</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> AllocationAttributes</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    );</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ae861c98ae681b8f7f4c8470823a5ba59">MiPurgeSubsectionInternal</a> (</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION Subsection,</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> PteOffset</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;    );</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a62af6c27c12fa4daf674ccc51f9926c1">MiPurgeImageSection</a> (</div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> OldIrql</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;    );</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;PCONTROL_AREA</div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab0d1ee9c886b351a76a94151f5cef2c6">MiFindImageSectionObject</a> (</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/dc3/a00453.html">PFILE_OBJECT</a> File,</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> PfnLockHeld,</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#aae604290388ca9cc8cc90ad0043c1e49">PLOGICAL</a> GlobalNeeded</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;    );</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a470435a8b4a6a6dc3bd397daa10b9f94">MiCleanSection</a> (</div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> DirtyDataPagesOk</div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;    );</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad900b40ef1fffcb588de64dd5547a64a">MiDereferenceControlArea</a> (</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    );</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0e1d227aa90fe6dd086d3277c6b58701">MiDereferenceControlAreaBySection</a> (</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> UserRef</div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;    );</div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a79a4f35924dc6fc9b76bbcc0d1e15985">MiCheckControlArea</a> (</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a> PreviousIrql</div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;    );</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;</div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a10a721d8d0c94577874b5a37a7fb2e64">MiCheckPurgeAndUpMapCount</a> (</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea,</div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> FailIfSystemViews</div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    );</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aafca12a568e9bb06775aa161a63c425c">MiCheckForControlAreaDeletion</a> (</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;    );</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac5aeea27cbb72cbb1511948fed4dc59a">MiCheckControlAreaStatus</a> (</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d9/dce/a02519.html#a3449f7ed981425ef234ccf614f871942">SECTION_CHECK_TYPE</a> SectionCheckType,</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/df3/a01581.html">PSECTION_OBJECT_POINTERS</a> SectionObjectPointers,</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> DelayClose,</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> PCONTROL_AREA *ControlArea,</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#aa8495c77c87618ddbab765a549c9cbcb">PKIRQL</a> OldIrql</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;    );</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/deb/a01628.html">SLIST_HEADER</a> <a class="code" href="../../d9/dce/a02519.html#a07aeb8310832c3433a3eeeb9879a43dc">MmEventCountSListHead</a>;</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;PEVENT_COUNTER</div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;<a class="code" href="../../d9/dce/a02519.html#adc58b1d9cae088137aa014dbf7e83756">MiGetEventCounter</a> (</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;    );</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4f67a5c09ddd49a00831ca9aadba23a8">MiFreeEventCounter</a> (</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PEVENT_COUNTER Support</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    );</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9eed558ed88d81b10766b5a671c0e7c0">MiCanFileBeTruncatedInternal</a> (</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../da/df3/a01581.html">PSECTION_OBJECT_POINTERS</a> SectionPointer,</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/d5e/a00817.html">PLARGE_INTEGER</a> NewFileSize <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a>,</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> BlockNewViews,</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#aa8495c77c87618ddbab765a549c9cbcb">PKIRQL</a> PreviousIrql</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;    );</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a32746b2ac44183b7bb6f312aa127ec7b">MiFlushSectionInternal</a> (</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> StartingPte,</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> FinalPte,</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION FirstSubsection,</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION LastSubsection,</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Flags,</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../d5/d39/a00676.html">PIO_STATUS_BLOCK</a> IoStatus</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;    );</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;<span class="comment">// protection stuff...</span></div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;</div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2b276b00d5c837cbff8917f46c07328d">MiProtectVirtualMemory</a> (</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *CapturedBase,</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#a0369490f03e75c2b2ba109965cc14892">PSIZE_T</a> CapturedRegionSize,</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Protect,</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> LastProtect</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;    );</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a79ca93029d7fda17ddf66d7d434fcf6a">MiGetPageProtection</a> (</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;    );</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a46bd5f909ec118d47b7478c72bc462d9">MiSetProtectionOnSection</a> (</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NewProtect,</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> CapturedOldProtect,</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> DontCharge,</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a> Locked</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;    );</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aaadd8d49654552f3aa4d3343448bd155">MiCheckSecuredVad</a> (</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> Base,</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> Size,</div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProtectionMask</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;    );</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a></div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9153fcd54131d45f980a4bf8a2f5ac07">MiSecureVirtualMemory</a> (</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> Address,</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> Size,</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProbeMode,</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> AddressSpaceMutexHeld</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;    );</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a365325a9a13433e5bbe65b82a48f3169">MiUnsecureVirtualMemory</a> (</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> SecureHandle,</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> AddressSpaceMutexHeld</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;    );</div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a755143340ea12b6b22640f8cd1e67de5">MiChangeNoAccessForkPte</a> (</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProtectionMask</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;    );</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;<span class="comment">// Routines for charging quota and commitment.</span></div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a05934148477e07ceb5f63989aedac482">MiTrimSegmentCache</a> (</div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;    );</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad25c6ba603e85931fb3d643a776ece95">MiInitializeCommitment</a> (</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;    );</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a79d965aff3c8a055d7049b4d537f92b0">MiChargeCommitment</a> (</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> QuotaCharge,</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;    );</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1441fee80b1340975dffd2110cfab525">MiChargeCommitmentCantExpand</a> (</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> QuotaCharge,</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MustSucceed</div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;    );</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad6104d6efc7ef4b32da39d3d1b86c764">MiChargeTemporaryCommitmentForReduction</a> (</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> QuotaCharge</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;    );</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5292aa3a35f2e4ebfa0b7b7e18b83a32">MiCauseOverCommitPopup</a> (</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;    );</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a1dee336c8b612daf9ef5a73451eb0257">MmTotalCommitLimitMaximum</a>;</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;<a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a></div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a114c23e7835c6ec866d3c006fcb12d80">MiCalculatePageCommitment</a> (</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD Vad,</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;    );</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad1776f0fc51474f0134689137159e815">MiReturnPageTablePageCommitment</a> (</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartingAddress,</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndingAddress,</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> CurrentProcess,</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD PreviousVad,</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMVAD NextVad</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;    );</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a671c2e282e21dd49da5c0517ecd2abf8">MiFlushAllPages</a> (</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;    );</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa342cb76624656173e834fa9a0a8f0d4">MiModifiedPageWriterTimerDispatch</a> (</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dc/dce/a00740.html">PKDPC</a> Dpc,</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> DeferredContext,</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> SystemArgument1,</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> SystemArgument2</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;    );</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a></div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l06827"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a62a72d2935d616b9886c61fd148d5cc4"> 6827</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a62a72d2935d616b9886c61fd148d5cc4">MiStartingOffset</a> (</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION Subsection,</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PteAddress</div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;    )</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;<span class="comment">    This function calculates the file offset given a subsection and a PTE</span></div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;<span class="comment">    offset.  Note that images are stored in 512-byte units whereas data is</span></div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;<span class="comment">    stored in 4K units.</span></div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;<span class="comment">    Subsection - Supplies a subsection to reference for the file address.</span></div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;<span class="comment">    PteAddress - Supplies a PTE within the subsection</span></div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;<span class="comment">    Returns the file offset to obtain the backing data from.</span></div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;{</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a> PteByteOffset;</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> StartAddress;</div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;    <span class="keywordflow">if</span> (Subsection-&gt;ControlArea-&gt;u.Flags.Image == 1) {</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/dce/a02519.html#a67faa6aa8ff47115f75572a47f7ec190">MI_STARTING_OFFSET</a> (Subsection, PteAddress);</div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;    }</div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (Subsection-&gt;SubsectionBase != <a class="code" href="../../dd/d67/a02230.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;    PteByteOffset = (<a class="code" href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a>)((PteAddress - Subsection-&gt;SubsectionBase))</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;                            &lt;&lt; <a class="code" href="../../df/d0e/a02195.html#a850d80ca2291d26b40dc6b25c419f81a">PAGE_SHIFT</a>;</div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#ac59bb0d6e5b24531079d12f98803c595">Mi4KStartFromSubsection</a> (&amp;StartAddress, Subsection);</div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;</div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;    StartAddress.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> = StartAddress.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> &lt;&lt; <a class="code" href="../../d9/dce/a02519.html#a144c5f4e7cc358ba745ea0fd4c297b98">MM4K_SHIFT</a>;</div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;    PteByteOffset += StartAddress.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a>;</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;    <span class="keywordflow">return</span> PteByteOffset;</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;}</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;<a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a></div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l06876"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae21b2d466815852a6fbfba30d223e783"> 6876</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#ae21b2d466815852a6fbfba30d223e783">MiEndingOffset</a> (</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION Subsection</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;    )</div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;<span class="comment">    This function calculates the last valid file offset in a given subsection.</span></div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;<span class="comment">    offset.  Note that images are stored in 512-byte units whereas data is</span></div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;<span class="comment">    stored in 4K units.</span></div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;<span class="comment">    Subsection - Supplies a subsection to reference for the file address.</span></div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;<span class="comment">    PteAddress - Supplies a PTE within the subsection</span></div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;<span class="comment">    Returns the file offset to obtain the backing data from.</span></div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;{</div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> FileByteOffset;</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;    <span class="keywordflow">if</span> (Subsection-&gt;ControlArea-&gt;u.Flags.Image == 1) {</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;        FileByteOffset.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> =</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;            ((<a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a>)Subsection-&gt;StartingSector + (<a class="code" href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a>)Subsection-&gt;NumberOfFullSectors) &lt;&lt;</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;                <a class="code" href="../../d9/dce/a02519.html#ab3ff1e421a97d9a485ae1cb84746879f">MMSECTOR_SHIFT</a>;</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;    }</div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#ac59bb0d6e5b24531079d12f98803c595">Mi4KStartFromSubsection</a> (&amp;FileByteOffset, Subsection);</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;        FileByteOffset.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> += Subsection-&gt;NumberOfFullSectors;</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;        FileByteOffset.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> = FileByteOffset.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> &lt;&lt; <a class="code" href="../../d9/dce/a02519.html#a144c5f4e7cc358ba745ea0fd4c297b98">MM4K_SHIFT</a>;</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;    }</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;    FileByteOffset.<a class="code" href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">QuadPart</a> += Subsection-&gt;u.SubsectionFlags.SectorEndOffset;</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;    <span class="keywordflow">return</span> FileByteOffset;</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;}</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;</div>
<div class="line"><a name="l06921"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a69e7bc540e11270eeecd410c206297fe"> 6921</a></span>&#160;<span class="preprocessor">#define KERNEL_NAME L&quot;ntoskrnl.exe&quot;</span></div>
<div class="line"><a name="l06922"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a12f33003afa221f2625e75848aad7844"> 6922</a></span>&#160;<span class="preprocessor">#define HAL_NAME    L&quot;hal.dll&quot;</span></div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a024a3c8f9d06f1ebe5434b72aaf58bc7">MiReloadBootLoadedDrivers</a> (</div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dcf/a00845.html">PLOADER_PARAMETER_BLOCK</a> LoaderBlock</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;    );</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4149e70a0933d66e809c6239409495ce">MiSetSystemCodeProtection</a> (</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> FirstPte,</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> LastPte,</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> ProtectionMask</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;    );</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0bd4fda9c9cf3407f59554c9639e4aa9">MiWriteProtectSystemImage</a> (</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/d24/a02261.html#a00bdf490f6949d7e1cb9af5475cd79ff">DllBase</a></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;    );</div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a623f5f5b849dca9e2386b1ad2c024d90">MiSetIATProtect</a> (</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/d24/a02261.html#a00bdf490f6949d7e1cb9af5475cd79ff">DllBase</a>,</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Protection</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;    );</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ac35b0241c17751e44c92346df9f1d769">MiMakeEntireImageCopyOnWrite</a> (</div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSUBSECTION Subsection</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;    );</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a6cb55515014fbe64a324b24b74a61339">MiInitializeLoadedModuleList</a> (</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dcf/a00845.html">PLOADER_PARAMETER_BLOCK</a> LoaderBlock</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;    );</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;</div>
<div class="line"><a name="l06957"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a549d351c965c53d15a388f7685773088"> 6957</a></span>&#160;<span class="preprocessor">#define UNICODE_TAB               0x0009</span></div>
<div class="line"><a name="l06958"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a30d0c79e09d7f56a81cdffeb763d5838"> 6958</a></span>&#160;<span class="preprocessor">#define UNICODE_LF                0x000A</span></div>
<div class="line"><a name="l06959"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac97618125fa2127765e010cf7bafa6d7"> 6959</a></span>&#160;<span class="preprocessor">#define UNICODE_CR                0x000D</span></div>
<div class="line"><a name="l06960"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a130c1b2aa8b90aec075fd489df0ae340"> 6960</a></span>&#160;<span class="preprocessor">#define UNICODE_SPACE             0x0020</span></div>
<div class="line"><a name="l06961"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab2d93d35b6c27f76822febf72467218f"> 6961</a></span>&#160;<span class="preprocessor">#define UNICODE_CJK_SPACE         0x3000</span></div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;</div>
<div class="line"><a name="l06963"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a49f005fa393c961ef8224137172b6a4b"> 6963</a></span>&#160;<span class="preprocessor">#define UNICODE_WHITESPACE(_ch)     (((_ch) == UNICODE_TAB) || \</span></div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;<span class="preprocessor">                                     ((_ch) == UNICODE_LF) || \</span></div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;<span class="preprocessor">                                     ((_ch) == UNICODE_CR) || \</span></div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;<span class="preprocessor">                                     ((_ch) == UNICODE_SPACE) || \</span></div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;<span class="preprocessor">                                     ((_ch) == UNICODE_CJK_SPACE) || \</span></div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;<span class="preprocessor">                                     ((_ch) == UNICODE_NULL))</span></div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;</div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ab0cce4b90f64c19eadbfc3d6540d54f3">MmSpecialPoolTag</a>;</div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a64221e81c9efa5abd292866c4f714f98">MmSpecialPoolStart</a>;</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a0db4cb76ccc40ed2c330f9ead4f6245d">MmSpecialPoolEnd</a>;</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#ae3c6deac867361cdef8f7c8b5e9c018e">MmSessionSpecialPoolStart</a>;</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a684c69a06daa64cbf447a91bbdecf494">MmSessionSpecialPoolEnd</a>;</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a107e04855cef57f6b3cdf55062237e2f">MiInitializeSpecialPool</a> (</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d5/ddd/a02184.html#a971c37f796ee1dd6a449795d1b978bf4">POOL_TYPE</a> PoolType</div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;    );</div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;MiInitializeSessionSpecialPool (</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;    );</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;</div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;MiDeleteSessionSpecialPool (</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;    );</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;<a class="code" href="../../d5/ddd/a02184.html#a971c37f796ee1dd6a449795d1b978bf4">POOL_TYPE</a></div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a0bac7c5cbe2e0698789f0ecf64cb6926">MmQuerySpecialPoolBlockType</a> (</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> P</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;    );</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;</div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;<span class="preprocessor">#if defined (_X86_)</span></div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af45b8cecefb00d7be966c54d1c87bd3f">MiRecoverSpecialPtes</a> (</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NumberOfPtes</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;    );</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a1184ac809f70d4772ba406f52f0e613e">MiAddExtraSystemPteRanges</a> (</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte,</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> NumberOfPtes</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;    );</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a254f7402d82e70aa3f69a32ea7619d96">MiEnableRandomSpecialPool</a> (</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> Enable</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;    );</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7bb5c6f0ffa9536972c51da75ca99ec4">MiTriageSystem</a> (</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dcf/a00845.html">PLOADER_PARAMETER_BLOCK</a> LoaderBlock</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;    );</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a4fdb78a28edc2330db06e4825719cf41">MiTriageAddDrivers</a> (</div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dcf/a00845.html">PLOADER_PARAMETER_BLOCK</a> LoaderBlock</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;    );</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a413e9c5c3d579de89f19de67eeb623de">MiTriageVerifyDriver</a> (</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a> DataTableEntry</div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;    );</div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a56a7bd08d7b8b3bfe56b6c6af0a993a3">MmTriageActionTaken</a>;</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;<span class="preprocessor">#define MM_SPECIAL_POOL_PTES ((1024 * 1024) / sizeof (MMPTE))</span></div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l07036"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae3028be4c1c423bf86186634ad074850"> 7036</a></span>&#160;<span class="preprocessor">#define MM_SPECIAL_POOL_PTES (24 * PTE_PER_PAGE)</span></div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;</div>
<div class="line"><a name="l07039"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa1ae41fdd5e7452a36cbeb96f1ec574f"> 7039</a></span>&#160;<span class="preprocessor">#define MI_SUSPECT_DRIVER_BUFFER_LENGTH 512</span></div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aad61bc3eae1804d8784adebdce0721d3">WCHAR</a> <a class="code" href="../../d9/dce/a02519.html#a01518c078bcbf485233fb3bfcf2aff43">MmVerifyDriverBuffer</a>[];</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a70813c939bfa24f5965f3e55cac3edec">MmVerifyDriverBufferLength</a>;</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a522d3a369bf87fa1356748540b4dc527">MmVerifyDriverLevel</a>;</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;</div>
<div class="line"><a name="l07045"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa548b383222d899d1e8436a2cd40ebaa"> 7045</a></span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#aa548b383222d899d1e8436a2cd40ebaa">MmSnapUnloads</a>;</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#a1349503295a1470f3cee1aad94f1d5a6">MmProtectFreedNonPagedPool</a>;</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#acb331fb0264417cb7d5c6c7245faf5ea">MmEnforceWriteProtection</a>;</div>
<div class="line"><a name="l07048"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a363a9385ea6c288150e4f3ac8a2671a8"> 7048</a></span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#a363a9385ea6c288150e4f3ac8a2671a8">MmTrackLockedPages</a>;</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ad32dcb6383de89429fde78286bc0b617">MmTrackPtes</a>;</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;</div>
<div class="line"><a name="l07051"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7fec34cac2ae95ac1beb7fb0bf9eaece"> 7051</a></span>&#160;<span class="preprocessor">#define VI_POOL_FREELIST_END  ((ULONG_PTR)-1)</span></div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;</div>
<div class="line"><a name="l07053"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a35e7fc22e5b0637a1e9cd6235ed866ce"> 7053</a></span>&#160;<span class="preprocessor">#define VI_POOL_PAGE_HEADER_SIGNATURE 0x21321345</span></div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;</div>
<div class="line"><a name="l07055"></a><span class="lineno"><a class="line" href="../../d7/d02/a01808.html"> 7055</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d02/a01808.html">_VI_POOL_PAGE_HEADER</a> {</div>
<div class="line"><a name="l07056"></a><span class="lineno"><a class="line" href="../../d7/d02/a01808.html#a6ca83121cdad8478ffcf613ce5bed1bc"> 7056</a></span>&#160;    <a class="code" href="../../de/dc3/a02256.html#a51a55345c30f049d20abe1f3301c9040">PSLIST_ENTRY</a> <a class="code" href="../../d7/d02/a01808.html#a6ca83121cdad8478ffcf613ce5bed1bc">NextPage</a>;</div>
<div class="line"><a name="l07057"></a><span class="lineno"><a class="line" href="../../d7/d02/a01808.html#a65f90ea420d71ac5f013ed4b738e927b"> 7057</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d7/d02/a01808.html#a65f90ea420d71ac5f013ed4b738e927b">VerifierEntry</a>;</div>
<div class="line"><a name="l07058"></a><span class="lineno"><a class="line" href="../../d7/d02/a01808.html#a443d91fe60e7e3fa547e258d1c7f8866"> 7058</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d7/d02/a01808.html#a443d91fe60e7e3fa547e258d1c7f8866">Signature</a>;</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ac005715ff35608717160090051215436">VI_POOL_PAGE_HEADER</a>, *<a class="code" href="../../d9/dce/a02519.html#a52b5d855c7a1d03f679272e25fd1aaa2">PVI_POOL_PAGE_HEADER</a>;</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;</div>
<div class="line"><a name="l07061"></a><span class="lineno"><a class="line" href="../../df/d5b/a01807.html"> 7061</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d5b/a01807.html">_VI_POOL_ENTRY_INUSE</a> {</div>
<div class="line"><a name="l07062"></a><span class="lineno"><a class="line" href="../../df/d5b/a01807.html#a7f58182f39fc56ec3ac98910ba24e3d0"> 7062</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/d5b/a01807.html#a7f58182f39fc56ec3ac98910ba24e3d0">VirtualAddress</a>;</div>
<div class="line"><a name="l07063"></a><span class="lineno"><a class="line" href="../../df/d5b/a01807.html#a5d17a7e1efa0f549b7b708d2626e8605"> 7063</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/d5b/a01807.html#a5d17a7e1efa0f549b7b708d2626e8605">CallingAddress</a>;</div>
<div class="line"><a name="l07064"></a><span class="lineno"><a class="line" href="../../df/d5b/a01807.html#abb5aa772f8b72dbe8696116da0ccb868"> 7064</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../df/d5b/a01807.html#abb5aa772f8b72dbe8696116da0ccb868">NumberOfBytes</a>;</div>
<div class="line"><a name="l07065"></a><span class="lineno"><a class="line" href="../../df/d5b/a01807.html#a148a37ff2ce53c526866e8c7c5fa73ad"> 7065</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../df/d5b/a01807.html#a148a37ff2ce53c526866e8c7c5fa73ad">Tag</a>;</div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a24eedce9e1b486cc7fd7b54703e9c933">VI_POOL_ENTRY_INUSE</a>, *<a class="code" href="../../d9/dce/a02519.html#af90333ae631712b192bc72d274286789">PVI_POOL_ENTRY_INUSE</a>;</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;</div>
<div class="line"><a name="l07068"></a><span class="lineno"><a class="line" href="../../db/db2/a01806.html"> 7068</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../db/db2/a01806.html">_VI_POOL_ENTRY</a> {</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l07070"></a><span class="lineno"><a class="line" href="../../db/db2/a01806.html#a669ee1f4e1f8f607a7c9d8f9417b2c56"> 7070</a></span>&#160;        <a class="code" href="../../d7/d02/a01808.html">VI_POOL_PAGE_HEADER</a> <a class="code" href="../../db/db2/a01806.html#a669ee1f4e1f8f607a7c9d8f9417b2c56">PageHeader</a>;</div>
<div class="line"><a name="l07071"></a><span class="lineno"><a class="line" href="../../db/db2/a01806.html#a45599ef0f255a220d782a3b920013086"> 7071</a></span>&#160;        <a class="code" href="../../df/d5b/a01807.html">VI_POOL_ENTRY_INUSE</a> <a class="code" href="../../db/db2/a01806.html#a45599ef0f255a220d782a3b920013086">InUse</a>;</div>
<div class="line"><a name="l07072"></a><span class="lineno"><a class="line" href="../../db/db2/a01806.html#a01a7d74d03f52f3cd8da7c41284c09bd"> 7072</a></span>&#160;        <a class="code" href="../../de/dc3/a02256.html#a51a55345c30f049d20abe1f3301c9040">PSLIST_ENTRY</a> <a class="code" href="../../db/db2/a01806.html#a01a7d74d03f52f3cd8da7c41284c09bd">NextFree</a>;</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;    };</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#aadf64e2183fd3f84ecb5ec1a9bb42882">VI_POOL_ENTRY</a>, *<a class="code" href="../../d9/dce/a02519.html#a12cfa1b24f47fea76438f4b43b184b75">PVI_POOL_ENTRY</a>;</div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;</div>
<div class="line"><a name="l07076"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0bb4cfcbc2b95293f6d14e3ed7bf4740"> 7076</a></span>&#160;<span class="preprocessor">#define MI_VERIFIER_ENTRY_SIGNATURE            0x98761940</span></div>
<div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;</div>
<div class="line"><a name="l07078"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html"> 7078</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d5b/a00933.html">_MI_VERIFIER_DRIVER_ENTRY</a> {</div>
<div class="line"><a name="l07079"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a74a8f5ccacd7518ca11852774f1ad606"> 7079</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d0/d5b/a00933.html#a74a8f5ccacd7518ca11852774f1ad606">Links</a>;</div>
<div class="line"><a name="l07080"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#ae6e459fbd85374bf72f4d09c472ec9c0"> 7080</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#ae6e459fbd85374bf72f4d09c472ec9c0">Loads</a>;</div>
<div class="line"><a name="l07081"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a2e989e3a0e74d069e48018ff71f69718"> 7081</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#a2e989e3a0e74d069e48018ff71f69718">Unloads</a>;</div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;</div>
<div class="line"><a name="l07083"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a428cb7103eced57f32ed94e28580e317"> 7083</a></span>&#160;    <a class="code" href="../../dd/d00/a01776.html">UNICODE_STRING</a> <a class="code" href="../../d0/d5b/a00933.html#a428cb7103eced57f32ed94e28580e317">BaseName</a>;</div>
<div class="line"><a name="l07084"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a8497540091f816d69bb3d66b5ec117a7"> 7084</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d0/d5b/a00933.html#a8497540091f816d69bb3d66b5ec117a7">StartAddress</a>;</div>
<div class="line"><a name="l07085"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a2993b1ed176f4010b51404677e7e72bd"> 7085</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d0/d5b/a00933.html#a2993b1ed176f4010b51404677e7e72bd">EndAddress</a>;</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;</div>
<div class="line"><a name="l07087"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aab9d0ad9809a825364b8641723f05ddf"> 7087</a></span>&#160;<span class="preprocessor">#define VI_VERIFYING_DIRECTLY   0x1</span></div>
<div class="line"><a name="l07088"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adad47ca94463531d11f8ef1e1494b63a"> 7088</a></span>&#160;<span class="preprocessor">#define VI_VERIFYING_INVERSELY  0x2</span></div>
<div class="line"><a name="l07089"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a185af232f3bfbdd4b9aed5fa54544458"> 7089</a></span>&#160;<span class="preprocessor">#define VI_DISABLE_VERIFICATION 0x4</span></div>
<div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;</div>
<div class="line"><a name="l07091"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#afd7ac49a369a49a8927df10298b6edc3"> 7091</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#afd7ac49a369a49a8927df10298b6edc3">Flags</a>;</div>
<div class="line"><a name="l07092"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a0a313d25512407caf85a4e4e69a58594"> 7092</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d0/d5b/a00933.html#a0a313d25512407caf85a4e4e69a58594">Signature</a>;</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;</div>
<div class="line"><a name="l07094"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a4069eee88d58f163ebed80a04e399a33"> 7094</a></span>&#160;    <a class="code" href="../../dd/deb/a01628.html">SLIST_HEADER</a> <a class="code" href="../../d0/d5b/a00933.html#a4069eee88d58f163ebed80a04e399a33">PoolPageHeaders</a>;</div>
<div class="line"><a name="l07095"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a69b86c876b567687b7d274748b2cdef1"> 7095</a></span>&#160;    <a class="code" href="../../dd/deb/a01628.html">SLIST_HEADER</a> <a class="code" href="../../d0/d5b/a00933.html#a69b86c876b567687b7d274748b2cdef1">PoolTrackers</a>;</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;</div>
<div class="line"><a name="l07097"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#ae3d2a9ba2bb12dd91cd76e83e292c1ed"> 7097</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#ae3d2a9ba2bb12dd91cd76e83e292c1ed">CurrentPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07098"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a8acd8b676c75c11d277dd798a484f902"> 7098</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#a8acd8b676c75c11d277dd798a484f902">CurrentNonPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07099"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#abc5980ca8c69f14c782a8d2a24a83ffc"> 7099</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#abc5980ca8c69f14c782a8d2a24a83ffc">PeakPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07100"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#af47bc6a5f8b1d1ef2638bfa62b9f9c44"> 7100</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d5b/a00933.html#af47bc6a5f8b1d1ef2638bfa62b9f9c44">PeakNonPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;</div>
<div class="line"><a name="l07102"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a8b8d74aa096da35a12fb421ac4b260f6"> 7102</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d0/d5b/a00933.html#a8b8d74aa096da35a12fb421ac4b260f6">PagedBytes</a>;</div>
<div class="line"><a name="l07103"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a63e6b8178421be27c46b7861d8505354"> 7103</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d0/d5b/a00933.html#a63e6b8178421be27c46b7861d8505354">NonPagedBytes</a>;</div>
<div class="line"><a name="l07104"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#a9415626243fa97e0a21f3773827b879f"> 7104</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d0/d5b/a00933.html#a9415626243fa97e0a21f3773827b879f">PeakPagedBytes</a>;</div>
<div class="line"><a name="l07105"></a><span class="lineno"><a class="line" href="../../d0/d5b/a00933.html#aa83a7bcee7336d371acd3385b75fd336"> 7105</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d0/d5b/a00933.html#aa83a7bcee7336d371acd3385b75fd336">PeakNonPagedBytes</a>;</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a74cf3d6f30a84b1b1323513cb39d885f">MI_VERIFIER_DRIVER_ENTRY</a>, *<a class="code" href="../../d9/dce/a02519.html#aa451b2c3d6c951e66752a20868b245ff">PMI_VERIFIER_DRIVER_ENTRY</a>;</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;</div>
<div class="line"><a name="l07109"></a><span class="lineno"><a class="line" href="../../d0/df0/a00934.html"> 7109</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/df0/a00934.html">_MI_VERIFIER_POOL_HEADER</a> {</div>
<div class="line"><a name="l07110"></a><span class="lineno"><a class="line" href="../../d0/df0/a00934.html#a0ce0e2e30592740662317acaafe1665f"> 7110</a></span>&#160;    PVI_POOL_ENTRY <a class="code" href="../../d0/df0/a00934.html#a0ce0e2e30592740662317acaafe1665f">VerifierPoolEntry</a>;</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a9aca1f1461b1a5e60da0e736b7eac2f5">MI_VERIFIER_POOL_HEADER</a>, *<a class="code" href="../../d9/dce/a02519.html#a45c5fd4bbb63a47b889bc478a2131822">PMI_VERIFIER_POOL_HEADER</a>;</div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;</div>
<div class="line"><a name="l07113"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html"> 7113</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/d2b/a00936.html">_MM_DRIVER_VERIFIER_DATA</a> {</div>
<div class="line"><a name="l07114"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a24fd0476c45a33240d45b668cc41d1b7"> 7114</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a24fd0476c45a33240d45b668cc41d1b7">Level</a>;</div>
<div class="line"><a name="l07115"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a2d34ba7d3272ee4463085a491995ced9"> 7115</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a2d34ba7d3272ee4463085a491995ced9">RaiseIrqls</a>;</div>
<div class="line"><a name="l07116"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#ab4a3dc1160b3e72e9dafcd0b8b101bda"> 7116</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#ab4a3dc1160b3e72e9dafcd0b8b101bda">AcquireSpinLocks</a>;</div>
<div class="line"><a name="l07117"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a7bd91d51458a29a8e861ae80c36b8b0a"> 7117</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a7bd91d51458a29a8e861ae80c36b8b0a">SynchronizeExecutions</a>;</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;</div>
<div class="line"><a name="l07119"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#abfaa905319a5faff8221b1ad9ee47025"> 7119</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#abfaa905319a5faff8221b1ad9ee47025">AllocationsAttempted</a>;</div>
<div class="line"><a name="l07120"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a4474ca3d5707c197737aacddf2d6ecd1"> 7120</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a4474ca3d5707c197737aacddf2d6ecd1">AllocationsSucceeded</a>;</div>
<div class="line"><a name="l07121"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#ac2a711242b2732e05ae603923e2ff35f"> 7121</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#ac2a711242b2732e05ae603923e2ff35f">AllocationsSucceededSpecialPool</a>;</div>
<div class="line"><a name="l07122"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a8e550c5fddbaa251388b6daa915c3598"> 7122</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a8e550c5fddbaa251388b6daa915c3598">AllocationsWithNoTag</a>;</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;</div>
<div class="line"><a name="l07124"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a329f499192bd6c927900871aa86cec91"> 7124</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a329f499192bd6c927900871aa86cec91">TrimRequests</a>;</div>
<div class="line"><a name="l07125"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a2346fece869c3e2f210a80ba6cede9cf"> 7125</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a2346fece869c3e2f210a80ba6cede9cf">Trims</a>;</div>
<div class="line"><a name="l07126"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#ad64e7a5021e1f935682fa6f5348002de"> 7126</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#ad64e7a5021e1f935682fa6f5348002de">AllocationsFailed</a>;</div>
<div class="line"><a name="l07127"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a3fecf1b6ee87db4d98c6f3ec1c4641b4"> 7127</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a3fecf1b6ee87db4d98c6f3ec1c4641b4">AllocationsFailedDeliberately</a>;</div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;</div>
<div class="line"><a name="l07129"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a60daaf0ae24627b56bf278043c60c1fe"> 7129</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a60daaf0ae24627b56bf278043c60c1fe">Loads</a>;</div>
<div class="line"><a name="l07130"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#aac29785147803d9953632168966b604d"> 7130</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#aac29785147803d9953632168966b604d">Unloads</a>;</div>
<div class="line"><a name="l07131"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a1f4fe40e9259c171656ee7c66f9e19c3"> 7131</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a1f4fe40e9259c171656ee7c66f9e19c3">UnTrackedPool</a>;</div>
<div class="line"><a name="l07132"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#aafa11d48dd7c1df38f9deb6efdd8b72d"> 7132</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#aafa11d48dd7c1df38f9deb6efdd8b72d">UserTrims</a>;</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;</div>
<div class="line"><a name="l07134"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a151d89b4e2d95bb45a0e14a88753e603"> 7134</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a151d89b4e2d95bb45a0e14a88753e603">CurrentPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07135"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#ae929ba1196b28799d05fe36819ac6966"> 7135</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#ae929ba1196b28799d05fe36819ac6966">CurrentNonPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07136"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#ab5384d174ffd1c65c7624c4dc1f7382f"> 7136</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#ab5384d174ffd1c65c7624c4dc1f7382f">PeakPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07137"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a8f3cab8687876cc33961e89b148595e1"> 7137</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a8f3cab8687876cc33961e89b148595e1">PeakNonPagedPoolAllocations</a>;</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;</div>
<div class="line"><a name="l07139"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#aee67b24d55c7744e34217f2665e03ed9"> 7139</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dc/d2b/a00936.html#aee67b24d55c7744e34217f2665e03ed9">PagedBytes</a>;</div>
<div class="line"><a name="l07140"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a2d1fa8f4533280c7eb81cda9d34a55d0"> 7140</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dc/d2b/a00936.html#a2d1fa8f4533280c7eb81cda9d34a55d0">NonPagedBytes</a>;</div>
<div class="line"><a name="l07141"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a01a5d7e01c67c163ab815454a90f7a26"> 7141</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dc/d2b/a00936.html#a01a5d7e01c67c163ab815454a90f7a26">PeakPagedBytes</a>;</div>
<div class="line"><a name="l07142"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#af27877b8d497a5a230f1f3cf19f0a7c6"> 7142</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dc/d2b/a00936.html#af27877b8d497a5a230f1f3cf19f0a7c6">PeakNonPagedBytes</a>;</div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;</div>
<div class="line"><a name="l07144"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a4454b8baf2b3878548bfc8c8651fe768"> 7144</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a4454b8baf2b3878548bfc8c8651fe768">BurstAllocationsFailedDeliberately</a>;</div>
<div class="line"><a name="l07145"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a8c4c0b5707118c2866f8484f661c61c3"> 7145</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dc/d2b/a00936.html#a8c4c0b5707118c2866f8484f661c61c3">SessionTrims</a>;</div>
<div class="line"><a name="l07146"></a><span class="lineno"><a class="line" href="../../dc/d2b/a00936.html#a5cd094a614b8fa9a676d129903bc6b14"> 7146</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/d13/a02237.html#ac4ba056700d2913c40f13f20d1be42a3">Reserved</a>[2];</div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a77ca56d66b2415d186e72fbfff35837a">MM_DRIVER_VERIFIER_DATA</a>, *<a class="code" href="../../d9/dce/a02519.html#a2095507d194c0973f25a2d96e27fcc06">PMM_DRIVER_VERIFIER_DATA</a>;</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa881e61ea944cf2c061aa216517da1e1">MiInitializeDriverVerifierList</a> (</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;    );</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2626a8174f8c5fd42513233ef8e68c8a">MiInitializeVerifyingComponents</a> (</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d7/dcf/a00845.html">PLOADER_PARAMETER_BLOCK</a> LoaderBlock</div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;    );</div>
<div class="line"><a name="l07159"></a><span class="lineno"> 7159</span>&#160;</div>
<div class="line"><a name="l07160"></a><span class="lineno"> 7160</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab67e0b9971b3557d309cf87b6a0868e8">MiApplyDriverVerifier</a> (</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a>,</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMI_VERIFIER_DRIVER_ENTRY Verifier</div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;    );</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;<a class="code" href="../../d9/dce/a02519.html#adbad2f55da1c6319365bb5166d0ddd68">MiReApplyVerifierToLoadedModules</a>(</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/d11/a00842.html">PLIST_ENTRY</a> ModuleListHead</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;    );</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af2d7e9bbacfc8c13622dbcd2cd3e369f">MiVerifyingDriverUnloading</a> (</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a> DataTableEntry</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;    );</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a528e221720ad30dd2d3406da43bbd16b">MiVerifierCheckThunks</a> (</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a> DataTableEntry</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;    );</div>
<div class="line"><a name="l07180"></a><span class="lineno"> 7180</span>&#160;</div>
<div class="line"><a name="l07181"></a><span class="lineno"> 7181</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a0ab0f4e038fa33f17f351d0aee56293e">MiActiveVerifierThunks</a>;</div>
<div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a7ef38f1e6d5c362b204585ae33dd432d">MiSuspectDriverList</a>;</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;</div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a57de7ef8d0e0b4cbcbef06e5760d5524">MiVerifierThunksAdded</a>;</div>
<div class="line"><a name="l07185"></a><span class="lineno"> 7185</span>&#160;</div>
<div class="line"><a name="l07186"></a><span class="lineno"> 7186</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a6051f7cb1e9645f9ce95ff36ddda4925">MiEnableKernelVerifier</a> (</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;    );</div>
<div class="line"><a name="l07190"></a><span class="lineno"> 7190</span>&#160;</div>
<div class="line"><a name="l07191"></a><span class="lineno"> 7191</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#a5595dc971d85cfd3553e365998bfb169">KernelVerifier</a>;</div>
<div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d2b/a00936.html">MM_DRIVER_VERIFIER_DATA</a> <a class="code" href="../../d9/dce/a02519.html#a81c7acb58229f6b082600f0b917c5697">MmVerifierData</a>;</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;</div>
<div class="line"><a name="l07195"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a16d29bbfc8b0d21afdbf35843fd4cd8a"> 7195</a></span>&#160;<span class="preprocessor">#define MI_FREED_SPECIAL_POOL_SIGNATURE 0x98764321</span></div>
<div class="line"><a name="l07196"></a><span class="lineno"> 7196</span>&#160;</div>
<div class="line"><a name="l07197"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afccc768f45ae583c36ceec8922a4b687"> 7197</a></span>&#160;<span class="preprocessor">#define MI_STACK_BYTES 1024</span></div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;</div>
<div class="line"><a name="l07199"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html"> 7199</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/dcf/a00922.html">_MI_FREED_SPECIAL_POOL</a> {</div>
<div class="line"><a name="l07200"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a1b09958a7216bf66f9d687b790d39cb5"> 7200</a></span>&#160;    <a class="code" href="../../d9/d40/a01387.html">POOL_HEADER</a> <a class="code" href="../../dd/dcf/a00922.html#a1b09958a7216bf66f9d687b790d39cb5">OverlaidPoolHeader</a>;</div>
<div class="line"><a name="l07201"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a91c30aa28cacc53c53be398bbcfa4cd9"> 7201</a></span>&#160;    <a class="code" href="../../d0/df0/a00934.html">MI_VERIFIER_POOL_HEADER</a> <a class="code" href="../../dd/dcf/a00922.html#a91c30aa28cacc53c53be398bbcfa4cd9">OverlaidVerifierPoolHeader</a>;</div>
<div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;</div>
<div class="line"><a name="l07203"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#abcfd2feef3f091ef034cb12ee769ed8a"> 7203</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/dcf/a00922.html#abcfd2feef3f091ef034cb12ee769ed8a">Signature</a>;</div>
<div class="line"><a name="l07204"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#ab7ba8898a9c9999f3ea6f65ad218d200"> 7204</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/dcf/a00922.html#ab7ba8898a9c9999f3ea6f65ad218d200">TickCount</a>;</div>
<div class="line"><a name="l07205"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a7a6610097c55ac690ea2aefc95ac586f"> 7205</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/dcf/a00922.html#a7a6610097c55ac690ea2aefc95ac586f">NumberOfBytesRequested</a>;</div>
<div class="line"><a name="l07206"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a4f7f96c524b98869037e6871c23442a4"> 7206</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/dcf/a00922.html#a4f7f96c524b98869037e6871c23442a4">Pageable</a>;</div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;</div>
<div class="line"><a name="l07208"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a77af561dfe99858e9bedebda598f5c2c"> 7208</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/dcf/a00922.html#a77af561dfe99858e9bedebda598f5c2c">VirtualAddress</a>;</div>
<div class="line"><a name="l07209"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#ab4abb0d6049fc1ae4b13cf36f295b21d"> 7209</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/dcf/a00922.html#ab4abb0d6049fc1ae4b13cf36f295b21d">StackPointer</a>;</div>
<div class="line"><a name="l07210"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a4585a14413968c9f41d33bd7f87637f0"> 7210</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/dcf/a00922.html#a4585a14413968c9f41d33bd7f87637f0">StackBytes</a>;</div>
<div class="line"><a name="l07211"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#aafb417e3726b9a84ff8c0e92e58d0e09"> 7211</a></span>&#160;    <a class="code" href="../../db/d7e/a00372.html">PETHREAD</a> <a class="code" href="../../dd/dcf/a00922.html#aafb417e3726b9a84ff8c0e92e58d0e09">Thread</a>;</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;</div>
<div class="line"><a name="l07213"></a><span class="lineno"><a class="line" href="../../dd/dcf/a00922.html#a8916a1e76fc42485b3505889c2624b96"> 7213</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="../../dd/dcf/a00922.html#a8916a1e76fc42485b3505889c2624b96">StackData</a>[<a class="code" href="../../d9/dce/a02519.html#afccc768f45ae583c36ceec8922a4b687">MI_STACK_BYTES</a>];</div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a8961d0fbdf2a5820f66b4cf356d120c4">MI_FREED_SPECIAL_POOL</a>, *<a class="code" href="../../d9/dce/a02519.html#a679ecd8ad5f31ed7c3f66b960d6b5b59">PMI_FREED_SPECIAL_POOL</a>;</div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;<span class="comment">// Types of resident available page charges.</span></div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;</div>
<div class="line"><a name="l07220"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af8e48d4bd2dc8d9fbd74435e6d65ecb7"> 7220</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_ZERO_PAGE_CLUSTERS          0</span></div>
<div class="line"><a name="l07221"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3cb27098a0308899aad91163873a4253"> 7221</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_PAGETABLES_FOR_PAGED_POOL   1</span></div>
<div class="line"><a name="l07222"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa1421db3b59a54880180d276d1005a81"> 7222</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_GROW_BSTORE                 2</span></div>
<div class="line"><a name="l07223"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a19e63db69fbd19d990ed5f0e9730b1b7"> 7223</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_CONTIGUOUS                  3</span></div>
<div class="line"><a name="l07224"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1d8613bb074f3de037683454c6abcd2d"> 7224</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_OUTPAGE_BSTORE                  4</span></div>
<div class="line"><a name="l07225"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac7cedc5bed77fe1f28ca445a4358de79"> 7225</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_PAGE_DRIVER                     5</span></div>
<div class="line"><a name="l07226"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8fbc65e9489b7104751290a80b30b1ed"> 7226</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_CREATE_PROCESS              6</span></div>
<div class="line"><a name="l07227"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aeda8c29ef16e9b88cd4aab41a5edd00b"> 7227</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_DELETE_PROCESS                  7</span></div>
<div class="line"><a name="l07228"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a42bb2ce1032452b5ac134ba83b18e5bb"> 7228</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_CLEAN_PROCESS2                  8</span></div>
<div class="line"><a name="l07229"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afcd34a48aae02c366f1f15ebffbc1910"> 7229</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_CREATE_STACK                9</span></div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;</div>
<div class="line"><a name="l07231"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a16549bb771c98d2967a5916c56cd2f98"> 7231</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_DELETE_STACK                   10</span></div>
<div class="line"><a name="l07232"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3be76d06ea6604a8a33a4dee7ca52e57"> 7232</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_GROW_STACK                 11</span></div>
<div class="line"><a name="l07233"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a041a4570c32371e5e8cb5b3fb3f04da7"> 7233</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_OUTPAGE_STACK                  12</span></div>
<div class="line"><a name="l07234"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4db717c0c69ecbc0c86f109ecf51934b"> 7234</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LOAD_SYSTEM_IMAGE_EXCESS       13</span></div>
<div class="line"><a name="l07235"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac6bb650e722db0f992c626a2a31a625d"> 7235</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LOAD_SYSTEM_IMAGE          14</span></div>
<div class="line"><a name="l07236"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab9548c96864c9c50e9b641344491c752"> 7236</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LOAD_SYSTEM_IMAGE1             15</span></div>
<div class="line"><a name="l07237"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3c575bf317509368bc19ff77e6bdffcd"> 7237</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LOAD_SYSTEM_IMAGE2             16</span></div>
<div class="line"><a name="l07238"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac2e91bb9d8783b2202010c0d9c45bc24"> 7238</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LOAD_SYSTEM_IMAGE3             17</span></div>
<div class="line"><a name="l07239"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8c3ba1005a5cb8e6c12d5cd8aed32682"> 7239</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_DRIVER_INITIALIZATION          18</span></div>
<div class="line"><a name="l07240"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2f80f6211412cd1cc96de942cb6646af"> 7240</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_SET_DRIVER_PAGING              19</span></div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;</div>
<div class="line"><a name="l07242"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a131cd9474ba02af8775bd8424cc8bb98"> 7242</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_CONTIGUOUS2                    20</span></div>
<div class="line"><a name="l07243"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a52a3295ef6f663649fe1216d523bf15e"> 7243</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_UNLOAD_SYSTEM_IMAGE1           21</span></div>
<div class="line"><a name="l07244"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab44c6ff6391ec6469365c0005689bd9d"> 7244</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_UNLOAD_SYSTEM_IMAGE            22</span></div>
<div class="line"><a name="l07245"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a68217bea753ea138af2b331f01ce28fd"> 7245</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_EXPANSION_NONPAGED_POOL        23</span></div>
<div class="line"><a name="l07246"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aab856732c02a9adb3d7c64f5dc70c16b"> 7246</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_EXPANSION_NONPAGED_POOL    24</span></div>
<div class="line"><a name="l07247"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa9edea0a8ebc0184e6c2d1210280079e"> 7247</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LOCK_CODE1                 25</span></div>
<div class="line"><a name="l07248"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aba343c3ebbec4fe232efcf4023f2ca52"> 7248</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LOCK_CODE3                 26</span></div>
<div class="line"><a name="l07249"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa95244aec918d95d632916da829cdb4e"> 7249</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATEORFREE_WS_ADJUST            27</span></div>
<div class="line"><a name="l07250"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7ee4a9e90474a7dafbef7aead5f3aa27"> 7250</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_INDEPENDENT                28</span></div>
<div class="line"><a name="l07251"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a45d4d8c25de802e86df591666c3f4743"> 7251</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LOCK_CODE2                 29</span></div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;</div>
<div class="line"><a name="l07253"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a29063f7e66cc639374f3f3d3c6721f1c"> 7253</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_INDEPENDENT                    30</span></div>
<div class="line"><a name="l07254"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a39a3007329a85e945ca13f74f916daf5"> 7254</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_NONPAGED_SPECIAL_POOL      31</span></div>
<div class="line"><a name="l07255"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a94c767a60b190cd11e395187272a93b7"> 7255</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_CONTIGUOUS                     32</span></div>
<div class="line"><a name="l07256"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a78e7be27d7349f2c4b715fc77aed0311"> 7256</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_SPECIAL_POOL_EXPANSION     33</span></div>
<div class="line"><a name="l07257"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2297541bcbb592513212f44d9ac7a7db"> 7257</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_FOR_MDL                    34</span></div>
<div class="line"><a name="l07258"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad91a6dfd65c7d4a5ebd278b4a24b2a7b"> 7258</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_FROM_MDL                       35</span></div>
<div class="line"><a name="l07259"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a101fdcee5f9f1c378952522f7495abdb"> 7259</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_AWE                            36</span></div>
<div class="line"><a name="l07260"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afff13180ae1b671ae691e66af6d2e717"> 7260</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_NONPAGED_SPECIAL_POOL          37</span></div>
<div class="line"><a name="l07261"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac5bbe4e1a87e2b6437c56a584ef78307"> 7261</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_FOR_MDL_EXCESS                 38</span></div>
<div class="line"><a name="l07262"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a638bd9fafa996c7e12a284d2414aa0ed"> 7262</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_HOTADD_PFNDB               39</span></div>
<div class="line"><a name="l07263"></a><span class="lineno"> 7263</span>&#160;</div>
<div class="line"><a name="l07264"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad297b2f05b7cd7ada3f956545cf042a6"> 7264</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_CREATE_SESSION             40</span></div>
<div class="line"><a name="l07265"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1d4d9fef94493c26e8437b6b1d514058"> 7265</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_CLEAN_PROCESS1                 41</span></div>
<div class="line"><a name="l07266"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab9f1d013c8fb177d2e7405676f95fa27"> 7266</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_SINGLE_PFN                 42</span></div>
<div class="line"><a name="l07267"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae5a7d22f51b8961e3e24383334967a9f"> 7267</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATEORFREE_WS_ADJUST1           43</span></div>
<div class="line"><a name="l07268"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2170bfb60c2466def3a60c28d8f3eb23"> 7268</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_SESSION_PAGE_TABLES        44</span></div>
<div class="line"><a name="l07269"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a24dcad2111129aa3c4f300c0bc01228d"> 7269</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_SESSION_IMAGE              45</span></div>
<div class="line"><a name="l07270"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aef2b07c0141424e147e9979615b18f22"> 7270</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_BUILDMDL                   46</span></div>
<div class="line"><a name="l07271"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a86d79564a8bbf889f13e8695f71601b7"> 7271</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_BUILDMDL_EXCESS                47</span></div>
<div class="line"><a name="l07272"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acc9bfb45a91a6eab168c909ebc8293f4"> 7272</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_ADD_WS_PAGE                48</span></div>
<div class="line"><a name="l07273"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af959628f986906a52319bcc3f61bef96"> 7273</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_CREATE_SESSION                 49</span></div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;</div>
<div class="line"><a name="l07275"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a48c846281dce4f20cbba7306b8fa96c1"> 7275</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_INIT_SESSION_WS            50</span></div>
<div class="line"><a name="l07276"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7604c21004437e7a87d68d2d41069c44"> 7276</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_SESSION_PAGE_TABLE             51</span></div>
<div class="line"><a name="l07277"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a131734ec6f32f82ea50ef4209d78a561"> 7277</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_DEREFERENCE_SESSION            52</span></div>
<div class="line"><a name="l07278"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aba5156ced52568c678cda47bb5ae13f4"> 7278</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_DEREFERENCE_SESSION_PAGES      53</span></div>
<div class="line"><a name="l07279"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af58e7c51f5bd20ef6a35f5d93fe288a1"> 7279</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATEORFREE_WS_ADJUST2           54</span></div>
<div class="line"><a name="l07280"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae677069a8314fd6a43c8ecf5055c5bd9"> 7280</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATEORFREE_WS_ADJUST3           55</span></div>
<div class="line"><a name="l07281"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2e545a1d701bda123edd7b2745bdaea2"> 7281</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_DEREFERENCE_SESSION_WS         56</span></div>
<div class="line"><a name="l07282"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac0f733c8ab23375f81c112c070fac002"> 7282</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LOAD_SESSION_IMAGE1            57</span></div>
<div class="line"><a name="l07283"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aea1947aba630a86d1f9521a6c39fe6b7"> 7283</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_USER_PAGE_TABLE            58</span></div>
<div class="line"><a name="l07284"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad4287781e22f4dfa1f170346887d3904"> 7284</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_USER_PAGE_TABLE                59</span></div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;</div>
<div class="line"><a name="l07286"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aec0c9bf04d30f77fe5783886c53b42ef"> 7286</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_HOTADD_MEMORY                  60</span></div>
<div class="line"><a name="l07287"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1106f68593c80821d1f2ea7b170e0aa8"> 7287</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_HOTREMOVE_MEMORY           61</span></div>
<div class="line"><a name="l07288"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab7de2c81dcd25a52b01a96c170186967"> 7288</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_HOTREMOVE_MEMORY1              62</span></div>
<div class="line"><a name="l07289"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a748e29f2585c5163a21a2327e48dc5d2"> 7289</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_HOTREMOVE_FAILED               63</span></div>
<div class="line"><a name="l07290"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adead16aabacf67f489ffcb9ab9651791"> 7290</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_HOTADD_ECC                     64</span></div>
<div class="line"><a name="l07291"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aacf0a74ce9c368746f531e5bcfac822e"> 7291</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_COMPRESSION                65</span></div>
<div class="line"><a name="l07292"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2b9c8d91bbcddb722f796507ace160ec"> 7292</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_COMPRESSION                    66</span></div>
<div class="line"><a name="l07293"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aca335f38aaf81342216158465393d2d4"> 7293</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LARGE_PAGES                67</span></div>
<div class="line"><a name="l07294"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0bee7922bb86836c9b12a865a095a48c"> 7294</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LARGE_PAGES                    68</span></div>
<div class="line"><a name="l07295"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a88fdca8d77b802ab693a1360cebe6a6e"> 7295</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LOAD_SYSTEM_IMAGE_TEMP     69</span></div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;</div>
<div class="line"><a name="l07297"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3b0da2dc0ace9569fe6af2be01df1a97"> 7297</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_WSLE_HASH                  70</span></div>
<div class="line"><a name="l07298"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8d0eb73208228485959b7086d264c2af"> 7298</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_WSLE_HASH                      71</span></div>
<div class="line"><a name="l07299"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af39f14188ce8645bf388c82960a1c2be"> 7299</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_CLEAN_PROCESS_WS               72</span></div>
<div class="line"><a name="l07300"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9a52ffba6c4cbff6e2d7c9f8b03740a9"> 7300</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_SESSION_PAGE_TABLES_EXCESS     73</span></div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;</div>
<div class="line"><a name="l07302"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a760f9556206a8553ca63b8746d27ed77"> 7302</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_ROTATE_VAD                 74</span></div>
<div class="line"><a name="l07303"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac1a6fbc06461e9d02e68c09bda3723fa"> 7303</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_ROTATE_VAD                     75</span></div>
<div class="line"><a name="l07304"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a623b0cfbb9031ea443fdd8d3b9299ccf"> 7304</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_LARGE_PAGES_PF_BACKED      76</span></div>
<div class="line"><a name="l07305"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aee937df5766b3a6b3e519ecbd54fa03f"> 7305</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_LARGE_PAGES_PF_BACKED          77</span></div>
<div class="line"><a name="l07306"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1521e6cd3f47e95c5e7b34b7984397e1"> 7306</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_PAGETABLES_FOR_PAGED_POOL      78</span></div>
<div class="line"><a name="l07307"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a573ae683c9574d761cf0c827dbcd337f"> 7307</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_ALLOCATE_ADD_WS_PAGE           79</span></div>
<div class="line"><a name="l07308"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7bb3e066c493eda675bba1a25250fa15"> 7308</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_ALLOCATE_ADD_WSLE_HASH         80</span></div>
<div class="line"><a name="l07309"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a25ad57641bf465ac8371ccc45ac7fc5a"> 7309</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATEORFREE_WS_ADJUST4           81</span></div>
<div class="line"><a name="l07310"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a235bc73b8359cc7f4ce2462d5a672a36"> 7310</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_ALLOCATE_FOR_PAGEFILE_ZEROING       82</span></div>
<div class="line"><a name="l07311"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac4b55abed5f44314dad4a16cb93ce616"> 7311</a></span>&#160;<span class="preprocessor">#define MM_RESAVAIL_FREE_FOR_PAGEFILE_ZEROING           83</span></div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;</div>
<div class="line"><a name="l07313"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aac3c48e232fdcbc38bb3f64e86fd9a07"> 7313</a></span>&#160;<span class="preprocessor">#define MM_BUMP_COUNTER_MAX 84</span></div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#ac9e118c029c413a9d2dbd2fb02b0e34a">MmResTrack</a>[<a class="code" href="../../d9/dce/a02519.html#aac3c48e232fdcbc38bb3f64e86fd9a07">MM_BUMP_COUNTER_MAX</a>];</div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;</div>
<div class="line"><a name="l07317"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac097a6b3bc303bc7c5f98b7052e727ea"> 7317</a></span>&#160;<span class="preprocessor">#define MI_INCREMENT_RESIDENT_AVAILABLE(bump, _index)                        \</span></div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;<span class="preprocessor">    InterlockedExchangeAddSizeT (&amp;MmResidentAvailablePages, (SIZE_T)(bump)); \</span></div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;<span class="preprocessor">    ASSERT (_index &lt; MM_BUMP_COUNTER_MAX);                                   \</span></div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;<span class="preprocessor">    InterlockedExchangeAddSizeT (&amp;MmResTrack[_index], (SIZE_T)(bump));</span></div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;</div>
<div class="line"><a name="l07322"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a629b559579863ea8a627beb63cd45b13"> 7322</a></span>&#160;<span class="preprocessor">#define MI_DECREMENT_RESIDENT_AVAILABLE(bump, _index)                          \</span></div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;<span class="preprocessor">    InterlockedExchangeAddSizeT (&amp;MmResidentAvailablePages, 0-(SIZE_T)(bump)); \</span></div>
<div class="line"><a name="l07324"></a><span class="lineno"> 7324</span>&#160;<span class="preprocessor">    ASSERT (_index &lt; MM_BUMP_COUNTER_MAX);                                     \</span></div>
<div class="line"><a name="l07325"></a><span class="lineno"> 7325</span>&#160;<span class="preprocessor">    InterlockedExchangeAddSizeT (&amp;MmResTrack[_index], (SIZE_T)(bump));</span></div>
<div class="line"><a name="l07326"></a><span class="lineno"> 7326</span>&#160;</div>
<div class="line"><a name="l07327"></a><span class="lineno"> 7327</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a479252cc2d3f0e924c5c6940c5125513">MmLargePageMinimum</a>;</div>
<div class="line"><a name="l07328"></a><span class="lineno"> 7328</span>&#160;</div>
<div class="line"><a name="l07329"></a><span class="lineno"> 7329</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a2c4898e7e74bf253c0552f64d34345d0">ZeroPte</a>;</div>
<div class="line"><a name="l07330"></a><span class="lineno"> 7330</span>&#160;</div>
<div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a25d433ddf4fc743440304534ca829464">ZeroKernelPte</a>;</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;</div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a6286415c411ec157cd4ff19340a33a22">ValidKernelPteLocal</a>;</div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;</div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a0353aa086bb1eb13d7bbc8b717b72303">ValidKernelPte</a>;</div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;</div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#ac85afcbbcbd8b7aae8cc6bcea4f751db">ValidKernelPde</a>;</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a1c5ae3eaf2ddadf9bb1eac3625c97e0d">ValidKernelPdeLocal</a>;</div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;</div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;<span class="preprocessor">#if defined (_AMD64_)</span></div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#ad7b20fd0fabb83f9943f62f40a0e0b7a">ValidUserPte</a>;</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#ad7b20fd0fabb83f9943f62f40a0e0b7a">ValidUserPte</a>;</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#ae2393e8c487bab25aec67d99519df651">ValidPtePte</a>;</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#adf0add092614b37b71e230a5bcce2f4c">ValidPdePde</a>;</div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a8f0c9f6e460c045025ea57209a5ee5be">DemandZeroPde</a>;</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a44cb7557779b34ad3349ea83336eef0f">DemandZeroPte</a>;</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;</div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a6f98a5d41885739d2b71c852413e113a">KernelPrototypePte</a>;</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a38acd6578d5dbb3a24c1e73be71b759a">TransitionPde</a>;</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#aa31b9f746e59233b4f0cc8f812e81b86">PrototypePte</a>;</div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a3d5d32846bde629bf25cb0635086f05d">NoAccessPte</a>;</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;</div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a3260e309df4f255172373037c8081c26">MmSubsectionBase</a>;</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#ac934f67ca08af1593b1d33e1db9313c7">MmSubsectionTopPage</a>;</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a4d37a9069f912c760046314410333d03">ExpMultiUserTS</a>;</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;<span class="comment">// Virtual alignment for PTEs (machine specific) minimum value is</span></div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;<span class="comment">// 4k maximum value is 64k.  The maximum value can be raised by</span></div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;<span class="comment">// changing the MM_PROTO_PTE_ALIGNMENT constant and adding more</span></div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;<span class="comment">// reserved mapping PTEs in hyperspace.</span></div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;</div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;<span class="comment">// Total number of physical pages on the system.</span></div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#aaeb17bbcfab2592bd93fd7c4a7a0ce92">PFN_COUNT</a> <a class="code" href="../../d9/dce/a02519.html#a402b31c70129cc8f6680b625b04cc70b">MmNumberOfPhysicalPages</a>;</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;<span class="comment">// Highest possible physical page number in the system.</span></div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a23e77b1517af1a3d2b88754fb19e4af4">MmHighestPossiblePhysicalPage</a>;</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;<span class="preprocessor">#define MI_DTC_MAX_PAGES ((PFN_NUMBER)(((ULONG64)1024 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;<span class="preprocessor">#define MI_DTC_BOOTED_3GB_MAX_PAGES     MI_DTC_MAX_PAGES</span></div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;<span class="preprocessor">#define MI_ADS_MAX_PAGES ((PFN_NUMBER)(((ULONG64)1024 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;</div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;<span class="preprocessor">#define MI_SRV_MAX_PAGES ((PFN_NUMBER)(((ULONG64)32 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;<span class="preprocessor">#define MI_PRO_MAX_PAGES ((PFN_NUMBER)(((ULONG64)128 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;</div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;<span class="preprocessor">#define MI_DEFAULT_MAX_PAGES ((PFN_NUMBER)(((ULONG64)32 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;<span class="comment">//                        WARNING WARNING WARNING</span></div>
<div class="line"><a name="l07406"></a><span class="lineno"> 7406</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07407"></a><span class="lineno"> 7407</span>&#160;<span class="comment">//              The PFN u4.PteFrame must be widened before</span></div>
<div class="line"><a name="l07408"></a><span class="lineno"> 7408</span>&#160;<span class="comment">//              the x86 maximum page limit can be raised.</span></div>
<div class="line"><a name="l07409"></a><span class="lineno"> 7409</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07410"></a><span class="lineno"> 7410</span>&#160;</div>
<div class="line"><a name="l07411"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad1c6c26c47cea7aff028312c05048f0b"> 7411</a></span>&#160;<span class="preprocessor">#define MI_DTC_MAX_PAGES ((PFN_NUMBER)(((ULONG64)128 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07412"></a><span class="lineno"> 7412</span>&#160;</div>
<div class="line"><a name="l07413"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#adf5cdb20ac904d82df5ec6650b19b095"> 7413</a></span>&#160;<span class="preprocessor">#define MI_DTC_BOOTED_3GB_MAX_PAGES ((PFN_NUMBER)(((ULONG64)16 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07414"></a><span class="lineno"> 7414</span>&#160;</div>
<div class="line"><a name="l07415"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3e73c133e0f2580f1c9816ed013aeb85"> 7415</a></span>&#160;<span class="preprocessor">#define MI_ADS_MAX_PAGES ((PFN_NUMBER)(((ULONG64)64 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;</div>
<div class="line"><a name="l07417"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a716e0970642ac2f5d8a19743020fd805"> 7417</a></span>&#160;<span class="preprocessor">#define MI_SRV_MAX_PAGES ((PFN_NUMBER)(((ULONG64)4 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;</div>
<div class="line"><a name="l07419"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad29f6ff994abc5f4c341e0ddf1f2ed6c"> 7419</a></span>&#160;<span class="preprocessor">#define MI_DEFAULT_MAX_PAGES ((PFN_NUMBER)(((ULONG64)4 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;</div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;</div>
<div class="line"><a name="l07423"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a39dbb970c42a6b693b6b42118d7e1a5d"> 7423</a></span>&#160;<span class="preprocessor">#define MI_BLADE_MAX_PAGES ((PFN_NUMBER)(((ULONG64)2 * 1024 * 1024 * 1024) &gt;&gt; PAGE_SHIFT))</span></div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../db/d1e/a01497.html">RTL_BITMAP</a> <a class="code" href="../../d9/dce/a02519.html#ab07d8b5c2089ddc4c9951c5723d55ea9">MiPfnBitMap</a>;</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;</div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;</div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07430"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a232b33c28ca70fe17c7776172212f0c0"> 7430</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a232b33c28ca70fe17c7776172212f0c0">MI_IS_PFN</a> (</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;    )</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;</div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;<span class="comment">    Check if a given address is backed by RAM or IO space.</span></div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;<span class="comment">    PageFrameIndex - Supplies a page frame number to check.</span></div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;<span class="comment">    TRUE - If the address is backed by RAM.</span></div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;<span class="comment">    FALSE - If the address is IO mapped memory.</span></div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;<span class="comment">    Kernel mode.  PFN lock or dynamic memory mutex may be held.</span></div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;{</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;    <span class="keywordflow">if</span> (PageFrameIndex &gt; <a class="code" href="../../d9/dce/a02519.html#a23e77b1517af1a3d2b88754fb19e4af4">MmHighestPossiblePhysicalPage</a>) {</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    }</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;</div>
<div class="line"><a name="l07461"></a><span class="lineno"> 7461</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/dce/a02519.html#ab42cad0c592099b1ed4af49e39e817f6">MI_CHECK_BIT</a> (MiPfnBitMap.<a class="code" href="../../db/d1e/a01497.html#ac524f222b86439c023ea0b3b87edab27">Buffer</a>, PageFrameIndex);</div>
<div class="line"><a name="l07462"></a><span class="lineno"> 7462</span>&#160;}</div>
<div class="line"><a name="l07463"></a><span class="lineno"> 7463</span>&#160;</div>
<div class="line"><a name="l07464"></a><span class="lineno"> 7464</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a6cd8b8490b2dbcd89f5cd8ffffef9340">MmZeroedPageListHead</a>;</div>
<div class="line"><a name="l07465"></a><span class="lineno"> 7465</span>&#160;</div>
<div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#adee63d446d45f82ca2181e4c367e769a">MmFreePageListHead</a>;</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a4dc2c75b0f1df7e3c0234d369704ef91">MmStandbyPageListHead</a>;</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a1897f4abb10d7db6d400f6a8afd62afe">MmStandbyPageListByPriority</a>[<a class="code" href="../../d9/dce/a02519.html#a5bb47f6859794477a350474715e86dee">MI_PFN_PRIORITIES</a>];</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a357ecc4b8bf825d8b7f83940eca901cf">MmRomPageListHead</a>;</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a5ece5c7e2819b44a8ea977819f4e8cce">MmModifiedPageListHead</a>;</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a9080df10f9f127e9871517a2f3077ea2">MmModifiedNoWritePageListHead</a>;</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a6c35539f03baf13a6a9d59a725bc5370">MmBadPageListHead</a>;</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">PMMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a9113092b195be440d60744d580789a9b">MmPageLocationList</a>[<a class="code" href="../../dd/d31/a02215.html#abafdbe9e1798708d23f871074d3c7613">NUMBER_OF_PAGE_LISTS</a>];</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d7/dd4/a00968.html">MMPFNLIST</a> <a class="code" href="../../d9/dce/a02519.html#a2039d181fd12ed06e07a006689d829a0">MmModifiedPageListByColor</a>[<a class="code" href="../../d1/df5/a02496.html#a06c5ecaf5b2046120f72fa1c7951eb6c">MM_MAXIMUM_NUMBER_OF_COLORS</a>];</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;<span class="comment">// Mask for isolating node color from combined node and secondary</span></div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;<span class="comment">// color.</span></div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ab06c27e0bdb1eb1618ff2159b9f70457">MmSecondaryColorNodeMask</a>;</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;<span class="comment">// Width of MmSecondaryColorMask in bits.   In multi node systems,</span></div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;<span class="comment">// the node number is combined with the secondary color to make up</span></div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;<span class="comment">// the page color.</span></div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> <a class="code" href="../../d9/dce/a02519.html#a35c4644784655c5179cdf095d681a9ea">MmSecondaryColorNodeShift</a>;</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;<span class="comment">// Events for available pages, set means pages are available.</span></div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a912e064f095c98ee70a0e2d2347d40a4">MmAvailablePagesEvent</a>;</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a4bb7d2678fe6b802d5db9269edcde2be">MmAvailablePagesEventHigh</a>;</div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;<span class="comment">// Event for the zeroing page thread.</span></div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#ad55d71ea21ea8b09864549708f6c5a9b">MmZeroingPageEvent</a>;</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;<span class="comment">// Boolean to indicate if the zeroing page thread is currently</span></div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;<span class="comment">// active.  This is set to true when the zeroing page event is</span></div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;<span class="comment">// set and set to false when the zeroing page thread is done</span></div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;<span class="comment">// zeroing all the pages on the free list.</span></div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a> <a class="code" href="../../d9/dce/a02519.html#ac814263fa34697648b64eea79535ce20">MmZeroingPageThreadActive</a>;</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;<span class="comment">// Minimum number of free pages before zeroing page thread starts.</span></div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#af0eae6a99a241d80c7c205f4842b4fd6">MmMinimumFreePagesToZero</a>;</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;<span class="comment">// Global event to synchronize mapped writing with cleaning segments.</span></div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#aac9808a4b39bf1ece3f195482db37fe5">MmMappedFileIoComplete</a>;</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;<span class="comment">// Hyper space items.</span></div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#ad4240441e2cf062ef712407e0cceb392">MmFirstReservedMappingPte</a>;</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a21c7b98b5ea8818a1404f1c60d330e5f">MmLastReservedMappingPte</a>;</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;<span class="comment">// System space sizes - MmNonPagedSystemStart to MM_NON_PAGED_SYSTEM_END</span></div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;<span class="comment">// defines the ranges of PDEs which must be copied into a new process&#39;s</span></div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;<span class="comment">// address space.</span></div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a15136318a95df041b2aa28e2e7b21580">MmNonPagedSystemStart</a>;</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a6addcc52e2dfddf231bf3213859ae2bb">PCHAR</a> <a class="code" href="../../d9/dce/a02519.html#a01cc0d86a32c96a54063ea9909fb42d4">MmSystemSpaceViewStart</a>;</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;</div>
<div class="line"><a name="l07552"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1349503295a1470f3cee1aad94f1d5a6"> 7552</a></span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d9/dce/a02519.html#a1349503295a1470f3cee1aad94f1d5a6">MmProtectFreedNonPagedPool</a>;</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07555"></a><span class="lineno"> 7555</span>&#160;<span class="comment">// Pool sizes.</span></div>
<div class="line"><a name="l07556"></a><span class="lineno"> 7556</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a423eb2ed99f973ab82b646f8ea12d868">MmSizeOfNonPagedPoolInBytes</a>;</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a07bcacaad5dccb4e0db9757f0d57e81b">MmMinimumNonPagedPoolSize</a>;</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#ad5bb09189044bc869bfe244a162a5f43">MmDefaultMaximumNonPagedPool</a>;</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;</div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a0b8c5e7991ae43b4b278da6e0f2bc577">MmMaximumNonPagedPoolPercent</a>;</div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ab0111beefc0ff0f79ba7102ecfa97fc7">MmMinAdditionNonPagedPoolPerMb</a>;</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a9f1c5d059eb92d258e6cdd5398dad10c">MmMaxAdditionNonPagedPoolPerMb</a>;</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;</div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#af05edee5335230c5643475dfa40859ae">MmSizeOfPagedPoolInBytes</a>;</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#adf919013ce2a4094a42ce274e45f59df">MmSizeOfPagedPoolInPages</a>;</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;</div>
<div class="line"><a name="l07573"></a><span class="lineno"> 7573</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a9e3b5a63d9028e064c124226edfd1caf">MmMaximumNonPagedPoolInBytes</a>;</div>
<div class="line"><a name="l07574"></a><span class="lineno"> 7574</span>&#160;</div>
<div class="line"><a name="l07575"></a><span class="lineno"> 7575</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a63a505fd06333260bbfe502ae80e808d">MmMaximumNonPagedPoolInPages</a>;</div>
<div class="line"><a name="l07576"></a><span class="lineno"> 7576</span>&#160;</div>
<div class="line"><a name="l07577"></a><span class="lineno"> 7577</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a3f2bd073eb79fa2c68e69277e4ac28e6">MmAllocatedNonPagedPool</a>;</div>
<div class="line"><a name="l07578"></a><span class="lineno"> 7578</span>&#160;</div>
<div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a9f2d5a2e1b4760a40d7e1595860be043">MmNonPagedPoolExpansionStart</a>;</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a6041166e85512ed24cdbcc440885c3c7">MmNumberOfFreeNonPagedPool</a>;</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;</div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#abd1e5d2b0d0656cbd630df06cca6ed06">MmNumberOfSystemPtes</a>;</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a9c1f31cbe4779b6899ffde30843ab8a4">MiRequestedSystemPtes</a>;</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a680ca999f42919682c259553f914bf2e">MmSystemPagePtes</a>;</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a58483d2ed30cb500f32e5e24c9448772">MmSystemPageDirectory</a>[];</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a058e6cb1705bed7818a2915fc5948cc5">MmHeapSegmentReserve</a>;</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#acecfdcd919c6277bb73d61c135650c43">MmHeapSegmentCommit</a>;</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a3dd266745c64df076c4433ea9625c74f">MmHeapDeCommitTotalFreeThreshold</a>;</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a1a85e51d2b390629d2ddb7ba0dece5e4">MmHeapDeCommitFreeBlockThreshold</a>;</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;</div>
<div class="line"><a name="l07599"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a177f41f82fefc17c17509a9a81d36ed1"> 7599</a></span>&#160;<span class="preprocessor">#define MI_MAX_FREE_LIST_HEADS  4</span></div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#ab2191fa5809148c079afb6cd1974ff63">MmNonPagedPoolFreeListHead</a>[<a class="code" href="../../d9/dce/a02519.html#a177f41f82fefc17c17509a9a81d36ed1">MI_MAX_FREE_LIST_HEADS</a>];</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;<span class="comment">// Counter for flushes of the entire TB.</span></div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#aa248eef7719acf758e3cf9f7f677fbf2">MmFlushCounter</a>;</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;<span class="comment">// Pool start and end.</span></div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#ac6c18e6f131f2a905a7b7cd7107e7411">MmNonPagedPoolStart</a>;</div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a36e25fd45eefb8ea45304fa87db1bf1e">MmNonPagedPoolEnd</a>;</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a22ea7d28d6fce65343bd651c3c7469ac">MmPagedPoolStart</a>;</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#afe6257ad9742989189c09c9240c3c880">MmPagedPoolEnd</a>;</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;<a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l07623"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a27ec7a268654ca6ce1bbcfb7c05ac2c5"> 7623</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a27ec7a268654ca6ce1bbcfb7c05ac2c5">MiIsProtoAddressValid</a> (</div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;    )</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;<span class="comment">    For a given paged pool address (containing prototype PTEs) this function</span></div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;<span class="comment">    returns TRUE if no page fault will occur for a write operation on the</span></div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;<span class="comment">    address, FALSE otherwise.</span></div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;<span class="comment">    Various optimizations may be made since this is only ever called with</span></div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;<span class="comment">    these types of addresses...</span></div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;<span class="comment">    Since paged pool is always mapped readwrite, just checking for validity</span></div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;<span class="comment">    is sufficient.  Note also that the reference to the PTE may fault on x86</span></div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;<span class="comment">    because the paged pool page directory entries are lazy filled, but the</span></div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;<span class="comment">    fault handler will take care of this for us.</span></div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;<span class="comment">    VirtualAddress - Supplies the virtual address to check.</span></div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07649"></a><span class="lineno"> 7649</span>&#160;<span class="comment">    TRUE if no page fault would be generated writing the virtual address,</span></div>
<div class="line"><a name="l07650"></a><span class="lineno"> 7650</span>&#160;<span class="comment">    FALSE otherwise.</span></div>
<div class="line"><a name="l07651"></a><span class="lineno"> 7651</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07652"></a><span class="lineno"> 7652</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l07653"></a><span class="lineno"> 7653</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07654"></a><span class="lineno"> 7654</span>&#160;<span class="comment">    Kernel mode, PFN lock held.</span></div>
<div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;{</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte;</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;</div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (((VirtualAddress &gt;= <a class="code" href="../../d9/dce/a02519.html#a22ea7d28d6fce65343bd651c3c7469ac">MmPagedPoolStart</a>) &amp;&amp;</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;            (VirtualAddress &lt;= <a class="code" href="../../d9/dce/a02519.html#afe6257ad9742989189c09c9240c3c880">MmPagedPoolEnd</a>)) ||</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;</div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;            ((VirtualAddress &gt;= <a class="code" href="../../d9/dce/a02519.html#a64221e81c9efa5abd292866c4f714f98">MmSpecialPoolStart</a>) &amp;&amp;</div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;            (VirtualAddress &lt;= <a class="code" href="../../d9/dce/a02519.html#a0db4cb76ccc40ed2c330f9ead4f6245d">MmSpecialPoolEnd</a>)));</div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;<span class="preprocessor">#if defined (_AMD64_)</span></div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d1/df5/a02496.html#af54c9abc6e56d2f299c35e587f843c3e">MI_IS_PHYSICAL_ADDRESS</a> (VirtualAddress) == <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a8c85bdeb5a8178759e8cd6806f570ccc">MM_PFN_LOCK_ASSERT</a>();</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;    <span class="comment">// If the address is not canonical then return FALSE as the caller (which</span></div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;    <span class="comment">// may be the kernel debugger) is not expecting to get an unimplemented</span></div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;    <span class="comment">// address bit fault.</span></div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d1/df5/a02496.html#a7b09c6d98ba2df88c12be373e3e19ff8">MI_RESERVED_BITS_CANONICAL</a>(VirtualAddress) == <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 4)</span></div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d9/dce/a02519.html#a6031df2ee45df1f5f4396f5bf6ac4513">MiGetPxeAddress</a> (VirtualAddress)-&gt;u.Hard.Valid == 1);</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 3)</span></div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d9/dce/a02519.html#af52ec2472252e84d3317777ecca3375d">MiGetPpeAddress</a> (VirtualAddress)-&gt;u.Hard.Valid == 1);</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d1/df5/a02496.html#a53abc747ab1b753b2e3610968a7531d3">MiGetPdeAddress</a> (VirtualAddress)-&gt;u.Hard.Valid == 1);</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l07691"></a><span class="lineno"> 7691</span>&#160;    PointerPte = <a class="code" href="../../d1/df5/a02496.html#a53abc747ab1b753b2e3610968a7531d3">MiGetPdeAddress</a> (VirtualAddress);</div>
<div class="line"><a name="l07692"></a><span class="lineno"> 7692</span>&#160;    <span class="keywordflow">if</span> (PointerPte-&gt;<a class="code" href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">u</a>.<a class="code" href="../../d0/daf/a00970.html#afa28ee661e71cfe2effd5fc655302e2b">Hard</a>.<a class="code" href="../../d3/da5/a00973.html#a081ca8eba4d912617b63842b756cbdff">Valid</a> == 1) {</div>
<div class="line"><a name="l07693"></a><span class="lineno"> 7693</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d1/df5/a02496.html#a7920915db7ca262dce928c6eccd93fda">MI_PDE_MAPS_LARGE_PAGE</a> (PointerPte) == <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l07694"></a><span class="lineno"> 7694</span>&#160;    }</div>
<div class="line"><a name="l07695"></a><span class="lineno"> 7695</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07696"></a><span class="lineno"> 7696</span>&#160;</div>
<div class="line"><a name="l07697"></a><span class="lineno"> 7697</span>&#160;    PointerPte = <a class="code" href="../../d1/df5/a02496.html#a37d026c23197d996a6ac9df06c0dd3c1">MiGetPteAddress</a> (VirtualAddress);</div>
<div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;    <span class="comment">// This reference may (safely) fault on x86.</span></div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;    <span class="keywordflow">if</span> (PointerPte-&gt;<a class="code" href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">u</a>.<a class="code" href="../../d0/daf/a00970.html#afa28ee661e71cfe2effd5fc655302e2b">Hard</a>.<a class="code" href="../../d3/da5/a00973.html#a081ca8eba4d912617b63842b756cbdff">Valid</a> == 0) {</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;    }</div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;</div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../d1/df5/a02496.html#a7920915db7ca262dce928c6eccd93fda">MI_PDE_MAPS_LARGE_PAGE</a> (PointerPte) == <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;</div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;}</div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;<span class="comment">// Pool bit maps and other related structures.</span></div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;</div>
<div class="line"><a name="l07715"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html"> 7715</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/d20/a00939.html">_MM_PAGED_POOL_INFO</a> {</div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;</div>
<div class="line"><a name="l07717"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#a896bb97cbaf1aa544b24c55416eceaca"> 7717</a></span>&#160;    <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../dd/d20/a00939.html#a896bb97cbaf1aa544b24c55416eceaca">PagedPoolAllocationMap</a>;</div>
<div class="line"><a name="l07718"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#a3e24080214de3ceff4133586b6f672da"> 7718</a></span>&#160;    <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../dd/d20/a00939.html#a3e24080214de3ceff4133586b6f672da">EndOfPagedPoolBitmap</a>;</div>
<div class="line"><a name="l07719"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#a8ec9ea188ec4f17e5ffcbc08950bf002"> 7719</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../dd/d20/a00939.html#a8ec9ea188ec4f17e5ffcbc08950bf002">FirstPteForPagedPool</a>;</div>
<div class="line"><a name="l07720"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#a1caf5664dc271e0087f1f10caee79dbe"> 7720</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../dd/d20/a00939.html#a1caf5664dc271e0087f1f10caee79dbe">LastPteForPagedPool</a>;</div>
<div class="line"><a name="l07721"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#aeec8d42efccdd1167b9de116e846ede3"> 7721</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../dd/d20/a00939.html#aeec8d42efccdd1167b9de116e846ede3">NextPdeForPagedPoolExpansion</a>;</div>
<div class="line"><a name="l07722"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#af988b56e1d82758c095ea9a0899b8f3e"> 7722</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../dd/d20/a00939.html#af988b56e1d82758c095ea9a0899b8f3e">PagedPoolHint</a>;</div>
<div class="line"><a name="l07723"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#afbe985147147d4f85a473949badee0eb"> 7723</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dd/d20/a00939.html#afbe985147147d4f85a473949badee0eb">PagedPoolCommit</a>;</div>
<div class="line"><a name="l07724"></a><span class="lineno"><a class="line" href="../../dd/d20/a00939.html#a21cc9bfff18ae596c45d128934b2b93b"> 7724</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../dd/d20/a00939.html#a21cc9bfff18ae596c45d128934b2b93b">AllocatedPagedPool</a>;</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#ad3b54ab2ffa34a7ec0b63413ce9d47ec">MM_PAGED_POOL_INFO</a>, *<a class="code" href="../../d9/dce/a02519.html#a25a8319b2474f0acf8f6f5896a6af5b9">PMM_PAGED_POOL_INFO</a>;</div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d20/a00939.html">MM_PAGED_POOL_INFO</a> <a class="code" href="../../d9/dce/a02519.html#a71754136c6d515e160e347e1c391d64f">MmPagedPoolInfo</a>;</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../db/d1e/a01497.html">PRTL_BITMAP</a> <a class="code" href="../../d9/dce/a02519.html#abf72c0f7ddffcc8d7419be875cb3d4dd">VerifierLargePagedPoolMap</a>;</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;<span class="comment">// MmFirstFreeSystemPte contains the offset from the</span></div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;<span class="comment">// Nonpaged system base to the first free system PTE.</span></div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;<span class="comment">// Note, that an offset of zero indicates an empty list.</span></div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a63da4abdbd574b3da9bb7bf8dc49e68a">MmFirstFreeSystemPte</a>[<a class="code" href="../../dd/d31/a02215.html#a0420c23393b2b800d392135ac624bf26ad35cdb70fc38c7eccf8c962ba5b09e90">MaximumPtePoolTypes</a>];</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a6c341cf8c952b435740de8a3305b7b77">MiSystemViewStart</a>;</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;<span class="comment">// System cache sizes.</span></div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;<span class="keyword">extern</span> PMMWSL <a class="code" href="../../d9/dce/a02519.html#a714d319e4b414ce7ce9fa5b4c00e2109">MmSystemCacheWorkingSetList</a>;</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d28/a00997.html">PMMWSLE</a> <a class="code" href="../../d9/dce/a02519.html#a3ce1e3c4a29bda2f82e2a6dc6127786a">MmSystemCacheWsle</a>;</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#af258a6d4799aa77993b34495e80c5c6b">MmSystemCacheStart</a>;</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#af84ba311bae632c5fc896805be5715b5">MmSystemCacheEnd</a>;</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a15b0ff1845a7bbbc6d0e2d5bba04d7cc">MmSystemCacheWsMinimum</a>;</div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;</div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;<span class="comment">// Virtual alignment for PTEs (machine specific) minimum value is</span></div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;<span class="comment">// 0 (no alignment) maximum value is 64k.  The maximum value can be raised by</span></div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;<span class="comment">// changing the MM_PROTO_PTE_ALIGNMENT constant and adding more</span></div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;<span class="comment">// reserved mapping PTEs in hyperspace.</span></div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;</div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a7ac4602e5ea78421cdfe553ce3cc3514">MmAliasAlignment</a>;</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;</div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;<span class="comment">// Mask to AND with virtual address to get an offset to go</span></div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;<span class="comment">// with the alignment.  This value is page aligned.</span></div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a94cf5c0a572575d88da330af03436184">MmAliasAlignmentOffset</a>;</div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;<span class="comment">// Mask to and with PTEs to determine if the alias mapping is compatible.</span></div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;<span class="comment">// This value is usually (MmAliasAlignment - 1)</span></div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a4321e3ee68b5acaba8b87850862b5800">MmAliasAlignmentMask</a>;</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;<span class="comment">// Cells to track unused thread kernel stacks to avoid TB flushes</span></div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;<span class="comment">// every time a thread terminates.</span></div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;</div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#af7f13b91bbcc57dcd41903c379f8ea4d">MmMaximumDeadKernelStacks</a>;</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/deb/a01628.html">SLIST_HEADER</a> <a class="code" href="../../d9/dce/a02519.html#a2cd8df37951d86658c5a60822eb4ca76">MmDeadStackSListHead</a>;</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;<span class="comment">// MmSystemPteBase contains the address of 1 PTE before</span></div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;<span class="comment">// the first free system PTE (zero indicates an empty list).</span></div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;<span class="comment">// The value of this field does not change once set.</span></div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a5f327897b7762722fa2ed220db0d6049">MmSystemPteBase</a>;</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;<span class="comment">// Root of system space virtual address descriptors.  These define</span></div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;<span class="comment">// the pageable portion of the system.</span></div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;</div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;<span class="keyword">extern</span> PMMVAD <a class="code" href="../../d9/dce/a02519.html#ae8cb8dafdd51851c92b228c82f4be092">MmVirtualAddressDescriptorRoot</a>;</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d8/d19/a00935.html">MM_AVL_TABLE</a> <a class="code" href="../../d9/dce/a02519.html#ace646365dddc29feb672b827286597fb">MmSectionBasedRoot</a>;</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;</div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d9/dce/a02519.html#a9fd77a3a7b05ee865c524d2572a4feb6">MmHighSectionBase</a>;</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;<span class="comment">// Section commit mutex.</span></div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d8/dba/a00773.html">KGUARDED_MUTEX</a> <a class="code" href="../../d9/dce/a02519.html#ab9400e647e315965b9b44e47ff6bf7a4">MmSectionCommitMutex</a>;</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;<span class="comment">// Section base address mutex.</span></div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d8/dba/a00773.html">KGUARDED_MUTEX</a> <a class="code" href="../../d9/dce/a02519.html#a135052462807c8dcaef8ef91fcf7ea06">MmSectionBasedMutex</a>;</div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;</div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;<span class="comment">// Resource for section extension.</span></div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d3/d30/a00370.html">ERESOURCE</a> <a class="code" href="../../d9/dce/a02519.html#a2e9e5922ebd1bfab9de6839e70266401">MmSectionExtendResource</a>;</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d3/d30/a00370.html">ERESOURCE</a> <a class="code" href="../../d9/dce/a02519.html#a87c0f03491992c334c5b5a108754f3c7">MmSectionExtendSetResource</a>;</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;</div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;<span class="comment">// Inpage cluster sizes for executable pages (set based on memory size).</span></div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a578fa543b5afb7346270b81e7251991d">MmDataClusterSize</a>;</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a5e0f5a376c555d6436b2257095b9f3f7">MmCodeClusterSize</a>;</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;<span class="comment">// Pagefile creation mutex.</span></div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d8/dba/a00773.html">KGUARDED_MUTEX</a> <a class="code" href="../../d9/dce/a02519.html#a086d413f8b0a663458ab3569feb8922c">MmPageFileCreationLock</a>;</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;<span class="comment">// Event to set when first paging file is created.</span></div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;</div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">PKEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a51878dc00fd71d6c719903b28d200d88">MmPagingFileCreated</a>;</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;<span class="comment">// Paging file debug information.</span></div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a503a2fe002f15a8d33bc240916f677c5">MmPagingFileDebug</a>[];</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07852"></a><span class="lineno"> 7852</span>&#160;<span class="comment">// Fast mutex which guards the working set list for the system shared</span></div>
<div class="line"><a name="l07853"></a><span class="lineno"> 7853</span>&#160;<span class="comment">// address space (paged pool, system cache, pageable drivers).</span></div>
<div class="line"><a name="l07854"></a><span class="lineno"> 7854</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07855"></a><span class="lineno"> 7855</span>&#160;</div>
<div class="line"><a name="l07856"></a><span class="lineno"> 7856</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/dea/a00408.html">FAST_MUTEX</a> <a class="code" href="../../d9/dce/a02519.html#af639ae9558747f52b59245f261b96b7b">MmSystemWsLock</a>;</div>
<div class="line"><a name="l07857"></a><span class="lineno"> 7857</span>&#160;</div>
<div class="line"><a name="l07858"></a><span class="lineno"> 7858</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07859"></a><span class="lineno"> 7859</span>&#160;<span class="comment">// Spin lock for allowing working set expansion.</span></div>
<div class="line"><a name="l07860"></a><span class="lineno"> 7860</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07861"></a><span class="lineno"> 7861</span>&#160;</div>
<div class="line"><a name="l07862"></a><span class="lineno"> 7862</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/de4/a02241.html#a89adb6dc0ec6cc3fcce2441adcf97013">KSPIN_LOCK</a> <a class="code" href="../../d9/dce/a02519.html#a72bf4d1d74b03eded9bf9d29ddfcc0eb">MmExpansionLock</a>;</div>
<div class="line"><a name="l07863"></a><span class="lineno"> 7863</span>&#160;</div>
<div class="line"><a name="l07864"></a><span class="lineno"> 7864</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07865"></a><span class="lineno"> 7865</span>&#160;<span class="comment">// To prevent optimizations.</span></div>
<div class="line"><a name="l07866"></a><span class="lineno"> 7866</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07867"></a><span class="lineno"> 7867</span>&#160;</div>
<div class="line"><a name="l07868"></a><span class="lineno"> 7868</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> <a class="code" href="../../d9/dce/a02519.html#ac4baef21f92527db91971968a8942900">GlobalPte</a>;</div>
<div class="line"><a name="l07869"></a><span class="lineno"> 7869</span>&#160;</div>
<div class="line"><a name="l07870"></a><span class="lineno"> 7870</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07871"></a><span class="lineno"> 7871</span>&#160;<span class="comment">// Page color for system working set.</span></div>
<div class="line"><a name="l07872"></a><span class="lineno"> 7872</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07873"></a><span class="lineno"> 7873</span>&#160;</div>
<div class="line"><a name="l07874"></a><span class="lineno"> 7874</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#af2f97b5e0c814566ec4f06fdb8daf71a">MmSystemPageColor</a>;</div>
<div class="line"><a name="l07875"></a><span class="lineno"> 7875</span>&#160;</div>
<div class="line"><a name="l07876"></a><span class="lineno"> 7876</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a52385adf93434356937a8c4b3f5be698">MmSecondaryColors</a>;</div>
<div class="line"><a name="l07877"></a><span class="lineno"> 7877</span>&#160;</div>
<div class="line"><a name="l07878"></a><span class="lineno"> 7878</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a2571901adde44d911b6a4eb10664df36">MmProcessColorSeed</a>;</div>
<div class="line"><a name="l07879"></a><span class="lineno"> 7879</span>&#160;</div>
<div class="line"><a name="l07880"></a><span class="lineno"> 7880</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07881"></a><span class="lineno"> 7881</span>&#160;<span class="comment">// Set from ntos\config\CMDAT3.C  Used by customers to disable paging</span></div>
<div class="line"><a name="l07882"></a><span class="lineno"> 7882</span>&#160;<span class="comment">// of executive on machines with lots of memory.  Worth a few TPS on a</span></div>
<div class="line"><a name="l07883"></a><span class="lineno"> 7883</span>&#160;<span class="comment">// data base server.</span></div>
<div class="line"><a name="l07884"></a><span class="lineno"> 7884</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07885"></a><span class="lineno"> 7885</span>&#160;</div>
<div class="line"><a name="l07886"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acc80813002e43fb18dc805affa365b60"> 7886</a></span>&#160;<span class="preprocessor">#define MM_SYSTEM_CODE_LOCKED_DOWN 0x1</span></div>
<div class="line"><a name="l07887"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad99dc0b4f7d498ee89eb79e2bd6aae81"> 7887</a></span>&#160;<span class="preprocessor">#define MM_PAGED_POOL_LOCKED_DOWN  0x2</span></div>
<div class="line"><a name="l07888"></a><span class="lineno"> 7888</span>&#160;</div>
<div class="line"><a name="l07889"></a><span class="lineno"> 7889</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a63d1ed54f11cedd709cdddca15b59728">MmDisablePagingExecutive</a>;</div>
<div class="line"><a name="l07890"></a><span class="lineno"> 7890</span>&#160;</div>
<div class="line"><a name="l07891"></a><span class="lineno"> 7891</span>&#160;</div>
<div class="line"><a name="l07892"></a><span class="lineno"> 7892</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07893"></a><span class="lineno"> 7893</span>&#160;<span class="comment">// For debugging.</span></div>
<div class="line"><a name="l07894"></a><span class="lineno"> 7894</span>&#160;</div>
<div class="line"><a name="l07895"></a><span class="lineno"> 7895</span>&#160;</div>
<div class="line"><a name="l07896"></a><span class="lineno"> 7896</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l07897"></a><span class="lineno"> 7897</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> MmDebug;</div>
<div class="line"><a name="l07898"></a><span class="lineno"> 7898</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07899"></a><span class="lineno"> 7899</span>&#160;</div>
<div class="line"><a name="l07900"></a><span class="lineno"> 7900</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07901"></a><span class="lineno"> 7901</span>&#160;<span class="comment">// Unused segment management</span></div>
<div class="line"><a name="l07902"></a><span class="lineno"> 7902</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07903"></a><span class="lineno"> 7903</span>&#160;</div>
<div class="line"><a name="l07904"></a><span class="lineno"> 7904</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d5/da3/a00953.html">MMDEREFERENCE_SEGMENT_HEADER</a> <a class="code" href="../../d9/dce/a02519.html#a2ee1ca2df1d804f916e7e22fb5cc1118">MmDereferenceSegmentHeader</a>;</div>
<div class="line"><a name="l07905"></a><span class="lineno"> 7905</span>&#160;</div>
<div class="line"><a name="l07906"></a><span class="lineno"> 7906</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a02f368115c864cd6ea4785cd30703a30">MmUnusedSegmentList</a>;</div>
<div class="line"><a name="l07907"></a><span class="lineno"> 7907</span>&#160;</div>
<div class="line"><a name="l07908"></a><span class="lineno"> 7908</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a97e8d0a04ca5aa9ea346f4a9fcd4e35a">MmUnusedSubsectionList</a>;</div>
<div class="line"><a name="l07909"></a><span class="lineno"> 7909</span>&#160;</div>
<div class="line"><a name="l07910"></a><span class="lineno"> 7910</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a85223e660926e67bad03794b7f24ce15">MmUnusedSegmentCleanup</a>;</div>
<div class="line"><a name="l07911"></a><span class="lineno"> 7911</span>&#160;</div>
<div class="line"><a name="l07912"></a><span class="lineno"> 7912</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ae81dabf45e1edd9c0543da5ad0a5dd19">MmConsumedPoolPercentage</a>;</div>
<div class="line"><a name="l07913"></a><span class="lineno"> 7913</span>&#160;</div>
<div class="line"><a name="l07914"></a><span class="lineno"> 7914</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a08187efecb5a17f35c8774aaf4abe611">MmUnusedSegmentCount</a>;</div>
<div class="line"><a name="l07915"></a><span class="lineno"> 7915</span>&#160;</div>
<div class="line"><a name="l07916"></a><span class="lineno"> 7916</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a46f4eb1e65bfa9d5fc32ca0c48ec328a">MmUnusedSubsectionCount</a>;</div>
<div class="line"><a name="l07917"></a><span class="lineno"> 7917</span>&#160;</div>
<div class="line"><a name="l07918"></a><span class="lineno"> 7918</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a90284911b52b34cc954d30414cfe9e1d">MmUnusedSubsectionCountPeak</a>;</div>
<div class="line"><a name="l07919"></a><span class="lineno"> 7919</span>&#160;</div>
<div class="line"><a name="l07920"></a><span class="lineno"> 7920</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#aedb2c292ac18226db655d35c4f6101c4">MiUnusedSubsectionPagedPool</a>;</div>
<div class="line"><a name="l07921"></a><span class="lineno"> 7921</span>&#160;</div>
<div class="line"><a name="l07922"></a><span class="lineno"> 7922</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a5f05a99f1cf4438d92d9e8820eeb9ce7">MiUnusedSubsectionPagedPoolPeak</a>;</div>
<div class="line"><a name="l07923"></a><span class="lineno"> 7923</span>&#160;</div>
<div class="line"><a name="l07924"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2c7832e1088bf846ae4ecd7ec2078ae7"> 7924</a></span>&#160;<span class="preprocessor">#define MI_UNUSED_SUBSECTIONS_COUNT_INSERT(_MappedSubsection) \</span></div>
<div class="line"><a name="l07925"></a><span class="lineno"> 7925</span>&#160;<span class="preprocessor">        MmUnusedSubsectionCount += 1; \</span></div>
<div class="line"><a name="l07926"></a><span class="lineno"> 7926</span>&#160;<span class="preprocessor">        if (MmUnusedSubsectionCount &gt; MmUnusedSubsectionCountPeak) { \</span></div>
<div class="line"><a name="l07927"></a><span class="lineno"> 7927</span>&#160;<span class="preprocessor">            MmUnusedSubsectionCountPeak = MmUnusedSubsectionCount; \</span></div>
<div class="line"><a name="l07928"></a><span class="lineno"> 7928</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l07929"></a><span class="lineno"> 7929</span>&#160;<span class="preprocessor">        MiUnusedSubsectionPagedPool += EX_REAL_POOL_USAGE((_MappedSubsection-&gt;PtesInSubsection + _MappedSubsection-&gt;UnusedPtes) * sizeof (MMPTE)); \</span></div>
<div class="line"><a name="l07930"></a><span class="lineno"> 7930</span>&#160;<span class="preprocessor">        if (MiUnusedSubsectionPagedPool &gt; MiUnusedSubsectionPagedPoolPeak) { \</span></div>
<div class="line"><a name="l07931"></a><span class="lineno"> 7931</span>&#160;<span class="preprocessor">            MiUnusedSubsectionPagedPoolPeak = MiUnusedSubsectionPagedPool; \</span></div>
<div class="line"><a name="l07932"></a><span class="lineno"> 7932</span>&#160;<span class="preprocessor">        } \</span></div>
<div class="line"><a name="l07933"></a><span class="lineno"> 7933</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l07934"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad2da5eae4dbaa8d1d73874f49cdc18bf"> 7934</a></span>&#160;<span class="preprocessor">#define MI_UNUSED_SUBSECTIONS_COUNT_REMOVE(_MappedSubsection) \</span></div>
<div class="line"><a name="l07935"></a><span class="lineno"> 7935</span>&#160;<span class="preprocessor">        MmUnusedSubsectionCount -= 1; \</span></div>
<div class="line"><a name="l07936"></a><span class="lineno"> 7936</span>&#160;<span class="preprocessor">        MiUnusedSubsectionPagedPool -= EX_REAL_POOL_USAGE((_MappedSubsection-&gt;PtesInSubsection + _MappedSubsection-&gt;UnusedPtes) * sizeof (MMPTE));</span></div>
<div class="line"><a name="l07937"></a><span class="lineno"> 7937</span>&#160;</div>
<div class="line"><a name="l07938"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0bad52c98056818296a30d301e645b39"> 7938</a></span>&#160;<span class="preprocessor">#define MI_FILESYSTEM_NONPAGED_POOL_CHARGE 150</span></div>
<div class="line"><a name="l07939"></a><span class="lineno"> 7939</span>&#160;</div>
<div class="line"><a name="l07940"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0ba0583ba7a2bde328da594dc0829ba6"> 7940</a></span>&#160;<span class="preprocessor">#define MI_FILESYSTEM_PAGED_POOL_CHARGE 1024</span></div>
<div class="line"><a name="l07941"></a><span class="lineno"> 7941</span>&#160;</div>
<div class="line"><a name="l07942"></a><span class="lineno"> 7942</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l07943"></a><span class="lineno"> 7943</span>&#160;<span class="comment">// LOGICAL</span></div>
<div class="line"><a name="l07944"></a><span class="lineno"> 7944</span>&#160;<span class="comment">// MI_UNUSED_SEGMENTS_SURPLUS (</span></div>
<div class="line"><a name="l07945"></a><span class="lineno"> 7945</span>&#160;<span class="comment">//    IN PVOID va</span></div>
<div class="line"><a name="l07946"></a><span class="lineno"> 7946</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l07947"></a><span class="lineno"> 7947</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07948"></a><span class="lineno"> 7948</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l07949"></a><span class="lineno"> 7949</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07950"></a><span class="lineno"> 7950</span>&#160;<span class="comment">//    This routine determines whether a surplus of unused</span></div>
<div class="line"><a name="l07951"></a><span class="lineno"> 7951</span>&#160;<span class="comment">//    segments exist.  If so, the caller can initiate a trim to free pool.</span></div>
<div class="line"><a name="l07952"></a><span class="lineno"> 7952</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07953"></a><span class="lineno"> 7953</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l07954"></a><span class="lineno"> 7954</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07955"></a><span class="lineno"> 7955</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l07956"></a><span class="lineno"> 7956</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07957"></a><span class="lineno"> 7957</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l07958"></a><span class="lineno"> 7958</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07959"></a><span class="lineno"> 7959</span>&#160;<span class="comment">//    TRUE if unused segment trimming should be initiated, FALSE if not.</span></div>
<div class="line"><a name="l07960"></a><span class="lineno"> 7960</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07961"></a><span class="lineno"> 7961</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l07962"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3cb216e8c3eb84d766f3a086b84868ff"> 7962</a></span>&#160;<span class="preprocessor">#define MI_UNUSED_SEGMENTS_SURPLUS()                                    \</span></div>
<div class="line"><a name="l07963"></a><span class="lineno"> 7963</span>&#160;<span class="preprocessor">        (((ULONG)((MmPagedPoolInfo.AllocatedPagedPool * 100) / (MmSizeOfPagedPoolInBytes &gt;&gt; PAGE_SHIFT)) &gt; MmConsumedPoolPercentage) || \</span></div>
<div class="line"><a name="l07964"></a><span class="lineno"> 7964</span>&#160;<span class="preprocessor">        ((ULONG)((MmAllocatedNonPagedPool * 100) / MmMaximumNonPagedPoolInPages) &gt; MmConsumedPoolPercentage))</span></div>
<div class="line"><a name="l07965"></a><span class="lineno"> 7965</span>&#160;</div>
<div class="line"><a name="l07966"></a><span class="lineno"> 7966</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l07967"></a><span class="lineno"> 7967</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa5d5ee16b1e140deec43cf0232c0dba4">MiConvertStaticSubsections</a> (</div>
<div class="line"><a name="l07968"></a><span class="lineno"> 7968</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PCONTROL_AREA ControlArea</div>
<div class="line"><a name="l07969"></a><span class="lineno"> 7969</span>&#160;    );</div>
<div class="line"><a name="l07970"></a><span class="lineno"> 7970</span>&#160;</div>
<div class="line"><a name="l07971"></a><span class="lineno"> 7971</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l07972"></a><span class="lineno"> 7972</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l07973"></a><span class="lineno"> 7973</span>&#160;<span class="comment">// MI_INSERT_UNUSED_SEGMENT (</span></div>
<div class="line"><a name="l07974"></a><span class="lineno"> 7974</span>&#160;<span class="comment">//    IN PCONTROL_AREA _ControlArea</span></div>
<div class="line"><a name="l07975"></a><span class="lineno"> 7975</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l07976"></a><span class="lineno"> 7976</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07977"></a><span class="lineno"> 7977</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l07978"></a><span class="lineno"> 7978</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07979"></a><span class="lineno"> 7979</span>&#160;<span class="comment">//    This routine inserts a control area into the unused segment list,</span></div>
<div class="line"><a name="l07980"></a><span class="lineno"> 7980</span>&#160;<span class="comment">//    also managing the associated pool charges.</span></div>
<div class="line"><a name="l07981"></a><span class="lineno"> 7981</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07982"></a><span class="lineno"> 7982</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l07983"></a><span class="lineno"> 7983</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07984"></a><span class="lineno"> 7984</span>&#160;<span class="comment">//    _ControlArea - Supplies the control area to obtain the pool charges from.</span></div>
<div class="line"><a name="l07985"></a><span class="lineno"> 7985</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07986"></a><span class="lineno"> 7986</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l07987"></a><span class="lineno"> 7987</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07988"></a><span class="lineno"> 7988</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l07989"></a><span class="lineno"> 7989</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l07990"></a><span class="lineno"> 7990</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l07991"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abd1f55f4ac3e5a318261048ac0b3ff93"> 7991</a></span>&#160;<span class="preprocessor">#define MI_INSERT_UNUSED_SEGMENT(_ControlArea)                               \</span></div>
<div class="line"><a name="l07992"></a><span class="lineno"> 7992</span>&#160;<span class="preprocessor">        {                                                                    \</span></div>
<div class="line"><a name="l07993"></a><span class="lineno"> 7993</span>&#160;<span class="preprocessor">           MM_PFN_LOCK_ASSERT();                                             \</span></div>
<div class="line"><a name="l07994"></a><span class="lineno"> 7994</span>&#160;<span class="preprocessor">           if ((_ControlArea-&gt;u.Flags.Image == 0) &amp;&amp;                         \</span></div>
<div class="line"><a name="l07995"></a><span class="lineno"> 7995</span>&#160;<span class="preprocessor">               (_ControlArea-&gt;FilePointer != NULL) &amp;&amp;                        \</span></div>
<div class="line"><a name="l07996"></a><span class="lineno"> 7996</span>&#160;<span class="preprocessor">               (_ControlArea-&gt;u.Flags.PhysicalMemory == 0)) {                \</span></div>
<div class="line"><a name="l07997"></a><span class="lineno"> 7997</span>&#160;<span class="preprocessor">               MiConvertStaticSubsections(_ControlArea);                     \</span></div>
<div class="line"><a name="l07998"></a><span class="lineno"> 7998</span>&#160;<span class="preprocessor">           }                                                                 \</span></div>
<div class="line"><a name="l07999"></a><span class="lineno"> 7999</span>&#160;<span class="preprocessor">           InsertTailList (&amp;MmUnusedSegmentList, &amp;_ControlArea-&gt;DereferenceList); \</span></div>
<div class="line"><a name="l08000"></a><span class="lineno"> 8000</span>&#160;<span class="preprocessor">           MmUnusedSegmentCount += 1; \</span></div>
<div class="line"><a name="l08001"></a><span class="lineno"> 8001</span>&#160;<span class="preprocessor">        }</span></div>
<div class="line"><a name="l08002"></a><span class="lineno"> 8002</span>&#160;</div>
<div class="line"><a name="l08003"></a><span class="lineno"> 8003</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l08004"></a><span class="lineno"> 8004</span>&#160;<span class="comment">// VOID</span></div>
<div class="line"><a name="l08005"></a><span class="lineno"> 8005</span>&#160;<span class="comment">// MI_UNUSED_SEGMENTS_REMOVE_CHARGE (</span></div>
<div class="line"><a name="l08006"></a><span class="lineno"> 8006</span>&#160;<span class="comment">//    IN PCONTROL_AREA _ControlArea</span></div>
<div class="line"><a name="l08007"></a><span class="lineno"> 8007</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l08008"></a><span class="lineno"> 8008</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08009"></a><span class="lineno"> 8009</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l08010"></a><span class="lineno"> 8010</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08011"></a><span class="lineno"> 8011</span>&#160;<span class="comment">//    This routine manages pool charges during removals of segments from</span></div>
<div class="line"><a name="l08012"></a><span class="lineno"> 8012</span>&#160;<span class="comment">//    the unused segment list.</span></div>
<div class="line"><a name="l08013"></a><span class="lineno"> 8013</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08014"></a><span class="lineno"> 8014</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l08015"></a><span class="lineno"> 8015</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08016"></a><span class="lineno"> 8016</span>&#160;<span class="comment">//    _ControlArea - Supplies the control area to obtain the pool charges from.</span></div>
<div class="line"><a name="l08017"></a><span class="lineno"> 8017</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08018"></a><span class="lineno"> 8018</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l08019"></a><span class="lineno"> 8019</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08020"></a><span class="lineno"> 8020</span>&#160;<span class="comment">//    None.</span></div>
<div class="line"><a name="l08021"></a><span class="lineno"> 8021</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08022"></a><span class="lineno"> 8022</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l08023"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3ad441787ccb27ce39eaede345b6198a"> 8023</a></span>&#160;<span class="preprocessor">#define MI_UNUSED_SEGMENTS_REMOVE_CHARGE(_ControlArea)                       \</span></div>
<div class="line"><a name="l08024"></a><span class="lineno"> 8024</span>&#160;<span class="preprocessor">        {                                                                    \</span></div>
<div class="line"><a name="l08025"></a><span class="lineno"> 8025</span>&#160;<span class="preprocessor">           MM_PFN_LOCK_ASSERT();                                             \</span></div>
<div class="line"><a name="l08026"></a><span class="lineno"> 8026</span>&#160;<span class="preprocessor">           MmUnusedSegmentCount -= 1; \</span></div>
<div class="line"><a name="l08027"></a><span class="lineno"> 8027</span>&#160;<span class="preprocessor">        }</span></div>
<div class="line"><a name="l08028"></a><span class="lineno"> 8028</span>&#160;</div>
<div class="line"><a name="l08029"></a><span class="lineno"> 8029</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08030"></a><span class="lineno"> 8030</span>&#160;<span class="comment">// List heads</span></div>
<div class="line"><a name="l08031"></a><span class="lineno"> 8031</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08032"></a><span class="lineno"> 8032</span>&#160;</div>
<div class="line"><a name="l08033"></a><span class="lineno"> 8033</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dd0/a00994.html">MMWORKING_SET_EXPANSION_HEAD</a> <a class="code" href="../../d9/dce/a02519.html#ab8bb7e7ce6c16cdcb839a186c2359652">MmWorkingSetExpansionHead</a>;</div>
<div class="line"><a name="l08034"></a><span class="lineno"> 8034</span>&#160;</div>
<div class="line"><a name="l08035"></a><span class="lineno"> 8035</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d88/a00962.html">MMPAGE_FILE_EXPANSION</a> <a class="code" href="../../d9/dce/a02519.html#a940acc5d6e65c438e38e94047e7a94cf">MmAttemptForCantExtend</a>;</div>
<div class="line"><a name="l08036"></a><span class="lineno"> 8036</span>&#160;</div>
<div class="line"><a name="l08037"></a><span class="lineno"> 8037</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08038"></a><span class="lineno"> 8038</span>&#160;<span class="comment">// Paging files</span></div>
<div class="line"><a name="l08039"></a><span class="lineno"> 8039</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08040"></a><span class="lineno"> 8040</span>&#160;</div>
<div class="line"><a name="l08041"></a><span class="lineno"> 8041</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d11/a00960.html">MMMOD_WRITER_LISTHEAD</a> <a class="code" href="../../d9/dce/a02519.html#ac8d0f9a907b64cfdbe2c7f74c030bc16">MmPagingFileHeader</a>;</div>
<div class="line"><a name="l08042"></a><span class="lineno"> 8042</span>&#160;</div>
<div class="line"><a name="l08043"></a><span class="lineno"> 8043</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d11/a00960.html">MMMOD_WRITER_LISTHEAD</a> <a class="code" href="../../d9/dce/a02519.html#a2e3127890ff550d9b26da4819b2fb54b">MmMappedFileHeader</a>;</div>
<div class="line"><a name="l08044"></a><span class="lineno"> 8044</span>&#160;</div>
<div class="line"><a name="l08045"></a><span class="lineno"> 8045</span>&#160;<span class="keyword">extern</span> PMMPAGING_FILE <a class="code" href="../../d9/dce/a02519.html#ae4c64933cd15cbcee753869c7f05e0cb">MmPagingFile</a>[<a class="code" href="../../d1/df5/a02496.html#ad2b519f3e5bfa269c428f569188430cf">MAX_PAGE_FILES</a>];</div>
<div class="line"><a name="l08046"></a><span class="lineno"> 8046</span>&#160;</div>
<div class="line"><a name="l08047"></a><span class="lineno"> 8047</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a1d977075d892415f595c11739c67c0f8">MmFreePagingSpaceLow</a>;</div>
<div class="line"><a name="l08048"></a><span class="lineno"> 8048</span>&#160;</div>
<div class="line"><a name="l08049"></a><span class="lineno"> 8049</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a472bab9a8d06ae716b4ca9920e671e1e">MmNumberOfActiveMdlEntries</a>;</div>
<div class="line"><a name="l08050"></a><span class="lineno"> 8050</span>&#160;</div>
<div class="line"><a name="l08051"></a><span class="lineno"> 8051</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#adc479482065ac310eedcb85db9800e55">MmNumberOfPagingFiles</a>;</div>
<div class="line"><a name="l08052"></a><span class="lineno"> 8052</span>&#160;</div>
<div class="line"><a name="l08053"></a><span class="lineno"> 8053</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#ac1401d1313886798be8d91157b21a0a5">MmModifiedPageWriterEvent</a>;</div>
<div class="line"><a name="l08054"></a><span class="lineno"> 8054</span>&#160;</div>
<div class="line"><a name="l08055"></a><span class="lineno"> 8055</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#a471f623a263053078e3ab0fffafed686">MmCollidedFlushEvent</a>;</div>
<div class="line"><a name="l08056"></a><span class="lineno"> 8056</span>&#160;</div>
<div class="line"><a name="l08057"></a><span class="lineno"> 8057</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#aff318d1c159f1ec64334469ec688ada7">MmCollidedLockEvent</a>;</div>
<div class="line"><a name="l08058"></a><span class="lineno"> 8058</span>&#160;</div>
<div class="line"><a name="l08059"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a70529d768152f21d2f52395996e562e9"> 8059</a></span>&#160;<span class="preprocessor">#define MI_SNAP_DATA(_Pfn, _Pte, _CallerId)</span></div>
<div class="line"><a name="l08060"></a><span class="lineno"> 8060</span>&#160;</div>
<div class="line"><a name="l08061"></a><span class="lineno"> 8061</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08062"></a><span class="lineno"> 8062</span>&#160;<span class="comment">// Modified page writer.</span></div>
<div class="line"><a name="l08063"></a><span class="lineno"> 8063</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08064"></a><span class="lineno"> 8064</span>&#160;</div>
<div class="line"><a name="l08065"></a><span class="lineno"> 8065</span>&#160;</div>
<div class="line"><a name="l08066"></a><span class="lineno"> 8066</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08067"></a><span class="lineno"> 8067</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l08068"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a38229cf5a3e701f9b3d41cbe50068136"> 8068</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a38229cf5a3e701f9b3d41cbe50068136">MiReleaseConfirmedPageFileSpace</a> (</div>
<div class="line"><a name="l08069"></a><span class="lineno"> 8069</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> PteContents</div>
<div class="line"><a name="l08070"></a><span class="lineno"> 8070</span>&#160;    )</div>
<div class="line"><a name="l08071"></a><span class="lineno"> 8071</span>&#160;</div>
<div class="line"><a name="l08072"></a><span class="lineno"> 8072</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l08073"></a><span class="lineno"> 8073</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08074"></a><span class="lineno"> 8074</span>&#160;<span class="comment">Routine Description:</span></div>
<div class="line"><a name="l08075"></a><span class="lineno"> 8075</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08076"></a><span class="lineno"> 8076</span>&#160;<span class="comment">    This routine frees the paging file allocated to the specified PTE.</span></div>
<div class="line"><a name="l08077"></a><span class="lineno"> 8077</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08078"></a><span class="lineno"> 8078</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l08079"></a><span class="lineno"> 8079</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08080"></a><span class="lineno"> 8080</span>&#160;<span class="comment">    PteContents - Supplies the PTE which is in page file format.</span></div>
<div class="line"><a name="l08081"></a><span class="lineno"> 8081</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08082"></a><span class="lineno"> 8082</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l08083"></a><span class="lineno"> 8083</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08084"></a><span class="lineno"> 8084</span>&#160;<span class="comment">    Returns TRUE if any paging file space was deallocated.</span></div>
<div class="line"><a name="l08085"></a><span class="lineno"> 8085</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08086"></a><span class="lineno"> 8086</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l08087"></a><span class="lineno"> 8087</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08088"></a><span class="lineno"> 8088</span>&#160;<span class="comment">    Kernel mode, APCs disabled, PFN lock held.</span></div>
<div class="line"><a name="l08089"></a><span class="lineno"> 8089</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08090"></a><span class="lineno"> 8090</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l08091"></a><span class="lineno"> 8091</span>&#160;</div>
<div class="line"><a name="l08092"></a><span class="lineno"> 8092</span>&#160;{</div>
<div class="line"><a name="l08093"></a><span class="lineno"> 8093</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> FreeBit;</div>
<div class="line"><a name="l08094"></a><span class="lineno"> 8094</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> PageFileNumber;</div>
<div class="line"><a name="l08095"></a><span class="lineno"> 8095</span>&#160;    PMMPAGING_FILE PageFile;</div>
<div class="line"><a name="l08096"></a><span class="lineno"> 8096</span>&#160;</div>
<div class="line"><a name="l08097"></a><span class="lineno"> 8097</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#a8c85bdeb5a8178759e8cd6806f570ccc">MM_PFN_LOCK_ASSERT</a>();</div>
<div class="line"><a name="l08098"></a><span class="lineno"> 8098</span>&#160;</div>
<div class="line"><a name="l08099"></a><span class="lineno"> 8099</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (PteContents.u.Soft.Prototype == 0);</div>
<div class="line"><a name="l08100"></a><span class="lineno"> 8100</span>&#160;</div>
<div class="line"><a name="l08101"></a><span class="lineno"> 8101</span>&#160;    FreeBit = <a class="code" href="../../d1/df5/a02496.html#ace9e663b97a72ed7141ff3ac0c6be155">GET_PAGING_FILE_OFFSET</a> (PteContents);</div>
<div class="line"><a name="l08102"></a><span class="lineno"> 8102</span>&#160;</div>
<div class="line"><a name="l08103"></a><span class="lineno"> 8103</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> ((FreeBit != 0) &amp;&amp; (FreeBit != <a class="code" href="../../d1/df5/a02496.html#acdf42011a632000dc0db74c64abfe7dd">MI_PTE_LOOKUP_NEEDED</a>));</div>
<div class="line"><a name="l08104"></a><span class="lineno"> 8104</span>&#160;</div>
<div class="line"><a name="l08105"></a><span class="lineno"> 8105</span>&#160;    PageFileNumber = <a class="code" href="../../d1/df5/a02496.html#aa108ab0800c8bc417f80650196cd8df6">GET_PAGING_FILE_NUMBER</a> (PteContents);</div>
<div class="line"><a name="l08106"></a><span class="lineno"> 8106</span>&#160;</div>
<div class="line"><a name="l08107"></a><span class="lineno"> 8107</span>&#160;    PageFile = MmPagingFile[PageFileNumber];</div>
<div class="line"><a name="l08108"></a><span class="lineno"> 8108</span>&#160;</div>
<div class="line"><a name="l08109"></a><span class="lineno"> 8109</span>&#160;    <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> (<a class="code" href="../../de/dc3/a02256.html#ada58d39577d11f98a8c4162f18467550">RtlCheckBit</a>( PageFile-&gt;<a class="code" href="../../de/dad/a00963.html#a24ef80872d6b02afd9ebc4aef177b750">Bitmap</a>, FreeBit) == 1);</div>
<div class="line"><a name="l08110"></a><span class="lineno"> 8110</span>&#160;</div>
<div class="line"><a name="l08111"></a><span class="lineno"> 8111</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l08112"></a><span class="lineno"> 8112</span>&#160;    <span class="keywordflow">if</span> ((FreeBit &lt; 8192) &amp;&amp; (PageFileNumber == 0)) {</div>
<div class="line"><a name="l08113"></a><span class="lineno"> 8113</span>&#160;        <a class="code" href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a> ((<a class="code" href="../../d9/dce/a02519.html#a503a2fe002f15a8d33bc240916f677c5">MmPagingFileDebug</a>[FreeBit] &amp; 1) != 0);</div>
<div class="line"><a name="l08114"></a><span class="lineno"> 8114</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#a503a2fe002f15a8d33bc240916f677c5">MmPagingFileDebug</a>[FreeBit] ^= 1;</div>
<div class="line"><a name="l08115"></a><span class="lineno"> 8115</span>&#160;    }</div>
<div class="line"><a name="l08116"></a><span class="lineno"> 8116</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08117"></a><span class="lineno"> 8117</span>&#160;</div>
<div class="line"><a name="l08118"></a><span class="lineno"> 8118</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#af982615feb827eb62b64c0d0b5afe6af">MI_CLEAR_BIT</a> (PageFile-&gt;<a class="code" href="../../de/dad/a00963.html#a24ef80872d6b02afd9ebc4aef177b750">Bitmap</a>-&gt;<a class="code" href="../../db/d1e/a01497.html#ac524f222b86439c023ea0b3b87edab27">Buffer</a>, FreeBit);</div>
<div class="line"><a name="l08119"></a><span class="lineno"> 8119</span>&#160;</div>
<div class="line"><a name="l08120"></a><span class="lineno"> 8120</span>&#160;    PageFile-&gt;<a class="code" href="../../de/dad/a00963.html#a7be8871ae40d9c3abe07e231e417b7f1">FreeSpace</a> += 1;</div>
<div class="line"><a name="l08121"></a><span class="lineno"> 8121</span>&#160;    PageFile-&gt;<a class="code" href="../../de/dad/a00963.html#a30cb9d21e45718c6f8b6e480dc9ee5eb">CurrentUsage</a> -= 1;</div>
<div class="line"><a name="l08122"></a><span class="lineno"> 8122</span>&#160;</div>
<div class="line"><a name="l08123"></a><span class="lineno"> 8123</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08124"></a><span class="lineno"> 8124</span>&#160;    <span class="comment">// Check to see if we should move some MDL entries for the</span></div>
<div class="line"><a name="l08125"></a><span class="lineno"> 8125</span>&#160;    <span class="comment">// modified page writer now that more free space is available.</span></div>
<div class="line"><a name="l08126"></a><span class="lineno"> 8126</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08127"></a><span class="lineno"> 8127</span>&#160;</div>
<div class="line"><a name="l08128"></a><span class="lineno"> 8128</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d9/dce/a02519.html#a472bab9a8d06ae716b4ca9920e671e1e">MmNumberOfActiveMdlEntries</a> == 0) ||</div>
<div class="line"><a name="l08129"></a><span class="lineno"> 8129</span>&#160;        (PageFile-&gt;<a class="code" href="../../de/dad/a00963.html#a7be8871ae40d9c3abe07e231e417b7f1">FreeSpace</a> == <a class="code" href="../../d9/dce/a02519.html#a3588754a3f0062ce48e75461f2708e9a">MM_USABLE_PAGES_FREE</a>)) {</div>
<div class="line"><a name="l08130"></a><span class="lineno"> 8130</span>&#160;</div>
<div class="line"><a name="l08131"></a><span class="lineno"> 8131</span>&#160;        <a class="code" href="../../d9/dce/a02519.html#acfd84fe0e4659df607ae0894b97ed9fe">MiUpdateModifiedWriterMdls</a> (PageFileNumber);</div>
<div class="line"><a name="l08132"></a><span class="lineno"> 8132</span>&#160;    }</div>
<div class="line"><a name="l08133"></a><span class="lineno"> 8133</span>&#160;}</div>
<div class="line"><a name="l08134"></a><span class="lineno"> 8134</span>&#160;</div>
<div class="line"><a name="l08135"></a><span class="lineno"> 8135</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a41020f8def2ced6ed5a10c05feba5ea6">MmMinimumFreePages</a>;</div>
<div class="line"><a name="l08136"></a><span class="lineno"> 8136</span>&#160;</div>
<div class="line"><a name="l08137"></a><span class="lineno"> 8137</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#af4b6740f39d6d8908564e0c8fdc3d299">MmFreeGoal</a>;</div>
<div class="line"><a name="l08138"></a><span class="lineno"> 8138</span>&#160;</div>
<div class="line"><a name="l08139"></a><span class="lineno"> 8139</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a912696531df66014c894737d3dfb4c10">MmModifiedPageMaximum</a>;</div>
<div class="line"><a name="l08140"></a><span class="lineno"> 8140</span>&#160;</div>
<div class="line"><a name="l08141"></a><span class="lineno"> 8141</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a128af86ccdfedf6bef1b50ea6da96031">MmModifiedWriteClusterSize</a>;</div>
<div class="line"><a name="l08142"></a><span class="lineno"> 8142</span>&#160;</div>
<div class="line"><a name="l08143"></a><span class="lineno"> 8143</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ac7b292fd46fcaaabb3f3cf95d8add3fa">MmMinimumFreeDiskSpace</a>;</div>
<div class="line"><a name="l08144"></a><span class="lineno"> 8144</span>&#160;</div>
<div class="line"><a name="l08145"></a><span class="lineno"> 8145</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a54b533491a1ea662fa3ff93e8daeac80">MmPageFileExtension</a>;</div>
<div class="line"><a name="l08146"></a><span class="lineno"> 8146</span>&#160;</div>
<div class="line"><a name="l08147"></a><span class="lineno"> 8147</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a6cec504a1698f274405dc7fde751385d">MmMinimumPageFileReduction</a>;</div>
<div class="line"><a name="l08148"></a><span class="lineno"> 8148</span>&#160;</div>
<div class="line"><a name="l08149"></a><span class="lineno"> 8149</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../d9/dce/a02519.html#aeaa4bfa35c39fd9705de168a1da3e62f">MiModifiedPageLife</a>;</div>
<div class="line"><a name="l08150"></a><span class="lineno"> 8150</span>&#160;</div>
<div class="line"><a name="l08151"></a><span class="lineno"> 8151</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a> <a class="code" href="../../d9/dce/a02519.html#a743607da5dad40d262a97a112f2f3a31">MiTimerPending</a>;</div>
<div class="line"><a name="l08152"></a><span class="lineno"> 8152</span>&#160;</div>
<div class="line"><a name="l08153"></a><span class="lineno"> 8153</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../d9/dce/a02519.html#aac821e8216de80237b80a140717ae760">MiMappedPagesTooOldEvent</a>;</div>
<div class="line"><a name="l08154"></a><span class="lineno"> 8154</span>&#160;</div>
<div class="line"><a name="l08155"></a><span class="lineno"> 8155</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dc/dce/a00740.html">KDPC</a> <a class="code" href="../../d9/dce/a02519.html#a96216d59edc9ac49288a44ad7347cce2">MiModifiedPageWriterTimerDpc</a>;</div>
<div class="line"><a name="l08156"></a><span class="lineno"> 8156</span>&#160;</div>
<div class="line"><a name="l08157"></a><span class="lineno"> 8157</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d4/dfd/a00810.html">KTIMER</a> <a class="code" href="../../d9/dce/a02519.html#a0f7e5f80395a954f3d897db3b3a5001f">MiModifiedPageWriterTimer</a>;</div>
<div class="line"><a name="l08158"></a><span class="lineno"> 8158</span>&#160;</div>
<div class="line"><a name="l08159"></a><span class="lineno"> 8159</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08160"></a><span class="lineno"> 8160</span>&#160;<span class="comment">// System process working set sizes.</span></div>
<div class="line"><a name="l08161"></a><span class="lineno"> 8161</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08162"></a><span class="lineno"> 8162</span>&#160;</div>
<div class="line"><a name="l08163"></a><span class="lineno"> 8163</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a7f925f60ee965d4910ec4b6ecfcb557b">MmSystemProcessWorkingSetMin</a>;</div>
<div class="line"><a name="l08164"></a><span class="lineno"> 8164</span>&#160;</div>
<div class="line"><a name="l08165"></a><span class="lineno"> 8165</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a034a3592e3e7138774199c15a064b2b5">MmSystemProcessWorkingSetMax</a>;</div>
<div class="line"><a name="l08166"></a><span class="lineno"> 8166</span>&#160;</div>
<div class="line"><a name="l08167"></a><span class="lineno"> 8167</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../d9/dce/a02519.html#a5df172a7b348bba669a4d894541bb67f">MmMinimumWorkingSetSize</a>;</div>
<div class="line"><a name="l08168"></a><span class="lineno"> 8168</span>&#160;</div>
<div class="line"><a name="l08169"></a><span class="lineno"> 8169</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08170"></a><span class="lineno"> 8170</span>&#160;<span class="comment">// Support for debugger&#39;s mapping physical memory.</span></div>
<div class="line"><a name="l08171"></a><span class="lineno"> 8171</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08172"></a><span class="lineno"> 8172</span>&#160;</div>
<div class="line"><a name="l08173"></a><span class="lineno"> 8173</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a38789687be8c08575d4df94a4f40af23">MmDebugPte</a>;</div>
<div class="line"><a name="l08174"></a><span class="lineno"> 8174</span>&#160;</div>
<div class="line"><a name="l08175"></a><span class="lineno"> 8175</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#aa8e12b8ff26ed6f607676a7f8b1ffbfc">MmCrashDumpPte</a>;</div>
<div class="line"><a name="l08176"></a><span class="lineno"> 8176</span>&#160;</div>
<div class="line"><a name="l08177"></a><span class="lineno"> 8177</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ae7e0f34786a0ba9c419f15e4f7785cee">MiOverCommitCallCount</a>;</div>
<div class="line"><a name="l08178"></a><span class="lineno"> 8178</span>&#160;</div>
<div class="line"><a name="l08179"></a><span class="lineno"> 8179</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08180"></a><span class="lineno"> 8180</span>&#160;<span class="comment">// Event tracing routines</span></div>
<div class="line"><a name="l08181"></a><span class="lineno"> 8181</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08182"></a><span class="lineno"> 8182</span>&#160;</div>
<div class="line"><a name="l08183"></a><span class="lineno"> 8183</span>&#160;<span class="keyword">extern</span> PPAGE_FAULT_NOTIFY_ROUTINE <a class="code" href="../../d9/dce/a02519.html#a5f20b3601fa6a2acb5a9cee60755468b">MmPageFaultNotifyRoutine</a>;</div>
<div class="line"><a name="l08184"></a><span class="lineno"> 8184</span>&#160;</div>
<div class="line"><a name="l08185"></a><span class="lineno"> 8185</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#aec55900ad249564f3cbd737b74d6684d">MmSystemViewSize</a>;</div>
<div class="line"><a name="l08186"></a><span class="lineno"> 8186</span>&#160;</div>
<div class="line"><a name="l08187"></a><span class="lineno"> 8187</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08188"></a><span class="lineno"> 8188</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l08189"></a><span class="lineno"> 8189</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a44743221adc45200c004e7ac7ef51e68">MiIdentifyPfn</a> (</div>
<div class="line"><a name="l08190"></a><span class="lineno"> 8190</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMMPFN Pfn1,</div>
<div class="line"><a name="l08191"></a><span class="lineno"> 8191</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../d3/dcd/a00965.html">PMMPFN_IDENTITY</a> PfnIdentity</div>
<div class="line"><a name="l08192"></a><span class="lineno"> 8192</span>&#160;    );</div>
<div class="line"><a name="l08193"></a><span class="lineno"> 8193</span>&#160;</div>
<div class="line"><a name="l08194"></a><span class="lineno"> 8194</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08195"></a><span class="lineno"> 8195</span>&#160;<span class="comment">// This is a special value loaded into an EPROCESS pointer to indicate that</span></div>
<div class="line"><a name="l08196"></a><span class="lineno"> 8196</span>&#160;<span class="comment">// the action underway is for a Hydra session, not really the current process.</span></div>
<div class="line"><a name="l08197"></a><span class="lineno"> 8197</span>&#160;<span class="comment">// Any value could have been used here that is not a valid system pointer</span></div>
<div class="line"><a name="l08198"></a><span class="lineno"> 8198</span>&#160;<span class="comment">// or NULL - 1 was chosen because it simplifies checks for both NULL &amp;</span></div>
<div class="line"><a name="l08199"></a><span class="lineno"> 8199</span>&#160;<span class="comment">// HydraProcess by comparing for greater than HydraProcess.</span></div>
<div class="line"><a name="l08200"></a><span class="lineno"> 8200</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08201"></a><span class="lineno"> 8201</span>&#160;</div>
<div class="line"><a name="l08202"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abf91ea4037f287202d75e1d06dc5f1ba"> 8202</a></span>&#160;<span class="preprocessor">#define HYDRA_PROCESS   ((PEPROCESS)1)</span></div>
<div class="line"><a name="l08203"></a><span class="lineno"> 8203</span>&#160;</div>
<div class="line"><a name="l08204"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1cd709eefd7286eefcf724760a1bf518"> 8204</a></span>&#160;<span class="preprocessor">#define PREFETCH_PROCESS   ((PEPROCESS)2)</span></div>
<div class="line"><a name="l08205"></a><span class="lineno"> 8205</span>&#160;</div>
<div class="line"><a name="l08206"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a15ed649148e923906744efc7980b4c06"> 8206</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_STRUCT_SIZE MM_ALLOCATION_GRANULARITY</span></div>
<div class="line"><a name="l08207"></a><span class="lineno"> 8207</span>&#160;</div>
<div class="line"><a name="l08208"></a><span class="lineno"> 8208</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l08209"></a><span class="lineno"> 8209</span>&#160;</div>
<div class="line"><a name="l08210"></a><span class="lineno"> 8210</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l08211"></a><span class="lineno"> 8211</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08212"></a><span class="lineno"> 8212</span>&#160;<span class="comment">  Virtual memory layout of session space when loaded down from</span></div>
<div class="line"><a name="l08213"></a><span class="lineno"> 8213</span>&#160;<span class="comment">  0x2000.0002.0000.0000 (IA64) or FFFF.F980.0000.0000 (AMD64) :</span></div>
<div class="line"><a name="l08214"></a><span class="lineno"> 8214</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08215"></a><span class="lineno"> 8215</span>&#160;<span class="comment">  Note that the sizes of mapped views, paged pool &amp; images are registry tunable.</span></div>
<div class="line"><a name="l08216"></a><span class="lineno"> 8216</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08217"></a><span class="lineno"> 8217</span>&#160;<span class="comment">                        +------------------------------------+</span></div>
<div class="line"><a name="l08218"></a><span class="lineno"> 8218</span>&#160;<span class="comment">    2000.0002.0000.0000 |                                    |</span></div>
<div class="line"><a name="l08219"></a><span class="lineno"> 8219</span>&#160;<span class="comment">                        |   win32k.sys &amp; video drivers       |</span></div>
<div class="line"><a name="l08220"></a><span class="lineno"> 8220</span>&#160;<span class="comment">                        |             (16MB)                 |</span></div>
<div class="line"><a name="l08221"></a><span class="lineno"> 8221</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08222"></a><span class="lineno"> 8222</span>&#160;<span class="comment">                        +------------------------------------+</span></div>
<div class="line"><a name="l08223"></a><span class="lineno"> 8223</span>&#160;<span class="comment">    2000.0001.FF00.0000 |                                    |</span></div>
<div class="line"><a name="l08224"></a><span class="lineno"> 8224</span>&#160;<span class="comment">                        |   MM_SESSION_SPACE &amp; Session WSLs  |</span></div>
<div class="line"><a name="l08225"></a><span class="lineno"> 8225</span>&#160;<span class="comment">                        |              (16MB)                |</span></div>
<div class="line"><a name="l08226"></a><span class="lineno"> 8226</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08227"></a><span class="lineno"> 8227</span>&#160;<span class="comment">    2000.0001.FEFF.0000 +------------------------------------+</span></div>
<div class="line"><a name="l08228"></a><span class="lineno"> 8228</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08229"></a><span class="lineno"> 8229</span>&#160;<span class="comment">                        |              ...                   |</span></div>
<div class="line"><a name="l08230"></a><span class="lineno"> 8230</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08231"></a><span class="lineno"> 8231</span>&#160;<span class="comment">                        +------------------------------------+</span></div>
<div class="line"><a name="l08232"></a><span class="lineno"> 8232</span>&#160;<span class="comment">    2000.0001.FE80.0000 |                                    |</span></div>
<div class="line"><a name="l08233"></a><span class="lineno"> 8233</span>&#160;<span class="comment">                        |   Mapped Views for this session    |</span></div>
<div class="line"><a name="l08234"></a><span class="lineno"> 8234</span>&#160;<span class="comment">                        |              (104MB)               |</span></div>
<div class="line"><a name="l08235"></a><span class="lineno"> 8235</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08236"></a><span class="lineno"> 8236</span>&#160;<span class="comment">                        +------------------------------------+</span></div>
<div class="line"><a name="l08237"></a><span class="lineno"> 8237</span>&#160;<span class="comment">    2000.0001.F800.0000 |                                    |</span></div>
<div class="line"><a name="l08238"></a><span class="lineno"> 8238</span>&#160;<span class="comment">                        |   Paged Pool for this session      |</span></div>
<div class="line"><a name="l08239"></a><span class="lineno"> 8239</span>&#160;<span class="comment">                        |              (64MB)                |</span></div>
<div class="line"><a name="l08240"></a><span class="lineno"> 8240</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08241"></a><span class="lineno"> 8241</span>&#160;<span class="comment">    2000.0001.F400.0000 +------------------------------------+</span></div>
<div class="line"><a name="l08242"></a><span class="lineno"> 8242</span>&#160;<span class="comment">                        |   Special Pool for this session    |</span></div>
<div class="line"><a name="l08243"></a><span class="lineno"> 8243</span>&#160;<span class="comment">                        |              (64MB)                |</span></div>
<div class="line"><a name="l08244"></a><span class="lineno"> 8244</span>&#160;<span class="comment">                        |                                    |</span></div>
<div class="line"><a name="l08245"></a><span class="lineno"> 8245</span>&#160;<span class="comment">    2000.0000.0000.0000 +------------------------------------+</span></div>
<div class="line"><a name="l08246"></a><span class="lineno"> 8246</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08247"></a><span class="lineno"> 8247</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l08248"></a><span class="lineno"> 8248</span>&#160;</div>
<div class="line"><a name="l08249"></a><span class="lineno"> 8249</span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_WS_SIZE  ((ULONG_PTR)(16*1024*1024) - MI_SESSION_SPACE_STRUCT_SIZE)</span></div>
<div class="line"><a name="l08250"></a><span class="lineno"> 8250</span>&#160;</div>
<div class="line"><a name="l08251"></a><span class="lineno"> 8251</span>&#160;<span class="preprocessor">#define MI_SESSION_DEFAULT_IMAGE_SIZE     ((ULONG_PTR)(16*1024*1024))</span></div>
<div class="line"><a name="l08252"></a><span class="lineno"> 8252</span>&#160;</div>
<div class="line"><a name="l08253"></a><span class="lineno"> 8253</span>&#160;<span class="preprocessor">#define MI_SESSION_DEFAULT_VIEW_SIZE      ((ULONG_PTR)(104*1024*1024))</span></div>
<div class="line"><a name="l08254"></a><span class="lineno"> 8254</span>&#160;</div>
<div class="line"><a name="l08255"></a><span class="lineno"> 8255</span>&#160;<span class="preprocessor">#define MI_SESSION_DEFAULT_POOL_SIZE      ((ULONG_PTR)(64*1024*1024))</span></div>
<div class="line"><a name="l08256"></a><span class="lineno"> 8256</span>&#160;</div>
<div class="line"><a name="l08257"></a><span class="lineno"> 8257</span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_MAXIMUM_TOTAL_SIZE (MM_VA_MAPPED_BY_PPE)</span></div>
<div class="line"><a name="l08258"></a><span class="lineno"> 8258</span>&#160;</div>
<div class="line"><a name="l08259"></a><span class="lineno"> 8259</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08260"></a><span class="lineno"> 8260</span>&#160;</div>
<div class="line"><a name="l08261"></a><span class="lineno"> 8261</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l08262"></a><span class="lineno"> 8262</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08263"></a><span class="lineno"> 8263</span>&#160;<span class="comment">  Virtual memory layout of session space when loaded down from 0xC0000000.</span></div>
<div class="line"><a name="l08264"></a><span class="lineno"> 8264</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08265"></a><span class="lineno"> 8265</span>&#160;<span class="comment">  Note that the sizes of mapped views, paged pool and images are registry</span></div>
<div class="line"><a name="l08266"></a><span class="lineno"> 8266</span>&#160;<span class="comment">  tunable on 32-bit systems (if NOT booted /3GB, as 3GB has very limited</span></div>
<div class="line"><a name="l08267"></a><span class="lineno"> 8267</span>&#160;<span class="comment">  address space).</span></div>
<div class="line"><a name="l08268"></a><span class="lineno"> 8268</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08269"></a><span class="lineno"> 8269</span>&#160;<span class="comment">                 +------------------------------------+</span></div>
<div class="line"><a name="l08270"></a><span class="lineno"> 8270</span>&#160;<span class="comment">        C0000000 |                                    |</span></div>
<div class="line"><a name="l08271"></a><span class="lineno"> 8271</span>&#160;<span class="comment">                 | win32k.sys, video drivers and any  |</span></div>
<div class="line"><a name="l08272"></a><span class="lineno"> 8272</span>&#160;<span class="comment">                 | rebased NT4 printer drivers.       |</span></div>
<div class="line"><a name="l08273"></a><span class="lineno"> 8273</span>&#160;<span class="comment">                 |                                    |</span></div>
<div class="line"><a name="l08274"></a><span class="lineno"> 8274</span>&#160;<span class="comment">                 |             (8MB)                  |</span></div>
<div class="line"><a name="l08275"></a><span class="lineno"> 8275</span>&#160;<span class="comment">                 |                                    |</span></div>
<div class="line"><a name="l08276"></a><span class="lineno"> 8276</span>&#160;<span class="comment">                 +------------------------------------+</span></div>
<div class="line"><a name="l08277"></a><span class="lineno"> 8277</span>&#160;<span class="comment">        BF800000 |                                    |</span></div>
<div class="line"><a name="l08278"></a><span class="lineno"> 8278</span>&#160;<span class="comment">                 |   MM_SESSION_SPACE &amp; Session WSLs  |</span></div>
<div class="line"><a name="l08279"></a><span class="lineno"> 8279</span>&#160;<span class="comment">                 |              (4MB)                 |</span></div>
<div class="line"><a name="l08280"></a><span class="lineno"> 8280</span>&#160;<span class="comment">                 |                                    |</span></div>
<div class="line"><a name="l08281"></a><span class="lineno"> 8281</span>&#160;<span class="comment">                 +------------------------------------+</span></div>
<div class="line"><a name="l08282"></a><span class="lineno"> 8282</span>&#160;<span class="comment">        BF400000 |                                    |</span></div>
<div class="line"><a name="l08283"></a><span class="lineno"> 8283</span>&#160;<span class="comment">                 |   Mapped views for this session    |</span></div>
<div class="line"><a name="l08284"></a><span class="lineno"> 8284</span>&#160;<span class="comment">                 |     (20MB by default, but is       |</span></div>
<div class="line"><a name="l08285"></a><span class="lineno"> 8285</span>&#160;<span class="comment">                 |      registry configurable)        |</span></div>
<div class="line"><a name="l08286"></a><span class="lineno"> 8286</span>&#160;<span class="comment">                 |                                    |</span></div>
<div class="line"><a name="l08287"></a><span class="lineno"> 8287</span>&#160;<span class="comment">                 +------------------------------------+</span></div>
<div class="line"><a name="l08288"></a><span class="lineno"> 8288</span>&#160;<span class="comment">        BE000000 |                                    |</span></div>
<div class="line"><a name="l08289"></a><span class="lineno"> 8289</span>&#160;<span class="comment">                 |   Paged pool for this session      |</span></div>
<div class="line"><a name="l08290"></a><span class="lineno"> 8290</span>&#160;<span class="comment">                 |     (16MB by default, but is       |</span></div>
<div class="line"><a name="l08291"></a><span class="lineno"> 8291</span>&#160;<span class="comment">                 |      registry configurable)        |</span></div>
<div class="line"><a name="l08292"></a><span class="lineno"> 8292</span>&#160;<span class="comment">                 |                                    |</span></div>
<div class="line"><a name="l08293"></a><span class="lineno"> 8293</span>&#160;<span class="comment">        BD000000 +------------------------------------+</span></div>
<div class="line"><a name="l08294"></a><span class="lineno"> 8294</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l08295"></a><span class="lineno"> 8295</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l08296"></a><span class="lineno"> 8296</span>&#160;</div>
<div class="line"><a name="l08297"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad9d24bbc5de17aa0edc82155e58a7ae2"> 8297</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_WS_SIZE  (4*1024*1024 - MI_SESSION_SPACE_STRUCT_SIZE)</span></div>
<div class="line"><a name="l08298"></a><span class="lineno"> 8298</span>&#160;</div>
<div class="line"><a name="l08299"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a57fe5b37683052c4d8f1f5fd4046b08e"> 8299</a></span>&#160;<span class="preprocessor">#define MI_SESSION_DEFAULT_IMAGE_SIZE      (8*1024*1024)</span></div>
<div class="line"><a name="l08300"></a><span class="lineno"> 8300</span>&#160;</div>
<div class="line"><a name="l08301"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a928c3f2bb5c7a94d39c6cf9d9643028c"> 8301</a></span>&#160;<span class="preprocessor">#define MI_SESSION_DEFAULT_VIEW_SIZE      (20*1024*1024)</span></div>
<div class="line"><a name="l08302"></a><span class="lineno"> 8302</span>&#160;</div>
<div class="line"><a name="l08303"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5cc06eba20f3ec9b6b7deb1e344ed7df"> 8303</a></span>&#160;<span class="preprocessor">#define MI_SESSION_DEFAULT_POOL_SIZE      (16*1024*1024)</span></div>
<div class="line"><a name="l08304"></a><span class="lineno"> 8304</span>&#160;</div>
<div class="line"><a name="l08305"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aadb3192d81eada40c9809282741aa438"> 8305</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_MAXIMUM_TOTAL_SIZE \</span></div>
<div class="line"><a name="l08306"></a><span class="lineno"> 8306</span>&#160;<span class="preprocessor">            (MM_SYSTEM_CACHE_END_EXTRA - MM_KSEG2_BASE)</span></div>
<div class="line"><a name="l08307"></a><span class="lineno"> 8307</span>&#160;</div>
<div class="line"><a name="l08308"></a><span class="lineno"> 8308</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08309"></a><span class="lineno"> 8309</span>&#160;</div>
<div class="line"><a name="l08310"></a><span class="lineno"> 8310</span>&#160;</div>
<div class="line"><a name="l08311"></a><span class="lineno"> 8311</span>&#160;</div>
<div class="line"><a name="l08312"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4d29373e4ae8b6f261670cdd004b7ef7"> 8312</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_DEFAULT_TOTAL_SIZE \</span></div>
<div class="line"><a name="l08313"></a><span class="lineno"> 8313</span>&#160;<span class="preprocessor">            (MI_SESSION_DEFAULT_IMAGE_SIZE + \</span></div>
<div class="line"><a name="l08314"></a><span class="lineno"> 8314</span>&#160;<span class="preprocessor">             MI_SESSION_SPACE_STRUCT_SIZE + \</span></div>
<div class="line"><a name="l08315"></a><span class="lineno"> 8315</span>&#160;<span class="preprocessor">             MI_SESSION_SPACE_WS_SIZE + \</span></div>
<div class="line"><a name="l08316"></a><span class="lineno"> 8316</span>&#160;<span class="preprocessor">             MI_SESSION_DEFAULT_VIEW_SIZE + \</span></div>
<div class="line"><a name="l08317"></a><span class="lineno"> 8317</span>&#160;<span class="preprocessor">             MI_SESSION_DEFAULT_POOL_SIZE)</span></div>
<div class="line"><a name="l08318"></a><span class="lineno"> 8318</span>&#160;</div>
<div class="line"><a name="l08319"></a><span class="lineno"> 8319</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#afc8c776b9a1e6446a5398b626427970e">MmSessionBase</a>;</div>
<div class="line"><a name="l08320"></a><span class="lineno"> 8320</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a1ad133213c84b0657265d1b977aeef90">MiSessionBasePte</a>;</div>
<div class="line"><a name="l08321"></a><span class="lineno"> 8321</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a751c52f546538eaf16dfa19af9886928">MiSessionLastPte</a>;</div>
<div class="line"><a name="l08322"></a><span class="lineno"> 8322</span>&#160;</div>
<div class="line"><a name="l08323"></a><span class="lineno"> 8323</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a7eb68a0c1850f60eb2dc333125ea8d5b">MiSessionSpaceWs</a>;</div>
<div class="line"><a name="l08324"></a><span class="lineno"> 8324</span>&#160;</div>
<div class="line"><a name="l08325"></a><span class="lineno"> 8325</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a81b771d54d89ed75b678d0ba0b2366c5">MiSessionViewStart</a>;</div>
<div class="line"><a name="l08326"></a><span class="lineno"> 8326</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a3e480ff29903d087a5cf59b2703ce0d0">MmSessionViewSize</a>;</div>
<div class="line"><a name="l08327"></a><span class="lineno"> 8327</span>&#160;</div>
<div class="line"><a name="l08328"></a><span class="lineno"> 8328</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a82aca3d9833118b31914954ef8f90c53">MiSessionImageStart</a>;</div>
<div class="line"><a name="l08329"></a><span class="lineno"> 8329</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#abcdc6cafe14bd906511a8e8b47a73b31">MiSessionImageEnd</a>;</div>
<div class="line"><a name="l08330"></a><span class="lineno"> 8330</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a4eb7c741ac386637654606898f3f85dd">MmSessionImageSize</a>;</div>
<div class="line"><a name="l08331"></a><span class="lineno"> 8331</span>&#160;</div>
<div class="line"><a name="l08332"></a><span class="lineno"> 8332</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a7ce73c317cf52b3b7e0e8d95e5ce30a1">MiSessionImagePteStart</a>;</div>
<div class="line"><a name="l08333"></a><span class="lineno"> 8333</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a5399729790c2bb3a66a89b9202b83918">MiSessionImagePteEnd</a>;</div>
<div class="line"><a name="l08334"></a><span class="lineno"> 8334</span>&#160;</div>
<div class="line"><a name="l08335"></a><span class="lineno"> 8335</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a002ddc98be64ba2f2ca06cc6d3933141">MiSessionPoolStart</a>;</div>
<div class="line"><a name="l08336"></a><span class="lineno"> 8336</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#a8727e2b6f82504e77a0100a9c342d9ea">MiSessionPoolEnd</a>;</div>
<div class="line"><a name="l08337"></a><span class="lineno"> 8337</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a7c1c51ea934f9d9763405e40dad4d5d4">MmSessionPoolSize</a>;</div>
<div class="line"><a name="l08338"></a><span class="lineno"> 8338</span>&#160;</div>
<div class="line"><a name="l08339"></a><span class="lineno"> 8339</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d9/dce/a02519.html#adf310431c1a192827632c37f8ad45089">MiSessionSpaceEnd</a>;</div>
<div class="line"><a name="l08340"></a><span class="lineno"> 8340</span>&#160;</div>
<div class="line"><a name="l08341"></a><span class="lineno"> 8341</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ab417d1951acfcad8bb90ffdf48a72536">MiSessionSpacePageTables</a>;</div>
<div class="line"><a name="l08342"></a><span class="lineno"> 8342</span>&#160;</div>
<div class="line"><a name="l08343"></a><span class="lineno"> 8343</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08344"></a><span class="lineno"> 8344</span>&#160;<span class="comment">// The number of page table pages required to map all of session space.</span></div>
<div class="line"><a name="l08345"></a><span class="lineno"> 8345</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08346"></a><span class="lineno"> 8346</span>&#160;</div>
<div class="line"><a name="l08347"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac9eb6593b29d19f23f8e47b54fef91ca"> 8347</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_MAXIMUM_PAGE_TABLES \</span></div>
<div class="line"><a name="l08348"></a><span class="lineno"> 8348</span>&#160;<span class="preprocessor">            (MI_SESSION_SPACE_MAXIMUM_TOTAL_SIZE / MM_VA_MAPPED_BY_PDE)</span></div>
<div class="line"><a name="l08349"></a><span class="lineno"> 8349</span>&#160;</div>
<div class="line"><a name="l08350"></a><span class="lineno"> 8350</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d9/dce/a02519.html#a733d4a49eb8bfa7b2250b7b4353a864c">MmSessionSize</a>;        <span class="comment">// size of the entire session space.</span></div>
<div class="line"><a name="l08351"></a><span class="lineno"> 8351</span>&#160;</div>
<div class="line"><a name="l08352"></a><span class="lineno"> 8352</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08353"></a><span class="lineno"> 8353</span>&#160;<span class="comment">// Macros to determine if a given address lies in the specified session range.</span></div>
<div class="line"><a name="l08354"></a><span class="lineno"> 8354</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08355"></a><span class="lineno"> 8355</span>&#160;</div>
<div class="line"><a name="l08356"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a223b433c845aa9c52955190481803da7"> 8356</a></span>&#160;<span class="preprocessor">#define MI_IS_SESSION_IMAGE_ADDRESS(VirtualAddress) \</span></div>
<div class="line"><a name="l08357"></a><span class="lineno"> 8357</span>&#160;<span class="preprocessor">        ((PVOID)(VirtualAddress) &gt;= (PVOID)MiSessionImageStart &amp;&amp; (PVOID)(VirtualAddress) &lt; (PVOID)(MiSessionImageEnd))</span></div>
<div class="line"><a name="l08358"></a><span class="lineno"> 8358</span>&#160;</div>
<div class="line"><a name="l08359"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4c136ffc64ac0cfa11db96b9f4332897"> 8359</a></span>&#160;<span class="preprocessor">#define MI_IS_SESSION_POOL_ADDRESS(VirtualAddress) \</span></div>
<div class="line"><a name="l08360"></a><span class="lineno"> 8360</span>&#160;<span class="preprocessor">        ((PVOID)(VirtualAddress) &gt;= (PVOID)MiSessionPoolStart &amp;&amp; (PVOID)(VirtualAddress) &lt; (PVOID)MiSessionPoolEnd)</span></div>
<div class="line"><a name="l08361"></a><span class="lineno"> 8361</span>&#160;</div>
<div class="line"><a name="l08362"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aff73402a3a9dd99c855786e52773c745"> 8362</a></span>&#160;<span class="preprocessor">#define MI_IS_SESSION_ADDRESS(_VirtualAddress) \</span></div>
<div class="line"><a name="l08363"></a><span class="lineno"> 8363</span>&#160;<span class="preprocessor">        ((PVOID)(_VirtualAddress) &gt;= (PVOID)MmSessionBase &amp;&amp; (PVOID)(_VirtualAddress) &lt; (PVOID)(MiSessionSpaceEnd))</span></div>
<div class="line"><a name="l08364"></a><span class="lineno"> 8364</span>&#160;</div>
<div class="line"><a name="l08365"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a324e0e20cde972c4951aeb729d3e11db"> 8365</a></span>&#160;<span class="preprocessor">#define MI_IS_SESSION_PTE(_Pte) \</span></div>
<div class="line"><a name="l08366"></a><span class="lineno"> 8366</span>&#160;<span class="preprocessor">        ((PMMPTE)(_Pte) &gt;= MiSessionBasePte &amp;&amp; (PMMPTE)(_Pte) &lt; MiSessionLastPte)</span></div>
<div class="line"><a name="l08367"></a><span class="lineno"> 8367</span>&#160;</div>
<div class="line"><a name="l08368"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a27f5de67551508919305ddc489988ce0"> 8368</a></span>&#160;<span class="preprocessor">#define MI_IS_SESSION_IMAGE_PTE(_Pte) \</span></div>
<div class="line"><a name="l08369"></a><span class="lineno"> 8369</span>&#160;<span class="preprocessor">        ((PMMPTE)(_Pte) &gt;= MiSessionImagePteStart &amp;&amp; (PMMPTE)(_Pte) &lt; MiSessionImagePteEnd)</span></div>
<div class="line"><a name="l08370"></a><span class="lineno"> 8370</span>&#160;</div>
<div class="line"><a name="l08371"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a291813021fc94bf6719f1933a752aa78"> 8371</a></span>&#160;<span class="preprocessor">#define SESSION_GLOBAL(_Session)    (_Session-&gt;GlobalVirtualAddress)</span></div>
<div class="line"><a name="l08372"></a><span class="lineno"> 8372</span>&#160;</div>
<div class="line"><a name="l08373"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a93f6b2ed8eb3b2be23dce7c8042b59b6"> 8373</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_INITIAL_PAGETABLE_ALLOC          0</span></div>
<div class="line"><a name="l08374"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a30746f60ba396d0bdf4e58ae73e7e722"> 8374</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_INITIAL_PAGETABLE_FREE_RACE      1</span></div>
<div class="line"><a name="l08375"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6cc0cdcf0e2b322ad7fe144d2d973399"> 8375</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_INITIAL_PAGE_ALLOC               2</span></div>
<div class="line"><a name="l08376"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a913def83d764da407c306e6c4f5c0db8"> 8376</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_INITIAL_PAGE_FREE_FAIL1          3</span></div>
<div class="line"><a name="l08377"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acd1350f205711727666a4c1ee60f6cf0"> 8377</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_INITIAL_PAGETABLE_FREE_FAIL1     4</span></div>
<div class="line"><a name="l08378"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4c056c62435fa2af05ecfbe1e2711705"> 8378</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_WS_PAGE_FREE                     5</span></div>
<div class="line"><a name="l08379"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a286821b89c7fb0d27b9d9c41158dbd9d"> 8379</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_PAGETABLE_ALLOC                  6</span></div>
<div class="line"><a name="l08380"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab6c6b1e22c736f46baf0f546a8cf9834"> 8380</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_SYSMAPPED_PAGES_ALLOC            7</span></div>
<div class="line"><a name="l08381"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a83b45dd5d7bb6f94bbda8ca9c276c8bb"> 8381</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_WS_PAGETABLE_ALLOC               8</span></div>
<div class="line"><a name="l08382"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8e061a0fe3df7e3b32ad1d5029edf71e"> 8382</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_PAGEDPOOL_PAGETABLE_ALLOC        9</span></div>
<div class="line"><a name="l08383"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad2a8b12f4389b78b2f5989b7dcba10e9"> 8383</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_PAGEDPOOL_PAGETABLE_FREE_FAIL1   10</span></div>
<div class="line"><a name="l08384"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a4dfe6edc82fe0f6bca719c77107ae6fe"> 8384</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_WS_PAGE_ALLOC                    11</span></div>
<div class="line"><a name="l08385"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#accdff6122f17379ddfb3ac7658f5e06f"> 8385</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_WS_PAGE_ALLOC_GROWTH             12</span></div>
<div class="line"><a name="l08386"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a939a0a45cdcdd7844eefa8a8325ac40a"> 8386</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_INITIAL_PAGE_FREE                13</span></div>
<div class="line"><a name="l08387"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a70fa1d59d31e79447a4c8657ae7c277c"> 8387</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_PAGETABLE_FREE                   14</span></div>
<div class="line"><a name="l08388"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1fa9d1e9838ca64fcdb67fd5ab559113"> 8388</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_PAGEDPOOL_PAGETABLE_ALLOC1       15</span></div>
<div class="line"><a name="l08389"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0a48953d1416cfca22c141ca0e140f65"> 8389</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_DRIVER_PAGES_LOCKED              16</span></div>
<div class="line"><a name="l08390"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1b075ef85ff66d09b5370de239b2df59"> 8390</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_DRIVER_PAGES_UNLOCKED            17</span></div>
<div class="line"><a name="l08391"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a0b29dde2ba63f25fa440d975bd57adc6"> 8391</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_WS_HASHPAGE_ALLOC                18</span></div>
<div class="line"><a name="l08392"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#acd206aae618bd0f323569ed540e14319"> 8392</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_SYSMAPPED_PAGES_COMMITTED        19</span></div>
<div class="line"><a name="l08393"></a><span class="lineno"> 8393</span>&#160;</div>
<div class="line"><a name="l08394"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1c551d5de6bd4a6059960e47c85eeeff"> 8394</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_PAGEDPOOL_PAGES           30</span></div>
<div class="line"><a name="l08395"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3b04cab801b4a3b588eedbd28cfcb3c8"> 8395</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_DELETE_VM_RETURN          31</span></div>
<div class="line"><a name="l08396"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae7714a5fb8086c44cd64ced7f190bf8e"> 8396</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_POOL_FREED                32</span></div>
<div class="line"><a name="l08397"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8debf2ab9d1773d9d506966c8196e151"> 8397</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_IMAGE_UNLOAD              33</span></div>
<div class="line"><a name="l08398"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7289b563980944481f4e27c017a916ad"> 8398</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_IMAGELOAD_FAILED1         34</span></div>
<div class="line"><a name="l08399"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a95edff79f2cac8bd0ece82c460d595da"> 8399</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_IMAGELOAD_FAILED2         35</span></div>
<div class="line"><a name="l08400"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a07265a910f9059defd90a5fcac99f4ad"> 8400</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_COMMIT_IMAGELOAD_NOACCESS        36</span></div>
<div class="line"><a name="l08401"></a><span class="lineno"> 8401</span>&#160;</div>
<div class="line"><a name="l08402"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aefcae2703dd6051e1965c85b7e7bffe9"> 8402</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_LOCK_CODE1                    38</span></div>
<div class="line"><a name="l08403"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae536d02990ae0d0b2bdc4b3a99b56c10"> 8403</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_LOCK_CODE2                    39</span></div>
<div class="line"><a name="l08404"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6681c5cc6c83f4456899f5ed7621ace7"> 8404</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_SESSION_CREATE                40</span></div>
<div class="line"><a name="l08405"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a093b07394b19b6109cff24e0b422233d"> 8405</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_PAGETABLE_ALLOC               41</span></div>
<div class="line"><a name="l08406"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1571f05121fd4c06f27a81f698f0077a"> 8406</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_POOL_CREATE                   42</span></div>
<div class="line"><a name="l08407"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a197c543b11abae240102b40dd2946429"> 8407</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_COMMIT_IMAGE                  43</span></div>
<div class="line"><a name="l08408"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3e0ab06dc416f2ff7ce48121a676ef4f"> 8408</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_COMMIT_IMAGE_PT               44</span></div>
<div class="line"><a name="l08409"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a53d7065180824db7f0a97278d9d68e5b"> 8409</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_INIT_WS                       45</span></div>
<div class="line"><a name="l08410"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afb63e104994df60233af9a7081f70a67"> 8410</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_WS_GROW                       46</span></div>
<div class="line"><a name="l08411"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a73c5fe277d5a82a6f451ae4ac55e9917"> 8411</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_HASH_GROW                     47</span></div>
<div class="line"><a name="l08412"></a><span class="lineno"> 8412</span>&#160;</div>
<div class="line"><a name="l08413"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a9538bbbee882f495b5f42faf3173019d"> 8413</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_PAGE_DRIVER                   48</span></div>
<div class="line"><a name="l08414"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaf451eba051c9d9759b11117b4261d99"> 8414</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_POOL_CREATE_FAILED            49</span></div>
<div class="line"><a name="l08415"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5bc33a0bd0da9c4f3a75e0a412daa5c2"> 8415</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_WS_PAGE_FREE                  50</span></div>
<div class="line"><a name="l08416"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aa59672b6b35d9c2b5adc31eb1e3d3b1d"> 8416</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_SESSION_DESTROY               51</span></div>
<div class="line"><a name="l08417"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#afe86373c70ff1906eafe8a18a1efed44"> 8417</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_SESSION_PTDESTROY             52</span></div>
<div class="line"><a name="l08418"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab06193e92d6865567af6ed43ffe7aa3a"> 8418</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_DELVA                         53</span></div>
<div class="line"><a name="l08419"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a549314132cb7a1df5282c9124e80524f"> 8419</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_NP_HASH_SHRINK                   54</span></div>
<div class="line"><a name="l08420"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac080dbd9d8d51f86e6e6c691443a454e"> 8420</a></span>&#160;<span class="preprocessor">#define MM_DBG_SESSION_WS_HASHPAGE_FREE                 55</span></div>
<div class="line"><a name="l08421"></a><span class="lineno"> 8421</span>&#160;</div>
<div class="line"><a name="l08422"></a><span class="lineno"> 8422</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l08423"></a><span class="lineno"> 8423</span>&#160;<span class="preprocessor">#define MM_SESS_COUNTER_MAX 56</span></div>
<div class="line"><a name="l08424"></a><span class="lineno"> 8424</span>&#160;</div>
<div class="line"><a name="l08425"></a><span class="lineno"> 8425</span>&#160;<span class="preprocessor">#define MM_BUMP_SESS_COUNTER(_index, bump) \</span></div>
<div class="line"><a name="l08426"></a><span class="lineno"> 8426</span>&#160;<span class="preprocessor">    if (_index &gt;= MM_SESS_COUNTER_MAX) { \</span></div>
<div class="line"><a name="l08427"></a><span class="lineno"> 8427</span>&#160;<span class="preprocessor">        DbgPrintEx (DPFLTR_MM_ID, DPFLTR_ERROR_LEVEL,       \</span></div>
<div class="line"><a name="l08428"></a><span class="lineno"> 8428</span>&#160;<span class="preprocessor">            &quot;Mm: Invalid bump counter %d %d\n&quot;, _index, MM_SESS_COUNTER_MAX); \</span></div>
<div class="line"><a name="l08429"></a><span class="lineno"> 8429</span>&#160;<span class="preprocessor">        DbgBreakPoint(); \</span></div>
<div class="line"><a name="l08430"></a><span class="lineno"> 8430</span>&#160;<span class="preprocessor">    } \</span></div>
<div class="line"><a name="l08431"></a><span class="lineno"> 8431</span>&#160;<span class="preprocessor">    MmSessionSpace-&gt;Debug[_index] += (bump);</span></div>
<div class="line"><a name="l08432"></a><span class="lineno"> 8432</span>&#160;</div>
<div class="line"><a name="l08433"></a><span class="lineno"> 8433</span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_MM_SESSION_MEMORY_COUNTERS {</div>
<div class="line"><a name="l08434"></a><span class="lineno"> 8434</span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> NonPageablePages;</div>
<div class="line"><a name="l08435"></a><span class="lineno"> 8435</span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> CommittedPages;</div>
<div class="line"><a name="l08436"></a><span class="lineno"> 8436</span>&#160;} MM_SESSION_MEMORY_COUNTERS, *PMM_SESSION_MEMORY_COUNTERS;</div>
<div class="line"><a name="l08437"></a><span class="lineno"> 8437</span>&#160;</div>
<div class="line"><a name="l08438"></a><span class="lineno"> 8438</span>&#160;<span class="preprocessor">#define MM_SESS_MEMORY_COUNTER_MAX  8</span></div>
<div class="line"><a name="l08439"></a><span class="lineno"> 8439</span>&#160;</div>
<div class="line"><a name="l08440"></a><span class="lineno"> 8440</span>&#160;<span class="preprocessor">#define MM_SNAP_SESS_MEMORY_COUNTERS(_index) \</span></div>
<div class="line"><a name="l08441"></a><span class="lineno"> 8441</span>&#160;<span class="preprocessor">    if (_index &gt;= MM_SESS_MEMORY_COUNTER_MAX) { \</span></div>
<div class="line"><a name="l08442"></a><span class="lineno"> 8442</span>&#160;<span class="preprocessor">        DbgPrintEx (DPFLTR_MM_ID, DPFLTR_ERROR_LEVEL,           \</span></div>
<div class="line"><a name="l08443"></a><span class="lineno"> 8443</span>&#160;<span class="preprocessor">            &quot;Mm: Invalid session mem counter %d %d\n&quot;, _index, MM_SESS_MEMORY_COUNTER_MAX); \</span></div>
<div class="line"><a name="l08444"></a><span class="lineno"> 8444</span>&#160;<span class="preprocessor">        DbgBreakPoint(); \</span></div>
<div class="line"><a name="l08445"></a><span class="lineno"> 8445</span>&#160;<span class="preprocessor">    } \</span></div>
<div class="line"><a name="l08446"></a><span class="lineno"> 8446</span>&#160;<span class="preprocessor">    else { \</span></div>
<div class="line"><a name="l08447"></a><span class="lineno"> 8447</span>&#160;<span class="preprocessor">        MmSessionSpace-&gt;Debug2[_index].NonPageablePages = MmSessionSpace-&gt;NonPageablePages; \</span></div>
<div class="line"><a name="l08448"></a><span class="lineno"> 8448</span>&#160;<span class="preprocessor">        MmSessionSpace-&gt;Debug2[_index].CommittedPages = MmSessionSpace-&gt;CommittedPages; \</span></div>
<div class="line"><a name="l08449"></a><span class="lineno"> 8449</span>&#160;<span class="preprocessor">    }</span></div>
<div class="line"><a name="l08450"></a><span class="lineno"> 8450</span>&#160;</div>
<div class="line"><a name="l08451"></a><span class="lineno"> 8451</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08452"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8d55d7adf3e1f0ff1d5da41acd632896"> 8452</a></span>&#160;<span class="preprocessor">#define MM_BUMP_SESS_COUNTER(_index, bump)</span></div>
<div class="line"><a name="l08453"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae21ed22034f38b4e5695bf1b14977063"> 8453</a></span>&#160;<span class="preprocessor">#define MM_SNAP_SESS_MEMORY_COUNTERS(_index)</span></div>
<div class="line"><a name="l08454"></a><span class="lineno"> 8454</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08455"></a><span class="lineno"> 8455</span>&#160;</div>
<div class="line"><a name="l08456"></a><span class="lineno"> 8456</span>&#160;</div>
<div class="line"><a name="l08457"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a5ee7ee8be6ae5ceea88f3d08122b0433"> 8457</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_IDS                   0</span></div>
<div class="line"><a name="l08458"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a045244faeb53d985312c46124594101e"> 8458</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_COMMIT                1</span></div>
<div class="line"><a name="l08459"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a63d6cd59dfcc1105e011bd673b099f4e"> 8459</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_RESIDENT              2</span></div>
<div class="line"><a name="l08460"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a2f9d22b1999e62cb704a182f3134245b"> 8460</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_RACE_DETECTED            3</span></div>
<div class="line"><a name="l08461"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#af3d172b39626c403dc23b9a7a23e34a9"> 8461</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_SYSPTES               4</span></div>
<div class="line"><a name="l08462"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aaa7fbc1e30b016fe8379401ea2313743"> 8462</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_PAGED_POOL            5</span></div>
<div class="line"><a name="l08463"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad4dfbf5c8574396f7632f15e48601e15"> 8463</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_NONPAGED_POOL         6</span></div>
<div class="line"><a name="l08464"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a459e42ee0ca018172aaf42ed575c9841"> 8464</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_IMAGE_VA_SPACE        7</span></div>
<div class="line"><a name="l08465"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3b46b40e6034f6c585bf9cc19b50cd71"> 8465</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_SESSION_PAGED_POOL    8</span></div>
<div class="line"><a name="l08466"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a105e881d8f29bf12773f3592e44b3cbd"> 8466</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_NO_AVAILABLE             9</span></div>
<div class="line"><a name="l08467"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab90536d633efcd8111016a63b5f91ab8"> 8467</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_IMAGE_ZOMBIE             10</span></div>
<div class="line"><a name="l08468"></a><span class="lineno"> 8468</span>&#160;</div>
<div class="line"><a name="l08469"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a819f2b14d387dba5cd8775877058617f"> 8469</a></span>&#160;<span class="preprocessor">#define MM_SESSION_FAILURE_CAUSES                   11</span></div>
<div class="line"><a name="l08470"></a><span class="lineno"> 8470</span>&#160;</div>
<div class="line"><a name="l08471"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8ac5ad83a1e711c0f8c99a2abf5da86b"> 8471</a></span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a8ac5ad83a1e711c0f8c99a2abf5da86b">MmSessionFailureCauses</a>[<a class="code" href="../../d9/dce/a02519.html#a819f2b14d387dba5cd8775877058617f">MM_SESSION_FAILURE_CAUSES</a>];</div>
<div class="line"><a name="l08472"></a><span class="lineno"> 8472</span>&#160;</div>
<div class="line"><a name="l08473"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a6dd1184f254dafdb2b6d222ad7a5e105"> 8473</a></span>&#160;<span class="preprocessor">#define MM_BUMP_SESSION_FAILURES(_index) MmSessionFailureCauses[_index] += 1;</span></div>
<div class="line"><a name="l08474"></a><span class="lineno"> 8474</span>&#160;</div>
<div class="line"><a name="l08475"></a><span class="lineno"><a class="line" href="../../d1/ddd/a00943.html"> 8475</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/ddd/a00943.html">_MM_SESSION_SPACE_FLAGS</a> {</div>
<div class="line"><a name="l08476"></a><span class="lineno"><a class="line" href="../../d1/ddd/a00943.html#ac77488514c3713f801a45f0d88ea5146"> 8476</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d1/ddd/a00943.html#ac77488514c3713f801a45f0d88ea5146">Initialized</a> : 1;</div>
<div class="line"><a name="l08477"></a><span class="lineno"><a class="line" href="../../d1/ddd/a00943.html#ac706b4f8b2a287a24af329b2f84eb89c"> 8477</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d1/ddd/a00943.html#ac706b4f8b2a287a24af329b2f84eb89c">DeletePending</a> : 1;</div>
<div class="line"><a name="l08478"></a><span class="lineno"><a class="line" href="../../d1/ddd/a00943.html#afa0dfe425cbbd21c6b536c0960b9587e"> 8478</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d1/ddd/a00943.html#afa0dfe425cbbd21c6b536c0960b9587e">Filler</a> : 30;</div>
<div class="line"><a name="l08479"></a><span class="lineno"> 8479</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a57f74c9c5826021cc0b3c7f73cfd8f4a">MM_SESSION_SPACE_FLAGS</a>;</div>
<div class="line"><a name="l08480"></a><span class="lineno"> 8480</span>&#160;</div>
<div class="line"><a name="l08481"></a><span class="lineno"> 8481</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08482"></a><span class="lineno"> 8482</span>&#160;<span class="comment">// The value of SESSION_POOL_SMALL_LISTS is very carefully chosen for each</span></div>
<div class="line"><a name="l08483"></a><span class="lineno"> 8483</span>&#160;<span class="comment">// architecture to avoid spilling over into an additional session data page.</span></div>
<div class="line"><a name="l08484"></a><span class="lineno"> 8484</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08485"></a><span class="lineno"> 8485</span>&#160;</div>
<div class="line"><a name="l08486"></a><span class="lineno"> 8486</span>&#160;<span class="preprocessor">#if defined(_AMD64_)</span></div>
<div class="line"><a name="l08487"></a><span class="lineno"> 8487</span>&#160;<span class="preprocessor">#define SESSION_POOL_SMALL_LISTS        21</span></div>
<div class="line"><a name="l08488"></a><span class="lineno"> 8488</span>&#160;<span class="preprocessor">#elif defined(_X86_)</span></div>
<div class="line"><a name="l08489"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a63f54006e84b6c2374139904f048ddb7"> 8489</a></span>&#160;<span class="preprocessor">#define SESSION_POOL_SMALL_LISTS        26</span></div>
<div class="line"><a name="l08490"></a><span class="lineno"> 8490</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08491"></a><span class="lineno"> 8491</span>&#160;<span class="preprocessor">#error &quot;no target architecture&quot;</span></div>
<div class="line"><a name="l08492"></a><span class="lineno"> 8492</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08493"></a><span class="lineno"> 8493</span>&#160;</div>
<div class="line"><a name="l08494"></a><span class="lineno"> 8494</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08495"></a><span class="lineno"> 8495</span>&#160;<span class="comment">// The session space data structure - allocated per session and only visible at</span></div>
<div class="line"><a name="l08496"></a><span class="lineno"> 8496</span>&#160;<span class="comment">// MM_SESSION_SPACE_BASE when in the context of a process from the session.</span></div>
<div class="line"><a name="l08497"></a><span class="lineno"> 8497</span>&#160;<span class="comment">// This virtual address space is rotated at context switch time when switching</span></div>
<div class="line"><a name="l08498"></a><span class="lineno"> 8498</span>&#160;<span class="comment">// from a process in session A to a process in session B.  This rotation is</span></div>
<div class="line"><a name="l08499"></a><span class="lineno"> 8499</span>&#160;<span class="comment">// useful for things like providing paged pool per session so many sessions</span></div>
<div class="line"><a name="l08500"></a><span class="lineno"> 8500</span>&#160;<span class="comment">// won&#39;t exhaust the VA space which backs the system global pool.</span></div>
<div class="line"><a name="l08501"></a><span class="lineno"> 8501</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08502"></a><span class="lineno"> 8502</span>&#160;<span class="comment">// A kernel PTE is also allocated to double map this page so that global</span></div>
<div class="line"><a name="l08503"></a><span class="lineno"> 8503</span>&#160;<span class="comment">// pointers can be maintained to provide system access from any process context.</span></div>
<div class="line"><a name="l08504"></a><span class="lineno"> 8504</span>&#160;<span class="comment">// This is needed for things like mutexes and WSL chains.</span></div>
<div class="line"><a name="l08505"></a><span class="lineno"> 8505</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08506"></a><span class="lineno"> 8506</span>&#160;</div>
<div class="line"><a name="l08507"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html"> 8507</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d12/a00942.html">_MM_SESSION_SPACE</a> {</div>
<div class="line"><a name="l08508"></a><span class="lineno"> 8508</span>&#160;</div>
<div class="line"><a name="l08509"></a><span class="lineno"> 8509</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08510"></a><span class="lineno"> 8510</span>&#160;    <span class="comment">// This is a pointer in global system address space, used to make various</span></div>
<div class="line"><a name="l08511"></a><span class="lineno"> 8511</span>&#160;    <span class="comment">// fields that can be referenced from any process visible from any process</span></div>
<div class="line"><a name="l08512"></a><span class="lineno"> 8512</span>&#160;    <span class="comment">// context.  This is for things like mutexes, WSL chains, etc.</span></div>
<div class="line"><a name="l08513"></a><span class="lineno"> 8513</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08514"></a><span class="lineno"> 8514</span>&#160;</div>
<div class="line"><a name="l08515"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a3e300351c5f17711daa7ad1cc3c1159a"> 8515</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../df/d12/a00942.html">_MM_SESSION_SPACE</a> *<a class="code" href="../../df/d12/a00942.html#a3e300351c5f17711daa7ad1cc3c1159a">GlobalVirtualAddress</a>;</div>
<div class="line"><a name="l08516"></a><span class="lineno"> 8516</span>&#160;</div>
<div class="line"><a name="l08517"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#ad276b532164b2974a466311e475701a1"> 8517</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d12/a00942.html#ad276b532164b2974a466311e475701a1">ReferenceCount</a>;</div>
<div class="line"><a name="l08518"></a><span class="lineno"> 8518</span>&#160;</div>
<div class="line"><a name="l08519"></a><span class="lineno"> 8519</span>&#160;    <span class="keyword">union </span>{</div>
<div class="line"><a name="l08520"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a0d5e49dfdc425ba3b1398dff2767ad60"> 8520</a></span>&#160;        <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d12/a00942.html#a0d5e49dfdc425ba3b1398dff2767ad60">LongFlags</a>;</div>
<div class="line"><a name="l08521"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a433ab2a9a1a1ce959ca655a933fd7a44"> 8521</a></span>&#160;        <a class="code" href="../../d1/ddd/a00943.html">MM_SESSION_SPACE_FLAGS</a> <a class="code" href="../../df/d12/a00942.html#a433ab2a9a1a1ce959ca655a933fd7a44">Flags</a>;</div>
<div class="line"><a name="l08522"></a><span class="lineno"> 8522</span>&#160;    } <a class="code" href="../../df/d12/a00942.html#a308b54dff3d677228343f59f391e4b8b">u</a>;</div>
<div class="line"><a name="l08523"></a><span class="lineno"> 8523</span>&#160;</div>
<div class="line"><a name="l08524"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a0b91592f104936e274e137ef9f9242e4"> 8524</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d12/a00942.html#a0b91592f104936e274e137ef9f9242e4">SessionId</a>;</div>
<div class="line"><a name="l08525"></a><span class="lineno"> 8525</span>&#160;</div>
<div class="line"><a name="l08526"></a><span class="lineno"> 8526</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08527"></a><span class="lineno"> 8527</span>&#160;    <span class="comment">// This is the list of the processes in this group that have</span></div>
<div class="line"><a name="l08528"></a><span class="lineno"> 8528</span>&#160;    <span class="comment">// session space entries.</span></div>
<div class="line"><a name="l08529"></a><span class="lineno"> 8529</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08530"></a><span class="lineno"> 8530</span>&#160;</div>
<div class="line"><a name="l08531"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#ab104182cb7776ec92a98085177246c71"> 8531</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../df/d12/a00942.html#ab104182cb7776ec92a98085177246c71">ProcessList</a>;</div>
<div class="line"><a name="l08532"></a><span class="lineno"> 8532</span>&#160;</div>
<div class="line"><a name="l08533"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a3984cda1d6aafdc7b2016913b44350f2"> 8533</a></span>&#160;    <a class="code" href="../../dc/d5e/a00817.html">LARGE_INTEGER</a> <a class="code" href="../../df/d12/a00942.html#a3984cda1d6aafdc7b2016913b44350f2">LastProcessSwappedOutTime</a>;</div>
<div class="line"><a name="l08534"></a><span class="lineno"> 8534</span>&#160;</div>
<div class="line"><a name="l08535"></a><span class="lineno"> 8535</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08536"></a><span class="lineno"> 8536</span>&#160;    <span class="comment">// All the page tables for session space use this as their parent.</span></div>
<div class="line"><a name="l08537"></a><span class="lineno"> 8537</span>&#160;    <span class="comment">// Note that it&#39;s not really a page directory - it&#39;s really a page</span></div>
<div class="line"><a name="l08538"></a><span class="lineno"> 8538</span>&#160;    <span class="comment">// table page itself (the one used to map this very structure).</span></div>
<div class="line"><a name="l08539"></a><span class="lineno"> 8539</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08540"></a><span class="lineno"> 8540</span>&#160;    <span class="comment">// This provides a reference to something that won&#39;t go away and</span></div>
<div class="line"><a name="l08541"></a><span class="lineno"> 8541</span>&#160;    <span class="comment">// is relevant regardless of which process within the session is current.</span></div>
<div class="line"><a name="l08542"></a><span class="lineno"> 8542</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08543"></a><span class="lineno"> 8543</span>&#160;</div>
<div class="line"><a name="l08544"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a1c36915b83112d8d7ffa92bc488cd8a4"> 8544</a></span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> <a class="code" href="../../df/d12/a00942.html#a1c36915b83112d8d7ffa92bc488cd8a4">SessionPageDirectoryIndex</a>;</div>
<div class="line"><a name="l08545"></a><span class="lineno"> 8545</span>&#160;</div>
<div class="line"><a name="l08546"></a><span class="lineno"> 8546</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08547"></a><span class="lineno"> 8547</span>&#160;    <span class="comment">// This is the count of non paged allocations to support this session</span></div>
<div class="line"><a name="l08548"></a><span class="lineno"> 8548</span>&#160;    <span class="comment">// space.  This includes the session structure page table and data pages,</span></div>
<div class="line"><a name="l08549"></a><span class="lineno"> 8549</span>&#160;    <span class="comment">// WSL page table and data pages, session pool page table pages and session</span></div>
<div class="line"><a name="l08550"></a><span class="lineno"> 8550</span>&#160;    <span class="comment">// image page table pages.  These are all charged against</span></div>
<div class="line"><a name="l08551"></a><span class="lineno"> 8551</span>&#160;    <span class="comment">// MmResidentAvailable.</span></div>
<div class="line"><a name="l08552"></a><span class="lineno"> 8552</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08553"></a><span class="lineno"> 8553</span>&#160;</div>
<div class="line"><a name="l08554"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#ac4be1b2dda53ed3725ce5b1f2bc8eb38"> 8554</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../df/d12/a00942.html#ac4be1b2dda53ed3725ce5b1f2bc8eb38">NonPageablePages</a>;</div>
<div class="line"><a name="l08555"></a><span class="lineno"> 8555</span>&#160;</div>
<div class="line"><a name="l08556"></a><span class="lineno"> 8556</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08557"></a><span class="lineno"> 8557</span>&#160;    <span class="comment">// This is the count of pages in this session that have been charged against</span></div>
<div class="line"><a name="l08558"></a><span class="lineno"> 8558</span>&#160;    <span class="comment">// the systemwide commit.  This includes all the NonPageablePages plus the</span></div>
<div class="line"><a name="l08559"></a><span class="lineno"> 8559</span>&#160;    <span class="comment">// data pages they typically map.</span></div>
<div class="line"><a name="l08560"></a><span class="lineno"> 8560</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08561"></a><span class="lineno"> 8561</span>&#160;</div>
<div class="line"><a name="l08562"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#aa748ed32542fcf6653cb8a33b8e68664"> 8562</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../df/d12/a00942.html#aa748ed32542fcf6653cb8a33b8e68664">CommittedPages</a>;</div>
<div class="line"><a name="l08563"></a><span class="lineno"> 8563</span>&#160;</div>
<div class="line"><a name="l08564"></a><span class="lineno"> 8564</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08565"></a><span class="lineno"> 8565</span>&#160;    <span class="comment">// Start of session paged pool virtual space.</span></div>
<div class="line"><a name="l08566"></a><span class="lineno"> 8566</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08567"></a><span class="lineno"> 8567</span>&#160;</div>
<div class="line"><a name="l08568"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a398ccc5343e01fb7288d32c40823f152"> 8568</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/d12/a00942.html#a398ccc5343e01fb7288d32c40823f152">PagedPoolStart</a>;</div>
<div class="line"><a name="l08569"></a><span class="lineno"> 8569</span>&#160;</div>
<div class="line"><a name="l08570"></a><span class="lineno"> 8570</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08571"></a><span class="lineno"> 8571</span>&#160;    <span class="comment">// Current end of pool virtual space. Can be extended to the</span></div>
<div class="line"><a name="l08572"></a><span class="lineno"> 8572</span>&#160;    <span class="comment">// end of the session space.</span></div>
<div class="line"><a name="l08573"></a><span class="lineno"> 8573</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08574"></a><span class="lineno"> 8574</span>&#160;</div>
<div class="line"><a name="l08575"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a60b656ce17db0920cbb5d8ad8db44035"> 8575</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../df/d12/a00942.html#a60b656ce17db0920cbb5d8ad8db44035">PagedPoolEnd</a>;</div>
<div class="line"><a name="l08576"></a><span class="lineno"> 8576</span>&#160;</div>
<div class="line"><a name="l08577"></a><span class="lineno"> 8577</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08578"></a><span class="lineno"> 8578</span>&#160;    <span class="comment">// PTE pointers for pool.</span></div>
<div class="line"><a name="l08579"></a><span class="lineno"> 8579</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08580"></a><span class="lineno"> 8580</span>&#160;</div>
<div class="line"><a name="l08581"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#ae5b3e67d716ab59756606b677f0d0fe6"> 8581</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../df/d12/a00942.html#ae5b3e67d716ab59756606b677f0d0fe6">PagedPoolBasePde</a>;</div>
<div class="line"><a name="l08582"></a><span class="lineno"> 8582</span>&#160;</div>
<div class="line"><a name="l08583"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a1ee336368e3161ea61239bc56c0a720c"> 8583</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d12/a00942.html#a1ee336368e3161ea61239bc56c0a720c">Color</a>;</div>
<div class="line"><a name="l08584"></a><span class="lineno"> 8584</span>&#160;</div>
<div class="line"><a name="l08585"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a2cf2afb45427da04c5abc1dd569bd08e"> 8585</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d12/a00942.html#a2cf2afb45427da04c5abc1dd569bd08e">ResidentProcessCount</a>;</div>
<div class="line"><a name="l08586"></a><span class="lineno"> 8586</span>&#160;</div>
<div class="line"><a name="l08587"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a4373bd4344ff22e1abf3e376a166b81c"> 8587</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d12/a00942.html#a4373bd4344ff22e1abf3e376a166b81c">SessionPoolAllocationFailures</a>[4];</div>
<div class="line"><a name="l08588"></a><span class="lineno"> 8588</span>&#160;</div>
<div class="line"><a name="l08589"></a><span class="lineno"> 8589</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08590"></a><span class="lineno"> 8590</span>&#160;    <span class="comment">// This is the list of system images currently valid in</span></div>
<div class="line"><a name="l08591"></a><span class="lineno"> 8591</span>&#160;    <span class="comment">// this session space.  This information is in addition</span></div>
<div class="line"><a name="l08592"></a><span class="lineno"> 8592</span>&#160;    <span class="comment">// to the module global information in PsLoadedModuleList.</span></div>
<div class="line"><a name="l08593"></a><span class="lineno"> 8593</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08594"></a><span class="lineno"> 8594</span>&#160;</div>
<div class="line"><a name="l08595"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#af9d48fe5eb66494a419ebd54ad798a2d"> 8595</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../df/d12/a00942.html#af9d48fe5eb66494a419ebd54ad798a2d">ImageList</a>;</div>
<div class="line"><a name="l08596"></a><span class="lineno"> 8596</span>&#160;</div>
<div class="line"><a name="l08597"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a4a61e5df95db6143eb0e1314b31ea182"> 8597</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a0af993ebcc78c44a290f87ea7ca37d2b">LCID</a> <a class="code" href="../../df/d12/a00942.html#a4a61e5df95db6143eb0e1314b31ea182">LocaleId</a>;</div>
<div class="line"><a name="l08598"></a><span class="lineno"> 8598</span>&#160;</div>
<div class="line"><a name="l08599"></a><span class="lineno"> 8599</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08600"></a><span class="lineno"> 8600</span>&#160;    <span class="comment">// The count of &quot;known attachers and the associated event.</span></div>
<div class="line"><a name="l08601"></a><span class="lineno"> 8601</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08602"></a><span class="lineno"> 8602</span>&#160;</div>
<div class="line"><a name="l08603"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a8ec0c74298e674e7aa84b99e8e276e52"> 8603</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../df/d12/a00942.html#a8ec0c74298e674e7aa84b99e8e276e52">AttachCount</a>;</div>
<div class="line"><a name="l08604"></a><span class="lineno"> 8604</span>&#160;</div>
<div class="line"><a name="l08605"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a91c8af737d626c1f1861bfda0ad0d0be"> 8605</a></span>&#160;    <a class="code" href="../../d4/dfa/a00746.html">KEVENT</a> <a class="code" href="../../df/d12/a00942.html#a91c8af737d626c1f1861bfda0ad0d0be">AttachEvent</a>;</div>
<div class="line"><a name="l08606"></a><span class="lineno"> 8606</span>&#160;</div>
<div class="line"><a name="l08607"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#add290864a051980830c9456fde321c92"> 8607</a></span>&#160;    <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> <a class="code" href="../../df/d12/a00942.html#add290864a051980830c9456fde321c92">LastProcess</a>;</div>
<div class="line"><a name="l08608"></a><span class="lineno"> 8608</span>&#160;</div>
<div class="line"><a name="l08609"></a><span class="lineno"> 8609</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08610"></a><span class="lineno"> 8610</span>&#160;    <span class="comment">// This is generally decremented in process delete (not clean) so that</span></div>
<div class="line"><a name="l08611"></a><span class="lineno"> 8611</span>&#160;    <span class="comment">// the session data page and mapping PTE can finally be freed when this</span></div>
<div class="line"><a name="l08612"></a><span class="lineno"> 8612</span>&#160;    <span class="comment">// reaches zero.  smss is the only process that decrements it in other</span></div>
<div class="line"><a name="l08613"></a><span class="lineno"> 8613</span>&#160;    <span class="comment">// places as smss never exits.</span></div>
<div class="line"><a name="l08614"></a><span class="lineno"> 8614</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08615"></a><span class="lineno"> 8615</span>&#160;</div>
<div class="line"><a name="l08616"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a7e705556c7ee6417b8a2ab590d51d884"> 8616</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d12/a00942.html#a7e705556c7ee6417b8a2ab590d51d884">ProcessReferenceToSession</a>;</div>
<div class="line"><a name="l08617"></a><span class="lineno"> 8617</span>&#160;</div>
<div class="line"><a name="l08618"></a><span class="lineno"> 8618</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08619"></a><span class="lineno"> 8619</span>&#160;    <span class="comment">// This chain is in global system addresses (not session VAs) and can</span></div>
<div class="line"><a name="l08620"></a><span class="lineno"> 8620</span>&#160;    <span class="comment">// be walked from any system context, ie: for WSL trimming.</span></div>
<div class="line"><a name="l08621"></a><span class="lineno"> 8621</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08622"></a><span class="lineno"> 8622</span>&#160;</div>
<div class="line"><a name="l08623"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#aa76d283fac6a6cfe6a98fb86c3a4f454"> 8623</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../df/d12/a00942.html#aa76d283fac6a6cfe6a98fb86c3a4f454">WsListEntry</a>;</div>
<div class="line"><a name="l08624"></a><span class="lineno"> 8624</span>&#160;</div>
<div class="line"><a name="l08625"></a><span class="lineno"> 8625</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08626"></a><span class="lineno"> 8626</span>&#160;    <span class="comment">// Session lookasides for fast pool allocation/freeing.</span></div>
<div class="line"><a name="l08627"></a><span class="lineno"> 8627</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08628"></a><span class="lineno"> 8628</span>&#160;</div>
<div class="line"><a name="l08629"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#aca1ec975b47820e2390925b32824dc59"> 8629</a></span>&#160;    <a class="code" href="../../d5/ddd/a02184.html#a7a47357db9e4031f9e3bd998db9d53da">GENERAL_LOOKASIDE</a> <a class="code" href="../../df/d12/a00942.html#aca1ec975b47820e2390925b32824dc59">Lookaside</a>[<a class="code" href="../../d9/dce/a02519.html#a63f54006e84b6c2374139904f048ddb7">SESSION_POOL_SMALL_LISTS</a>];</div>
<div class="line"><a name="l08630"></a><span class="lineno"> 8630</span>&#160;</div>
<div class="line"><a name="l08631"></a><span class="lineno"> 8631</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08632"></a><span class="lineno"> 8632</span>&#160;    <span class="comment">// Support for mapping system views into session space.  Each desktop</span></div>
<div class="line"><a name="l08633"></a><span class="lineno"> 8633</span>&#160;    <span class="comment">// allocates a 3MB heap and the global system view space is only 48M</span></div>
<div class="line"><a name="l08634"></a><span class="lineno"> 8634</span>&#160;    <span class="comment">// total.  This would limit us to only 20-30 users - rotating the</span></div>
<div class="line"><a name="l08635"></a><span class="lineno"> 8635</span>&#160;    <span class="comment">// system view space with each session removes this limitation.</span></div>
<div class="line"><a name="l08636"></a><span class="lineno"> 8636</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08637"></a><span class="lineno"> 8637</span>&#160;</div>
<div class="line"><a name="l08638"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a6797096a3c7c60167efad0137ba53715"> 8638</a></span>&#160;    <a class="code" href="../../d7/d98/a00983.html">MMSESSION</a> <a class="code" href="../../df/d12/a00942.html#a6797096a3c7c60167efad0137ba53715">Session</a>;</div>
<div class="line"><a name="l08639"></a><span class="lineno"> 8639</span>&#160;</div>
<div class="line"><a name="l08640"></a><span class="lineno"> 8640</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08641"></a><span class="lineno"> 8641</span>&#160;    <span class="comment">// Session space paged pool support.</span></div>
<div class="line"><a name="l08642"></a><span class="lineno"> 8642</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08643"></a><span class="lineno"> 8643</span>&#160;</div>
<div class="line"><a name="l08644"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a322442ee0e252b58d2bc72095ebf37b6"> 8644</a></span>&#160;    <a class="code" href="../../d8/dba/a00773.html">KGUARDED_MUTEX</a> <a class="code" href="../../df/d12/a00942.html#a322442ee0e252b58d2bc72095ebf37b6">PagedPoolMutex</a>;</div>
<div class="line"><a name="l08645"></a><span class="lineno"> 8645</span>&#160;</div>
<div class="line"><a name="l08646"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a3c1dc0b9d4308f5486921f7290463553"> 8646</a></span>&#160;    <a class="code" href="../../dd/d20/a00939.html">MM_PAGED_POOL_INFO</a> <a class="code" href="../../df/d12/a00942.html#a3c1dc0b9d4308f5486921f7290463553">PagedPoolInfo</a>;</div>
<div class="line"><a name="l08647"></a><span class="lineno"> 8647</span>&#160;</div>
<div class="line"><a name="l08648"></a><span class="lineno"> 8648</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08649"></a><span class="lineno"> 8649</span>&#160;    <span class="comment">// Working set information.</span></div>
<div class="line"><a name="l08650"></a><span class="lineno"> 8650</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08651"></a><span class="lineno"> 8651</span>&#160;</div>
<div class="line"><a name="l08652"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a9ff88fdd54b0e05d204b4b235a0a971a"> 8652</a></span>&#160;    <a class="code" href="../../d3/d7b/a00986.html">MMSUPPORT</a>  <a class="code" href="../../df/d12/a00942.html#a9ff88fdd54b0e05d204b4b235a0a971a">Vm</a>;</div>
<div class="line"><a name="l08653"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#aed646e84e2776721576e454622fe6466"> 8653</a></span>&#160;    <a class="code" href="../../d0/d28/a00997.html">PMMWSLE</a>    <a class="code" href="../../df/d12/a00942.html#aed646e84e2776721576e454622fe6466">Wsle</a>;</div>
<div class="line"><a name="l08654"></a><span class="lineno"> 8654</span>&#160;</div>
<div class="line"><a name="l08655"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#af5ef27f1fc281649fd3942822396ff39"> 8655</a></span>&#160;    <a class="code" href="../../dd/dce/a02200.html#a4683f23a9ac83860d274d5c193a1d187">PDRIVER_UNLOAD</a> <a class="code" href="../../df/d12/a00942.html#af5ef27f1fc281649fd3942822396ff39">Win32KDriverUnload</a>;</div>
<div class="line"><a name="l08656"></a><span class="lineno"> 8656</span>&#160;</div>
<div class="line"><a name="l08657"></a><span class="lineno"> 8657</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08658"></a><span class="lineno"> 8658</span>&#160;    <span class="comment">// Pool descriptor for less than 1 page allocations.</span></div>
<div class="line"><a name="l08659"></a><span class="lineno"> 8659</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08660"></a><span class="lineno"> 8660</span>&#160;</div>
<div class="line"><a name="l08661"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#ac891ae560613fc80ded0a0234013aaad"> 8661</a></span>&#160;    <a class="code" href="../../df/d68/a01385.html">POOL_DESCRIPTOR</a> <a class="code" href="../../df/d12/a00942.html#ac891ae560613fc80ded0a0234013aaad">PagedPool</a>;</div>
<div class="line"><a name="l08662"></a><span class="lineno"> 8662</span>&#160;</div>
<div class="line"><a name="l08663"></a><span class="lineno"> 8663</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 3)</span></div>
<div class="line"><a name="l08664"></a><span class="lineno"> 8664</span>&#160;</div>
<div class="line"><a name="l08665"></a><span class="lineno"> 8665</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08666"></a><span class="lineno"> 8666</span>&#160;    <span class="comment">// The page directory that maps session space is saved here so</span></div>
<div class="line"><a name="l08667"></a><span class="lineno"> 8667</span>&#160;    <span class="comment">// trimmers can attach.</span></div>
<div class="line"><a name="l08668"></a><span class="lineno"> 8668</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08669"></a><span class="lineno"> 8669</span>&#160;</div>
<div class="line"><a name="l08670"></a><span class="lineno"> 8670</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">MMPTE</a> PageDirectory;</div>
<div class="line"><a name="l08671"></a><span class="lineno"> 8671</span>&#160;</div>
<div class="line"><a name="l08672"></a><span class="lineno"> 8672</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08673"></a><span class="lineno"> 8673</span>&#160;</div>
<div class="line"><a name="l08674"></a><span class="lineno"> 8674</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08675"></a><span class="lineno"> 8675</span>&#160;    <span class="comment">// The second level page tables that map session space are shared</span></div>
<div class="line"><a name="l08676"></a><span class="lineno"> 8676</span>&#160;    <span class="comment">// by all processes in the session.</span></div>
<div class="line"><a name="l08677"></a><span class="lineno"> 8677</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08678"></a><span class="lineno"> 8678</span>&#160;</div>
<div class="line"><a name="l08679"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a9c996c79d672e4d97afe927c679316d2"> 8679</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../df/d12/a00942.html#a9c996c79d672e4d97afe927c679316d2">PageTables</a>;</div>
<div class="line"><a name="l08680"></a><span class="lineno"> 8680</span>&#160;</div>
<div class="line"><a name="l08681"></a><span class="lineno"> 8681</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08682"></a><span class="lineno"> 8682</span>&#160;</div>
<div class="line"><a name="l08683"></a><span class="lineno"> 8683</span>&#160;<span class="preprocessor">#if defined (_WIN64)</span></div>
<div class="line"><a name="l08684"></a><span class="lineno"> 8684</span>&#160;</div>
<div class="line"><a name="l08685"></a><span class="lineno"> 8685</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08686"></a><span class="lineno"> 8686</span>&#160;    <span class="comment">// NT64 has enough virtual address space to support per-session special</span></div>
<div class="line"><a name="l08687"></a><span class="lineno"> 8687</span>&#160;    <span class="comment">// pool.</span></div>
<div class="line"><a name="l08688"></a><span class="lineno"> 8688</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l08689"></a><span class="lineno"> 8689</span>&#160;</div>
<div class="line"><a name="l08690"></a><span class="lineno"> 8690</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> SpecialPoolFirstPte;</div>
<div class="line"><a name="l08691"></a><span class="lineno"> 8691</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> SpecialPoolLastPte;</div>
<div class="line"><a name="l08692"></a><span class="lineno"> 8692</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> NextPdeForSpecialPoolExpansion;</div>
<div class="line"><a name="l08693"></a><span class="lineno"> 8693</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> LastPdeForSpecialPoolExpansion;</div>
<div class="line"><a name="l08694"></a><span class="lineno"> 8694</span>&#160;    <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> SpecialPagesInUse;</div>
<div class="line"><a name="l08695"></a><span class="lineno"> 8695</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08696"></a><span class="lineno"> 8696</span>&#160;</div>
<div class="line"><a name="l08697"></a><span class="lineno"><a class="line" href="../../df/d12/a00942.html#a723338bb2af24eb2c9517913ccebce3f"> 8697</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> <a class="code" href="../../df/d12/a00942.html#a723338bb2af24eb2c9517913ccebce3f">ImageLoadingCount</a>;</div>
<div class="line"><a name="l08698"></a><span class="lineno"> 8698</span>&#160;</div>
<div class="line"><a name="l08699"></a><span class="lineno"> 8699</span>&#160;<span class="preprocessor">#if DBG</span></div>
<div class="line"><a name="l08700"></a><span class="lineno"> 8700</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Debug[MM_SESS_COUNTER_MAX];</div>
<div class="line"><a name="l08701"></a><span class="lineno"> 8701</span>&#160;</div>
<div class="line"><a name="l08702"></a><span class="lineno"> 8702</span>&#160;    MM_SESSION_MEMORY_COUNTERS Debug2[MM_SESS_MEMORY_COUNTER_MAX];</div>
<div class="line"><a name="l08703"></a><span class="lineno"> 8703</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08704"></a><span class="lineno"> 8704</span>&#160;</div>
<div class="line"><a name="l08705"></a><span class="lineno"> 8705</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#add61772b8942ab185b00a7dd6ed65bb2">MM_SESSION_SPACE</a>, *<a class="code" href="../../d9/dce/a02519.html#a27c5ae51f6a6ca818e977c654d5f75c4">PMM_SESSION_SPACE</a>;</div>
<div class="line"><a name="l08706"></a><span class="lineno"> 8706</span>&#160;</div>
<div class="line"><a name="l08707"></a><span class="lineno"> 8707</span>&#160;<span class="keyword">extern</span> PMM_SESSION_SPACE <a class="code" href="../../d9/dce/a02519.html#a45fe1ebab79878bb1f6ff5d38827c405">MmSessionSpace</a>;</div>
<div class="line"><a name="l08708"></a><span class="lineno"> 8708</span>&#160;</div>
<div class="line"><a name="l08709"></a><span class="lineno"> 8709</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#a5698988a60a7f5bd883a43480981a357">MiSessionCount</a>;</div>
<div class="line"><a name="l08710"></a><span class="lineno"> 8710</span>&#160;</div>
<div class="line"><a name="l08711"></a><span class="lineno"> 8711</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08712"></a><span class="lineno"> 8712</span>&#160;<span class="comment">// This flushes just the non-global TB entries.</span></div>
<div class="line"><a name="l08713"></a><span class="lineno"> 8713</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08714"></a><span class="lineno"> 8714</span>&#160;</div>
<div class="line"><a name="l08715"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#aedd52f4ee42cc88196f312a8023b4447"> 8715</a></span>&#160;<span class="preprocessor">#define MI_FLUSH_SESSION_TB() KeFlushEntireTb (TRUE, TRUE);</span></div>
<div class="line"><a name="l08716"></a><span class="lineno"> 8716</span>&#160;</div>
<div class="line"><a name="l08717"></a><span class="lineno"> 8717</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08718"></a><span class="lineno"> 8718</span>&#160;<span class="comment">// The default number of pages for the session working set minimum &amp; maximum.</span></div>
<div class="line"><a name="l08719"></a><span class="lineno"> 8719</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08720"></a><span class="lineno"> 8720</span>&#160;</div>
<div class="line"><a name="l08721"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7cf1bf55d05a0aef212b0472c833fa5b"> 8721</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_WORKING_SET_MINIMUM 20</span></div>
<div class="line"><a name="l08722"></a><span class="lineno"> 8722</span>&#160;</div>
<div class="line"><a name="l08723"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae0dd18982e9f8f64d3d41ee3dcadb154"> 8723</a></span>&#160;<span class="preprocessor">#define MI_SESSION_SPACE_WORKING_SET_MAXIMUM 384</span></div>
<div class="line"><a name="l08724"></a><span class="lineno"> 8724</span>&#160;</div>
<div class="line"><a name="l08725"></a><span class="lineno"> 8725</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08726"></a><span class="lineno"> 8726</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab889ef52800725d18fe15b28763a9a75">MiSessionInsertImage</a> (</div>
<div class="line"><a name="l08727"></a><span class="lineno"> 8727</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress</div>
<div class="line"><a name="l08728"></a><span class="lineno"> 8728</span>&#160;    );</div>
<div class="line"><a name="l08729"></a><span class="lineno"> 8729</span>&#160;</div>
<div class="line"><a name="l08730"></a><span class="lineno"> 8730</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08731"></a><span class="lineno"> 8731</span>&#160;<a class="code" href="../../d9/dce/a02519.html#abadc273a7f955cad3d221ecfe056f746">MiSessionCommitPageTables</a> (</div>
<div class="line"><a name="l08732"></a><span class="lineno"> 8732</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> StartVa,</div>
<div class="line"><a name="l08733"></a><span class="lineno"> 8733</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> EndVa</div>
<div class="line"><a name="l08734"></a><span class="lineno"> 8734</span>&#160;    );</div>
<div class="line"><a name="l08735"></a><span class="lineno"> 8735</span>&#160;</div>
<div class="line"><a name="l08736"></a><span class="lineno"> 8736</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08737"></a><span class="lineno"> 8737</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a78a173ad98572402a9849fcdfb685869">MiInitializeAndChargePfn</a> (</div>
<div class="line"><a name="l08738"></a><span class="lineno"> 8738</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../df/d0e/a02195.html#a90161b777082de0a1042e4ccec5cc90a">PPFN_NUMBER</a> PageFrameIndex,</div>
<div class="line"><a name="l08739"></a><span class="lineno"> 8739</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPde,</div>
<div class="line"><a name="l08740"></a><span class="lineno"> 8740</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> ContainingPageFrame,</div>
<div class="line"><a name="l08741"></a><span class="lineno"> 8741</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> SessionAllocation</div>
<div class="line"><a name="l08742"></a><span class="lineno"> 8742</span>&#160;    );</div>
<div class="line"><a name="l08743"></a><span class="lineno"> 8743</span>&#160;</div>
<div class="line"><a name="l08744"></a><span class="lineno"> 8744</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08745"></a><span class="lineno"> 8745</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a2dd392d2253b32a6203359cb82145c8a">MiSessionPageTableRelease</a> (</div>
<div class="line"><a name="l08746"></a><span class="lineno"> 8746</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a> PageFrameIndex</div>
<div class="line"><a name="l08747"></a><span class="lineno"> 8747</span>&#160;    );</div>
<div class="line"><a name="l08748"></a><span class="lineno"> 8748</span>&#160;</div>
<div class="line"><a name="l08749"></a><span class="lineno"> 8749</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08750"></a><span class="lineno"> 8750</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a106e8184a4e17b81542b9b97f3b05ad0">MiInitializeSessionPool</a> (</div>
<div class="line"><a name="l08751"></a><span class="lineno"> 8751</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08752"></a><span class="lineno"> 8752</span>&#160;    );</div>
<div class="line"><a name="l08753"></a><span class="lineno"> 8753</span>&#160;</div>
<div class="line"><a name="l08754"></a><span class="lineno"> 8754</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08755"></a><span class="lineno"> 8755</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a583dbc91c26cd981808b4ef5dba504db">MiCheckSessionPoolAllocations</a> (</div>
<div class="line"><a name="l08756"></a><span class="lineno"> 8756</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08757"></a><span class="lineno"> 8757</span>&#160;    );</div>
<div class="line"><a name="l08758"></a><span class="lineno"> 8758</span>&#160;</div>
<div class="line"><a name="l08759"></a><span class="lineno"> 8759</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08760"></a><span class="lineno"> 8760</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a42c47662e88b3f33f1c4ed51d0845656">MiFreeSessionPoolBitMaps</a> (</div>
<div class="line"><a name="l08761"></a><span class="lineno"> 8761</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08762"></a><span class="lineno"> 8762</span>&#160;    );</div>
<div class="line"><a name="l08763"></a><span class="lineno"> 8763</span>&#160;</div>
<div class="line"><a name="l08764"></a><span class="lineno"> 8764</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08765"></a><span class="lineno"> 8765</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a684165e10fcf731c6621273cbe32794b">MiDetachSession</a> (</div>
<div class="line"><a name="l08766"></a><span class="lineno"> 8766</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08767"></a><span class="lineno"> 8767</span>&#160;    );</div>
<div class="line"><a name="l08768"></a><span class="lineno"> 8768</span>&#160;</div>
<div class="line"><a name="l08769"></a><span class="lineno"> 8769</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08770"></a><span class="lineno"> 8770</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a16bae93c59029670adf92d58cda862f6">MiAttachSession</a> (</div>
<div class="line"><a name="l08771"></a><span class="lineno"> 8771</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PMM_SESSION_SPACE SessionGlobal</div>
<div class="line"><a name="l08772"></a><span class="lineno"> 8772</span>&#160;    );</div>
<div class="line"><a name="l08773"></a><span class="lineno"> 8773</span>&#160;</div>
<div class="line"><a name="l08774"></a><span class="lineno"> 8774</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08775"></a><span class="lineno"> 8775</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a94acfdb988991ce05807345bb1f6afbd">MiReleaseProcessReferenceToSessionDataPage</a> (</div>
<div class="line"><a name="l08776"></a><span class="lineno"> 8776</span>&#160;    PMM_SESSION_SPACE SessionGlobal</div>
<div class="line"><a name="l08777"></a><span class="lineno"> 8777</span>&#160;    );</div>
<div class="line"><a name="l08778"></a><span class="lineno"> 8778</span>&#160;</div>
<div class="line"><a name="l08779"></a><span class="lineno"> 8779</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#a082588518a1be910573edf5b8340060f">MiHighestUserPte</a>;</div>
<div class="line"><a name="l08780"></a><span class="lineno"> 8780</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d9/dce/a02519.html#afcd002ed456bc654f5b170f61b7a10d0">MiHighestUserPde</a>;</div>
<div class="line"><a name="l08781"></a><span class="lineno"> 8781</span>&#160;<span class="preprocessor">#if (_MI_PAGING_LEVELS &gt;= 4)</span></div>
<div class="line"><a name="l08782"></a><span class="lineno"> 8782</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> MiHighestUserPpe;</div>
<div class="line"><a name="l08783"></a><span class="lineno"> 8783</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> MiHighestUserPxe;</div>
<div class="line"><a name="l08784"></a><span class="lineno"> 8784</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l08785"></a><span class="lineno"> 8785</span>&#160;</div>
<div class="line"><a name="l08786"></a><span class="lineno"> 8786</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08787"></a><span class="lineno"> 8787</span>&#160;<a class="code" href="../../d9/dce/a02519.html#abf10115054377c0da8ec93db0bf6d90a">MiEmptyWorkingSet</a> (</div>
<div class="line"><a name="l08788"></a><span class="lineno"> 8788</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../d3/d7b/a00986.html">PMMSUPPORT</a> WsInfo,</div>
<div class="line"><a name="l08789"></a><span class="lineno"> 8789</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> NeedLock</div>
<div class="line"><a name="l08790"></a><span class="lineno"> 8790</span>&#160;    );</div>
<div class="line"><a name="l08791"></a><span class="lineno"> 8791</span>&#160;</div>
<div class="line"><a name="l08792"></a><span class="lineno"> 8792</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l08793"></a><span class="lineno"> 8793</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l08794"></a><span class="lineno"> 8794</span>&#160;<span class="comment">// MiGetPdeSessionIndex (</span></div>
<div class="line"><a name="l08795"></a><span class="lineno"> 8795</span>&#160;<span class="comment">//    IN PVOID va</span></div>
<div class="line"><a name="l08796"></a><span class="lineno"> 8796</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l08797"></a><span class="lineno"> 8797</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08798"></a><span class="lineno"> 8798</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l08799"></a><span class="lineno"> 8799</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08800"></a><span class="lineno"> 8800</span>&#160;<span class="comment">//    MiGetPdeSessionIndex returns the session structure index for the PDE</span></div>
<div class="line"><a name="l08801"></a><span class="lineno"> 8801</span>&#160;<span class="comment">//    will (or does) map the given virtual address.</span></div>
<div class="line"><a name="l08802"></a><span class="lineno"> 8802</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08803"></a><span class="lineno"> 8803</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l08804"></a><span class="lineno"> 8804</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08805"></a><span class="lineno"> 8805</span>&#160;<span class="comment">//    Va - Supplies the virtual address to locate the PDE index for.</span></div>
<div class="line"><a name="l08806"></a><span class="lineno"> 8806</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08807"></a><span class="lineno"> 8807</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l08808"></a><span class="lineno"> 8808</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08809"></a><span class="lineno"> 8809</span>&#160;<span class="comment">//    The index of the PDE entry.</span></div>
<div class="line"><a name="l08810"></a><span class="lineno"> 8810</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08811"></a><span class="lineno"> 8811</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l08812"></a><span class="lineno"> 8812</span>&#160;</div>
<div class="line"><a name="l08813"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1db6257c09335f5ecb8861edd1396eda"> 8813</a></span>&#160;<span class="preprocessor">#define MiGetPdeSessionIndex(va)  ((ULONG)(((ULONG_PTR)(va) - (ULONG_PTR)MmSessionBase) &gt;&gt; PDI_SHIFT))</span></div>
<div class="line"><a name="l08814"></a><span class="lineno"> 8814</span>&#160;</div>
<div class="line"><a name="l08815"></a><span class="lineno"> 8815</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08816"></a><span class="lineno"> 8816</span>&#160;<span class="comment">// Session space contains the image loader and tracker, virtual</span></div>
<div class="line"><a name="l08817"></a><span class="lineno"> 8817</span>&#160;<span class="comment">// address allocator, paged pool allocator, system view image mappings,</span></div>
<div class="line"><a name="l08818"></a><span class="lineno"> 8818</span>&#160;<span class="comment">// and working set for kernel mode virtual addresses that are instanced</span></div>
<div class="line"><a name="l08819"></a><span class="lineno"> 8819</span>&#160;<span class="comment">// for groups of processes in a Session process group. This</span></div>
<div class="line"><a name="l08820"></a><span class="lineno"> 8820</span>&#160;<span class="comment">// process group is identified by a SessionId.</span></div>
<div class="line"><a name="l08821"></a><span class="lineno"> 8821</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08822"></a><span class="lineno"> 8822</span>&#160;<span class="comment">// Each Session process group&#39;s loaded kernel modules, paged pool</span></div>
<div class="line"><a name="l08823"></a><span class="lineno"> 8823</span>&#160;<span class="comment">// allocations, working set, and mapped system views are separate from</span></div>
<div class="line"><a name="l08824"></a><span class="lineno"> 8824</span>&#160;<span class="comment">// other Session process groups, even though they have the same</span></div>
<div class="line"><a name="l08825"></a><span class="lineno"> 8825</span>&#160;<span class="comment">// virtual addresses.</span></div>
<div class="line"><a name="l08826"></a><span class="lineno"> 8826</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08827"></a><span class="lineno"> 8827</span>&#160;<span class="comment">// This is to support the Hydra multi-user Windows NT system by</span></div>
<div class="line"><a name="l08828"></a><span class="lineno"> 8828</span>&#160;<span class="comment">// replicating WIN32K.SYS, and its complement of video and printer drivers,</span></div>
<div class="line"><a name="l08829"></a><span class="lineno"> 8829</span>&#160;<span class="comment">// desktop heaps, memory allocations, etc.</span></div>
<div class="line"><a name="l08830"></a><span class="lineno"> 8830</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08831"></a><span class="lineno"> 8831</span>&#160;</div>
<div class="line"><a name="l08832"></a><span class="lineno"> 8832</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08833"></a><span class="lineno"> 8833</span>&#160;<span class="comment">// Structure linked into a session space structure to describe</span></div>
<div class="line"><a name="l08834"></a><span class="lineno"> 8834</span>&#160;<span class="comment">// which system images in PsLoadedModuleTable and</span></div>
<div class="line"><a name="l08835"></a><span class="lineno"> 8835</span>&#160;<span class="comment">// SESSION_DRIVER_GLOBAL_LOAD_ADDRESS&#39;s</span></div>
<div class="line"><a name="l08836"></a><span class="lineno"> 8836</span>&#160;<span class="comment">// have been allocated for the current session space.</span></div>
<div class="line"><a name="l08837"></a><span class="lineno"> 8837</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08838"></a><span class="lineno"> 8838</span>&#160;<span class="comment">// The reference count tracks the number of loads of this image within</span></div>
<div class="line"><a name="l08839"></a><span class="lineno"> 8839</span>&#160;<span class="comment">// this session.</span></div>
<div class="line"><a name="l08840"></a><span class="lineno"> 8840</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l08841"></a><span class="lineno"> 8841</span>&#160;</div>
<div class="line"><a name="l08842"></a><span class="lineno"><a class="line" href="../../db/d7c/a01614.html"> 8842</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../db/d7c/a01614.html">_SESSION_GLOBAL_SUBSECTION_INFO</a> {</div>
<div class="line"><a name="l08843"></a><span class="lineno"><a class="line" href="../../db/d7c/a01614.html#ad76dbbf50c55095b85cb564136b76a8e"> 8843</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../db/d7c/a01614.html#ad76dbbf50c55095b85cb564136b76a8e">PteIndex</a>;</div>
<div class="line"><a name="l08844"></a><span class="lineno"><a class="line" href="../../db/d7c/a01614.html#ada94cfcfef3ed31dd73ae13a478b3ab1"> 8844</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../db/d7c/a01614.html#ada94cfcfef3ed31dd73ae13a478b3ab1">PteCount</a>;</div>
<div class="line"><a name="l08845"></a><span class="lineno"><a class="line" href="../../db/d7c/a01614.html#ab7051c4379b8d33490102a0d538bef23"> 8845</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../db/d7c/a01614.html#ab7051c4379b8d33490102a0d538bef23">Protection</a>;</div>
<div class="line"><a name="l08846"></a><span class="lineno"> 8846</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a08918508dbbf7bfc54146d0d1cbaa37b">SESSION_GLOBAL_SUBSECTION_INFO</a>, *<a class="code" href="../../d9/dce/a02519.html#a2f7f3c2fb7893d46ec1c82152e08c5d4">PSESSION_GLOBAL_SUBSECTION_INFO</a>;</div>
<div class="line"><a name="l08847"></a><span class="lineno"> 8847</span>&#160;</div>
<div class="line"><a name="l08848"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html"> 8848</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d6a/a00619.html">_IMAGE_ENTRY_IN_SESSION</a> {</div>
<div class="line"><a name="l08849"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#a0c475acfab86d55b0237ef6672a26969"> 8849</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d6/d6a/a00619.html#a0c475acfab86d55b0237ef6672a26969">Link</a>;</div>
<div class="line"><a name="l08850"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#aa8b6cdcf0e68c4e382cba5a96bb858a0"> 8850</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d6/d6a/a00619.html#aa8b6cdcf0e68c4e382cba5a96bb858a0">Address</a>;</div>
<div class="line"><a name="l08851"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#a6d0de372bd7db550215a82ceac1c648f"> 8851</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../d6/d6a/a00619.html#a6d0de372bd7db550215a82ceac1c648f">LastAddress</a>;</div>
<div class="line"><a name="l08852"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#a178083777551623cf3599ae3633a6eb1"> 8852</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d6/d6a/a00619.html#a178083777551623cf3599ae3633a6eb1">ImageCountInThisSession</a>;</div>
<div class="line"><a name="l08853"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#acb7c2c72c51c7d4a1a993c566b71d728"> 8853</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> <a class="code" href="../../d6/d6a/a00619.html#acb7c2c72c51c7d4a1a993c566b71d728">ImageLoading</a>;  <span class="comment">// Mods to this field protected by system load mutant</span></div>
<div class="line"><a name="l08854"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#af11e5759a31b4b1603a02a46d6485f50"> 8854</a></span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> <a class="code" href="../../d6/d6a/a00619.html#af11e5759a31b4b1603a02a46d6485f50">PrototypePtes</a>;</div>
<div class="line"><a name="l08855"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#acf9ce3ddd41302fd32da07e65d4d7cf0"> 8855</a></span>&#160;    <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a> <a class="code" href="../../d6/d6a/a00619.html#acf9ce3ddd41302fd32da07e65d4d7cf0">DataTableEntry</a>;</div>
<div class="line"><a name="l08856"></a><span class="lineno"><a class="line" href="../../d6/d6a/a00619.html#a077df2986b83e13c0135441798feac26"> 8856</a></span>&#160;    PSESSION_GLOBAL_SUBSECTION_INFO <a class="code" href="../../d6/d6a/a00619.html#a077df2986b83e13c0135441798feac26">GlobalSubs</a>;</div>
<div class="line"><a name="l08857"></a><span class="lineno"> 8857</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a5131dc33d34397027b2c0b9fa2867193">IMAGE_ENTRY_IN_SESSION</a>, *<a class="code" href="../../d9/dce/a02519.html#a4ae0b3279fdf548d8c64988b9d729da5">PIMAGE_ENTRY_IN_SESSION</a>;</div>
<div class="line"><a name="l08858"></a><span class="lineno"> 8858</span>&#160;</div>
<div class="line"><a name="l08859"></a><span class="lineno"> 8859</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#aeaa9eb86bbf4d3f51d8fe67a71cbf0ed">MiSessionWsList</a>;</div>
<div class="line"><a name="l08860"></a><span class="lineno"> 8860</span>&#160;</div>
<div class="line"><a name="l08861"></a><span class="lineno"> 8861</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08862"></a><span class="lineno"> 8862</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div>
<div class="line"><a name="l08863"></a><span class="lineno"> 8863</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a5a333dbc3f5f70bdb17d0b5cfe49e73a">MiCheckPdeForSessionSpace</a>(</div>
<div class="line"><a name="l08864"></a><span class="lineno"> 8864</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div>
<div class="line"><a name="l08865"></a><span class="lineno"> 8865</span>&#160;    );</div>
<div class="line"><a name="l08866"></a><span class="lineno"> 8866</span>&#160;</div>
<div class="line"><a name="l08867"></a><span class="lineno"> 8867</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08868"></a><span class="lineno"> 8868</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a607eba2b78bb2a8023ad387872a69292">MiShareSessionImage</a> (</div>
<div class="line"><a name="l08869"></a><span class="lineno"> 8869</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress,</div>
<div class="line"><a name="l08870"></a><span class="lineno"> 8870</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSECTION Section</div>
<div class="line"><a name="l08871"></a><span class="lineno"> 8871</span>&#160;    );</div>
<div class="line"><a name="l08872"></a><span class="lineno"> 8872</span>&#160;</div>
<div class="line"><a name="l08873"></a><span class="lineno"> 8873</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08874"></a><span class="lineno"> 8874</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ab4e8adc8b73df40038309d546e27703f">MiSessionWideInitializeAddresses</a> (</div>
<div class="line"><a name="l08875"></a><span class="lineno"> 8875</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08876"></a><span class="lineno"> 8876</span>&#160;    );</div>
<div class="line"><a name="l08877"></a><span class="lineno"> 8877</span>&#160;</div>
<div class="line"><a name="l08878"></a><span class="lineno"> 8878</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08879"></a><span class="lineno"> 8879</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a313afee0aa52c7d04faf510fa9bb461c">MiSessionWideReserveImageAddress</a> (</div>
<div class="line"><a name="l08880"></a><span class="lineno"> 8880</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSECTION Section,</div>
<div class="line"><a name="l08881"></a><span class="lineno"> 8881</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> *AssignedAddress,</div>
<div class="line"><a name="l08882"></a><span class="lineno"> 8882</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> PSECTION *NewSectionPointer</div>
<div class="line"><a name="l08883"></a><span class="lineno"> 8883</span>&#160;    );</div>
<div class="line"><a name="l08884"></a><span class="lineno"> 8884</span>&#160;</div>
<div class="line"><a name="l08885"></a><span class="lineno"> 8885</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08886"></a><span class="lineno"> 8886</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa1046f4555cbf38623886c6f9c6e391f">MiInitializeSessionIds</a> (</div>
<div class="line"><a name="l08887"></a><span class="lineno"> 8887</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08888"></a><span class="lineno"> 8888</span>&#160;    );</div>
<div class="line"><a name="l08889"></a><span class="lineno"> 8889</span>&#160;</div>
<div class="line"><a name="l08890"></a><span class="lineno"> 8890</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08891"></a><span class="lineno"> 8891</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aaaac509f8cd78b1649424ee1e6a5695a">MiInitializeSessionWsSupport</a>(</div>
<div class="line"><a name="l08892"></a><span class="lineno"> 8892</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08893"></a><span class="lineno"> 8893</span>&#160;    );</div>
<div class="line"><a name="l08894"></a><span class="lineno"> 8894</span>&#160;</div>
<div class="line"><a name="l08895"></a><span class="lineno"> 8895</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08896"></a><span class="lineno"> 8896</span>&#160;<a class="code" href="../../d9/dce/a02519.html#af1290f0f4f785e9df2840ba911ae68c5">MiSessionAddProcess</a> (</div>
<div class="line"><a name="l08897"></a><span class="lineno"> 8897</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> NewProcess</div>
<div class="line"><a name="l08898"></a><span class="lineno"> 8898</span>&#160;    );</div>
<div class="line"><a name="l08899"></a><span class="lineno"> 8899</span>&#160;</div>
<div class="line"><a name="l08900"></a><span class="lineno"> 8900</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08901"></a><span class="lineno"> 8901</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad4bee42f4a211de4069d3624ad1ffc11">MiSessionRemoveProcess</a> (</div>
<div class="line"><a name="l08902"></a><span class="lineno"> 8902</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08903"></a><span class="lineno"> 8903</span>&#160;    );</div>
<div class="line"><a name="l08904"></a><span class="lineno"> 8904</span>&#160;</div>
<div class="line"><a name="l08905"></a><span class="lineno"> 8905</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08906"></a><span class="lineno"> 8906</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a17c46c793494f98bd1dab217cd55dcbf">MiRemoveImageSessionWide</a> (</div>
<div class="line"><a name="l08907"></a><span class="lineno"> 8907</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a> DataTableEntry <a class="code" href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a>,</div>
<div class="line"><a name="l08908"></a><span class="lineno"> 8908</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress,</div>
<div class="line"><a name="l08909"></a><span class="lineno"> 8909</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a> <a class="code" href="../../d5/ddd/a02184.html#a46c1fda1daa0351fcd9ee85bb6c1fa6d">NumberOfBytes</a></div>
<div class="line"><a name="l08910"></a><span class="lineno"> 8910</span>&#160;    );</div>
<div class="line"><a name="l08911"></a><span class="lineno"> 8911</span>&#160;</div>
<div class="line"><a name="l08912"></a><span class="lineno"> 8912</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08913"></a><span class="lineno"> 8913</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a19b069758aba29af00bed066d0af5cdd">MiDeleteSessionVirtualAddresses</a>(</div>
<div class="line"><a name="l08914"></a><span class="lineno"> 8914</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> <a class="code" href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a>,</div>
<div class="line"><a name="l08915"></a><span class="lineno"> 8915</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> <a class="code" href="../../d5/ddd/a02184.html#a46c1fda1daa0351fcd9ee85bb6c1fa6d">NumberOfBytes</a></div>
<div class="line"><a name="l08916"></a><span class="lineno"> 8916</span>&#160;    );</div>
<div class="line"><a name="l08917"></a><span class="lineno"> 8917</span>&#160;</div>
<div class="line"><a name="l08918"></a><span class="lineno"> 8918</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08919"></a><span class="lineno"> 8919</span>&#160;<a class="code" href="../../d9/dce/a02519.html#ad9be4da47b3e4fd0cb26c115d5befad1">MiUnloadSessionImageByForce</a> (</div>
<div class="line"><a name="l08920"></a><span class="lineno"> 8920</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a> NumberOfPtes,</div>
<div class="line"><a name="l08921"></a><span class="lineno"> 8921</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> ImageBase</div>
<div class="line"><a name="l08922"></a><span class="lineno"> 8922</span>&#160;    );</div>
<div class="line"><a name="l08923"></a><span class="lineno"> 8923</span>&#160;</div>
<div class="line"><a name="l08924"></a><span class="lineno"> 8924</span>&#160;PIMAGE_ENTRY_IN_SESSION</div>
<div class="line"><a name="l08925"></a><span class="lineno"> 8925</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a68a211971d2f192b9ee91767594ebc53">MiSessionLookupImage</a> (</div>
<div class="line"><a name="l08926"></a><span class="lineno"> 8926</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a> BaseAddress</div>
<div class="line"><a name="l08927"></a><span class="lineno"> 8927</span>&#160;    );</div>
<div class="line"><a name="l08928"></a><span class="lineno"> 8928</span>&#160;</div>
<div class="line"><a name="l08929"></a><span class="lineno"> 8929</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08930"></a><span class="lineno"> 8930</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a26db551a45d49ff12c11c1a852e2f920">MiSessionUnloadAllImages</a> (</div>
<div class="line"><a name="l08931"></a><span class="lineno"> 8931</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08932"></a><span class="lineno"> 8932</span>&#160;    );</div>
<div class="line"><a name="l08933"></a><span class="lineno"> 8933</span>&#160;</div>
<div class="line"><a name="l08934"></a><span class="lineno"> 8934</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08935"></a><span class="lineno"> 8935</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a720cce063e51a54b88f3ce2453f9419a">MiFreeSessionSpaceMap</a> (</div>
<div class="line"><a name="l08936"></a><span class="lineno"> 8936</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08937"></a><span class="lineno"> 8937</span>&#160;    );</div>
<div class="line"><a name="l08938"></a><span class="lineno"> 8938</span>&#160;</div>
<div class="line"><a name="l08939"></a><span class="lineno"> 8939</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div>
<div class="line"><a name="l08940"></a><span class="lineno"> 8940</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a9943def982387e67c0528dbb38b428ec">MiSessionInitializeWorkingSetList</a> (</div>
<div class="line"><a name="l08941"></a><span class="lineno"> 8941</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08942"></a><span class="lineno"> 8942</span>&#160;    );</div>
<div class="line"><a name="l08943"></a><span class="lineno"> 8943</span>&#160;</div>
<div class="line"><a name="l08944"></a><span class="lineno"> 8944</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08945"></a><span class="lineno"> 8945</span>&#160;<a class="code" href="../../d9/dce/a02519.html#aa14e7b8a0530dc58aeb11769a83737fd">MiSessionUnlinkWorkingSet</a> (</div>
<div class="line"><a name="l08946"></a><span class="lineno"> 8946</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08947"></a><span class="lineno"> 8947</span>&#160;    );</div>
<div class="line"><a name="l08948"></a><span class="lineno"> 8948</span>&#160;</div>
<div class="line"><a name="l08949"></a><span class="lineno"> 8949</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08950"></a><span class="lineno"> 8950</span>&#160;<a class="code" href="../../d9/dce/a02519.html#a060a3f4e950a48171a327e1afe28282b">MiSessionOutSwapProcess</a> (</div>
<div class="line"><a name="l08951"></a><span class="lineno"> 8951</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process</div>
<div class="line"><a name="l08952"></a><span class="lineno"> 8952</span>&#160;    );</div>
<div class="line"><a name="l08953"></a><span class="lineno"> 8953</span>&#160;</div>
<div class="line"><a name="l08954"></a><span class="lineno"> 8954</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l08955"></a><span class="lineno"> 8955</span>&#160;<a class="code" href="../../d9/dce/a02519.html#abc04d38bd71acb08ef04a55bc1e3ee42">MiSessionInSwapProcess</a> (</div>
<div class="line"><a name="l08956"></a><span class="lineno"> 8956</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/db5/a00365.html">PEPROCESS</a> Process,</div>
<div class="line"><a name="l08957"></a><span class="lineno"> 8957</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a> Forced</div>
<div class="line"><a name="l08958"></a><span class="lineno"> 8958</span>&#160;    );</div>
<div class="line"><a name="l08959"></a><span class="lineno"> 8959</span>&#160;</div>
<div class="line"><a name="l08960"></a><span class="lineno"> 8960</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a></div>
<div class="line"><a name="l08961"></a><span class="lineno"> 8961</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l08962"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7e6e308d6a38dcca2931657d36cfdaf4"> 8962</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a7e6e308d6a38dcca2931657d36cfdaf4">MiCompareTbFlushTimeStamp</a> (</div>
<div class="line"><a name="l08963"></a><span class="lineno"> 8963</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> OldStamp,</div>
<div class="line"><a name="l08964"></a><span class="lineno"> 8964</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Mask</div>
<div class="line"><a name="l08965"></a><span class="lineno"> 8965</span>&#160;    )</div>
<div class="line"><a name="l08966"></a><span class="lineno"> 8966</span>&#160;{</div>
<div class="line"><a name="l08967"></a><span class="lineno"> 8967</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> NewStamp;</div>
<div class="line"><a name="l08968"></a><span class="lineno"> 8968</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Diff;</div>
<div class="line"><a name="l08969"></a><span class="lineno"> 8969</span>&#160;</div>
<div class="line"><a name="l08970"></a><span class="lineno"> 8970</span>&#160;    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><a name="l08971"></a><span class="lineno"> 8971</span>&#160;</div>
<div class="line"><a name="l08972"></a><span class="lineno"> 8972</span>&#160;        NewStamp = <a class="code" href="../../dc/d43/a02205.html#a652c3aea8df026001af73c0ee51304da">KeReadTbFlushTimeStamp</a> ();</div>
<div class="line"><a name="l08973"></a><span class="lineno"> 8973</span>&#160;        Diff = ((NewStamp - OldStamp) &amp; Mask);</div>
<div class="line"><a name="l08974"></a><span class="lineno"> 8974</span>&#160;</div>
<div class="line"><a name="l08975"></a><span class="lineno"> 8975</span>&#160;<span class="preprocessor">#if defined(NT_UP)</span></div>
<div class="line"><a name="l08976"></a><span class="lineno"> 8976</span>&#160;</div>
<div class="line"><a name="l08977"></a><span class="lineno"> 8977</span>&#160;        <span class="keywordflow">if</span> (Diff != 0) {</div>
<div class="line"><a name="l08978"></a><span class="lineno"> 8978</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l08979"></a><span class="lineno"> 8979</span>&#160;        }</div>
<div class="line"><a name="l08980"></a><span class="lineno"> 8980</span>&#160;</div>
<div class="line"><a name="l08981"></a><span class="lineno"> 8981</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l08982"></a><span class="lineno"> 8982</span>&#160;</div>
<div class="line"><a name="l08983"></a><span class="lineno"> 8983</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l08984"></a><span class="lineno"> 8984</span>&#160;        <span class="comment">// If they are more than two apart it doesn&#39;t matter - a flush has</span></div>
<div class="line"><a name="l08985"></a><span class="lineno"> 8985</span>&#160;        <span class="comment">// occurred.</span></div>
<div class="line"><a name="l08986"></a><span class="lineno"> 8986</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l08987"></a><span class="lineno"> 8987</span>&#160;</div>
<div class="line"><a name="l08988"></a><span class="lineno"> 8988</span>&#160;        <span class="keywordflow">if</span> (Diff &gt; 2) {</div>
<div class="line"><a name="l08989"></a><span class="lineno"> 8989</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l08990"></a><span class="lineno"> 8990</span>&#160;        }</div>
<div class="line"><a name="l08991"></a><span class="lineno"> 8991</span>&#160;</div>
<div class="line"><a name="l08992"></a><span class="lineno"> 8992</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l08993"></a><span class="lineno"> 8993</span>&#160;        <span class="comment">// If we captured the original stamp when unlocked then we</span></div>
<div class="line"><a name="l08994"></a><span class="lineno"> 8994</span>&#160;        <span class="comment">// only need the lock and unlock to have occurred.</span></div>
<div class="line"><a name="l08995"></a><span class="lineno"> 8995</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l08996"></a><span class="lineno"> 8996</span>&#160;</div>
<div class="line"><a name="l08997"></a><span class="lineno"> 8997</span>&#160;        <span class="keywordflow">if</span> (((OldStamp &amp; 1) == 0) &amp;&amp; (Diff &gt;= 2)) {</div>
<div class="line"><a name="l08998"></a><span class="lineno"> 8998</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l08999"></a><span class="lineno"> 8999</span>&#160;        }</div>
<div class="line"><a name="l09000"></a><span class="lineno"> 9000</span>&#160;</div>
<div class="line"><a name="l09001"></a><span class="lineno"> 9001</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l09002"></a><span class="lineno"> 9002</span>&#160;        <span class="comment">// If the timestamp is currently locked then just wait</span></div>
<div class="line"><a name="l09003"></a><span class="lineno"> 9003</span>&#160;        <span class="comment">// until it&#39;s unlocked.</span></div>
<div class="line"><a name="l09004"></a><span class="lineno"> 9004</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l09005"></a><span class="lineno"> 9005</span>&#160;</div>
<div class="line"><a name="l09006"></a><span class="lineno"> 9006</span>&#160;        <span class="keywordflow">if</span> (NewStamp &amp; 1) {</div>
<div class="line"><a name="l09007"></a><span class="lineno"> 9007</span>&#160;            <a class="code" href="../../dc/d43/a02205.html#a708d16f1b2af937d9222b388fe6716e3">KeLoopTbFlushTimeStampUnlocked</a> ();</div>
<div class="line"><a name="l09008"></a><span class="lineno"> 9008</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l09009"></a><span class="lineno"> 9009</span>&#160;        }</div>
<div class="line"><a name="l09010"></a><span class="lineno"> 9010</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09011"></a><span class="lineno"> 9011</span>&#160;</div>
<div class="line"><a name="l09012"></a><span class="lineno"> 9012</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l09013"></a><span class="lineno"> 9013</span>&#160;        <span class="comment">// Tell the caller to flush.</span></div>
<div class="line"><a name="l09014"></a><span class="lineno"> 9014</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l09015"></a><span class="lineno"> 9015</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l09016"></a><span class="lineno"> 9016</span>&#160;    }</div>
<div class="line"><a name="l09017"></a><span class="lineno"> 9017</span>&#160;}</div>
<div class="line"><a name="l09018"></a><span class="lineno"> 9018</span>&#160;</div>
<div class="line"><a name="l09019"></a><span class="lineno"> 9019</span>&#160;</div>
<div class="line"><a name="l09020"></a><span class="lineno"> 9020</span>&#160;</div>
<div class="line"><a name="l09021"></a><span class="lineno"> 9021</span>&#160;<span class="preprocessor">#if !defined (_X86PAE_)</span></div>
<div class="line"><a name="l09022"></a><span class="lineno"> 9022</span>&#160;</div>
<div class="line"><a name="l09023"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ae969620031efa78ec9b4661b8f51d27f"> 9023</a></span>&#160;<span class="preprocessor">#define MI_GET_DIRECTORY_FRAME_FROM_PROCESS(_Process) \</span></div>
<div class="line"><a name="l09024"></a><span class="lineno"> 9024</span>&#160;<span class="preprocessor">        MI_GET_PAGE_FRAME_FROM_PTE((PMMPTE)(&amp;((_Process)-&gt;Pcb.DirectoryTableBase[0])))</span></div>
<div class="line"><a name="l09025"></a><span class="lineno"> 9025</span>&#160;</div>
<div class="line"><a name="l09026"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a7a148de15b92ab7b984acf8516c02263"> 9026</a></span>&#160;<span class="preprocessor">#define MI_GET_HYPER_PAGE_TABLE_FRAME_FROM_PROCESS(_Process) \</span></div>
<div class="line"><a name="l09027"></a><span class="lineno"> 9027</span>&#160;<span class="preprocessor">        MI_GET_PAGE_FRAME_FROM_PTE((PMMPTE)(&amp;((_Process)-&gt;Pcb.DirectoryTableBase[1])))</span></div>
<div class="line"><a name="l09028"></a><span class="lineno"> 9028</span>&#160;</div>
<div class="line"><a name="l09029"></a><span class="lineno"> 9029</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l09030"></a><span class="lineno"> 9030</span>&#160;</div>
<div class="line"><a name="l09031"></a><span class="lineno"> 9031</span>&#160;<span class="preprocessor">#define MI_GET_DIRECTORY_FRAME_FROM_PROCESS(_Process) \</span></div>
<div class="line"><a name="l09032"></a><span class="lineno"> 9032</span>&#160;<span class="preprocessor">        (MI_GET_PAGE_FRAME_FROM_PTE(((PMMPTE)((_Process)-&gt;PaeTop)) + PD_PER_SYSTEM - 1))</span></div>
<div class="line"><a name="l09033"></a><span class="lineno"> 9033</span>&#160;</div>
<div class="line"><a name="l09034"></a><span class="lineno"> 9034</span>&#160;<span class="preprocessor">#define MI_GET_HYPER_PAGE_TABLE_FRAME_FROM_PROCESS(_Process) \</span></div>
<div class="line"><a name="l09035"></a><span class="lineno"> 9035</span>&#160;<span class="preprocessor">        ((PFN_NUMBER)((_Process)-&gt;Pcb.DirectoryTableBase[1]))</span></div>
<div class="line"><a name="l09036"></a><span class="lineno"> 9036</span>&#160;</div>
<div class="line"><a name="l09037"></a><span class="lineno"> 9037</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09038"></a><span class="lineno"> 9038</span>&#160;</div>
<div class="line"><a name="l09039"></a><span class="lineno"> 9039</span>&#160;</div>
<div class="line"><a name="l09040"></a><span class="lineno"> 9040</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09041"></a><span class="lineno"> 9041</span>&#160;<span class="comment">// The LDR_DATA_TABLE_ENTRY-&gt;LoadedImports is used as a list of imported DLLs.</span></div>
<div class="line"><a name="l09042"></a><span class="lineno"> 9042</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09043"></a><span class="lineno"> 9043</span>&#160;<span class="comment">// This field is zero if the module was loaded at boot time and the</span></div>
<div class="line"><a name="l09044"></a><span class="lineno"> 9044</span>&#160;<span class="comment">// import information was never filled in.</span></div>
<div class="line"><a name="l09045"></a><span class="lineno"> 9045</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09046"></a><span class="lineno"> 9046</span>&#160;<span class="comment">// This field is -1 if no imports are defined by the module.</span></div>
<div class="line"><a name="l09047"></a><span class="lineno"> 9047</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09048"></a><span class="lineno"> 9048</span>&#160;<span class="comment">// This field contains a valid paged pool PLDR_DATA_TABLE_ENTRY pointer</span></div>
<div class="line"><a name="l09049"></a><span class="lineno"> 9049</span>&#160;<span class="comment">// with a low-order (bit 0) tag of 1 if there is only 1 usable import needed</span></div>
<div class="line"><a name="l09050"></a><span class="lineno"> 9050</span>&#160;<span class="comment">// by this driver.</span></div>
<div class="line"><a name="l09051"></a><span class="lineno"> 9051</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09052"></a><span class="lineno"> 9052</span>&#160;<span class="comment">// This field will contain a valid paged pool PLOAD_IMPORTS pointer in all</span></div>
<div class="line"><a name="l09053"></a><span class="lineno"> 9053</span>&#160;<span class="comment">// other cases (ie: where at least 2 imports exist).</span></div>
<div class="line"><a name="l09054"></a><span class="lineno"> 9054</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09055"></a><span class="lineno"> 9055</span>&#160;</div>
<div class="line"><a name="l09056"></a><span class="lineno"><a class="line" href="../../dc/d22/a00843.html"> 9056</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dc/d22/a00843.html">_LOAD_IMPORTS</a> {</div>
<div class="line"><a name="l09057"></a><span class="lineno"><a class="line" href="../../dc/d22/a00843.html#aac9092cf43b964f4d9ad98abc53ee268"> 9057</a></span>&#160;    <a class="code" href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a>                  <a class="code" href="../../dc/d22/a00843.html#aac9092cf43b964f4d9ad98abc53ee268">Count</a>;</div>
<div class="line"><a name="l09058"></a><span class="lineno"><a class="line" href="../../dc/d22/a00843.html#adc094d7a9eafaa1bec20653aa56cab52"> 9058</a></span>&#160;    <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a>   <a class="code" href="../../dc/d22/a00843.html#adc094d7a9eafaa1bec20653aa56cab52">Entry</a>[1];</div>
<div class="line"><a name="l09059"></a><span class="lineno"> 9059</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a4f4db17fab8bd963f110530f80215a78">LOAD_IMPORTS</a>, *<a class="code" href="../../d9/dce/a02519.html#aff95ced342a830d1041da063f8da0604">PLOAD_IMPORTS</a>;</div>
<div class="line"><a name="l09060"></a><span class="lineno"> 9060</span>&#160;</div>
<div class="line"><a name="l09061"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad5563231b08a1baf8201df9ff3d871e7"> 9061</a></span>&#160;<span class="preprocessor">#define LOADED_AT_BOOT  ((PLOAD_IMPORTS)0)</span></div>
<div class="line"><a name="l09062"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad38b682ce9f633098a7722982acd0fc9"> 9062</a></span>&#160;<span class="preprocessor">#define NO_IMPORTS_USED ((PLOAD_IMPORTS)-2)</span></div>
<div class="line"><a name="l09063"></a><span class="lineno"> 9063</span>&#160;</div>
<div class="line"><a name="l09064"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ac78ee7fc0395c1a1ba9c0b4451274c53"> 9064</a></span>&#160;<span class="preprocessor">#define SINGLE_ENTRY(ImportVoid)    ((ULONG)((ULONG_PTR)(ImportVoid) &amp; 0x1))</span></div>
<div class="line"><a name="l09065"></a><span class="lineno"> 9065</span>&#160;</div>
<div class="line"><a name="l09066"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad61e1c3234b13ac742db8aa323fcdb5c"> 9066</a></span>&#160;<span class="preprocessor">#define SINGLE_ENTRY_TO_POINTER(ImportVoid)    ((PKLDR_DATA_TABLE_ENTRY)((ULONG_PTR)(ImportVoid) &amp; ~0x1))</span></div>
<div class="line"><a name="l09067"></a><span class="lineno"> 9067</span>&#160;</div>
<div class="line"><a name="l09068"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab8a55f5892c4c3ce0429c3982eb389d3"> 9068</a></span>&#160;<span class="preprocessor">#define POINTER_TO_SINGLE_ENTRY(Pointer)    ((PKLDR_DATA_TABLE_ENTRY)((ULONG_PTR)(Pointer) | 0x1))</span></div>
<div class="line"><a name="l09069"></a><span class="lineno"> 9069</span>&#160;</div>
<div class="line"><a name="l09070"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a8b5a7cef4a15fb22debf33bcc3d97b7a"> 9070</a></span>&#160;<span class="preprocessor">#define MI_ASSERT_NOT_SESSION_DATA(PTE)</span></div>
<div class="line"><a name="l09071"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a780ed457cef421e5df75ca7790df33eb"> 9071</a></span>&#160;<span class="preprocessor">#define MI_LOG_SESSION_DATA_START(DataTableEntry)</span></div>
<div class="line"><a name="l09072"></a><span class="lineno"> 9072</span>&#160;</div>
<div class="line"><a name="l09073"></a><span class="lineno"> 9073</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09074"></a><span class="lineno"> 9074</span>&#160;<span class="comment">// This tracks driver-specified individual verifier thunks.</span></div>
<div class="line"><a name="l09075"></a><span class="lineno"> 9075</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09076"></a><span class="lineno"> 9076</span>&#160;</div>
<div class="line"><a name="l09077"></a><span class="lineno"><a class="line" href="../../d0/d01/a00339.html"> 9077</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d01/a00339.html">_DRIVER_SPECIFIED_VERIFIER_THUNKS</a> {</div>
<div class="line"><a name="l09078"></a><span class="lineno"><a class="line" href="../../d0/d01/a00339.html#aae813de3e75f2e25ed28dffbff36d717"> 9078</a></span>&#160;    <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d0/d01/a00339.html#aae813de3e75f2e25ed28dffbff36d717">ListEntry</a>;</div>
<div class="line"><a name="l09079"></a><span class="lineno"><a class="line" href="../../d0/d01/a00339.html#a10e2591eea087b405f32e544345bf1ca"> 9079</a></span>&#160;    <a class="code" href="../../de/d42/a00780.html">PKLDR_DATA_TABLE_ENTRY</a> <a class="code" href="../../d0/d01/a00339.html#a10e2591eea087b405f32e544345bf1ca">DataTableEntry</a>;</div>
<div class="line"><a name="l09080"></a><span class="lineno"><a class="line" href="../../d0/d01/a00339.html#a06e68b45d2ee0f487adc19f5b3574526"> 9080</a></span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d0/d01/a00339.html#a06e68b45d2ee0f487adc19f5b3574526">NumberOfThunks</a>;</div>
<div class="line"><a name="l09081"></a><span class="lineno"> 9081</span>&#160;} <a class="code" href="../../d9/dce/a02519.html#a9ff9ae7cac47ff2905cbbc1568580c93">DRIVER_SPECIFIED_VERIFIER_THUNKS</a>, *<a class="code" href="../../d9/dce/a02519.html#aba19966c6889f3a13475c87a9ecff2f0">PDRIVER_SPECIFIED_VERIFIER_THUNKS</a>;</div>
<div class="line"><a name="l09082"></a><span class="lineno"> 9082</span>&#160;</div>
<div class="line"><a name="l09083"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ab380519e0f6ee6dd197f2984d44f4fff"> 9083</a></span>&#160;<span class="preprocessor">#define MI_SNAP_SUB(_Sub, callerid)</span></div>
<div class="line"><a name="l09084"></a><span class="lineno"> 9084</span>&#160;</div>
<div class="line"><a name="l09085"></a><span class="lineno"> 9085</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09086"></a><span class="lineno"> 9086</span>&#160;<span class="comment">//  Hot-patching private definitions</span></div>
<div class="line"><a name="l09087"></a><span class="lineno"> 9087</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09088"></a><span class="lineno"> 9088</span>&#160;</div>
<div class="line"><a name="l09089"></a><span class="lineno"> 9089</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../d0/d11/a00842.html">LIST_ENTRY</a> <a class="code" href="../../d9/dce/a02519.html#a229da08dc8cea3aa2ba0e94a7d06d699">MiHotPatchList</a>;</div>
<div class="line"><a name="l09090"></a><span class="lineno"> 9090</span>&#160;</div>
<div class="line"><a name="l09091"></a><span class="lineno"> 9091</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09092"></a><span class="lineno"> 9092</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09093"></a><span class="lineno"> 9093</span>&#160;</div>
<div class="line"><a name="l09094"></a><span class="lineno"> 9094</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#af3c314e41c3e8398831e05f5c6a23223">MiFlushTbForAttributeChange</a>;</div>
<div class="line"><a name="l09095"></a><span class="lineno"> 9095</span>&#160;<span class="keyword">extern</span> <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> <a class="code" href="../../d9/dce/a02519.html#ae23464cf2e5e46b6d7da13a927039424">MiFlushCacheForAttributeChange</a>;</div>
<div class="line"><a name="l09096"></a><span class="lineno"> 9096</span>&#160;</div>
<div class="line"><a name="l09097"></a><span class="lineno"> 9097</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l09098"></a><span class="lineno"> 9098</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l09099"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a274b3c8e2996ccb84acffcaf6bb83f16"> 9099</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#a274b3c8e2996ccb84acffcaf6bb83f16">MI_PTE_LOG_ACCESS</a> (</div>
<div class="line"><a name="l09100"></a><span class="lineno"> 9100</span>&#160;    <a class="code" href="../../d0/daf/a00970.html">PMMPTE</a> PointerPte</div>
<div class="line"><a name="l09101"></a><span class="lineno"> 9101</span>&#160;    )</div>
<div class="line"><a name="l09102"></a><span class="lineno"> 9102</span>&#160;</div>
<div class="line"><a name="l09103"></a><span class="lineno"> 9103</span>&#160;<span class="comment">/*++</span></div>
<div class="line"><a name="l09104"></a><span class="lineno"> 9104</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09105"></a><span class="lineno"> 9105</span>&#160;<span class="comment">Routine Desctiption:</span></div>
<div class="line"><a name="l09106"></a><span class="lineno"> 9106</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09107"></a><span class="lineno"> 9107</span>&#160;<span class="comment">    This function is called to log a virtual address that has been accessed.</span></div>
<div class="line"><a name="l09108"></a><span class="lineno"> 9108</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09109"></a><span class="lineno"> 9109</span>&#160;<span class="comment">Arguments:</span></div>
<div class="line"><a name="l09110"></a><span class="lineno"> 9110</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09111"></a><span class="lineno"> 9111</span>&#160;<span class="comment">    PointerPte - Supplies a pointer to the still-valid PTE.</span></div>
<div class="line"><a name="l09112"></a><span class="lineno"> 9112</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09113"></a><span class="lineno"> 9113</span>&#160;<span class="comment">Return Value:</span></div>
<div class="line"><a name="l09114"></a><span class="lineno"> 9114</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09115"></a><span class="lineno"> 9115</span>&#160;<span class="comment">    None.</span></div>
<div class="line"><a name="l09116"></a><span class="lineno"> 9116</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09117"></a><span class="lineno"> 9117</span>&#160;<span class="comment">Environment:</span></div>
<div class="line"><a name="l09118"></a><span class="lineno"> 9118</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09119"></a><span class="lineno"> 9119</span>&#160;<span class="comment">    Kernel Mode.  IRQL &lt; DISPATCH_LEVEL.</span></div>
<div class="line"><a name="l09120"></a><span class="lineno"> 9120</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09121"></a><span class="lineno"> 9121</span>&#160;<span class="comment">    Working set pushlock held shared or exclusive, APCs disabled.</span></div>
<div class="line"><a name="l09122"></a><span class="lineno"> 9122</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l09123"></a><span class="lineno"> 9123</span>&#160;<span class="comment">--*/</span></div>
<div class="line"><a name="l09124"></a><span class="lineno"> 9124</span>&#160;{</div>
<div class="line"><a name="l09125"></a><span class="lineno"> 9125</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#ab8caf1706fee9e06b2937fec2fb3d6ed">UNREFERENCED_PARAMETER</a> (PointerPte);</div>
<div class="line"><a name="l09126"></a><span class="lineno"> 9126</span>&#160;</div>
<div class="line"><a name="l09127"></a><span class="lineno"> 9127</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l09128"></a><span class="lineno"> 9128</span>&#160;}</div>
<div class="line"><a name="l09129"></a><span class="lineno"> 9129</span>&#160;</div>
<div class="line"><a name="l09130"></a><span class="lineno"> 9130</span>&#160;<a class="code" href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div>
<div class="line"><a name="l09131"></a><span class="lineno"> 9131</span>&#160;<a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div>
<div class="line"><a name="l09132"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#abed308a5e34c0ab880464abd07dd51c3"> 9132</a></span>&#160;<a class="code" href="../../d9/dce/a02519.html#abed308a5e34c0ab880464abd07dd51c3">MmGetNodeColor</a> (</div>
<div class="line"><a name="l09133"></a><span class="lineno"> 9133</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div>
<div class="line"><a name="l09134"></a><span class="lineno"> 9134</span>&#160;    )</div>
<div class="line"><a name="l09135"></a><span class="lineno"> 9135</span>&#160;{</div>
<div class="line"><a name="l09136"></a><span class="lineno"> 9136</span>&#160;    <a class="code" href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a> Color;</div>
<div class="line"><a name="l09137"></a><span class="lineno"> 9137</span>&#160;</div>
<div class="line"><a name="l09138"></a><span class="lineno"> 9138</span>&#160;<span class="preprocessor">#if !defined(NT_UP)</span></div>
<div class="line"><a name="l09139"></a><span class="lineno"> 9139</span>&#160;</div>
<div class="line"><a name="l09140"></a><span class="lineno"> 9140</span>&#160;    <a class="code" href="../../d4/dd7/a00793.html">PKPRCB</a> Prcb;</div>
<div class="line"><a name="l09141"></a><span class="lineno"> 9141</span>&#160;</div>
<div class="line"><a name="l09142"></a><span class="lineno"> 9142</span>&#160;    Prcb = <a class="code" href="../../df/d0e/a02195.html#ada51bbd776d759e6e40d7c5a30688230">KeGetCurrentPrcb</a> ();</div>
<div class="line"><a name="l09143"></a><span class="lineno"> 9143</span>&#160;</div>
<div class="line"><a name="l09144"></a><span class="lineno"> 9144</span>&#160;    Prcb-&gt;<a class="code" href="../../d4/dd7/a00793.html#a5ac6eebdde1829cd0db489a48145890c">PageColor</a> += 1;</div>
<div class="line"><a name="l09145"></a><span class="lineno"> 9145</span>&#160;</div>
<div class="line"><a name="l09146"></a><span class="lineno"> 9146</span>&#160;    Color = Prcb-&gt;<a class="code" href="../../d4/dd7/a00793.html#a5ac6eebdde1829cd0db489a48145890c">PageColor</a>;</div>
<div class="line"><a name="l09147"></a><span class="lineno"> 9147</span>&#160;</div>
<div class="line"><a name="l09148"></a><span class="lineno"> 9148</span>&#160;    Color &amp;= Prcb-&gt;<a class="code" href="../../d4/dd7/a00793.html#ab9838d1ff23ca98da547b47efa9ea17d">SecondaryColorMask</a>;</div>
<div class="line"><a name="l09149"></a><span class="lineno"> 9149</span>&#160;</div>
<div class="line"><a name="l09150"></a><span class="lineno"> 9150</span>&#160;    Color |= Prcb-&gt;<a class="code" href="../../d4/dd7/a00793.html#adc408b610c85d42d063e691b37177c39">NodeShiftedColor</a>;</div>
<div class="line"><a name="l09151"></a><span class="lineno"> 9151</span>&#160;</div>
<div class="line"><a name="l09152"></a><span class="lineno"> 9152</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l09153"></a><span class="lineno"> 9153</span>&#160;</div>
<div class="line"><a name="l09154"></a><span class="lineno"> 9154</span>&#160;    <a class="code" href="../../d9/dce/a02519.html#af2f97b5e0c814566ec4f06fdb8daf71a">MmSystemPageColor</a> += 1;</div>
<div class="line"><a name="l09155"></a><span class="lineno"> 9155</span>&#160;</div>
<div class="line"><a name="l09156"></a><span class="lineno"> 9156</span>&#160;    Color = <a class="code" href="../../d9/dce/a02519.html#af2f97b5e0c814566ec4f06fdb8daf71a">MmSystemPageColor</a>;</div>
<div class="line"><a name="l09157"></a><span class="lineno"> 9157</span>&#160;</div>
<div class="line"><a name="l09158"></a><span class="lineno"> 9158</span>&#160;    Color &amp;= <a class="code" href="../../dd/d31/a02215.html#a30df91b6843ad4b1d76b3c84d4786fbc">MmSecondaryColorMask</a>;</div>
<div class="line"><a name="l09159"></a><span class="lineno"> 9159</span>&#160;</div>
<div class="line"><a name="l09160"></a><span class="lineno"> 9160</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l09161"></a><span class="lineno"> 9161</span>&#160;</div>
<div class="line"><a name="l09162"></a><span class="lineno"> 9162</span>&#160;    <span class="keywordflow">return</span> Color;</div>
<div class="line"><a name="l09163"></a><span class="lineno"> 9163</span>&#160;}</div>
<div class="line"><a name="l09164"></a><span class="lineno"> 9164</span>&#160;</div>
<div class="line"><a name="l09165"></a><span class="lineno"> 9165</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l09166"></a><span class="lineno"> 9166</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l09167"></a><span class="lineno"> 9167</span>&#160;<span class="comment">// MI_GET_PAGE_COLOR_FROM_PTE (</span></div>
<div class="line"><a name="l09168"></a><span class="lineno"> 9168</span>&#160;<span class="comment">//    IN PMMPTE PTEADDRESS</span></div>
<div class="line"><a name="l09169"></a><span class="lineno"> 9169</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l09170"></a><span class="lineno"> 9170</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09171"></a><span class="lineno"> 9171</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l09172"></a><span class="lineno"> 9172</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09173"></a><span class="lineno"> 9173</span>&#160;<span class="comment">//    This macro determines the pages color based on the PTE address</span></div>
<div class="line"><a name="l09174"></a><span class="lineno"> 9174</span>&#160;<span class="comment">//    that maps the page.</span></div>
<div class="line"><a name="l09175"></a><span class="lineno"> 9175</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09176"></a><span class="lineno"> 9176</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l09177"></a><span class="lineno"> 9177</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09178"></a><span class="lineno"> 9178</span>&#160;<span class="comment">//    PTEADDRESS - Supplies the PTE address the page is (or was) mapped at.</span></div>
<div class="line"><a name="l09179"></a><span class="lineno"> 9179</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09180"></a><span class="lineno"> 9180</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l09181"></a><span class="lineno"> 9181</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09182"></a><span class="lineno"> 9182</span>&#160;<span class="comment">//    The page&#39;s color.</span></div>
<div class="line"><a name="l09183"></a><span class="lineno"> 9183</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09184"></a><span class="lineno"> 9184</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l09185"></a><span class="lineno"> 9185</span>&#160;</div>
<div class="line"><a name="l09186"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a3bbfaed42d13f4f9bbe1efc236e09a5a"> 9186</a></span>&#160;<span class="preprocessor">#define MI_GET_PAGE_COLOR_FROM_PTE(PTEADDRESS)  MmGetNodeColor()</span></div>
<div class="line"><a name="l09187"></a><span class="lineno"> 9187</span>&#160;</div>
<div class="line"><a name="l09188"></a><span class="lineno"> 9188</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l09189"></a><span class="lineno"> 9189</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l09190"></a><span class="lineno"> 9190</span>&#160;<span class="comment">// MI_GET_PAGE_COLOR_FROM_VA (</span></div>
<div class="line"><a name="l09191"></a><span class="lineno"> 9191</span>&#160;<span class="comment">//    IN PVOID ADDRESS</span></div>
<div class="line"><a name="l09192"></a><span class="lineno"> 9192</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l09193"></a><span class="lineno"> 9193</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09194"></a><span class="lineno"> 9194</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l09195"></a><span class="lineno"> 9195</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09196"></a><span class="lineno"> 9196</span>&#160;<span class="comment">//    This macro determines the pages color based on the PTE address</span></div>
<div class="line"><a name="l09197"></a><span class="lineno"> 9197</span>&#160;<span class="comment">//    that maps the page.</span></div>
<div class="line"><a name="l09198"></a><span class="lineno"> 9198</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09199"></a><span class="lineno"> 9199</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l09200"></a><span class="lineno"> 9200</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09201"></a><span class="lineno"> 9201</span>&#160;<span class="comment">//    ADDRESS - Supplies the address the page is (or was) mapped at.</span></div>
<div class="line"><a name="l09202"></a><span class="lineno"> 9202</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09203"></a><span class="lineno"> 9203</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l09204"></a><span class="lineno"> 9204</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09205"></a><span class="lineno"> 9205</span>&#160;<span class="comment">//    The page&#39;s color.</span></div>
<div class="line"><a name="l09206"></a><span class="lineno"> 9206</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09207"></a><span class="lineno"> 9207</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l09208"></a><span class="lineno"> 9208</span>&#160;</div>
<div class="line"><a name="l09209"></a><span class="lineno"> 9209</span>&#160;</div>
<div class="line"><a name="l09210"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a39f5f1934c0fd6851f4db0653ea32c9a"> 9210</a></span>&#160;<span class="preprocessor">#define MI_GET_PAGE_COLOR_FROM_VA(ADDRESS)  MI_GET_PAGE_COLOR_FROM_PTE(ADDRESS)</span></div>
<div class="line"><a name="l09211"></a><span class="lineno"> 9211</span>&#160;</div>
<div class="line"><a name="l09212"></a><span class="lineno"> 9212</span>&#160;</div>
<div class="line"><a name="l09213"></a><span class="lineno"> 9213</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l09214"></a><span class="lineno"> 9214</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l09215"></a><span class="lineno"> 9215</span>&#160;<span class="comment">// MI_GET_PAGE_COLOR_FROM_SESSION (</span></div>
<div class="line"><a name="l09216"></a><span class="lineno"> 9216</span>&#160;<span class="comment">//    IN PMM_SESSION_SPACE SessionSpace</span></div>
<div class="line"><a name="l09217"></a><span class="lineno"> 9217</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l09218"></a><span class="lineno"> 9218</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09219"></a><span class="lineno"> 9219</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l09220"></a><span class="lineno"> 9220</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09221"></a><span class="lineno"> 9221</span>&#160;<span class="comment">//    This macro determines the page&#39;s color based on the PTE address</span></div>
<div class="line"><a name="l09222"></a><span class="lineno"> 9222</span>&#160;<span class="comment">//    that maps the page.</span></div>
<div class="line"><a name="l09223"></a><span class="lineno"> 9223</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09224"></a><span class="lineno"> 9224</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l09225"></a><span class="lineno"> 9225</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09226"></a><span class="lineno"> 9226</span>&#160;<span class="comment">//    SessionSpace - Supplies the session space the page will be mapped into.</span></div>
<div class="line"><a name="l09227"></a><span class="lineno"> 9227</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09228"></a><span class="lineno"> 9228</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l09229"></a><span class="lineno"> 9229</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09230"></a><span class="lineno"> 9230</span>&#160;<span class="comment">//    The page&#39;s color.</span></div>
<div class="line"><a name="l09231"></a><span class="lineno"> 9231</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09232"></a><span class="lineno"> 9232</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l09233"></a><span class="lineno"> 9233</span>&#160;</div>
<div class="line"><a name="l09234"></a><span class="lineno"> 9234</span>&#160;</div>
<div class="line"><a name="l09235"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a1a514fb7e73e4c5a50c2eb7d5aeebf50"> 9235</a></span>&#160;<span class="preprocessor">#define MI_GET_PAGE_COLOR_FROM_SESSION(_SessionSpace)  \</span></div>
<div class="line"><a name="l09236"></a><span class="lineno"> 9236</span>&#160;<span class="preprocessor">         (((ULONG)((++_SessionSpace-&gt;Color) &amp; MmSecondaryColorMask)) | MI_CURRENT_NODE_COLOR)</span></div>
<div class="line"><a name="l09237"></a><span class="lineno"> 9237</span>&#160;</div>
<div class="line"><a name="l09238"></a><span class="lineno"> 9238</span>&#160;</div>
<div class="line"><a name="l09239"></a><span class="lineno"> 9239</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l09240"></a><span class="lineno"> 9240</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l09241"></a><span class="lineno"> 9241</span>&#160;<span class="comment">// MI_PAGE_COLOR_PTE_PROCESS (</span></div>
<div class="line"><a name="l09242"></a><span class="lineno"> 9242</span>&#160;<span class="comment">//    IN PMMPTE PTE,</span></div>
<div class="line"><a name="l09243"></a><span class="lineno"> 9243</span>&#160;<span class="comment">//    IN PUSHORT COLOR</span></div>
<div class="line"><a name="l09244"></a><span class="lineno"> 9244</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l09245"></a><span class="lineno"> 9245</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09246"></a><span class="lineno"> 9246</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l09247"></a><span class="lineno"> 9247</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09248"></a><span class="lineno"> 9248</span>&#160;<span class="comment">//    Select page color for this process.</span></div>
<div class="line"><a name="l09249"></a><span class="lineno"> 9249</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09250"></a><span class="lineno"> 9250</span>&#160;<span class="comment">// Arguments</span></div>
<div class="line"><a name="l09251"></a><span class="lineno"> 9251</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09252"></a><span class="lineno"> 9252</span>&#160;<span class="comment">//   PTE    Not used.</span></div>
<div class="line"><a name="l09253"></a><span class="lineno"> 9253</span>&#160;<span class="comment">//   COLOR  Value from which color is determined.   This</span></div>
<div class="line"><a name="l09254"></a><span class="lineno"> 9254</span>&#160;<span class="comment">//          variable is incremented.</span></div>
<div class="line"><a name="l09255"></a><span class="lineno"> 9255</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09256"></a><span class="lineno"> 9256</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l09257"></a><span class="lineno"> 9257</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09258"></a><span class="lineno"> 9258</span>&#160;<span class="comment">//    The page&#39;s color.</span></div>
<div class="line"><a name="l09259"></a><span class="lineno"> 9259</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09260"></a><span class="lineno"> 9260</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l09261"></a><span class="lineno"> 9261</span>&#160;</div>
<div class="line"><a name="l09262"></a><span class="lineno"> 9262</span>&#160;</div>
<div class="line"><a name="l09263"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#a31ec1db087de5ccb6b2a92641d540fcd"> 9263</a></span>&#160;<span class="preprocessor">#define MI_PAGE_COLOR_PTE_PROCESS(PTE,COLOR)  \</span></div>
<div class="line"><a name="l09264"></a><span class="lineno"> 9264</span>&#160;<span class="preprocessor">         (((ULONG)(++(*(COLOR))) &amp; MmSecondaryColorMask) | MI_CURRENT_NODE_COLOR)</span></div>
<div class="line"><a name="l09265"></a><span class="lineno"> 9265</span>&#160;</div>
<div class="line"><a name="l09266"></a><span class="lineno"> 9266</span>&#160;<span class="comment">//++</span></div>
<div class="line"><a name="l09267"></a><span class="lineno"> 9267</span>&#160;<span class="comment">// ULONG</span></div>
<div class="line"><a name="l09268"></a><span class="lineno"> 9268</span>&#160;<span class="comment">// MI_PAGE_COLOR_VA_PROCESS (</span></div>
<div class="line"><a name="l09269"></a><span class="lineno"> 9269</span>&#160;<span class="comment">//    IN PVOID ADDRESS,</span></div>
<div class="line"><a name="l09270"></a><span class="lineno"> 9270</span>&#160;<span class="comment">//    IN PEPROCESS COLOR</span></div>
<div class="line"><a name="l09271"></a><span class="lineno"> 9271</span>&#160;<span class="comment">//    );</span></div>
<div class="line"><a name="l09272"></a><span class="lineno"> 9272</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09273"></a><span class="lineno"> 9273</span>&#160;<span class="comment">// Routine Description:</span></div>
<div class="line"><a name="l09274"></a><span class="lineno"> 9274</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09275"></a><span class="lineno"> 9275</span>&#160;<span class="comment">//    This macro determines the pages color based on the PTE address</span></div>
<div class="line"><a name="l09276"></a><span class="lineno"> 9276</span>&#160;<span class="comment">//    that maps the page.</span></div>
<div class="line"><a name="l09277"></a><span class="lineno"> 9277</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09278"></a><span class="lineno"> 9278</span>&#160;<span class="comment">// Arguments:</span></div>
<div class="line"><a name="l09279"></a><span class="lineno"> 9279</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09280"></a><span class="lineno"> 9280</span>&#160;<span class="comment">//    ADDRESS - Supplies the address the page is (or was) mapped at.</span></div>
<div class="line"><a name="l09281"></a><span class="lineno"> 9281</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09282"></a><span class="lineno"> 9282</span>&#160;<span class="comment">// Return Value:</span></div>
<div class="line"><a name="l09283"></a><span class="lineno"> 9283</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09284"></a><span class="lineno"> 9284</span>&#160;<span class="comment">//    The pages color.</span></div>
<div class="line"><a name="l09285"></a><span class="lineno"> 9285</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l09286"></a><span class="lineno"> 9286</span>&#160;<span class="comment">//--</span></div>
<div class="line"><a name="l09287"></a><span class="lineno"> 9287</span>&#160;</div>
<div class="line"><a name="l09288"></a><span class="lineno"><a class="line" href="../../d9/dce/a02519.html#ad1c4bd3945109a49b016dede1e32c4da"> 9288</a></span>&#160;<span class="preprocessor">#define MI_PAGE_COLOR_VA_PROCESS(ADDRESS,COLOR) \</span></div>
<div class="line"><a name="l09289"></a><span class="lineno"> 9289</span>&#160;<span class="preprocessor">         (((ULONG)(++(*(COLOR))) &amp; MmSecondaryColorMask) | MI_CURRENT_NODE_COLOR)</span></div>
<div class="line"><a name="l09290"></a><span class="lineno"> 9290</span>&#160;</div>
<div class="line"><a name="l09291"></a><span class="lineno"> 9291</span>&#160;<span class="preprocessor">#endif  // MI</span></div>
<div class="line"><a name="l09292"></a><span class="lineno"> 9292</span>&#160;</div>
<div class="ttc" id="a01594_html_a22cf0be4c473ad1bfbac6275c0412761"><div class="ttname"><a href="../../dc/def/a01594.html#a22cf0be4c473ad1bfbac6275c0412761">_SEGMENT::ImageCommitment</a></div><div class="ttdeci">SIZE_T ImageCommitment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03476">mi.h:3476</a></div></div>
<div class="ttc" id="a00922_html_a91c30aa28cacc53c53be398bbcfa4cd9"><div class="ttname"><a href="../../dd/dcf/a00922.html#a91c30aa28cacc53c53be398bbcfa4cd9">_MI_FREED_SPECIAL_POOL::OverlaidVerifierPoolHeader</a></div><div class="ttdeci">MI_VERIFIER_POOL_HEADER OverlaidVerifierPoolHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07201">mi.h:7201</a></div></div>
<div class="ttc" id="a02519_html_a825d16e529f02f160608e1c0635efd5f"><div class="ttname"><a href="../../d9/dce/a02519.html#a825d16e529f02f160608e1c0635efd5f">MiContractPagingFiles</a></div><div class="ttdeci">VOID MiContractPagingFiles(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l01781">modwrite.c:1781</a></div></div>
<div class="ttc" id="a02519_html_a96e1123dd94c9eb76731624af8fd96a5"><div class="ttname"><a href="../../d9/dce/a02519.html#a96e1123dd94c9eb76731624af8fd96a5">PMI_PFN_CACHE_ATTRIBUTE</a></div><div class="ttdeci">enum _MI_PFN_CACHE_ATTRIBUTE * PMI_PFN_CACHE_ATTRIBUTE</div></div>
<div class="ttc" id="a00998_html_af21de8a491632b161eadda7284d92918"><div class="ttname"><a href="../../d9/d9a/a00998.html#af21de8a491632b161eadda7284d92918">_MMWSLE_FLUSH_LIST::Count</a></div><div class="ttdeci">ULONG Count</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04340">mi.h:4340</a></div></div>
<div class="ttc" id="a00988_html_afce2d19b388eee856fc2e4c27828a530"><div class="ttname"><a href="../../d6/d48/a00988.html#afce2d19b388eee856fc2e4c27828a530">_MMVAD::FirstPrototypePte</a></div><div class="ttdeci">PMMPTE FirstPrototypePte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03991">mi.h:3991</a></div></div>
<div class="ttc" id="a00964_html_ab31296aa45ac7f874841da813088697f"><div class="ttname"><a href="../../da/d17/a00964.html#ab31296aa45ac7f874841da813088697f">_MMPFN::Priority</a></div><div class="ttdeci">ULONG_PTR Priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01771">mi.h:1771</a></div></div>
<div class="ttc" id="a02294_html"><div class="ttname"><a href="../../dd/dae/a02294.html">string.h</a></div></div>
<div class="ttc" id="a02519_html_af5fcbf214b73ad9a0b0a7f18ff154edb"><div class="ttname"><a href="../../d9/dce/a02519.html#af5fcbf214b73ad9a0b0a7f18ff154edb">MiUnlockPagedAddress</a></div><div class="ttdeci">VOID FASTCALL MiUnlockPagedAddress(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00794">mmsup.c:794</a></div></div>
<div class="ttc" id="a00983_html_a8a9c0ccdcbeec4150965cae130906ff3"><div class="ttname"><a href="../../d7/d98/a00983.html#a8a9c0ccdcbeec4150965cae130906ff3">_MMSESSION::SystemSpaceViewStart</a></div><div class="ttdeci">PCHAR SystemSpaceViewStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04308">mi.h:4308</a></div></div>
<div class="ttc" id="a02519_html_a02f368115c864cd6ea4785cd30703a30"><div class="ttname"><a href="../../d9/dce/a02519.html#a02f368115c864cd6ea4785cd30703a30">MmUnusedSegmentList</a></div><div class="ttdeci">LIST_ENTRY MmUnusedSegmentList</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00395">miglobal.c:395</a></div></div>
<div class="ttc" id="a02519_html_aea2f29084b6d771c5074fdbe736bbc60"><div class="ttname"><a href="../../d9/dce/a02519.html#aea2f29084b6d771c5074fdbe736bbc60">MiInitializeNonPagedPool</a></div><div class="ttdeci">VOID MiInitializeNonPagedPool(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03400">allocpag.c:3400</a></div></div>
<div class="ttc" id="a02519_html_a656e484de0946b5f0fc7e413b0e0debb"><div class="ttname"><a href="../../d9/dce/a02519.html#a656e484de0946b5f0fc7e413b0e0debb">MiPfnThreshold</a></div><div class="ttdeci">LARGE_INTEGER MiPfnThreshold</div></div>
<div class="ttc" id="a01000_html_a1845c4b77bc47233b20561bea91c6d86"><div class="ttname"><a href="../../d7/df2/a01000.html#a1845c4b77bc47233b20561bea91c6d86">_MMWSLENTRY::Direct</a></div><div class="ttdeci">ULONG_PTR Direct</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02977">mi.h:2977</a></div></div>
<div class="ttc" id="a02519_html_a09dd82c6296436365b6b5a7914b784f9"><div class="ttname"><a href="../../d9/dce/a02519.html#a09dd82c6296436365b6b5a7914b784f9">MmWorkingSetList</a></div><div class="ttdeci">PMMWSL MmWorkingSetList</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dbd/a02507_source.html#l00126">data386.c:126</a></div></div>
<div class="ttc" id="a00936_html"><div class="ttname"><a href="../../dc/d2b/a00936.html">_MM_DRIVER_VERIFIER_DATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07113">mi.h:7113</a></div></div>
<div class="ttc" id="a02519_html_a135052462807c8dcaef8ef91fcf7ea06"><div class="ttname"><a href="../../d9/dce/a02519.html#a135052462807c8dcaef8ef91fcf7ea06">MmSectionBasedMutex</a></div><div class="ttdeci">KGUARDED_MUTEX MmSectionBasedMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00378">miglobal.c:378</a></div></div>
<div class="ttc" id="a02519_html_a9fd77a3a7b05ee865c524d2572a4feb6"><div class="ttname"><a href="../../d9/dce/a02519.html#a9fd77a3a7b05ee865c524d2572a4feb6">MmHighSectionBase</a></div><div class="ttdeci">PVOID MmHighSectionBase</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00360">miglobal.c:360</a></div></div>
<div class="ttc" id="a00936_html_a151d89b4e2d95bb45a0e14a88753e603"><div class="ttname"><a href="../../dc/d2b/a00936.html#a151d89b4e2d95bb45a0e14a88753e603">_MM_DRIVER_VERIFIER_DATA::CurrentPagedPoolAllocations</a></div><div class="ttdeci">ULONG CurrentPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07134">mi.h:7134</a></div></div>
<div class="ttc" id="a00996_html_ae75b69d54612d35e59da1de06dfdea14"><div class="ttname"><a href="../../d3/daa/a00996.html#ae75b69d54612d35e59da1de06dfdea14">_MMWSL::LastInitializedWsle</a></div><div class="ttdeci">WSLE_NUMBER LastInitializedWsle</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03015">mi.h:3015</a></div></div>
<div class="ttc" id="a02519_html_ad9e536b77258fce5ebb2ff16203414b1"><div class="ttname"><a href="../../d9/dce/a02519.html#ad9e536b77258fce5ebb2ff16203414b1">MMLOCK_CONFLICT</a></div><div class="ttdeci">struct _MMLOCK_CONFLICT MMLOCK_CONFLICT</div></div>
<div class="ttc" id="a00339_html_a06e68b45d2ee0f487adc19f5b3574526"><div class="ttname"><a href="../../d0/d01/a00339.html#a06e68b45d2ee0f487adc19f5b3574526">_DRIVER_SPECIFIED_VERIFIER_THUNKS::NumberOfThunks</a></div><div class="ttdeci">ULONG NumberOfThunks</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09080">mi.h:9080</a></div></div>
<div class="ttc" id="a00983_html_a8f5c4e498ae7ff7ffbd228044908863b"><div class="ttname"><a href="../../d7/d98/a00983.html#a8f5c4e498ae7ff7ffbd228044908863b">_MMSESSION::SystemSpaceViewTable</a></div><div class="ttdeci">PMMVIEW SystemSpaceViewTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04309">mi.h:4309</a></div></div>
<div class="ttc" id="a01628_html"><div class="ttname"><a href="../../dd/deb/a01628.html">_SLIST_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l00136">ntrtl.h:136</a></div></div>
<div class="ttc" id="a02230_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="../../dd/d67/a02230.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00031">ntdef.h:31</a></div></div>
<div class="ttc" id="a02519_html_a8e14e3bb677c1219c30d854a4e3b0629"><div class="ttname"><a href="../../d9/dce/a02519.html#a8e14e3bb677c1219c30d854a4e3b0629">PMMVAD_SHORT</a></div><div class="ttdeci">struct _MMVAD_SHORT * PMMVAD_SHORT</div></div>
<div class="ttc" id="a02519_html_a1441fee80b1340975dffd2110cfab525"><div class="ttname"><a href="../../d9/dce/a02519.html#a1441fee80b1340975dffd2110cfab525">MiChargeCommitmentCantExpand</a></div><div class="ttdeci">LOGICAL FASTCALL MiChargeCommitmentCantExpand(IN SIZE_T QuotaCharge, IN ULONG MustSucceed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l00267">mmquota.c:267</a></div></div>
<div class="ttc" id="a00933_html_afd7ac49a369a49a8927df10298b6edc3"><div class="ttname"><a href="../../d0/d5b/a00933.html#afd7ac49a369a49a8927df10298b6edc3">_MI_VERIFIER_DRIVER_ENTRY::Flags</a></div><div class="ttdeci">ULONG Flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07091">mi.h:7091</a></div></div>
<div class="ttc" id="a02519_html_a607eba2b78bb2a8023ad387872a69292"><div class="ttname"><a href="../../d9/dce/a02519.html#a607eba2b78bb2a8023ad387872a69292">MiShareSessionImage</a></div><div class="ttdeci">NTSTATUS MiShareSessionImage(IN PVOID BaseAddress, IN PSECTION Section)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l00138">sessload.c:138</a></div></div>
<div class="ttc" id="a02519_html_a912e064f095c98ee70a0e2d2347d40a4"><div class="ttname"><a href="../../d9/dce/a02519.html#a912e064f095c98ee70a0e2d2347d40a4">MmAvailablePagesEvent</a></div><div class="ttdeci">KEVENT MmAvailablePagesEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00199">miglobal.c:199</a></div></div>
<div class="ttc" id="a02519_html_a58483d2ed30cb500f32e5e24c9448772"><div class="ttname"><a href="../../d9/dce/a02519.html#a58483d2ed30cb500f32e5e24c9448772">MmSystemPageDirectory</a></div><div class="ttdeci">ULONG MmSystemPageDirectory[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00214">mminit.c:214</a></div></div>
<div class="ttc" id="a00942_html_a398ccc5343e01fb7288d32c40823f152"><div class="ttname"><a href="../../df/d12/a00942.html#a398ccc5343e01fb7288d32c40823f152">_MM_SESSION_SPACE::PagedPoolStart</a></div><div class="ttdeci">PVOID PagedPoolStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08568">mi.h:8568</a></div></div>
<div class="ttc" id="a00991_html_a9eb12af450b83e3e7f5ddc7fe83b5ef1"><div class="ttname"><a href="../../df/d2f/a00991.html#a9eb12af450b83e3e7f5ddc7fe83b5ef1">_MMVAD_LONG::Balance</a></div><div class="ttdeci">LONG_PTR Balance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04001">mi.h:4001</a></div></div>
<div class="ttc" id="a02519_html_a79253dd1b3d8e4fe2b554e0fce862c5c"><div class="ttname"><a href="../../d9/dce/a02519.html#a79253dd1b3d8e4fe2b554e0fce862c5c">MiGetFirstNode</a></div><div class="ttdeci">PMMADDRESS_NODE FASTCALL MiGetFirstNode(IN PMM_AVL_TABLE Root)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l00410">addrsup.c:410</a></div></div>
<div class="ttc" id="a02519_html_aac9808a4b39bf1ece3f195482db37fe5"><div class="ttname"><a href="../../d9/dce/a02519.html#aac9808a4b39bf1ece3f195482db37fe5">MmMappedFileIoComplete</a></div><div class="ttdeci">KEVENT MmMappedFileIoComplete</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l00117">modwrite.c:117</a></div></div>
<div class="ttc" id="a00895_html_a7fa93d3f7bd3992d7b134ccf53197574"><div class="ttname"><a href="../../d2/d21/a00895.html#a7fa93d3f7bd3992d7b134ccf53197574">_MAPPED_FILE_SEGMENT::NumberOfCommittedPages</a></div><div class="ttdeci">SIZE_T NumberOfCommittedPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03499">mi.h:3499</a></div></div>
<div class="ttc" id="a02519_html_a857e4ea64ee8a0c6e68f7eb5d6afb658"><div class="ttname"><a href="../../d9/dce/a02519.html#a857e4ea64ee8a0c6e68f7eb5d6afb658">MiCheckPdeForPagedPool</a></div><div class="ttdeci">NTSTATUS FASTCALL MiCheckPdeForPagedPool(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l04935">pagfault.c:4935</a></div></div>
<div class="ttc" id="a02519_html_acc84022ecd4f2b705b0a6f6ee65593a1"><div class="ttname"><a href="../../d9/dce/a02519.html#acc84022ecd4f2b705b0a6f6ee65593a1">MiNoLowMemory</a></div><div class="ttdeci">PFN_NUMBER MiNoLowMemory</div></div>
<div class="ttc" id="a01000_html_abebea81d01865c27100fd66d45534113"><div class="ttname"><a href="../../d7/df2/a01000.html#abebea81d01865c27100fd66d45534113">_MMWSLENTRY::LockedInWs</a></div><div class="ttdeci">ULONG_PTR LockedInWs</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02965">mi.h:2965</a></div></div>
<div class="ttc" id="a00850_html_a4e33bf251acf6ea99cfd30999525e088"><div class="ttname"><a href="../../dc/d0a/a00850.html#a4e33bf251acf6ea99cfd30999525e088">_LOCK_TRACKER::Count</a></div><div class="ttdeci">PFN_NUMBER Count</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04348">mi.h:4348</a></div></div>
<div class="ttc" id="a00962_html_a9475c93cf95f88b63db4657d88132edd"><div class="ttname"><a href="../../df/d88/a00962.html#a9475c93cf95f88b63db4657d88132edd">_MMPAGE_FILE_EXPANSION::Event</a></div><div class="ttdeci">KEVENT Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03797">mi.h:3797</a></div></div>
<div class="ttc" id="a02519_html_a8317f43f500cf04a05f4220f3a912709"><div class="ttname"><a href="../../d9/dce/a02519.html#a8317f43f500cf04a05f4220f3a912709">MiDeleteValidSystemPte</a></div><div class="ttdeci">VOID MiDeleteValidSystemPte(IN PMMPTE PointerPte, IN PVOID VirtualAddress, IN PMMSUPPORT WsInfo, IN PMMPTE_FLUSH_LIST PteFlushList OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/a02499_source.html#l01235">deleteva.c:1235</a></div></div>
<div class="ttc" id="a02519_html_aff318d1c159f1ec64334469ec688ada7"><div class="ttname"><a href="../../d9/dce/a02519.html#aff318d1c159f1ec64334469ec688ada7">MmCollidedLockEvent</a></div><div class="ttdeci">KEVENT MmCollidedLockEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00220">iosup.c:220</a></div></div>
<div class="ttc" id="a02519_html_a32746b2ac44183b7bb6f312aa127ec7b"><div class="ttname"><a href="../../d9/dce/a02519.html#a32746b2ac44183b7bb6f312aa127ec7b">MiFlushSectionInternal</a></div><div class="ttdeci">NTSTATUS MiFlushSectionInternal(IN PMMPTE StartingPte, IN PMMPTE FinalPte, IN PSUBSECTION FirstSubsection, IN PSUBSECTION LastSubsection, IN ULONG Flags, OUT PIO_STATUS_BLOCK IoStatus)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5d/a02503_source.html#l01248">flushsec.c:1248</a></div></div>
<div class="ttc" id="a02519_html_a3bbb554c80913a8dc00d6e76a28d9d99"><div class="ttname"><a href="../../d9/dce/a02519.html#a3bbb554c80913a8dc00d6e76a28d9d99">MmIoHeader</a></div><div class="ttdeci">LIST_ENTRY MmIoHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00063">iosup.c:63</a></div></div>
<div class="ttc" id="a02292_html"><div class="ttname"><a href="../../d4/d8c/a02292.html">stdlib.h</a></div></div>
<div class="ttc" id="a02519_html_a70813c939bfa24f5965f3e55cac3edec"><div class="ttname"><a href="../../d9/dce/a02519.html#a70813c939bfa24f5965f3e55cac3edec">MmVerifyDriverBufferLength</a></div><div class="ttdeci">ULONG MmVerifyDriverBufferLength</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00843">miglobal.c:843</a></div></div>
<div class="ttc" id="a00936_html_ae929ba1196b28799d05fe36819ac6966"><div class="ttname"><a href="../../dc/d2b/a00936.html#ae929ba1196b28799d05fe36819ac6966">_MM_DRIVER_VERIFIER_DATA::CurrentNonPagedPoolAllocations</a></div><div class="ttdeci">ULONG CurrentNonPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07135">mi.h:7135</a></div></div>
<div class="ttc" id="a02519_html_aba65d39610d89c3b50cb19cc59afce1e"><div class="ttname"><a href="../../d9/dce/a02519.html#aba65d39610d89c3b50cb19cc59afce1e">MMDEREFERENCE_SEGMENT_HEADER</a></div><div class="ttdeci">struct _MMDEREFERENCE_SEGMENT_HEADER MMDEREFERENCE_SEGMENT_HEADER</div></div>
<div class="ttc" id="a02519_html_ae2393e8c487bab25aec67d99519df651"><div class="ttname"><a href="../../d9/dce/a02519.html#ae2393e8c487bab25aec67d99519df651">ValidPtePte</a></div><div class="ttdeci">const MMPTE ValidPtePte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00053">dataamd.c:53</a></div></div>
<div class="ttc" id="a02519_html_a1733b189327e89134aedf61646e8899d"><div class="ttname"><a href="../../d9/dce/a02519.html#a1733b189327e89134aedf61646e8899d">MiAllocatePfn</a></div><div class="ttdeci">PFN_NUMBER MiAllocatePfn(IN PMMPTE PointerPte, IN ULONG Protection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l02827">pfnlist.c:2827</a></div></div>
<div class="ttc" id="a00946_html_a2ca132754c6f30a090148704997a7ea8"><div class="ttname"><a href="../../da/d40/a00946.html#a2ca132754c6f30a090148704997a7ea8">_MMADDRESS_LIST::EndVpn</a></div><div class="ttdeci">ULONG_PTR EndVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03952">mi.h:3952</a></div></div>
<div class="ttc" id="a02519_html_a2d0cb761434dc1e2a94b68ddd65ccefe"><div class="ttname"><a href="../../d9/dce/a02519.html#a2d0cb761434dc1e2a94b68ddd65ccefe">MmTotalCommitLimit</a></div><div class="ttdeci">SIZE_T MmTotalCommitLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00460">miglobal.c:460</a></div></div>
<div class="ttc" id="a02519_html_a67d743e4765f93673bcadeef58b11643"><div class="ttname"><a href="../../d9/dce/a02519.html#a67d743e4765f93673bcadeef58b11643">MM_LDW_WORK_CONTEXT</a></div><div class="ttdeci">struct _MM_LDW_WORK_CONTEXT MM_LDW_WORK_CONTEXT</div></div>
<div class="ttc" id="a00930_html_abd44d4ff357fbc6a9e2e5850283730a4"><div class="ttname"><a href="../../d7/d16/a00930.html#abd44d4ff357fbc6a9e2e5850283730a4">_MI_PHYSICAL_VIEW::Vad</a></div><div class="ttdeci">PMMVAD Vad</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04057">mi.h:4057</a></div></div>
<div class="ttc" id="a00188_html_a5e937146ad31b6dba6d659cf6d421ef5"><div class="ttname"><a href="../../da/d15/a00188.html#a5e937146ad31b6dba6d659cf6d421ef5">_CONTROL_AREA::QuadwordPad</a></div><div class="ttdeci">ULONG QuadwordPad</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03576">mi.h:3576</a></div></div>
<div class="ttc" id="a02519_html_a8be983d89556b4ab842952b14e3bc838"><div class="ttname"><a href="../../d9/dce/a02519.html#a8be983d89556b4ab842952b14e3bc838">MiEnsureAvailablePageOrWait</a></div><div class="ttdeci">ULONG FASTCALL MiEnsureAvailablePageOrWait(IN PEPROCESS Process, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l01863">pfnlist.c:1863</a></div></div>
<div class="ttc" id="a02519_html_af38161f5555ffe6eb114a17e03f1495b"><div class="ttname"><a href="../../d9/dce/a02519.html#af38161f5555ffe6eb114a17e03f1495b">MmHighMemoryThreshold</a></div><div class="ttdeci">PFN_NUMBER MmHighMemoryThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00114">mminit.c:114</a></div></div>
<div class="ttc" id="a02519_html_a8392082477b7a67fa07f02acd9c9ab55"><div class="ttname"><a href="../../d9/dce/a02519.html#a8392082477b7a67fa07f02acd9c9ab55">MiMapPageInHyperSpaceAtDpc</a></div><div class="ttdeci">PVOID MiMapPageInHyperSpaceAtDpc(IN PEPROCESS Process, IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/a02506_source.html#l00160">hypermap.c:160</a></div></div>
<div class="ttc" id="a00997_html_a696bef9c183b5ce11f12fd5ce99687e2"><div class="ttname"><a href="../../d0/d28/a00997.html#a696bef9c183b5ce11f12fd5ce99687e2">_MMWSLE::Long</a></div><div class="ttdeci">ULONG_PTR Long</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02988">mi.h:2988</a></div></div>
<div class="ttc" id="a02519_html_acecfdcd919c6277bb73d61c135650c43"><div class="ttname"><a href="../../d9/dce/a02519.html#acecfdcd919c6277bb73d61c135650c43">MmHeapSegmentCommit</a></div><div class="ttdeci">SIZE_T MmHeapSegmentCommit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00568">miglobal.c:568</a></div></div>
<div class="ttc" id="a00816_html_a8a598e5b99515f392774dcb4c30f516b"><div class="ttname"><a href="../../d7/d60/a00816.html#a8a598e5b99515f392774dcb4c30f516b">_LARGE_CONTROL_AREA::NumberOfUserReferences</a></div><div class="ttdeci">ULONG NumberOfUserReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03588">mi.h:3588</a></div></div>
<div class="ttc" id="a02519_html_a4a4c99015719034bb434932103c8eabf"><div class="ttname"><a href="../../d9/dce/a02519.html#a4a4c99015719034bb434932103c8eabf">MiIssuePageExtendRequestNoWait</a></div><div class="ttdeci">VOID MiIssuePageExtendRequestNoWait(IN PFN_NUMBER SizeInPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l05170">modwrite.c:5170</a></div></div>
<div class="ttc" id="a02519_html_a6cec504a1698f274405dc7fde751385d"><div class="ttname"><a href="../../d9/dce/a02519.html#a6cec504a1698f274405dc7fde751385d">MmMinimumPageFileReduction</a></div><div class="ttdeci">ULONG MmMinimumPageFileReduction</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00508">miglobal.c:508</a></div></div>
<div class="ttc" id="a00816_html_a14c8e8ab98a8181c1cd1882b2b388af8"><div class="ttname"><a href="../../d7/d60/a00816.html#a14c8e8ab98a8181c1cd1882b2b388af8">_LARGE_CONTROL_AREA::Flags</a></div><div class="ttdeci">MMSECTION_FLAGS Flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03591">mi.h:3591</a></div></div>
<div class="ttc" id="a02519_html_a1ec71864cdb890fcf2a622b19a2955e9"><div class="ttname"><a href="../../d9/dce/a02519.html#a1ec71864cdb890fcf2a622b19a2955e9">MMSESSION</a></div><div class="ttdeci">struct _MMSESSION MMSESSION</div></div>
<div class="ttc" id="a00990_html_afcd173cf36d9fc38e8658605f88c62f1"><div class="ttname"><a href="../../dd/d7a/a00990.html#afcd173cf36d9fc38e8658605f88c62f1">_MMVAD_FLAGS2::CopyOnWrite</a></div><div class="ttdeci">unsigned CopyOnWrite</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03947">mi.h:3947</a></div></div>
<div class="ttc" id="a02519_html_a57e28d46f05b97ddc262d8dafb3319c8"><div class="ttname"><a href="../../d9/dce/a02519.html#a57e28d46f05b97ddc262d8dafb3319c8">PAWEINFO</a></div><div class="ttdeci">struct _AWEINFO * PAWEINFO</div></div>
<div class="ttc" id="a00947_html_a42ffec1da639f36cbe4784b249880f23"><div class="ttname"><a href="../../d3/d29/a00947.html#a42ffec1da639f36cbe4784b249880f23">_MMADDRESS_NODE::RightChild</a></div><div class="ttdeci">struct _MMADDRESS_NODE * RightChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00095">ps.h:95</a></div></div>
<div class="ttc" id="a00958_html_aa1c371b3b4982508f1f4eec9a977c0bc"><div class="ttname"><a href="../../df/d9c/a00958.html#aa1c371b3b4982508f1f4eec9a977c0bc">_MMIO_TRACKER::ListEntry</a></div><div class="ttdeci">LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01963">mi.h:1963</a></div></div>
<div class="ttc" id="a02519_html_af8c0e41e9a17029e5958372d1eb25d71"><div class="ttname"><a href="../../d9/dce/a02519.html#af8c0e41e9a17029e5958372d1eb25d71">MiAllocateLargeZeroPages</a></div><div class="ttdeci">PMI_LARGEPAGE_MEMORY_RUN MiAllocateLargeZeroPages(IN PFN_NUMBER NumberOfPages, IN MM_PROTECTION_MASK ProtectionMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l03052">physical.c:3052</a></div></div>
<div class="ttc" id="a02519_html_a55f349b02b1d685401da963fb41028db"><div class="ttname"><a href="../../d9/dce/a02519.html#a55f349b02b1d685401da963fb41028db">MiIsProbeActive</a></div><div class="ttdeci">LOGICAL MiIsProbeActive(IN PMMPTE InputPte, IN PFN_NUMBER InputPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l03190">iosup.c:3190</a></div></div>
<div class="ttc" id="a02230_html_ac2f97102877eb5065bef97a8dd09b125"><div class="ttname"><a href="../../dd/d67/a02230.html#ac2f97102877eb5065bef97a8dd09b125">CSHORT</a></div><div class="ttdeci">short CSHORT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00505">ntdef.h:505</a></div></div>
<div class="ttc" id="a02259_html_aa02fa07acf110491c9561459d8e3c4fa"><div class="ttname"><a href="../../d3/d3a/a02259.html#aa02fa07acf110491c9561459d8e3c4fa">ACCESS_MASK</a></div><div class="ttdeci">ULONG ACCESS_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3a/a02259_source.html#l00111">ntseapi.h:111</a></div></div>
<div class="ttc" id="a02519_html_a677203dd74a513c3fd9892e81848ca36"><div class="ttname"><a href="../../d9/dce/a02519.html#a677203dd74a513c3fd9892e81848ca36">MiAllocateWsle</a></div><div class="ttdeci">WSLE_NUMBER MiAllocateWsle(IN PMMSUPPORT WsInfo, IN PMMPTE PointerPte, IN PMMPFN Pfn1, IN ULONG_PTR WsleMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l00113">wslist.c:113</a></div></div>
<div class="ttc" id="a02167_html_ad413c7f23e00f0764dfa0ab21b6442a0"><div class="ttname"><a href="../../de/d48/a02167.html#ad413c7f23e00f0764dfa0ab21b6442a0">PUINT64</a></div><div class="ttdeci">unsigned __int64 * PUINT64</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00062">basetsd.h:62</a></div></div>
<div class="ttc" id="a02519_html_a229da08dc8cea3aa2ba0e94a7d06d699"><div class="ttname"><a href="../../d9/dce/a02519.html#a229da08dc8cea3aa2ba0e94a7d06d699">MiHotPatchList</a></div><div class="ttdeci">LIST_ENTRY MiHotPatchList</div></div>
<div class="ttc" id="a01614_html_ab7051c4379b8d33490102a0d538bef23"><div class="ttname"><a href="../../db/d7c/a01614.html#ab7051c4379b8d33490102a0d538bef23">_SESSION_GLOBAL_SUBSECTION_INFO::Protection</a></div><div class="ttdeci">ULONG Protection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08845">mi.h:8845</a></div></div>
<div class="ttc" id="a00983_html_a6e46b078e5963600f1993d1a78dadbf6"><div class="ttname"><a href="../../d7/d98/a00983.html#a6e46b078e5963600f1993d1a78dadbf6">_MMSESSION::SystemSpaceViewLockPointer</a></div><div class="ttdeci">PKGUARDED_MUTEX SystemSpaceViewLockPointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04307">mi.h:4307</a></div></div>
<div class="ttc" id="a01578_html_a12c09278fa44c96ddec92b0d57456a33"><div class="ttname"><a href="../../d1/d88/a01578.html#a12c09278fa44c96ddec92b0d57456a33">_SECTION::Flags</a></div><div class="ttdeci">MMSECTION_FLAGS Flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03866">mi.h:3866</a></div></div>
<div class="ttc" id="a02519_html_abe7684e750bc113b744637f8285fae6a"><div class="ttname"><a href="../../d9/dce/a02519.html#abe7684e750bc113b744637f8285fae6a">MiMapPageInHyperSpace</a></div><div class="ttdeci">PVOID MiMapPageInHyperSpace(IN PEPROCESS Process, IN PFN_NUMBER PageFrameIndex, OUT PKIRQL OldIrql)</div></div>
<div class="ttc" id="a02519_html_a2113fe21f7a8ac5daab8e3d1fc45d3fc"><div class="ttname"><a href="../../d9/dce/a02519.html#a2113fe21f7a8ac5daab8e3d1fc45d3fc">MmHiberPages</a></div><div class="ttdeci">PFN_NUMBER MmHiberPages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00102">miglobal.c:102</a></div></div>
<div class="ttc" id="a00816_html_ae2466e568123f7c0b15781e164f6975b"><div class="ttname"><a href="../../d7/d60/a00816.html#ae2466e568123f7c0b15781e164f6975b">_LARGE_CONTROL_AREA::Segment</a></div><div class="ttdeci">PSEGMENT Segment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03581">mi.h:3581</a></div></div>
<div class="ttc" id="a02519_html_a6c341cf8c952b435740de8a3305b7b77"><div class="ttname"><a href="../../d9/dce/a02519.html#a6c341cf8c952b435740de8a3305b7b77">MiSystemViewStart</a></div><div class="ttdeci">ULONG_PTR MiSystemViewStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00758">miglobal.c:758</a></div></div>
<div class="ttc" id="a02519_html_a5698988a60a7f5bd883a43480981a357"><div class="ttname"><a href="../../d9/dce/a02519.html#a5698988a60a7f5bd883a43480981a357">MiSessionCount</a></div><div class="ttdeci">ULONG MiSessionCount</div></div>
<div class="ttc" id="a00990_html_a826eef2e71c8c7d62a9ac417b99d12e4"><div class="ttname"><a href="../../dd/d7a/a00990.html#a826eef2e71c8c7d62a9ac417b99d12e4">_MMVAD_FLAGS2::SecNoChange</a></div><div class="ttdeci">unsigned SecNoChange</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03940">mi.h:3940</a></div></div>
<div class="ttc" id="a02519_html_a8292d4956b28986d7560fd8268816c8b"><div class="ttname"><a href="../../d9/dce/a02519.html#a8292d4956b28986d7560fd8268816c8b">MiIsPteProtectionCompatible</a></div><div class="ttdeci">ULONG FASTCALL MiIsPteProtectionCompatible(IN ULONG OldPteProtection, IN ULONG NewProtect)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00120">mmsup.c:120</a></div></div>
<div class="ttc" id="a02215_html_ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5"><div class="ttname"><a href="../../dd/d31/a02215.html#ae8c0596236cb6f879c7eafd82d39bf94a973cb8ed4a1232a3e48a4cc382b581b5">ActiveAndValid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l01338">mm.h:1338</a></div></div>
<div class="ttc" id="a00936_html_a2346fece869c3e2f210a80ba6cede9cf"><div class="ttname"><a href="../../dc/d2b/a00936.html#a2346fece869c3e2f210a80ba6cede9cf">_MM_DRIVER_VERIFIER_DATA::Trims</a></div><div class="ttdeci">ULONG Trims</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07125">mi.h:7125</a></div></div>
<div class="ttc" id="a02519_html_af7f13b91bbcc57dcd41903c379f8ea4d"><div class="ttname"><a href="../../d9/dce/a02519.html#af7f13b91bbcc57dcd41903c379f8ea4d">MmMaximumDeadKernelStacks</a></div><div class="ttdeci">ULONG MmMaximumDeadKernelStacks</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00339">miglobal.c:339</a></div></div>
<div class="ttc" id="a02519_html_a3b676b84fafdde67ee8a79f790bc2f76"><div class="ttname"><a href="../../d9/dce/a02519.html#a3b676b84fafdde67ee8a79f790bc2f76">MiLookupDataTableEntry</a></div><div class="ttdeci">PKLDR_DATA_TABLE_ENTRY MiLookupDataTableEntry(IN PVOID AddressWithinSection, IN ULONG ResourceHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l13817">iosup.c:13817</a></div></div>
<div class="ttc" id="a02519_html_ada25a4a0e444734f2e85ba58225e07fb"><div class="ttname"><a href="../../d9/dce/a02519.html#ada25a4a0e444734f2e85ba58225e07fb">MiPfnReleased</a></div><div class="ttdeci">LARGE_INTEGER MiPfnReleased</div></div>
<div class="ttc" id="a00939_html_af988b56e1d82758c095ea9a0899b8f3e"><div class="ttname"><a href="../../dd/d20/a00939.html#af988b56e1d82758c095ea9a0899b8f3e">_MM_PAGED_POOL_INFO::PagedPoolHint</a></div><div class="ttdeci">ULONG PagedPoolHint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07722">mi.h:7722</a></div></div>
<div class="ttc" id="a02195_html_a3fdc1ea7a70952e69beab45a0ef2399b"><div class="ttname"><a href="../../df/d0e/a02195.html#a3fdc1ea7a70952e69beab45a0ef2399b">KeIsExecutingDpc</a></div><div class="ttdeci">FORCEINLINE ULONG NTAPI KeIsExecutingDpc(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l02765">i386.h:2765</a></div></div>
<div class="ttc" id="a02519_html_ac8d0f9a907b64cfdbe2c7f74c030bc16"><div class="ttname"><a href="../../d9/dce/a02519.html#ac8d0f9a907b64cfdbe2c7f74c030bc16">MmPagingFileHeader</a></div><div class="ttdeci">MMMOD_WRITER_LISTHEAD MmPagingFileHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00427">miglobal.c:427</a></div></div>
<div class="ttc" id="a02519_html_af4b6740f39d6d8908564e0c8fdc3d299"><div class="ttname"><a href="../../d9/dce/a02519.html#af4b6740f39d6d8908564e0c8fdc3d299">MmFreeGoal</a></div><div class="ttdeci">PFN_NUMBER MmFreeGoal</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00482">miglobal.c:482</a></div></div>
<div class="ttc" id="a02519_html_ab0d1ee9c886b351a76a94151f5cef2c6"><div class="ttname"><a href="../../d9/dce/a02519.html#ab0d1ee9c886b351a76a94151f5cef2c6">MiFindImageSectionObject</a></div><div class="ttdeci">PCONTROL_AREA MiFindImageSectionObject(IN PFILE_OBJECT File, IN LOGICAL PfnLockHeld, OUT PLOGICAL GlobalNeeded)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l05301">creasect.c:5301</a></div></div>
<div class="ttc" id="a00950_html_ab4f1525b0fab02be47f036692f49c41b"><div class="ttname"><a href="../../df/d39/a00950.html#ab4f1525b0fab02be47f036692f49c41b">_MMCLONE_DESCRIPTOR::Balance</a></div><div class="ttdeci">LONG_PTR Balance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04158">mi.h:4158</a></div></div>
<div class="ttc" id="a02519_html_a2e9e5922ebd1bfab9de6839e70266401"><div class="ttname"><a href="../../d9/dce/a02519.html#a2e9e5922ebd1bfab9de6839e70266401">MmSectionExtendResource</a></div><div class="ttdeci">ERESOURCE MmSectionExtendResource</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00384">miglobal.c:384</a></div></div>
<div class="ttc" id="a02519_html_a8011058be2811392759cff5126fca2b9"><div class="ttname"><a href="../../d9/dce/a02519.html#a8011058be2811392759cff5126fca2b9">MI_NUMBER_OF_PTE_RANGES</a></div><div class="ttdeci">#define MI_NUMBER_OF_PTE_RANGES</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05032">mi.h:5032</a></div></div>
<div class="ttc" id="a00922_html"><div class="ttname"><a href="../../dd/dcf/a00922.html">_MI_FREED_SPECIAL_POOL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07199">mi.h:7199</a></div></div>
<div class="ttc" id="a01664_html_aae865233fbf920447981ee21116afdbe"><div class="ttname"><a href="../../dc/d71/a01664.html#aae865233fbf920447981ee21116afdbe">_SUBSECTION::StartingSector</a></div><div class="ttdeci">ULONG StartingSector</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03623">mi.h:3623</a></div></div>
<div class="ttc" id="a02519_html_a3ac495e88fb022227d39b3bde0872f24"><div class="ttname"><a href="../../d9/dce/a02519.html#a3ac495e88fb022227d39b3bde0872f24">MiDelayPageFaults</a></div><div class="ttdeci">LONG MiDelayPageFaults</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dbf/a02521_source.html#l00029">mmfault.c:29</a></div></div>
<div class="ttc" id="a02519_html_ac25d8eb5316004ac41778ad5e40a7a72"><div class="ttname"><a href="../../d9/dce/a02519.html#ac25d8eb5316004ac41778ad5e40a7a72">MiCheckForContiguousMemory</a></div><div class="ttdeci">PVOID MiCheckForContiguousMemory(IN PVOID BaseAddress, IN PFN_NUMBER BaseAddressPages, IN PFN_NUMBER SizeInPages, IN PFN_NUMBER LowestPfn, IN PFN_NUMBER HighestPfn, IN PFN_NUMBER BoundaryPfn, IN MI_PFN_CACHE_ATTRIBUTE CacheAttribute)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l12627">iosup.c:12627</a></div></div>
<div class="ttc" id="a00816_html_ac1c1d5b74e2bcd080b7ceecce87abe3b"><div class="ttname"><a href="../../d7/d60/a00816.html#ac1c1d5b74e2bcd080b7ceecce87abe3b">_LARGE_CONTROL_AREA::LongFlags</a></div><div class="ttdeci">ULONG LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03590">mi.h:3590</a></div></div>
<div class="ttc" id="a00984_html_a518fde0f2fc3c353078cde026a85fbab"><div class="ttname"><a href="../../d2/d4c/a00984.html#a518fde0f2fc3c353078cde026a85fbab">_MMSUBSECTION_FLAGS::Protection</a></div><div class="ttdeci">unsigned Protection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03611">mi.h:3611</a></div></div>
<div class="ttc" id="a02519_html_a6eb8f5c16863a1a9cf23ad7756162ff4"><div class="ttname"><a href="../../d9/dce/a02519.html#a6eb8f5c16863a1a9cf23ad7756162ff4">MmTotalSystemPtes</a></div><div class="ttdeci">ULONG MmTotalSystemPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l00064">sysptes.c:64</a></div></div>
<div class="ttc" id="a00983_html_a0006e31589bcf77dad036e1eff1dd320"><div class="ttname"><a href="../../d7/d98/a00983.html#a0006e31589bcf77dad036e1eff1dd320">_MMSESSION::SystemSpaceHashKey</a></div><div class="ttdeci">ULONG SystemSpaceHashKey</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04312">mi.h:4312</a></div></div>
<div class="ttc" id="a02519_html_a9c1f31cbe4779b6899ffde30843ab8a4"><div class="ttname"><a href="../../d9/dce/a02519.html#a9c1f31cbe4779b6899ffde30843ab8a4">MiRequestedSystemPtes</a></div><div class="ttdeci">ULONG MiRequestedSystemPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00292">miglobal.c:292</a></div></div>
<div class="ttc" id="a02496_html_ace9e663b97a72ed7141ff3ac0c6be155"><div class="ttname"><a href="../../d1/df5/a02496.html#ace9e663b97a72ed7141ff3ac0c6be155">GET_PAGING_FILE_OFFSET</a></div><div class="ttdeci">#define GET_PAGING_FILE_OFFSET(PTE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02362">miamd.h:2362</a></div></div>
<div class="ttc" id="a02519_html_acb331fb0264417cb7d5c6c7245faf5ea"><div class="ttname"><a href="../../d9/dce/a02519.html#acb331fb0264417cb7d5c6c7245faf5ea">MmEnforceWriteProtection</a></div><div class="ttdeci">ULONG MmEnforceWriteProtection</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l00052">sysload.c:52</a></div></div>
<div class="ttc" id="a01497_html"><div class="ttname"><a href="../../db/d1e/a01497.html">_RTL_BITMAP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l05707">ntrtl.h:5707</a></div></div>
<div class="ttc" id="a02519_html_a53ed0a33e646041aade07c19baf03109"><div class="ttname"><a href="../../d9/dce/a02519.html#a53ed0a33e646041aade07c19baf03109">PMAPPED_FILE_SEGMENT</a></div><div class="ttdeci">struct _MAPPED_FILE_SEGMENT * PMAPPED_FILE_SEGMENT</div></div>
<div class="ttc" id="a00964_html_aab22fab11a360ddb400e3d6068b8e346"><div class="ttname"><a href="../../da/d17/a00964.html#aab22fab11a360ddb400e3d6068b8e346">_MMPFN::InPageError</a></div><div class="ttdeci">ULONG_PTR InPageError</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01768">mi.h:1768</a></div></div>
<div class="ttc" id="a02519_html_a21283e46aafbd1d9ce3c617a2e34eb50"><div class="ttname"><a href="../../d9/dce/a02519.html#a21283e46aafbd1d9ce3c617a2e34eb50">MiCaptureWriteWatchDirtyBit</a></div><div class="ttdeci">VOID MiCaptureWriteWatchDirtyBit(IN PEPROCESS Process, IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df6/a02544_source.html#l00919">wrtwatch.c:919</a></div></div>
<div class="ttc" id="a00964_html_ae28f0e193fd63881fe7df6171dbe2d2d"><div class="ttname"><a href="../../da/d17/a00964.html#ae28f0e193fd63881fe7df6171dbe2d2d">_MMPFN::ShortFlags</a></div><div class="ttdeci">USHORT ShortFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01750">mi.h:1750</a></div></div>
<div class="ttc" id="a02496_html_a37d026c23197d996a6ac9df06c0dd3c1"><div class="ttname"><a href="../../d1/df5/a02496.html#a37d026c23197d996a6ac9df06c0dd3c1">MiGetPteAddress</a></div><div class="ttdeci">#define MiGetPteAddress(va)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l01901">miamd.h:1901</a></div></div>
<div class="ttc" id="a02519_html_a771f866f92b6ed32e71f4e6c4e4194a0"><div class="ttname"><a href="../../d9/dce/a02519.html#a771f866f92b6ed32e71f4e6c4e4194a0">MiPfnTimings</a></div><div class="ttdeci">ULONG MiPfnTimings</div></div>
<div class="ttc" id="a00810_html"><div class="ttname"><a href="../../d4/dfd/a00810.html">_KTIMER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc3/a02249_source.html#l00635">ntosdef.h:635</a></div></div>
<div class="ttc" id="a02519_html_afbb146d0111330fcf61dd8f16bb04202"><div class="ttname"><a href="../../d9/dce/a02519.html#afbb146d0111330fcf61dd8f16bb04202">MMPFN</a></div><div class="ttdeci">struct _MMPFN MMPFN</div></div>
<div class="ttc" id="a02519_html_a4f67a5c09ddd49a00831ca9aadba23a8"><div class="ttname"><a href="../../d9/dce/a02519.html#a4f67a5c09ddd49a00831ca9aadba23a8">MiFreeEventCounter</a></div><div class="ttdeci">VOID MiFreeEventCounter(IN PEVENT_COUNTER Support)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l02938">sectsup.c:2938</a></div></div>
<div class="ttc" id="a00895_html_a7fbad8f97c4bef054e4f6024e177bccf"><div class="ttname"><a href="../../d2/d21/a00895.html#a7fbad8f97c4bef054e4f6024e177bccf">_MAPPED_FILE_SEGMENT::SegmentFlags</a></div><div class="ttdeci">SEGMENT_FLAGS SegmentFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03502">mi.h:3502</a></div></div>
<div class="ttc" id="a01594_html_aebf9ceda8c14b4b20276f2d90b0b4d29"><div class="ttname"><a href="../../dc/def/a01594.html#aebf9ceda8c14b4b20276f2d90b0b4d29">_SEGMENT::NonExtendedPtes</a></div><div class="ttdeci">ULONG NonExtendedPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03457">mi.h:3457</a></div></div>
<div class="ttc" id="a02230_html_ab9c55cfdb7ce38f441883f50c21c00ed"><div class="ttname"><a href="../../dd/d67/a02230.html#ab9c55cfdb7ce38f441883f50c21c00ed">SCHAR</a></div><div class="ttdeci">signed char SCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00408">ntdef.h:408</a></div></div>
<div class="ttc" id="a02230_html_a1cb18096b299d23458d3c7b85fd86555"><div class="ttname"><a href="../../dd/d67/a02230.html#a1cb18096b299d23458d3c7b85fd86555">BOOLEAN</a></div><div class="ttdeci">UCHAR BOOLEAN</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01073">ntdef.h:1073</a></div></div>
<div class="ttc" id="a00981_html_a0831638a03378a75937df2bbbf7f6789"><div class="ttname"><a href="../../dd/d24/a00981.html#a0831638a03378a75937df2bbbf7f6789">_MMSECTION_FLAGS::UserWritable</a></div><div class="ttdeci">unsigned UserWritable</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03548">mi.h:3548</a></div></div>
<div class="ttc" id="a00936_html_ab4a3dc1160b3e72e9dafcd0b8b101bda"><div class="ttname"><a href="../../dc/d2b/a00936.html#ab4a3dc1160b3e72e9dafcd0b8b101bda">_MM_DRIVER_VERIFIER_DATA::AcquireSpinLocks</a></div><div class="ttdeci">ULONG AcquireSpinLocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07116">mi.h:7116</a></div></div>
<div class="ttc" id="a02583_html_a9e810cfa1d74915bff8b5e7cfe306f9b"><div class="ttname"><a href="../../dc/d15/a02583.html#a9e810cfa1d74915bff8b5e7cfe306f9b">PsGetCurrentProcess</a></div><div class="ttdeci">PEPROCESS PsGetCurrentProcess(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d15/a02583_source.html#l00041">pshelper.c:41</a></div></div>
<div class="ttc" id="a00074_html_a8de55e7ff7935a7d94ca1da6cd7110ee"><div class="ttname"><a href="../../db/db6/a00074.html#a8de55e7ff7935a7d94ca1da6cd7110ee">_AWEINFO::VadPhysicalPagesBitMap</a></div><div class="ttdeci">PRTL_BITMAP VadPhysicalPagesBitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04086">mi.h:4086</a></div></div>
<div class="ttc" id="a02519_html_adf1c6f8f2e7c05169e059a0f16547b0d"><div class="ttname"><a href="../../d9/dce/a02519.html#adf1c6f8f2e7c05169e059a0f16547b0d">MiUserFaultRetryMask</a></div><div class="ttdeci">ULONG MiUserFaultRetryMask</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00825">miglobal.c:825</a></div></div>
<div class="ttc" id="a00895_html_abeca11ebd1682bd67e12a166682b0a03"><div class="ttname"><a href="../../d2/d21/a00895.html#abeca11ebd1682bd67e12a166682b0a03">_MAPPED_FILE_SEGMENT::Spare0</a></div><div class="ttdeci">ULONG Spare0</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03494">mi.h:3494</a></div></div>
<div class="ttc" id="a02519_html_a50da5787cc76d93860cd69ab9bab02d6"><div class="ttname"><a href="../../d9/dce/a02519.html#a50da5787cc76d93860cd69ab9bab02d6">MiSubsectionConsistent</a></div><div class="ttdeci">VOID MiSubsectionConsistent(IN PSUBSECTION Subsection)</div></div>
<div class="ttc" id="a02519_html_a1349503295a1470f3cee1aad94f1d5a6"><div class="ttname"><a href="../../d9/dce/a02519.html#a1349503295a1470f3cee1aad94f1d5a6">MmProtectFreedNonPagedPool</a></div><div class="ttdeci">LOGICAL MmProtectFreedNonPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07552">mi.h:7552</a></div></div>
<div class="ttc" id="a00188_html_af5adada5424faea4281cfba52821bdaa"><div class="ttname"><a href="../../da/d15/a00188.html#af5adada5424faea4281cfba52821bdaa">_CONTROL_AREA::NumberOfSystemCacheViews</a></div><div class="ttdeci">ULONG NumberOfSystemCacheViews</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03564">mi.h:3564</a></div></div>
<div class="ttc" id="a02519_html_a99441d23070c13a77467dd8689047cdf"><div class="ttname"><a href="../../d9/dce/a02519.html#a99441d23070c13a77467dd8689047cdf">PLOCK_HEADER</a></div><div class="ttdeci">struct _LOCK_HEADER * PLOCK_HEADER</div></div>
<div class="ttc" id="a02519_html_a22ea7d28d6fce65343bd651c3c7469ac"><div class="ttname"><a href="../../d9/dce/a02519.html#a22ea7d28d6fce65343bd651c3c7469ac">MmPagedPoolStart</a></div><div class="ttdeci">PVOID MmPagedPoolStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00106">dataamd.c:106</a></div></div>
<div class="ttc" id="a02253_html_abfb8de71fa3666360d31b3f1a7ffceb9"><div class="ttname"><a href="../../db/d7a/a02253.html#abfb8de71fa3666360d31b3f1a7ffceb9">MAXIMUM_PROCESSORS</a></div><div class="ttdeci">#define MAXIMUM_PROCESSORS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d7a/a02253_source.html#l00062">ntpsapi.h:62</a></div></div>
<div class="ttc" id="a02519_html_a402b31c70129cc8f6680b625b04cc70b"><div class="ttname"><a href="../../d9/dce/a02519.html#a402b31c70129cc8f6680b625b04cc70b">MmNumberOfPhysicalPages</a></div><div class="ttdeci">PFN_COUNT MmNumberOfPhysicalPages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00041">miglobal.c:41</a></div></div>
<div class="ttc" id="a02230_html_a0af993ebcc78c44a290f87ea7ca37d2b"><div class="ttname"><a href="../../dd/d67/a02230.html#a0af993ebcc78c44a290f87ea7ca37d2b">LCID</a></div><div class="ttdeci">ULONG LCID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00518">ntdef.h:518</a></div></div>
<div class="ttc" id="a00942_html_a91c8af737d626c1f1861bfda0ad0d0be"><div class="ttname"><a href="../../df/d12/a00942.html#a91c8af737d626c1f1861bfda0ad0d0be">_MM_SESSION_SPACE::AttachEvent</a></div><div class="ttdeci">KEVENT AttachEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08605">mi.h:8605</a></div></div>
<div class="ttc" id="a01594_html_a895e8ab7f080e058c34739afe605cca2"><div class="ttname"><a href="../../dc/def/a01594.html#a895e8ab7f080e058c34739afe605cca2">_SEGMENT::ThePtes</a></div><div class="ttdeci">MMPTE ThePtes[MM_PROTO_PTE_ALIGNMENT/PAGE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03486">mi.h:3486</a></div></div>
<div class="ttc" id="a02519_html_af90333ae631712b192bc72d274286789"><div class="ttname"><a href="../../d9/dce/a02519.html#af90333ae631712b192bc72d274286789">PVI_POOL_ENTRY_INUSE</a></div><div class="ttdeci">struct _VI_POOL_ENTRY_INUSE * PVI_POOL_ENTRY_INUSE</div></div>
<div class="ttc" id="a00996_html_af9ebaa7284cdbdb217fa787972249d19"><div class="ttname"><a href="../../d3/daa/a00996.html#af9ebaa7284cdbdb217fa787972249d19">_MMWSL::FirstFree</a></div><div class="ttdeci">WSLE_NUMBER FirstFree</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03010">mi.h:3010</a></div></div>
<div class="ttc" id="a00793_html"><div class="ttname"><a href="../../d4/dd7/a00793.html">_KPRCB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l01073">i386.h:1073</a></div></div>
<div class="ttc" id="a00339_html"><div class="ttname"><a href="../../d0/d01/a00339.html">_DRIVER_SPECIFIED_VERIFIER_THUNKS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09077">mi.h:9077</a></div></div>
<div class="ttc" id="a02496_html_af54c9abc6e56d2f299c35e587f843c3e"><div class="ttname"><a href="../../d1/df5/a02496.html#af54c9abc6e56d2f299c35e587f843c3e">MI_IS_PHYSICAL_ADDRESS</a></div><div class="ttdeci">#define MI_IS_PHYSICAL_ADDRESS(Va)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02561">miamd.h:2561</a></div></div>
<div class="ttc" id="a02519_html_aa5cc6d677ee5c91362d3e51fedd0b531"><div class="ttname"><a href="../../d9/dce/a02519.html#aa5cc6d677ee5c91362d3e51fedd0b531">MiAllowWorkingSetExpansion</a></div><div class="ttdeci">VOID MiAllowWorkingSetExpansion(IN PMMSUPPORT WsInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d41/a02530_source.html#l06314">procsup.c:6314</a></div></div>
<div class="ttc" id="a00996_html_a5c5deedb3d000bcbb08483bfb4b7240a"><div class="ttname"><a href="../../d3/daa/a00996.html#a5c5deedb3d000bcbb08483bfb4b7240a">_MMWSL::VadBitMapHint</a></div><div class="ttdeci">ULONG VadBitMapHint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03023">mi.h:3023</a></div></div>
<div class="ttc" id="a00793_html_ab9838d1ff23ca98da547b47efa9ea17d"><div class="ttname"><a href="../../d4/dd7/a00793.html#ab9838d1ff23ca98da547b47efa9ea17d">_KPRCB::SecondaryColorMask</a></div><div class="ttdeci">ULONG SecondaryColorMask</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l01136">i386.h:1136</a></div></div>
<div class="ttc" id="a02519_html_adf0add092614b37b71e230a5bcce2f4c"><div class="ttname"><a href="../../d9/dce/a02519.html#adf0add092614b37b71e230a5bcce2f4c">ValidPdePde</a></div><div class="ttdeci">const MMPTE ValidPdePde</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00059">dataamd.c:59</a></div></div>
<div class="ttc" id="a02519_html_a760bb7f78babb98c1a42edac0130a2fc"><div class="ttname"><a href="../../d9/dce/a02519.html#a760bb7f78babb98c1a42edac0130a2fc">MiInsertZeroListAtBack</a></div><div class="ttdeci">VOID FASTCALL MiInsertZeroListAtBack(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l00741">pfnlist.c:741</a></div></div>
<div class="ttc" id="a00816_html_aa0617166fae49938aad3623bca8ff4fe"><div class="ttname"><a href="../../d7/d60/a00816.html#aa0617166fae49938aad3623bca8ff4fe">_LARGE_CONTROL_AREA::FlushInProgressCount</a></div><div class="ttdeci">USHORT FlushInProgressCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03596">mi.h:3596</a></div></div>
<div class="ttc" id="a02519_html_a12f1a59454a9286cb37a46414075d8cf"><div class="ttname"><a href="../../d9/dce/a02519.html#a12f1a59454a9286cb37a46414075d8cf">Mm30Milliseconds</a></div><div class="ttdeci">const LARGE_INTEGER Mm30Milliseconds</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00560">miglobal.c:560</a></div></div>
<div class="ttc" id="a01385_html"><div class="ttname"><a href="../../df/d68/a01385.html">_POOL_DESCRIPTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6e/a02273_source.html#l00111">pool.h:111</a></div></div>
<div class="ttc" id="a02519_html_a5bb47f6859794477a350474715e86dee"><div class="ttname"><a href="../../d9/dce/a02519.html#a5bb47f6859794477a350474715e86dee">MI_PFN_PRIORITIES</a></div><div class="ttdeci">#define MI_PFN_PRIORITIES</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01689">mi.h:1689</a></div></div>
<div class="ttc" id="a02519_html_acc000a2578d2187a922db591d264d6df"><div class="ttname"><a href="../../d9/dce/a02519.html#acc000a2578d2187a922db591d264d6df">MiCopyOnWrite</a></div><div class="ttdeci">LOGICAL FASTCALL MiCopyOnWrite(IN PVOID FaultingAddress, IN PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/a02543_source.html#l00024">wrtfault.c:24</a></div></div>
<div class="ttc" id="a02519_html_a712d5f9ad5df7621d267dea19d1bd446"><div class="ttname"><a href="../../d9/dce/a02519.html#a712d5f9ad5df7621d267dea19d1bd446">PMMSECURE_ENTRY</a></div><div class="ttdeci">struct _MMSECURE_ENTRY * PMMSECURE_ENTRY</div></div>
<div class="ttc" id="a02230_html_a1bcabd95fbce5c958cf858ba18277333"><div class="ttname"><a href="../../dd/d67/a02230.html#a1bcabd95fbce5c958cf858ba18277333">LONGLONG</a></div><div class="ttdeci">double LONGLONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00655">ntdef.h:655</a></div></div>
<div class="ttc" id="a00991_html_a1ba084e7f66be7ec0500b54e89df526d"><div class="ttname"><a href="../../df/d2f/a00991.html#a1ba084e7f66be7ec0500b54e89df526d">_MMVAD_LONG::u</a></div><div class="ttdeci">union _MMVAD_LONG::@753 u</div></div>
<div class="ttc" id="a02519_html_abd5d2b329a96d467e841cb76d4a166fc"><div class="ttname"><a href="../../d9/dce/a02519.html#abd5d2b329a96d467e841cb76d4a166fc">SEGMENT_FLAGS</a></div><div class="ttdeci">struct _SEGMENT_FLAGS SEGMENT_FLAGS</div></div>
<div class="ttc" id="a01185_html"><div class="ttname"><a href="../../d3/dd3/a01185.html">_MSUBSECTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03649">mi.h:3649</a></div></div>
<div class="ttc" id="a02519_html_a9eed558ed88d81b10766b5a671c0e7c0"><div class="ttname"><a href="../../d9/dce/a02519.html#a9eed558ed88d81b10766b5a671c0e7c0">MiCanFileBeTruncatedInternal</a></div><div class="ttdeci">ULONG MiCanFileBeTruncatedInternal(IN PSECTION_OBJECT_POINTERS SectionPointer, IN PLARGE_INTEGER NewFileSize OPTIONAL, IN LOGICAL BlockNewViews, OUT PKIRQL PreviousIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l03070">sectsup.c:3070</a></div></div>
<div class="ttc" id="a02519_html_ace646365dddc29feb672b827286597fb"><div class="ttname"><a href="../../d9/dce/a02519.html#ace646365dddc29feb672b827286597fb">MmSectionBasedRoot</a></div><div class="ttdeci">MM_AVL_TABLE MmSectionBasedRoot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00358">miglobal.c:358</a></div></div>
<div class="ttc" id="a00993_html"><div class="ttname"><a href="../../da/d0a/a00993.html">_MMVIEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04281">mi.h:4281</a></div></div>
<div class="ttc" id="a00953_html_aff6272a032f00175e89c11230a619172"><div class="ttname"><a href="../../d5/da3/a00953.html#aff6272a032f00175e89c11230a619172">_MMDEREFERENCE_SEGMENT_HEADER::ListHead</a></div><div class="ttdeci">LIST_ENTRY ListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03780">mi.h:3780</a></div></div>
<div class="ttc" id="a00967_html_a6240a05ea6f6c3bcc9dafc36be77d5cd"><div class="ttname"><a href="../../d4/d94/a00967.html#a6240a05ea6f6c3bcc9dafc36be77d5cd">_MMPFNENTRY::PageLocation</a></div><div class="ttdeci">USHORT PageLocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01662">mi.h:1662</a></div></div>
<div class="ttc" id="a00188_html_a20224e72be95bdfa075ab82c915387e5"><div class="ttname"><a href="../../da/d15/a00188.html#a20224e72be95bdfa075ab82c915387e5">_CONTROL_AREA::NumberOfMappedViews</a></div><div class="ttdeci">ULONG NumberOfMappedViews</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03562">mi.h:3562</a></div></div>
<div class="ttc" id="a01185_html_a461dff2a17317b2c7c2df3fad2d3a974"><div class="ttname"><a href="../../d3/dd3/a01185.html#a461dff2a17317b2c7c2df3fad2d3a974">_MSUBSECTION::SubsectionFlags2</a></div><div class="ttdeci">MMSUBSECTION_FLAGS2 SubsectionFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03665">mi.h:3665</a></div></div>
<div class="ttc" id="a02297_html"><div class="ttname"><a href="../../d1/db8/a02297.html">triage.h</a></div></div>
<div class="ttc" id="a02519_html_a819f2b14d387dba5cd8775877058617f"><div class="ttname"><a href="../../d9/dce/a02519.html#a819f2b14d387dba5cd8775877058617f">MM_SESSION_FAILURE_CAUSES</a></div><div class="ttdeci">#define MM_SESSION_FAILURE_CAUSES</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08469">mi.h:8469</a></div></div>
<div class="ttc" id="a00968_html"><div class="ttname"><a href="../../d7/dd4/a00968.html">_MMPFNLIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l01342">mm.h:1342</a></div></div>
<div class="ttc" id="a02519_html_a058e6cb1705bed7818a2915fc5948cc5"><div class="ttname"><a href="../../d9/dce/a02519.html#a058e6cb1705bed7818a2915fc5948cc5">MmHeapSegmentReserve</a></div><div class="ttdeci">SIZE_T MmHeapSegmentReserve</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00567">miglobal.c:567</a></div></div>
<div class="ttc" id="a00996_html_aecfbb5324c4db9c5e6612bd9301dabd2"><div class="ttname"><a href="../../d3/daa/a00996.html#aecfbb5324c4db9c5e6612bd9301dabd2">_MMWSL::HighestPermittedHashAddress</a></div><div class="ttdeci">PVOID HighestPermittedHashAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03021">mi.h:3021</a></div></div>
<div class="ttc" id="a02519_html_afdbbaff803094d001c80ccf52496898f"><div class="ttname"><a href="../../d9/dce/a02519.html#afdbbaff803094d001c80ccf52496898f">PMMADDRESS_LIST</a></div><div class="ttdeci">struct _MMADDRESS_LIST * PMMADDRESS_LIST</div></div>
<div class="ttc" id="a02519_html_a93ec4ba3d5cc729ce9b7ff7656d4569a"><div class="ttname"><a href="../../d9/dce/a02519.html#a93ec4ba3d5cc729ce9b7ff7656d4569a">MiFreeAllExpansionNonPagedPool</a></div><div class="ttdeci">LOGICAL MiFreeAllExpansionNonPagedPool(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l00968">allocpag.c:968</a></div></div>
<div class="ttc" id="a02519_html_a5fb9d923c2a187c4f6a09c9b898e9000"><div class="ttname"><a href="../../d9/dce/a02519.html#a5fb9d923c2a187c4f6a09c9b898e9000">PMMWSLE</a></div><div class="ttdeci">MMWSLE * PMMWSLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03003">mi.h:3003</a></div></div>
<div class="ttc" id="a00939_html"><div class="ttname"><a href="../../dd/d20/a00939.html">_MM_PAGED_POOL_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07715">mi.h:7715</a></div></div>
<div class="ttc" id="a02519_html_a3f7bc7b7e1acd09ff105729ac513f74f"><div class="ttname"><a href="../../d9/dce/a02519.html#a3f7bc7b7e1acd09ff105729ac513f74f">MiInitializeWorkingSetList</a></div><div class="ttdeci">VOID MiInitializeWorkingSetList(IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l01393">wslist.c:1393</a></div></div>
<div class="ttc" id="a02519_html_a51a92e6a3f888a90f92748ad5d602de2"><div class="ttname"><a href="../../d9/dce/a02519.html#a51a92e6a3f888a90f92748ad5d602de2">MmPfnDereferenceSListHead</a></div><div class="ttdeci">SLIST_HEADER MmPfnDereferenceSListHead</div></div>
<div class="ttc" id="a02256_html_a7b3165ced8c4e2f6e30cde8983a2e23f"><div class="ttname"><a href="../../de/dc3/a02256.html#a7b3165ced8c4e2f6e30cde8983a2e23f">TABLE_SEARCH_RESULT</a></div><div class="ttdeci">enum _TABLE_SEARCH_RESULT TABLE_SEARCH_RESULT</div></div>
<div class="ttc" id="a02519_html_a74cf3d6f30a84b1b1323513cb39d885f"><div class="ttname"><a href="../../d9/dce/a02519.html#a74cf3d6f30a84b1b1323513cb39d885f">MI_VERIFIER_DRIVER_ENTRY</a></div><div class="ttdeci">struct _MI_VERIFIER_DRIVER_ENTRY MI_VERIFIER_DRIVER_ENTRY</div></div>
<div class="ttc" id="a01000_html_a1165b0e21d44a876ae7ea2bd755b96bc"><div class="ttname"><a href="../../d7/df2/a01000.html#a1165b0e21d44a876ae7ea2bd755b96bc">_MMWSLENTRY::Valid</a></div><div class="ttdeci">ULONG_PTR Valid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02964">mi.h:2964</a></div></div>
<div class="ttc" id="a00967_html_a29d866fa0818cc186b3ab028bf000112"><div class="ttname"><a href="../../d4/d94/a00967.html#a29d866fa0818cc186b3ab028bf000112">_MMPFNENTRY::PrototypePte</a></div><div class="ttdeci">USHORT PrototypePte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01660">mi.h:1660</a></div></div>
<div class="ttc" id="a02519_html_a56a7bd08d7b8b3bfe56b6c6af0a993a3"><div class="ttname"><a href="../../d9/dce/a02519.html#a56a7bd08d7b8b3bfe56b6c6af0a993a3">MmTriageActionTaken</a></div><div class="ttdeci">ULONG MmTriageActionTaken</div></div>
<div class="ttc" id="a00957_html_a84396afdf753179f22d1dbb6607d014c"><div class="ttname"><a href="../../d1/df7/a00957.html#a84396afdf753179f22d1dbb6607d014c">_MMINPAGE_SUPPORT::PrefetchMdl</a></div><div class="ttdeci">PMDL PrefetchMdl</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03847">mi.h:3847</a></div></div>
<div class="ttc" id="a02519_html_adc58b1d9cae088137aa014dbf7e83756"><div class="ttname"><a href="../../d9/dce/a02519.html#adc58b1d9cae088137aa014dbf7e83756">MiGetEventCounter</a></div><div class="ttdeci">PEVENT_COUNTER MiGetEventCounter(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l02868">sectsup.c:2868</a></div></div>
<div class="ttc" id="a02519_html_a034a3592e3e7138774199c15a064b2b5"><div class="ttname"><a href="../../d9/dce/a02519.html#a034a3592e3e7138774199c15a064b2b5">MmSystemProcessWorkingSetMax</a></div><div class="ttdeci">PFN_NUMBER MmSystemProcessWorkingSetMax</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00536">miglobal.c:536</a></div></div>
<div class="ttc" id="a02519_html_a733d4a49eb8bfa7b2250b7b4353a864c"><div class="ttname"><a href="../../d9/dce/a02519.html#a733d4a49eb8bfa7b2250b7b4353a864c">MmSessionSize</a></div><div class="ttdeci">SIZE_T MmSessionSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00754">miglobal.c:754</a></div></div>
<div class="ttc" id="a02519_html_aad50996fb7e3724fb607f762eefe3f01"><div class="ttname"><a href="../../d9/dce/a02519.html#aad50996fb7e3724fb607f762eefe3f01">MMWSLE</a></div><div class="ttdeci">struct _MMWSLE MMWSLE</div></div>
<div class="ttc" id="a02519_html_aea7e182afd28632cdbb87b77acf1abb5"><div class="ttname"><a href="../../d9/dce/a02519.html#aea7e182afd28632cdbb87b77acf1abb5">MiDeletePteRange</a></div><div class="ttdeci">VOID MiDeletePteRange(IN PMMSUPPORT WsInfo, IN PMMPTE PointerPte, IN PMMPTE LastPte, IN LOGICAL AddressSpaceDeletion)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d41/a02530_source.html#l02160">procsup.c:2160</a></div></div>
<div class="ttc" id="a02519_html_a15136318a95df041b2aa28e2e7b21580"><div class="ttname"><a href="../../d9/dce/a02519.html#a15136318a95df041b2aa28e2e7b21580">MmNonPagedSystemStart</a></div><div class="ttdeci">PVOID MmNonPagedSystemStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00228">miglobal.c:228</a></div></div>
<div class="ttc" id="a02195_html_a102950dee0f700896b356231648b9192"><div class="ttname"><a href="../../df/d0e/a02195.html#a102950dee0f700896b356231648b9192">InterlockedDecrementSizeT</a></div><div class="ttdeci">#define InterlockedDecrementSizeT(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l02463">i386.h:2463</a></div></div>
<div class="ttc" id="a02519_html_a6823227b57532304ef5332d3d9383998"><div class="ttname"><a href="../../d9/dce/a02519.html#a6823227b57532304ef5332d3d9383998">MMCLONE_BLOCK</a></div><div class="ttdeci">struct _MMCLONE_BLOCK MMCLONE_BLOCK</div></div>
<div class="ttc" id="a02519_html_a57f74c9c5826021cc0b3c7f73cfd8f4a"><div class="ttname"><a href="../../d9/dce/a02519.html#a57f74c9c5826021cc0b3c7f73cfd8f4a">MM_SESSION_SPACE_FLAGS</a></div><div class="ttdeci">struct _MM_SESSION_SPACE_FLAGS MM_SESSION_SPACE_FLAGS</div></div>
<div class="ttc" id="a00963_html_a0ca60bfbfd08ffd153d26e3efba5c795"><div class="ttname"><a href="../../de/dad/a00963.html#a0ca60bfbfd08ffd153d26e3efba5c795">_MMPAGING_FILE::MinimumSize</a></div><div class="ttdeci">PFN_NUMBER MinimumSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04242">mi.h:4242</a></div></div>
<div class="ttc" id="a00816_html_aa8ba9b19f4fd65588657ab4031558fc9"><div class="ttname"><a href="../../d7/d60/a00816.html#aa8ba9b19f4fd65588657ab4031558fc9">_LARGE_CONTROL_AREA::DereferenceList</a></div><div class="ttdeci">LIST_ENTRY DereferenceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03582">mi.h:3582</a></div></div>
<div class="ttc" id="a00188_html_a4e3bf64993e043620abbd3406360022a"><div class="ttname"><a href="../../da/d15/a00188.html#a4e3bf64993e043620abbd3406360022a">_CONTROL_AREA::NumberOfUserReferences</a></div><div class="ttdeci">ULONG NumberOfUserReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03565">mi.h:3565</a></div></div>
<div class="ttc" id="a00998_html_a913ba42682f0382c8c5ab95343e9b088"><div class="ttname"><a href="../../d9/d9a/a00998.html#a913ba42682f0382c8c5ab95343e9b088">_MMWSLE_FLUSH_LIST::FlushIndex</a></div><div class="ttdeci">WSLE_NUMBER FlushIndex[MM_MAXIMUM_FLUSH_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04341">mi.h:4341</a></div></div>
<div class="ttc" id="a02230_html_a9909bd3cf05f0906045f2ee85be4eeac"><div class="ttname"><a href="../../dd/d67/a02230.html#a9909bd3cf05f0906045f2ee85be4eeac">SHORT</a></div><div class="ttdeci">short SHORT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00290">ntdef.h:290</a></div></div>
<div class="ttc" id="a02519_html_adbad2f55da1c6319365bb5166d0ddd68"><div class="ttname"><a href="../../d9/dce/a02519.html#adbad2f55da1c6319365bb5166d0ddd68">MiReApplyVerifierToLoadedModules</a></div><div class="ttdeci">VOID MiReApplyVerifierToLoadedModules(IN PLIST_ENTRY ModuleListHead)</div></div>
<div class="ttc" id="a00989_html_a723c99484efdffad1869c76a88cbd176"><div class="ttname"><a href="../../d4/d95/a00989.html#a723c99484efdffad1869c76a88cbd176">_MMVAD_FLAGS::Protection</a></div><div class="ttdeci">ULONG_PTR Protection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03933">mi.h:3933</a></div></div>
<div class="ttc" id="a02519_html_a528e221720ad30dd2d3406da43bbd16b"><div class="ttname"><a href="../../d9/dce/a02519.html#a528e221720ad30dd2d3406da43bbd16b">MiVerifierCheckThunks</a></div><div class="ttdeci">VOID MiVerifierCheckThunks(IN PKLDR_DATA_TABLE_ENTRY DataTableEntry)</div></div>
<div class="ttc" id="a00988_html_af3fc743716882d8ea38b4d16fdf1fec3"><div class="ttname"><a href="../../d6/d48/a00988.html#af3fc743716882d8ea38b4d16fdf1fec3">_MMVAD::LongFlags</a></div><div class="ttdeci">ULONG_PTR LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03987">mi.h:3987</a></div></div>
<div class="ttc" id="a02519_html_a63d1ed54f11cedd709cdddca15b59728"><div class="ttname"><a href="../../d9/dce/a02519.html#a63d1ed54f11cedd709cdddca15b59728">MmDisablePagingExecutive</a></div><div class="ttdeci">ULONG MmDisablePagingExecutive</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00578">miglobal.c:578</a></div></div>
<div class="ttc" id="a00895_html_af6bc6435f2b5a386d551af461e5aa722"><div class="ttname"><a href="../../d2/d21/a00895.html#af6bc6435f2b5a386d551af461e5aa722">_MAPPED_FILE_SEGMENT::SizeOfSegment</a></div><div class="ttdeci">UINT64 SizeOfSegment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03496">mi.h:3496</a></div></div>
<div class="ttc" id="a00984_html_a5bc0158a81778db70ad70b1e44774c95"><div class="ttname"><a href="../../d2/d4c/a00984.html#a5bc0158a81778db70ad70b1e44774c95">_MMSUBSECTION_FLAGS::StartingSector4132</a></div><div class="ttdeci">unsigned StartingSector4132</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03613">mi.h:3613</a></div></div>
<div class="ttc" id="a00950_html_af678b46972ebfb52904392469528d70c"><div class="ttname"><a href="../../df/d39/a00950.html#af678b46972ebfb52904392469528d70c">_MMCLONE_DESCRIPTOR::StartingVpn</a></div><div class="ttdeci">ULONG_PTR StartingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04163">mi.h:4163</a></div></div>
<div class="ttc" id="a02519_html_aab7380b41807d1ee23fcf90516ed8dea"><div class="ttname"><a href="../../d9/dce/a02519.html#aab7380b41807d1ee23fcf90516ed8dea">MiMakeSystemAddressValid</a></div><div class="ttdeci">ULONG FASTCALL MiMakeSystemAddressValid(IN PVOID VirtualAddress, IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00421">mmsup.c:421</a></div></div>
<div class="ttc" id="a00991_html"><div class="ttname"><a href="../../df/d2f/a00991.html">_MMVAD_LONG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03999">mi.h:3999</a></div></div>
<div class="ttc" id="a02519_html_a5399729790c2bb3a66a89b9202b83918"><div class="ttname"><a href="../../d9/dce/a02519.html#a5399729790c2bb3a66a89b9202b83918">MiSessionImagePteEnd</a></div><div class="ttdeci">PMMPTE MiSessionImagePteEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00782">miglobal.c:782</a></div></div>
<div class="ttc" id="a00936_html_a2d1fa8f4533280c7eb81cda9d34a55d0"><div class="ttname"><a href="../../dc/d2b/a00936.html#a2d1fa8f4533280c7eb81cda9d34a55d0">_MM_DRIVER_VERIFIER_DATA::NonPagedBytes</a></div><div class="ttdeci">SIZE_T NonPagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07140">mi.h:7140</a></div></div>
<div class="ttc" id="a02519_html_a97be8923a273c60aaf8087b9a0cb4ef3"><div class="ttname"><a href="../../d9/dce/a02519.html#a97be8923a273c60aaf8087b9a0cb4ef3">PMI_VAD_TYPE</a></div><div class="ttdeci">enum _MI_VAD_TYPE * PMI_VAD_TYPE</div></div>
<div class="ttc" id="a00793_html_adc408b610c85d42d063e691b37177c39"><div class="ttname"><a href="../../d4/dd7/a00793.html#adc408b610c85d42d063e691b37177c39">_KPRCB::NodeShiftedColor</a></div><div class="ttdeci">ULONG NodeShiftedColor</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l01132">i386.h:1132</a></div></div>
<div class="ttc" id="a02519_html_a3e480ff29903d087a5cf59b2703ce0d0"><div class="ttname"><a href="../../d9/dce/a02519.html#a3e480ff29903d087a5cf59b2703ce0d0">MmSessionViewSize</a></div><div class="ttdeci">SIZE_T MmSessionViewSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00772">miglobal.c:772</a></div></div>
<div class="ttc" id="a00992_html_a3706aed80705b47c6af21e38d0b5bbdf"><div class="ttname"><a href="../../d7/d76/a00992.html#a3706aed80705b47c6af21e38d0b5bbdf">_MMVAD_SHORT::LeftChild</a></div><div class="ttdeci">struct _MMVAD * LeftChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04035">mi.h:4035</a></div></div>
<div class="ttc" id="a02519_html_a15b0ff1845a7bbbc6d0e2d5bba04d7cc"><div class="ttname"><a href="../../d9/dce/a02519.html#a15b0ff1845a7bbbc6d0e2d5bba04d7cc">MmSystemCacheWsMinimum</a></div><div class="ttdeci">PFN_NUMBER MmSystemCacheWsMinimum</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00332">miglobal.c:332</a></div></div>
<div class="ttc" id="a00981_html_adf7041351ea12eb314a488abbc3fcaf9"><div class="ttname"><a href="../../dd/d24/a00981.html#adf7041351ea12eb314a488abbc3fcaf9">_MMSECTION_FLAGS::CopyOnWrite</a></div><div class="ttdeci">unsigned CopyOnWrite</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03529">mi.h:3529</a></div></div>
<div class="ttc" id="a00996_html_adbacb4b77ff0f17ceb6b530354bbe81d"><div class="ttname"><a href="../../d3/daa/a00996.html#adbacb4b77ff0f17ceb6b530354bbe81d">_MMWSL::NextSlot</a></div><div class="ttdeci">WSLE_NUMBER NextSlot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03013">mi.h:3013</a></div></div>
<div class="ttc" id="a00956_html"><div class="ttname"><a href="../../d3/de5/a00956.html">_MMINPAGE_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03819">mi.h:3819</a></div></div>
<div class="ttc" id="a02519_html_a976095bf12b7847a6e4f3bfb7ef5d4e1"><div class="ttname"><a href="../../d9/dce/a02519.html#a976095bf12b7847a6e4f3bfb7ef5d4e1">MMSUBSECTION_FLAGS2</a></div><div class="ttdeci">struct _MMSUBSECTION_FLAGS2 MMSUBSECTION_FLAGS2</div></div>
<div class="ttc" id="a02519_html_a5f05a99f1cf4438d92d9e8820eeb9ce7"><div class="ttname"><a href="../../d9/dce/a02519.html#a5f05a99f1cf4438d92d9e8820eeb9ce7">MiUnusedSubsectionPagedPoolPeak</a></div><div class="ttdeci">SIZE_T MiUnusedSubsectionPagedPoolPeak</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00409">miglobal.c:409</a></div></div>
<div class="ttc" id="a02519_html_a8c85bdeb5a8178759e8cd6806f570ccc"><div class="ttname"><a href="../../d9/dce/a02519.html#a8c85bdeb5a8178759e8cd6806f570ccc">MM_PFN_LOCK_ASSERT</a></div><div class="ttdeci">#define MM_PFN_LOCK_ASSERT()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01037">mi.h:1037</a></div></div>
<div class="ttc" id="a00978_html_a1d28f3f9f8a7377c2b20d9283d6a1de7"><div class="ttname"><a href="../../d2/ddd/a00978.html#a1d28f3f9f8a7377c2b20d9283d6a1de7">_MMPTE_SOFTWARE::PageFileHigh</a></div><div class="ttdeci">ULONGLONG PageFileHigh</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02619">miamd.h:2619</a></div></div>
<div class="ttc" id="a02519_html_a5b330203d020c5a57fb18321f4279d99"><div class="ttname"><a href="../../d9/dce/a02519.html#a5b330203d020c5a57fb18321f4279d99">PEVENT_COUNTER</a></div><div class="ttdeci">struct _EVENT_COUNTER * PEVENT_COUNTER</div></div>
<div class="ttc" id="a00954_html_ab2a647a56bf3ac4070f8bd9796757aea"><div class="ttname"><a href="../../d3/dca/a00954.html#ab2a647a56bf3ac4070f8bd9796757aea">_MMEXTEND_INFO::CommittedSize</a></div><div class="ttdeci">UINT64 CommittedSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03439">mi.h:3439</a></div></div>
<div class="ttc" id="a00927_html"><div class="ttname"><a href="../../dd/d98/a00927.html">_MI_NEXT_ESTIMATION_SLOT_CONST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03184">mi.h:3184</a></div></div>
<div class="ttc" id="a02519_html_abe07e6993bd9b88114442013dc0aae7c"><div class="ttname"><a href="../../d9/dce/a02519.html#abe07e6993bd9b88114442013dc0aae7c">MMWSLE_FLUSH_LIST</a></div><div class="ttdeci">struct _MMWSLE_FLUSH_LIST MMWSLE_FLUSH_LIST</div></div>
<div class="ttc" id="a02519_html_a513a26bce891e3191631fa3285421d49"><div class="ttname"><a href="../../d9/dce/a02519.html#a513a26bce891e3191631fa3285421d49">MmReferenceCountCheck</a></div><div class="ttdeci">ULONG MmReferenceCountCheck</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00243">iosup.c:243</a></div></div>
<div class="ttc" id="a02519_html_a4ff08aa74e20c9d29c763cb7a7b08106"><div class="ttname"><a href="../../d9/dce/a02519.html#a4ff08aa74e20c9d29c763cb7a7b08106">MiReserveAlignedSystemPtes</a></div><div class="ttdeci">PMMPTE MiReserveAlignedSystemPtes(IN ULONG NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPtePoolType, IN ULONG Alignment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l00542">sysptes.c:542</a></div></div>
<div class="ttc" id="a02519_html_ac005715ff35608717160090051215436"><div class="ttname"><a href="../../d9/dce/a02519.html#ac005715ff35608717160090051215436">VI_POOL_PAGE_HEADER</a></div><div class="ttdeci">struct _VI_POOL_PAGE_HEADER VI_POOL_PAGE_HEADER</div></div>
<div class="ttc" id="a00942_html_a6797096a3c7c60167efad0137ba53715"><div class="ttname"><a href="../../df/d12/a00942.html#a6797096a3c7c60167efad0137ba53715">_MM_SESSION_SPACE::Session</a></div><div class="ttdeci">MMSESSION Session</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08638">mi.h:8638</a></div></div>
<div class="ttc" id="a00964_html_a41217a6486b435da702536fcc18aa484"><div class="ttname"><a href="../../da/d17/a00964.html#a41217a6486b435da702536fcc18aa484">_MMPFN::PteAddress</a></div><div class="ttdeci">PMMPTE PteAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01725">mi.h:1725</a></div></div>
<div class="ttc" id="a00967_html_a1209c0306a654c2ac86c0a4f17de9655"><div class="ttname"><a href="../../d4/d94/a00967.html#a1209c0306a654c2ac86c0a4f17de9655">_MMPFNENTRY::PageColor</a></div><div class="ttdeci">USHORT PageColor</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01661">mi.h:1661</a></div></div>
<div class="ttc" id="a02519_html_a3449f7ed981425ef234ccf614f871942"><div class="ttname"><a href="../../d9/dce/a02519.html#a3449f7ed981425ef234ccf614f871942">SECTION_CHECK_TYPE</a></div><div class="ttdeci">enum _SECTION_CHECK_TYPE SECTION_CHECK_TYPE</div></div>
<div class="ttc" id="a02519_html_afccc768f45ae583c36ceec8922a4b687"><div class="ttname"><a href="../../d9/dce/a02519.html#afccc768f45ae583c36ceec8922a4b687">MI_STACK_BYTES</a></div><div class="ttdeci">#define MI_STACK_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07197">mi.h:7197</a></div></div>
<div class="ttc" id="a00991_html_ac3655ec7f538d71e91b5ffea32b56edc"><div class="ttname"><a href="../../df/d2f/a00991.html#ac3655ec7f538d71e91b5ffea32b56edc">_MMVAD_LONG::RightChild</a></div><div class="ttdeci">struct _MMVAD * RightChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04005">mi.h:4005</a></div></div>
<div class="ttc" id="a02519_html_a23e77b1517af1a3d2b88754fb19e4af4"><div class="ttname"><a href="../../d9/dce/a02519.html#a23e77b1517af1a3d2b88754fb19e4af4">MmHighestPossiblePhysicalPage</a></div><div class="ttdeci">PFN_NUMBER MmHighestPossiblePhysicalPage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00053">miglobal.c:53</a></div></div>
<div class="ttc" id="a00964_html_a856011f42efa4db8bb55528741f0acd9"><div class="ttname"><a href="../../da/d17/a00964.html#a856011f42efa4db8bb55528741f0acd9">_MMPFN::VerifierAllocation</a></div><div class="ttdeci">ULONG_PTR VerifierAllocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01769">mi.h:1769</a></div></div>
<div class="ttc" id="a02519_html_adfe49f77636b4ea1aada827976ce7928"><div class="ttname"><a href="../../d9/dce/a02519.html#adfe49f77636b4ea1aada827976ce7928">MiLargePageHyperPte</a></div><div class="ttdeci">PMMPTE MiLargePageHyperPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/a02513_source.html#l00364">procx86.c:364</a></div></div>
<div class="ttc" id="a02230_html_a253b627decfeb8fee3765eba6d720d74"><div class="ttname"><a href="../../dd/d67/a02230.html#a253b627decfeb8fee3765eba6d720d74">PULONG</a></div><div class="ttdeci">ULONG * PULONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00401">ntdef.h:401</a></div></div>
<div class="ttc" id="a02519_html_a63f54006e84b6c2374139904f048ddb7"><div class="ttname"><a href="../../d9/dce/a02519.html#a63f54006e84b6c2374139904f048ddb7">SESSION_POOL_SMALL_LISTS</a></div><div class="ttdeci">#define SESSION_POOL_SMALL_LISTS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08489">mi.h:8489</a></div></div>
<div class="ttc" id="a02519_html_ad1ecebf8d1acef3560b358ca47313602"><div class="ttname"><a href="../../d9/dce/a02519.html#ad1ecebf8d1acef3560b358ca47313602">MiDeletePte</a></div><div class="ttdeci">ULONG MiDeletePte(IN PMMPTE PointerPte, IN PVOID VirtualAddress, IN ULONG AddressSpaceDeletion, IN PEPROCESS CurrentProcess, IN PMMPTE PrototypePte, IN PMMPTE_FLUSH_LIST PteFlushList OPTIONAL, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/a02499_source.html#l00807">deleteva.c:807</a></div></div>
<div class="ttc" id="a02519_html_acfd84fe0e4659df607ae0894b97ed9fe"><div class="ttname"><a href="../../d9/dce/a02519.html#acfd84fe0e4659df607ae0894b97ed9fe">MiUpdateModifiedWriterMdls</a></div><div class="ttdeci">VOID FASTCALL MiUpdateModifiedWriterMdls(IN ULONG PageFileNumber)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/a02499_source.html#l01458">deleteva.c:1458</a></div></div>
<div class="ttc" id="a00948_html_af75e737e658c39da24616d1db9f7a394"><div class="ttname"><a href="../../d8/d18/a00948.html#af75e737e658c39da24616d1db9f7a394">_MMBANKED_SECTION::BankedRoutine</a></div><div class="ttdeci">PBANKED_SECTION_ROUTINE BankedRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03882">mi.h:3882</a></div></div>
<div class="ttc" id="a02519_html_a6cd8b8490b2dbcd89f5cd8ffffef9340"><div class="ttname"><a href="../../d9/dce/a02519.html#a6cd8b8490b2dbcd89f5cd8ffffef9340">MmZeroedPageListHead</a></div><div class="ttdeci">MMPFNLIST MmZeroedPageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00110">miglobal.c:110</a></div></div>
<div class="ttc" id="a01000_html_a766b4c484ebd16e1e1886fca2cd00021"><div class="ttname"><a href="../../d7/df2/a01000.html#a766b4c484ebd16e1e1886fca2cd00021">_MMWSLENTRY::Hashed</a></div><div class="ttdeci">ULONG_PTR Hashed</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02976">mi.h:2976</a></div></div>
<div class="ttc" id="a00942_html_a3e300351c5f17711daa7ad1cc3c1159a"><div class="ttname"><a href="../../df/d12/a00942.html#a3e300351c5f17711daa7ad1cc3c1159a">_MM_SESSION_SPACE::GlobalVirtualAddress</a></div><div class="ttdeci">struct _MM_SESSION_SPACE * GlobalVirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08515">mi.h:8515</a></div></div>
<div class="ttc" id="a02519_html_a3260e309df4f255172373037c8081c26"><div class="ttname"><a href="../../d9/dce/a02519.html#a3260e309df4f255172373037c8081c26">MmSubsectionBase</a></div><div class="ttdeci">ULONG_PTR MmSubsectionBase</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00040">mminit.c:40</a></div></div>
<div class="ttc" id="a02519_html_ad66a7ab054d3032556ffa3867f05f617"><div class="ttname"><a href="../../d9/dce/a02519.html#ad66a7ab054d3032556ffa3867f05f617">MiCheckProtoPtePageState</a></div><div class="ttdeci">LOGICAL MiCheckProtoPtePageState(IN PMMPTE PrototypePte, IN KIRQL OldIrql, OUT PLOGICAL DroppedPfnLock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5d/a02503_source.html#l03476">flushsec.c:3476</a></div></div>
<div class="ttc" id="a00936_html_a01a5d7e01c67c163ab815454a90f7a26"><div class="ttname"><a href="../../dc/d2b/a00936.html#a01a5d7e01c67c163ab815454a90f7a26">_MM_DRIVER_VERIFIER_DATA::PeakPagedBytes</a></div><div class="ttdeci">SIZE_T PeakPagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07141">mi.h:7141</a></div></div>
<div class="ttc" id="a02519_html_a4bb7d2678fe6b802d5db9269edcde2be"><div class="ttname"><a href="../../d9/dce/a02519.html#a4bb7d2678fe6b802d5db9269edcde2be">MmAvailablePagesEventHigh</a></div><div class="ttdeci">KEVENT MmAvailablePagesEventHigh</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l00032">pfnlist.c:32</a></div></div>
<div class="ttc" id="a00989_html_a987ba321477ee9113e80840bf58c3202"><div class="ttname"><a href="../../d4/d95/a00989.html#a987ba321477ee9113e80840bf58c3202">_MMVAD_FLAGS::Spare</a></div><div class="ttdeci">ULONG_PTR Spare</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03934">mi.h:3934</a></div></div>
<div class="ttc" id="a00992_html_ae94cec7ae56f94a1e71a352b043eb46d"><div class="ttname"><a href="../../d7/d76/a00992.html#ae94cec7ae56f94a1e71a352b043eb46d">_MMVAD_SHORT::u</a></div><div class="ttdeci">union _MMVAD_SHORT::@758 u</div></div>
<div class="ttc" id="a00957_html_a6dee117b79213c584a94d84849f0e390"><div class="ttname"><a href="../../d1/df7/a00957.html#a6dee117b79213c584a94d84849f0e390">_MMINPAGE_SUPPORT::Event</a></div><div class="ttdeci">KEVENT Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03833">mi.h:3833</a></div></div>
<div class="ttc" id="a02519_html_a93cb8d2987437170f0b56a464a9ad81c"><div class="ttname"><a href="../../d9/dce/a02519.html#a93cb8d2987437170f0b56a464a9ad81c">MiRemoveAnyPage</a></div><div class="ttdeci">PFN_NUMBER FASTCALL MiRemoveAnyPage(IN ULONG PageColor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l02355">pfnlist.c:2355</a></div></div>
<div class="ttc" id="a02519_html_a4dc2c75b0f1df7e3c0234d369704ef91"><div class="ttname"><a href="../../d9/dce/a02519.html#a4dc2c75b0f1df7e3c0234d369704ef91">MmStandbyPageListHead</a></div><div class="ttdeci">MMPFNLIST MmStandbyPageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00124">miglobal.c:124</a></div></div>
<div class="ttc" id="a02519_html_ad9d97d7a3cfbbb0e393bd9abfb383d1c"><div class="ttname"><a href="../../d9/dce/a02519.html#ad9d97d7a3cfbbb0e393bd9abfb383d1c">MI_ADD_LOCKED_PAGE_CHARGE_FOR_PROBE</a></div><div class="ttdeci">FORCEINLINE LOGICAL MI_ADD_LOCKED_PAGE_CHARGE_FOR_PROBE(IN PMMPFN Pfn1, IN LOGICAL Force, IN PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02457">mi.h:2457</a></div></div>
<div class="ttc" id="a02519_html_aba8da66a8e1b617e1dfbe7f38258c746"><div class="ttname"><a href="../../d9/dce/a02519.html#aba8da66a8e1b617e1dfbe7f38258c746">MiMapWithLargePages</a></div><div class="ttdeci">PVOID MiMapWithLargePages(IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER NumberOfPages, IN ULONG Protection, IN MEMORY_CACHING_TYPE CacheType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l07986">iosup.c:7986</a></div></div>
<div class="ttc" id="a02273_html"><div class="ttname"><a href="../../d7/d6e/a02273.html">pool.h</a></div></div>
<div class="ttc" id="a02519_html_a493d7e5654d44b52c2dc4dee7eccbe22"><div class="ttname"><a href="../../d9/dce/a02519.html#a493d7e5654d44b52c2dc4dee7eccbe22">MiLocateAddress</a></div><div class="ttdeci">PMMVAD FASTCALL MiLocateAddress(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l02334">addrsup.c:2334</a></div></div>
<div class="ttc" id="a00996_html_ad24824a26c4cf4b7c2984bf0a95d169b"><div class="ttname"><a href="../../d3/daa/a00996.html#ad24824a26c4cf4b7c2984bf0a95d169b">_MMWSL::HashTableStart</a></div><div class="ttdeci">PVOID HashTableStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03020">mi.h:3020</a></div></div>
<div class="ttc" id="a02519_html_ae861c98ae681b8f7f4c8470823a5ba59"><div class="ttname"><a href="../../d9/dce/a02519.html#ae861c98ae681b8f7f4c8470823a5ba59">MiPurgeSubsectionInternal</a></div><div class="ttdeci">VOID MiPurgeSubsectionInternal(IN PSUBSECTION Subsection, IN ULONG PteOffset)</div></div>
<div class="ttc" id="a02519_html_a44cb7557779b34ad3349ea83336eef0f"><div class="ttname"><a href="../../d9/dce/a02519.html#a44cb7557779b34ad3349ea83336eef0f">DemandZeroPte</a></div><div class="ttdeci">const MMPTE DemandZeroPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00080">dataamd.c:80</a></div></div>
<div class="ttc" id="a00955_html_a8363e53018513ff464789e69cba6514a"><div class="ttname"><a href="../../dc/db6/a00955.html#a8363e53018513ff464789e69cba6514a">_MMFREE_POOL_ENTRY::Signature</a></div><div class="ttdeci">ULONG Signature</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04267">mi.h:4267</a></div></div>
<div class="ttc" id="a02248_html"><div class="ttname"><a href="../../dc/de2/a02248.html">ntos.h</a></div></div>
<div class="ttc" id="a00981_html_add79bd36d53a28785497be27d410dbd1"><div class="ttname"><a href="../../dd/d24/a00981.html#add79bd36d53a28785497be27d410dbd1">_MMSECTION_FLAGS::Commit</a></div><div class="ttdeci">unsigned Commit</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03532">mi.h:3532</a></div></div>
<div class="ttc" id="a02519_html_af05edee5335230c5643475dfa40859ae"><div class="ttname"><a href="../../d9/dce/a02519.html#af05edee5335230c5643475dfa40859ae">MmSizeOfPagedPoolInBytes</a></div><div class="ttdeci">SIZE_T MmSizeOfPagedPoolInBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00287">miglobal.c:287</a></div></div>
<div class="ttc" id="a02519_html_a45fe1ebab79878bb1f6ff5d38827c405"><div class="ttname"><a href="../../d9/dce/a02519.html#a45fe1ebab79878bb1f6ff5d38827c405">MmSessionSpace</a></div><div class="ttdeci">PMM_SESSION_SPACE MmSessionSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00750">miglobal.c:750</a></div></div>
<div class="ttc" id="a02519_html_ac59bb0d6e5b24531079d12f98803c595"><div class="ttname"><a href="../../d9/dce/a02519.html#ac59bb0d6e5b24531079d12f98803c595">Mi4KStartFromSubsection</a></div><div class="ttdeci">#define Mi4KStartFromSubsection(address, subsection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03773">mi.h:3773</a></div></div>
<div class="ttc" id="a01807_html"><div class="ttname"><a href="../../df/d5b/a01807.html">_VI_POOL_ENTRY_INUSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07061">mi.h:7061</a></div></div>
<div class="ttc" id="a00816_html_a653906483c61b455d362079b057991c4"><div class="ttname"><a href="../../d7/d60/a00816.html#a653906483c61b455d362079b057991c4">_LARGE_CONTROL_AREA::ModifiedWriteCount</a></div><div class="ttdeci">USHORT ModifiedWriteCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03595">mi.h:3595</a></div></div>
<div class="ttc" id="a02519_html_a5a333dbc3f5f70bdb17d0b5cfe49e73a"><div class="ttname"><a href="../../d9/dce/a02519.html#a5a333dbc3f5f70bdb17d0b5cfe49e73a">MiCheckPdeForSessionSpace</a></div><div class="ttdeci">NTSTATUS FASTCALL MiCheckPdeForSessionSpace(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05032">pagfault.c:5032</a></div></div>
<div class="ttc" id="a02519_html_a26db551a45d49ff12c11c1a852e2f920"><div class="ttname"><a href="../../d9/dce/a02519.html#a26db551a45d49ff12c11c1a852e2f920">MiSessionUnloadAllImages</a></div><div class="ttdeci">VOID MiSessionUnloadAllImages(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l00583">sessload.c:583</a></div></div>
<div class="ttc" id="a02519_html_af2d7e9bbacfc8c13622dbcd2cd3e369f"><div class="ttname"><a href="../../d9/dce/a02519.html#af2d7e9bbacfc8c13622dbcd2cd3e369f">MiVerifyingDriverUnloading</a></div><div class="ttdeci">VOID MiVerifyingDriverUnloading(IN PKLDR_DATA_TABLE_ENTRY DataTableEntry)</div></div>
<div class="ttc" id="a02519_html_a43362109da13d646bc966a048677926e"><div class="ttname"><a href="../../d9/dce/a02519.html#a43362109da13d646bc966a048677926e">MmSession</a></div><div class="ttdeci">MMSESSION MmSession</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l00047">mapview.c:47</a></div></div>
<div class="ttc" id="a00942_html_aa76d283fac6a6cfe6a98fb86c3a4f454"><div class="ttname"><a href="../../df/d12/a00942.html#aa76d283fac6a6cfe6a98fb86c3a4f454">_MM_SESSION_SPACE::WsListEntry</a></div><div class="ttdeci">LIST_ENTRY WsListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08623">mi.h:8623</a></div></div>
<div class="ttc" id="a00842_html"><div class="ttname"><a href="../../d0/d11/a00842.html">_LIST_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01084">ntdef.h:1084</a></div></div>
<div class="ttc" id="a02519_html_ab105d1dde88bd85ee5bdb708f9a7c778"><div class="ttname"><a href="../../d9/dce/a02519.html#ab105d1dde88bd85ee5bdb708f9a7c778">COLORED_PAGE_INFO</a></div><div class="ttdeci">struct _COLORED_PAGE_INFO COLORED_PAGE_INFO</div></div>
<div class="ttc" id="a02519_html_ab2ca6a155dc599f6f1de9b1f4334844e"><div class="ttname"><a href="../../d9/dce/a02519.html#ab2ca6a155dc599f6f1de9b1f4334844e">MmProtectedPteLock</a></div><div class="ttdeci">KSPIN_LOCK MmProtectedPteLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00047">mminit.c:47</a></div></div>
<div class="ttc" id="a02519_html_a24e9a04c30599fe6684c9c201e9b713a"><div class="ttname"><a href="../../d9/dce/a02519.html#a24e9a04c30599fe6684c9c201e9b713a">MiMapViewOfPhysicalSection</a></div><div class="ttdeci">NTSTATUS MiMapViewOfPhysicalSection(IN PCONTROL_AREA ControlArea, IN PEPROCESS Process, IN PVOID *CapturedBase, IN PLARGE_INTEGER SectionOffset, IN PSIZE_T CapturedViewSize, IN ULONG ProtectionMask, IN ULONG_PTR ZeroBits, IN ULONG AllocationType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l01148">mapview.c:1148</a></div></div>
<div class="ttc" id="a02519_html_a679ecd8ad5f31ed7c3f66b960d6b5b59"><div class="ttname"><a href="../../d9/dce/a02519.html#a679ecd8ad5f31ed7c3f66b960d6b5b59">PMI_FREED_SPECIAL_POOL</a></div><div class="ttdeci">struct _MI_FREED_SPECIAL_POOL * PMI_FREED_SPECIAL_POOL</div></div>
<div class="ttc" id="a00963_html_a7260b86340ebcc83f3b844cc10cd73c3"><div class="ttname"><a href="../../de/dad/a00963.html#a7260b86340ebcc83f3b844cc10cd73c3">_MMPAGING_FILE::PageFileNumber</a></div><div class="ttdeci">ULONG PageFileNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04252">mi.h:4252</a></div></div>
<div class="ttc" id="a02519_html_a52385adf93434356937a8c4b3f5be698"><div class="ttname"><a href="../../d9/dce/a02519.html#a52385adf93434356937a8c4b3f5be698">MmSecondaryColors</a></div><div class="ttdeci">ULONG MmSecondaryColors</div></div>
<div class="ttc" id="a02519_html_ad3f6d877fd6362482637b08829a5ccdc"><div class="ttname"><a href="../../d9/dce/a02519.html#ad3f6d877fd6362482637b08829a5ccdc">PALIAS_VAD_INFO2</a></div><div class="ttdeci">struct _ALIAS_VAD_INFO2 * PALIAS_VAD_INFO2</div></div>
<div class="ttc" id="a01806_html_a01a7d74d03f52f3cd8da7c41284c09bd"><div class="ttname"><a href="../../db/db2/a01806.html#a01a7d74d03f52f3cd8da7c41284c09bd">_VI_POOL_ENTRY::NextFree</a></div><div class="ttdeci">PSLIST_ENTRY NextFree</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07072">mi.h:7072</a></div></div>
<div class="ttc" id="a00847_html_ae61e2bc9ad9f6031e5b56e9e14a6c991"><div class="ttname"><a href="../../d4/d60/a00847.html#ae61e2bc9ad9f6031e5b56e9e14a6c991">_LOCK_HEADER::ListHead</a></div><div class="ttdeci">LIST_ENTRY ListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04367">mi.h:4367</a></div></div>
<div class="ttc" id="a02519_html_a1d977075d892415f595c11739c67c0f8"><div class="ttname"><a href="../../d9/dce/a02519.html#a1d977075d892415f595c11739c67c0f8">MmFreePagingSpaceLow</a></div><div class="ttdeci">LIST_ENTRY MmFreePagingSpaceLow</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00431">miglobal.c:431</a></div></div>
<div class="ttc" id="a00030_html"><div class="ttname"><a href="../../d5/d79/a00030.html">_ALIAS_VAD_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03965">mi.h:3965</a></div></div>
<div class="ttc" id="a00188_html_a883319c669cf77ad1f14170dd461a9c2"><div class="ttname"><a href="../../da/d15/a00188.html#a883319c669cf77ad1f14170dd461a9c2">_CONTROL_AREA::Flags</a></div><div class="ttdeci">MMSECTION_FLAGS Flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03568">mi.h:3568</a></div></div>
<div class="ttc" id="a02519_html_a5131dc33d34397027b2c0b9fa2867193"><div class="ttname"><a href="../../d9/dce/a02519.html#a5131dc33d34397027b2c0b9fa2867193">IMAGE_ENTRY_IN_SESSION</a></div><div class="ttdeci">struct _IMAGE_ENTRY_IN_SESSION IMAGE_ENTRY_IN_SESSION</div></div>
<div class="ttc" id="a02519_html_aa2e1e8609bd2c12a502fb1366c7740fe"><div class="ttname"><a href="../../d9/dce/a02519.html#aa2e1e8609bd2c12a502fb1366c7740fe">MiBuildPagedPool</a></div><div class="ttdeci">VOID MiBuildPagedPool(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l03301">mminit.c:3301</a></div></div>
<div class="ttc" id="a00847_html_aec34161eaedd6f2368dc91a099308400"><div class="ttname"><a href="../../d4/d60/a00847.html#aec34161eaedd6f2368dc91a099308400">_LOCK_HEADER::Count</a></div><div class="ttdeci">PFN_NUMBER Count</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04368">mi.h:4368</a></div></div>
<div class="ttc" id="a02519_html_af45334fcdb29c168b32aaea63320b064"><div class="ttname"><a href="../../d9/dce/a02519.html#af45334fcdb29c168b32aaea63320b064">MiDeleteSystemPageableVm</a></div><div class="ttdeci">PFN_NUMBER MiDeleteSystemPageableVm(IN PMMPTE PointerPte, IN PFN_NUMBER NumberOfPtes, IN ULONG Flags, OUT PPFN_NUMBER ResidentPages OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l05709">sysload.c:5709</a></div></div>
<div class="ttc" id="a00942_html"><div class="ttname"><a href="../../df/d12/a00942.html">_MM_SESSION_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08507">mi.h:8507</a></div></div>
<div class="ttc" id="a02519_html_a151133b72137023218c7000aa85f0a81"><div class="ttname"><a href="../../d9/dce/a02519.html#a151133b72137023218c7000aa85f0a81">MiPteRanges</a></div><div class="ttdeci">MI_PTE_RANGES MiPteRanges[MI_NUMBER_OF_PTE_RANGES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l00085">sysptes.c:85</a></div></div>
<div class="ttc" id="a00950_html_aa7437e6ecb08c7b1db1260743876d371"><div class="ttname"><a href="../../df/d39/a00950.html#aa7437e6ecb08c7b1db1260743876d371">_MMCLONE_DESCRIPTOR::Parent</a></div><div class="ttdeci">struct _MMADDRESS_NODE * Parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04159">mi.h:4159</a></div></div>
<div class="ttc" id="a02205_html_a1f3b66c209723809a1af7804bb056fad"><div class="ttname"><a href="../../dc/d43/a02205.html#a1f3b66c209723809a1af7804bb056fad">PKNODE</a></div><div class="ttdeci">struct DECLSPEC_CACHEALIGN _KNODE * PKNODE</div></div>
<div class="ttc" id="a00903_html"><div class="ttname"><a href="../../d4/d1c/a00903.html">_MDL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc3/a02249_source.html#l00388">ntosdef.h:388</a></div></div>
<div class="ttc" id="a02519_html_afc682704cd2f7d555ab0c849501dca56"><div class="ttname"><a href="../../d9/dce/a02519.html#afc682704cd2f7d555ab0c849501dca56">MiRemoveCachedRange</a></div><div class="ttdeci">VOID MiRemoveCachedRange(IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER LastPageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l06458">allocpag.c:6458</a></div></div>
<div class="ttc" id="a00992_html_a83a988ddc6164c4ce119b8e787d767db"><div class="ttname"><a href="../../d7/d76/a00992.html#a83a988ddc6164c4ce119b8e787d767db">_MMVAD_SHORT::Balance</a></div><div class="ttdeci">LONG_PTR Balance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04032">mi.h:4032</a></div></div>
<div class="ttc" id="a02519_html_a7e984e718cf171744238dc9dc49d98f7"><div class="ttname"><a href="../../d9/dce/a02519.html#a7e984e718cf171744238dc9dc49d98f7">MiInitializePfnAndMakePteValid</a></div><div class="ttdeci">VOID MiInitializePfnAndMakePteValid(IN PFN_NUMBER PageFrameIndex, IN PMMPTE PointerPte, IN MMPTE NewPteContents)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05367">pagfault.c:5367</a></div></div>
<div class="ttc" id="a02519_html_a578fa543b5afb7346270b81e7251991d"><div class="ttname"><a href="../../d9/dce/a02519.html#a578fa543b5afb7346270b81e7251991d">MmDataClusterSize</a></div><div class="ttdeci">ULONG MmDataClusterSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00042">mminit.c:42</a></div></div>
<div class="ttc" id="a02215_html_a6c5b94222653d38fd517ae97023327fe"><div class="ttname"><a href="../../dd/d31/a02215.html#a6c5b94222653d38fd517ae97023327fe">MM_MAXIMUM_READ_CLUSTER_SIZE</a></div><div class="ttdeci">#define MM_MAXIMUM_READ_CLUSTER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l00060">mm.h:60</a></div></div>
<div class="ttc" id="a02519_html_a407f0a14313222f2b82566689bc28329"><div class="ttname"><a href="../../d9/dce/a02519.html#a407f0a14313222f2b82566689bc28329">MiWaitForForkToComplete</a></div><div class="ttdeci">LOGICAL MiWaitForForkToComplete(IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/a02504_source.html#l02810">forksup.c:2810</a></div></div>
<div class="ttc" id="a00936_html_a4474ca3d5707c197737aacddf2d6ecd1"><div class="ttname"><a href="../../dc/d2b/a00936.html#a4474ca3d5707c197737aacddf2d6ecd1">_MM_DRIVER_VERIFIER_DATA::AllocationsSucceeded</a></div><div class="ttdeci">ULONG AllocationsSucceeded</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07120">mi.h:7120</a></div></div>
<div class="ttc" id="a02519_html_a3ce1e3c4a29bda2f82e2a6dc6127786a"><div class="ttname"><a href="../../d9/dce/a02519.html#a3ce1e3c4a29bda2f82e2a6dc6127786a">MmSystemCacheWsle</a></div><div class="ttdeci">PMMWSLE MmSystemCacheWsle</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00320">miglobal.c:320</a></div></div>
<div class="ttc" id="a02519_html_a44bc4e22684cc5d15be273c889bea0be"><div class="ttname"><a href="../../d9/dce/a02519.html#a44bc4e22684cc5d15be273c889bea0be">MiDeferredUnlockPages</a></div><div class="ttdeci">VOID MiDeferredUnlockPages(ULONG Flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l03935">iosup.c:3935</a></div></div>
<div class="ttc" id="a02519_html_a4124bb22e0782cd9bcfb85748417dd2e"><div class="ttname"><a href="../../d9/dce/a02519.html#a4124bb22e0782cd9bcfb85748417dd2e">MiLastVadBit</a></div><div class="ttdeci">ULONG MiLastVadBit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00068">miglobal.c:68</a></div></div>
<div class="ttc" id="a02519_html_aa001b00338162382c5d492e7e6d67ab2"><div class="ttname"><a href="../../d9/dce/a02519.html#aa001b00338162382c5d492e7e6d67ab2">MMPTE_FLUSH_LIST</a></div><div class="ttdeci">struct _MMPTE_FLUSH_LIST MMPTE_FLUSH_LIST</div></div>
<div class="ttc" id="a02519_html_a4869533c4e913cafa7bb97e3b74bba3e"><div class="ttname"><a href="../../d9/dce/a02519.html#a4869533c4e913cafa7bb97e3b74bba3e">MiIoRetryMask</a></div><div class="ttdeci">ULONG MiIoRetryMask</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00823">miglobal.c:823</a></div></div>
<div class="ttc" id="a00984_html_a464843a41a917c79a099f870066f3d93"><div class="ttname"><a href="../../d2/d4c/a00984.html#a464843a41a917c79a099f870066f3d93">_MMSUBSECTION_FLAGS::ReadOnly</a></div><div class="ttdeci">unsigned ReadOnly</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03607">mi.h:3607</a></div></div>
<div class="ttc" id="a02519_html_a43228681a739b27a8156b552ff55c985"><div class="ttname"><a href="../../d9/dce/a02519.html#a43228681a739b27a8156b552ff55c985">MiReleaseSystemPtes</a></div><div class="ttdeci">VOID MiReleaseSystemPtes(IN PMMPTE StartingPte, IN ULONG NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l01823">sysptes.c:1823</a></div></div>
<div class="ttc" id="a02519_html_a14ab8981369f56a43b06a4661646e886"><div class="ttname"><a href="../../d9/dce/a02519.html#a14ab8981369f56a43b06a4661646e886">MiUnmapPagesInZeroSpace</a></div><div class="ttdeci">VOID MiUnmapPagesInZeroSpace(IN PVOID VirtualAddress, IN PFN_COUNT NumberOfPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/a02506_source.html#l00427">hypermap.c:427</a></div></div>
<div class="ttc" id="a00935_html_ae5f26489ed7d3dc29e2ab6957f9bb2e0"><div class="ttname"><a href="../../d8/d19/a00935.html#ae5f26489ed7d3dc29e2ab6957f9bb2e0">_MM_AVL_TABLE::BalancedRoot</a></div><div class="ttdeci">MMADDRESS_NODE BalancedRoot</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00115">ps.h:115</a></div></div>
<div class="ttc" id="a00964_html_a2bad683a8f4ae02a65b629200a93263a"><div class="ttname"><a href="../../da/d17/a00964.html#a2bad683a8f4ae02a65b629200a93263a">_MMPFN::MustBeCached</a></div><div class="ttdeci">ULONG_PTR MustBeCached</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01772">mi.h:1772</a></div></div>
<div class="ttc" id="a00922_html_a4f7f96c524b98869037e6871c23442a4"><div class="ttname"><a href="../../dd/dcf/a00922.html#a4f7f96c524b98869037e6871c23442a4">_MI_FREED_SPECIAL_POOL::Pageable</a></div><div class="ttdeci">ULONG Pageable</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07206">mi.h:7206</a></div></div>
<div class="ttc" id="a00388_html"><div class="ttname"><a href="../../d9/dc1/a00388.html">_EX_PUSH_LOCK_CACHE_AWARE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l04884">ex.h:4884</a></div></div>
<div class="ttc" id="a02519_html_a01cc0d86a32c96a54063ea9909fb42d4"><div class="ttname"><a href="../../d9/dce/a02519.html#a01cc0d86a32c96a54063ea9909fb42d4">MmSystemSpaceViewStart</a></div><div class="ttdeci">PCHAR MmSystemSpaceViewStart</div></div>
<div class="ttc" id="a00929_html_a0bd293011b88800b3c67d3e406b626b5"><div class="ttname"><a href="../../dc/d92/a00929.html#a0bd293011b88800b3c67d3e406b626b5">_MI_PFN_DEREFERENCE_CHUNK::ListEntry</a></div><div class="ttdeci">SINGLE_LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04497">mi.h:4497</a></div></div>
<div class="ttc" id="a00930_html"><div class="ttname"><a href="../../d7/d16/a00930.html">_MI_PHYSICAL_VIEW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04048">mi.h:4048</a></div></div>
<div class="ttc" id="a02519_html_a8ab42d30d9e61430b1fba202ba7c95de"><div class="ttname"><a href="../../d9/dce/a02519.html#a8ab42d30d9e61430b1fba202ba7c95de">MiIsEntireRangeCommitted</a></div><div class="ttdeci">ULONG MiIsEntireRangeCommitted(IN PVOID StartingAddress, IN PVOID EndingAddress, IN PMMVAD Vad, IN PEPROCESS Process)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d94/a02505_source.html#l00864">freevm.c:864</a></div></div>
<div class="ttc" id="a00949_html_ae5f699f436791496671ef94c4d52e7f4"><div class="ttname"><a href="../../df/dc6/a00949.html#ae5f699f436791496671ef94c4d52e7f4">_MMCLONE_BLOCK::CloneRefCount</a></div><div class="ttdeci">LONG CloneRefCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04147">mi.h:4147</a></div></div>
<div class="ttc" id="a00188_html"><div class="ttname"><a href="../../da/d15/a00188.html">_CONTROL_AREA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03557">mi.h:3557</a></div></div>
<div class="ttc" id="a00990_html_ae58973a0eb3985133aed2196a86ef171"><div class="ttname"><a href="../../dd/d7a/a00990.html#ae58973a0eb3985133aed2196a86ef171">_MMVAD_FLAGS2::MultipleSecured</a></div><div class="ttdeci">unsigned MultipleSecured</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03942">mi.h:3942</a></div></div>
<div class="ttc" id="a00981_html_ae32d83bd8b0fcbddbbbb25059182e5c5"><div class="ttname"><a href="../../dd/d24/a00981.html#ae32d83bd8b0fcbddbbbb25059182e5c5">_MMSECTION_FLAGS::GlobalOnlyPerSession</a></div><div class="ttdeci">unsigned GlobalOnlyPerSession</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03551">mi.h:3551</a></div></div>
<div class="ttc" id="a02195_html_aaeb17bbcfab2592bd93fd7c4a7a0ce92"><div class="ttname"><a href="../../df/d0e/a02195.html#aaeb17bbcfab2592bd93fd7c4a7a0ce92">PFN_COUNT</a></div><div class="ttdeci">ULONG PFN_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l00053">i386.h:53</a></div></div>
<div class="ttc" id="a00957_html_a20f1a4ee6216273a6496d82afb2a49bb"><div class="ttname"><a href="../../d1/df7/a00957.html#a20f1a4ee6216273a6496d82afb2a49bb">_MMINPAGE_SUPPORT::Page</a></div><div class="ttdeci">PFN_NUMBER Page[MM_MAXIMUM_READ_CLUSTER_SIZE+1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03850">mi.h:3850</a></div></div>
<div class="ttc" id="a02519_html_a12cfa1b24f47fea76438f4b43b184b75"><div class="ttname"><a href="../../d9/dce/a02519.html#a12cfa1b24f47fea76438f4b43b184b75">PVI_POOL_ENTRY</a></div><div class="ttdeci">struct _VI_POOL_ENTRY * PVI_POOL_ENTRY</div></div>
<div class="ttc" id="a02519_html_a88381da50cb05cc30f4115e75adcfe05"><div class="ttname"><a href="../../d9/dce/a02519.html#a88381da50cb05cc30f4115e75adcfe05">MiGetSubsectionAndProtoFromPte</a></div><div class="ttdeci">PSUBSECTION MiGetSubsectionAndProtoFromPte(IN PMMPTE PointerPte, IN PMMPTE *ProtoPte)</div></div>
<div class="ttc" id="a02519_html_ab39029b20ed1997698dda7a264fbef16"><div class="ttname"><a href="../../d9/dce/a02519.html#ab39029b20ed1997698dda7a264fbef16">PSECTION</a></div><div class="ttdeci">struct _SECTION * PSECTION</div></div>
<div class="ttc" id="a00981_html_ad4a9eb972016951a30bbc39e48077525"><div class="ttname"><a href="../../dd/d24/a00981.html#ad4a9eb972016951a30bbc39e48077525">_MMSECTION_FLAGS::BeingCreated</a></div><div class="ttdeci">unsigned BeingCreated</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03517">mi.h:3517</a></div></div>
<div class="ttc" id="a02519_html_a0a4a5431a4bf7956ead7c29d2abb7f3f"><div class="ttname"><a href="../../d9/dce/a02519.html#a0a4a5431a4bf7956ead7c29d2abb7f3f">MiRemoveNode</a></div><div class="ttdeci">VOID FASTCALL MiRemoveNode(IN PMMADDRESS_NODE Node, IN PMM_AVL_TABLE Root)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l00808">addrsup.c:808</a></div></div>
<div class="ttc" id="a00991_html_a1013ca3ac89d546a6ba359e565f13376"><div class="ttname"><a href="../../df/d2f/a00991.html#a1013ca3ac89d546a6ba359e565f13376">_MMVAD_LONG::LastContiguousPte</a></div><div class="ttdeci">PMMPTE LastContiguousPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04015">mi.h:4015</a></div></div>
<div class="ttc" id="a00999_html_a1a74c9d105b844955fa91b4d887754ec"><div class="ttname"><a href="../../de/de2/a00999.html#a1a74c9d105b844955fa91b4d887754ec">_MMWSLE_HASH::Index</a></div><div class="ttdeci">WSLE_NUMBER Index</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02928">mi.h:2928</a></div></div>
<div class="ttc" id="a00961_html_a98a42e41ccc8cf2c86ce5465a3ae763e"><div class="ttname"><a href="../../da/d45/a00961.html#a98a42e41ccc8cf2c86ce5465a3ae763e">_MMMOD_WRITER_MDL_ENTRY::LastPageToWrite</a></div><div class="ttdeci">ULONG_PTR LastPageToWrite</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04224">mi.h:4224</a></div></div>
<div class="ttc" id="a00956_html_af438089e9c885279e02958cb2c3746e6"><div class="ttname"><a href="../../d3/de5/a00956.html#af438089e9c885279e02958cb2c3746e6">_MMINPAGE_FLAGS::Completed</a></div><div class="ttdeci">ULONG_PTR Completed</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03820">mi.h:3820</a></div></div>
<div class="ttc" id="a02519_html_aa5e528216ac0ddb979285988b1e75a3b"><div class="ttname"><a href="../../d9/dce/a02519.html#aa5e528216ac0ddb979285988b1e75a3b">MI_PFN_PRIORITY_BITS</a></div><div class="ttdeci">#define MI_PFN_PRIORITY_BITS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01688">mi.h:1688</a></div></div>
<div class="ttc" id="a02519_html_a54b59e13fbdc7767ca6d0cfdd77d2477"><div class="ttname"><a href="../../d9/dce/a02519.html#a54b59e13fbdc7767ca6d0cfdd77d2477">MiMapViewOfDataSection</a></div><div class="ttdeci">NTSTATUS MiMapViewOfDataSection(IN PCONTROL_AREA ControlArea, IN PEPROCESS Process, IN PVOID *CapturedBase, IN PLARGE_INTEGER SectionOffset, IN PSIZE_T CapturedViewSize, IN PSECTION Section, IN SECTION_INHERIT InheritDisposition, IN ULONG ProtectionMask, IN SIZE_T CommitSize, IN ULONG_PTR ZeroBits, IN ULONG AllocationType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l03504">mapview.c:3504</a></div></div>
<div class="ttc" id="a02230_html_a7f319bfc2492a2136964194204e7a8cf"><div class="ttname"><a href="../../dd/d67/a02230.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div><div class="ttdeci">#define VOID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00288">ntdef.h:288</a></div></div>
<div class="ttc" id="a02519_html_ae81dabf45e1edd9c0543da5ad0a5dd19"><div class="ttname"><a href="../../d9/dce/a02519.html#ae81dabf45e1edd9c0543da5ad0a5dd19">MmConsumedPoolPercentage</a></div><div class="ttdeci">ULONG MmConsumedPoolPercentage</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00417">miglobal.c:417</a></div></div>
<div class="ttc" id="a02519_html_a94cf5c0a572575d88da330af03436184"><div class="ttname"><a href="../../d9/dce/a02519.html#a94cf5c0a572575d88da330af03436184">MmAliasAlignmentOffset</a></div><div class="ttdeci">ULONG MmAliasAlignmentOffset</div></div>
<div class="ttc" id="a00988_html"><div class="ttname"><a href="../../d6/d48/a00988.html">_MMVAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03976">mi.h:3976</a></div></div>
<div class="ttc" id="a02519_html_a86b642b51c578df0b7eb3ed19219fb27"><div class="ttname"><a href="../../d9/dce/a02519.html#a86b642b51c578df0b7eb3ed19219fb27">MiReportPhysicalMemory</a></div><div class="ttdeci">VOID MiReportPhysicalMemory(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d56/a02495_source.html#l00483">initamd.c:483</a></div></div>
<div class="ttc" id="a02256_html_a20d44d1431b214ecfeb4e5939603c99e"><div class="ttname"><a href="../../de/dc3/a02256.html#a20d44d1431b214ecfeb4e5939603c99e">SLIST_ENTRY</a></div><div class="ttdeci">#define SLIST_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l00119">ntrtl.h:119</a></div></div>
<div class="ttc" id="a02519_html_aa548b383222d899d1e8436a2cd40ebaa"><div class="ttname"><a href="../../d9/dce/a02519.html#aa548b383222d899d1e8436a2cd40ebaa">MmSnapUnloads</a></div><div class="ttdeci">LOGICAL MmSnapUnloads</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07045">mi.h:7045</a></div></div>
<div class="ttc" id="a02519_html_a62871339836c6271a69764e5c93a54db"><div class="ttname"><a href="../../d9/dce/a02519.html#a62871339836c6271a69764e5c93a54db">MMBANKED_SECTION</a></div><div class="ttdeci">struct _MMBANKED_SECTION MMBANKED_SECTION</div></div>
<div class="ttc" id="a01185_html_a6e59d852d4b52f3506af2c09a1115e7a"><div class="ttname"><a href="../../d3/dd3/a01185.html#a6e59d852d4b52f3506af2c09a1115e7a">_MSUBSECTION::NumberOfFullSectors</a></div><div class="ttdeci">ULONG NumberOfFullSectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03656">mi.h:3656</a></div></div>
<div class="ttc" id="a00959_html"><div class="ttname"><a href="../../db/d40/a00959.html">_MMLOCK_CONFLICT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04272">mi.h:4272</a></div></div>
<div class="ttc" id="a02519_html_a4cf744c9ffec7b33e4296d1b87f3138a"><div class="ttname"><a href="../../d9/dce/a02519.html#a4cf744c9ffec7b33e4296d1b87f3138a">MmExtendedCommit</a></div><div class="ttdeci">SIZE_T MmExtendedCommit</div></div>
<div class="ttc" id="a02519_html_a93c35638100dd8d3bcb85df27755f63a"><div class="ttname"><a href="../../d9/dce/a02519.html#a93c35638100dd8d3bcb85df27755f63a">MiInitMachineDependent</a></div><div class="ttdeci">VOID MiInitMachineDependent(IN PLOADER_PARAMETER_BLOCK LoaderBlock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d56/a02495_source.html#l01131">initamd.c:1131</a></div></div>
<div class="ttc" id="a02496_html_a5bf16ed51ac673beb093aaac5df3f092"><div class="ttname"><a href="../../d1/df5/a02496.html#a5bf16ed51ac673beb093aaac5df3f092">MM_VIRTUAL_PAGE_SIZE</a></div><div class="ttdeci">#define MM_VIRTUAL_PAGE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00149">miamd.h:149</a></div></div>
<div class="ttc" id="a02519_html_addced45236530bee7cce688d544a5bf0"><div class="ttname"><a href="../../d9/dce/a02519.html#addced45236530bee7cce688d544a5bf0">MmTotalCommittedPages</a></div><div class="ttdeci">SIZE_T MmTotalCommittedPages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00449">miglobal.c:449</a></div></div>
<div class="ttc" id="a02519_html_a57de7ef8d0e0b4cbcbef06e5760d5524"><div class="ttname"><a href="../../d9/dce/a02519.html#a57de7ef8d0e0b4cbcbef06e5760d5524">MiVerifierThunksAdded</a></div><div class="ttdeci">ULONG MiVerifierThunksAdded</div></div>
<div class="ttc" id="a00948_html_ac31df5117d9d79da317c05adfa1a3306"><div class="ttname"><a href="../../d8/d18/a00948.html#ac31df5117d9d79da317c05adfa1a3306">_MMBANKED_SECTION::BasedPte</a></div><div class="ttdeci">PMMPTE BasedPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03879">mi.h:3879</a></div></div>
<div class="ttc" id="a02519_html_a09b2fa61039eb57160901a5774d3ed08"><div class="ttname"><a href="../../d9/dce/a02519.html#a09b2fa61039eb57160901a5774d3ed08">PMM_PTE_MAPPING</a></div><div class="ttdeci">struct _MM_PTE_MAPPING * PMM_PTE_MAPPING</div></div>
<div class="ttc" id="a01664_html_a600fd51cd8f5d7f3f7e13557a92964fe"><div class="ttname"><a href="../../dc/d71/a01664.html#a600fd51cd8f5d7f3f7e13557a92964fe">_SUBSECTION::UnusedPtes</a></div><div class="ttdeci">ULONG UnusedPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03626">mi.h:3626</a></div></div>
<div class="ttc" id="a00922_html_abcfd2feef3f091ef034cb12ee769ed8a"><div class="ttname"><a href="../../dd/dcf/a00922.html#abcfd2feef3f091ef034cb12ee769ed8a">_MI_FREED_SPECIAL_POOL::Signature</a></div><div class="ttdeci">ULONG Signature</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07203">mi.h:7203</a></div></div>
<div class="ttc" id="a02519_html_abc6422c6f476ad98d6e3d06670aa3767"><div class="ttname"><a href="../../d9/dce/a02519.html#abc6422c6f476ad98d6e3d06670aa3767">MI_REMOVE_LOCKED_PAGE_CHARGE</a></div><div class="ttdeci">FORCEINLINE VOID MI_REMOVE_LOCKED_PAGE_CHARGE(IN PMMPFN Pfn1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02714">mi.h:2714</a></div></div>
<div class="ttc" id="a02519_html_ad59757ff24bafd793c13eebcf1df56a3"><div class="ttname"><a href="../../d9/dce/a02519.html#ad59757ff24bafd793c13eebcf1df56a3">PMM_PROTECTION_MASK</a></div><div class="ttdeci">PULONG PMM_PROTECTION_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00146">mi.h:146</a></div></div>
<div class="ttc" id="a02519_html_aacf5b2443b855269cae4e18f3ccf480c"><div class="ttname"><a href="../../d9/dce/a02519.html#aacf5b2443b855269cae4e18f3ccf480c">SECTION</a></div><div class="ttdeci">struct _SECTION SECTION</div></div>
<div class="ttc" id="a02519_html_a7fd9ec62c531de00608cfedc425d9b23"><div class="ttname"><a href="../../d9/dce/a02519.html#a7fd9ec62c531de00608cfedc425d9b23">MiInitializeIoTrackers</a></div><div class="ttdeci">VOID MiInitializeIoTrackers(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l04306">iosup.c:4306</a></div></div>
<div class="ttc" id="a00939_html_a8ec9ea188ec4f17e5ffcbc08950bf002"><div class="ttname"><a href="../../dd/d20/a00939.html#a8ec9ea188ec4f17e5ffcbc08950bf002">_MM_PAGED_POOL_INFO::FirstPteForPagedPool</a></div><div class="ttdeci">PMMPTE FirstPteForPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07719">mi.h:7719</a></div></div>
<div class="ttc" id="a00961_html_a7ff76c973458fff67cd4f815ffcb69be"><div class="ttname"><a href="../../da/d45/a00961.html#a7ff76c973458fff67cd4f815ffcb69be">_MMMOD_WRITER_MDL_ENTRY::CurrentList</a></div><div class="ttdeci">PLIST_ENTRY CurrentList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04226">mi.h:4226</a></div></div>
<div class="ttc" id="a02519_html_a17c46c793494f98bd1dab217cd55dcbf"><div class="ttname"><a href="../../d9/dce/a02519.html#a17c46c793494f98bd1dab217cd55dcbf">MiRemoveImageSessionWide</a></div><div class="ttdeci">VOID MiRemoveImageSessionWide(IN PKLDR_DATA_TABLE_ENTRY DataTableEntry OPTIONAL, IN PVOID BaseAddress, IN ULONG_PTR NumberOfBytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l01199">sessload.c:1199</a></div></div>
<div class="ttc" id="a02519_html_a4f4db17fab8bd963f110530f80215a78"><div class="ttname"><a href="../../d9/dce/a02519.html#a4f4db17fab8bd963f110530f80215a78">LOAD_IMPORTS</a></div><div class="ttdeci">struct _LOAD_IMPORTS LOAD_IMPORTS</div></div>
<div class="ttc" id="a02519_html_a96216d59edc9ac49288a44ad7347cce2"><div class="ttname"><a href="../../d9/dce/a02519.html#a96216d59edc9ac49288a44ad7347cce2">MiModifiedPageWriterTimerDpc</a></div><div class="ttdeci">KDPC MiModifiedPageWriterTimerDpc</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00189">mminit.c:189</a></div></div>
<div class="ttc" id="a00847_html"><div class="ttname"><a href="../../d4/d60/a00847.html">_LOCK_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04366">mi.h:4366</a></div></div>
<div class="ttc" id="a00676_html"><div class="ttname"><a href="../../d5/d39/a00676.html">_IO_STATUS_BLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d5b/a02238_source.html#l00451">ntioapi.h:451</a></div></div>
<div class="ttc" id="a00981_html_a670fc501930100e0e3e86c660474f7d4"><div class="ttname"><a href="../../dd/d24/a00981.html#a670fc501930100e0e3e86c660474f7d4">_MMSECTION_FLAGS::PhysicalMemory</a></div><div class="ttdeci">unsigned PhysicalMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03528">mi.h:3528</a></div></div>
<div class="ttc" id="a00964_html_af4e19f8b98188603aa58e51c0f6707b1"><div class="ttname"><a href="../../da/d17/a00964.html#af4e19f8b98188603aa58e51c0f6707b1">_MMPFN::PteFrame</a></div><div class="ttdeci">ULONG_PTR PteFrame</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01766">mi.h:1766</a></div></div>
<div class="ttc" id="a02519_html_a7bb5c6f0ffa9536972c51da75ca99ec4"><div class="ttname"><a href="../../d9/dce/a02519.html#a7bb5c6f0ffa9536972c51da75ca99ec4">MiTriageSystem</a></div><div class="ttdeci">LOGICAL MiTriageSystem(IN PLOADER_PARAMETER_BLOCK LoaderBlock)</div></div>
<div class="ttc" id="a01664_html_aad64adeff097260f21058c214f161663"><div class="ttname"><a href="../../dc/d71/a01664.html#aad64adeff097260f21058c214f161663">_SUBSECTION::ControlArea</a></div><div class="ttdeci">PCONTROL_AREA ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03618">mi.h:3618</a></div></div>
<div class="ttc" id="a02519_html_a42c47662e88b3f33f1c4ed51d0845656"><div class="ttname"><a href="../../d9/dce/a02519.html#a42c47662e88b3f33f1c4ed51d0845656">MiFreeSessionPoolBitMaps</a></div><div class="ttdeci">VOID MiFreeSessionPoolBitMaps(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l04165">allocpag.c:4165</a></div></div>
<div class="ttc" id="a02519_html_a1ad133213c84b0657265d1b977aeef90"><div class="ttname"><a href="../../d9/dce/a02519.html#a1ad133213c84b0657265d1b977aeef90">MiSessionBasePte</a></div><div class="ttdeci">PMMPTE MiSessionBasePte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00184">miglobal.c:184</a></div></div>
<div class="ttc" id="a02519_html_a80ffb5f3e90a0201249b63f82ef36022"><div class="ttname"><a href="../../d9/dce/a02519.html#a80ffb5f3e90a0201249b63f82ef36022">NodeTreeWalk</a></div><div class="ttdeci">VOID NodeTreeWalk(PMMADDRESS_NODE Start)</div></div>
<div class="ttc" id="a02519_html_afc40878afcbfa091eb7f5d28c880c02e"><div class="ttname"><a href="../../d9/dce/a02519.html#afc40878afcbfa091eb7f5d28c880c02e">MiFreeLargePages</a></div><div class="ttdeci">VOID MiFreeLargePages(IN PVOID StartingAddress, IN PVOID EndingAddress, IN LOGICAL CallerHadPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l03657">physical.c:3657</a></div></div>
<div class="ttc" id="a00957_html_adc4485d53182dccb758ed6a297b96c27"><div class="ttname"><a href="../../d1/df7/a00957.html#adc4485d53182dccb758ed6a297b96c27">_MMINPAGE_SUPPORT::Mdl</a></div><div class="ttdeci">MDL Mdl</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03849">mi.h:3849</a></div></div>
<div class="ttc" id="a00984_html_ad2f1f811416d6f8f3e9d004f829249bc"><div class="ttname"><a href="../../d2/d4c/a00984.html#ad2f1f811416d6f8f3e9d004f829249bc">_MMSUBSECTION_FLAGS::SubsectionStatic</a></div><div class="ttdeci">unsigned SubsectionStatic</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03609">mi.h:3609</a></div></div>
<div class="ttc" id="a00988_html_a2dd7dd62362f076b679598b10b82b623"><div class="ttname"><a href="../../d6/d48/a00988.html#a2dd7dd62362f076b679598b10b82b623">_MMVAD::EndingVpn</a></div><div class="ttdeci">ULONG_PTR EndingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03984">mi.h:3984</a></div></div>
<div class="ttc" id="a02519_html_a36b11401c108b0487f832f8354abce39"><div class="ttname"><a href="../../d9/dce/a02519.html#a36b11401c108b0487f832f8354abce39">MiPfnSorted</a></div><div class="ttdeci">MMPFNTIMINGS MiPfnSorted[]</div></div>
<div class="ttc" id="a02519_html_a27c5ae51f6a6ca818e977c654d5f75c4"><div class="ttname"><a href="../../d9/dce/a02519.html#a27c5ae51f6a6ca818e977c654d5f75c4">PMM_SESSION_SPACE</a></div><div class="ttdeci">struct _MM_SESSION_SPACE * PMM_SESSION_SPACE</div></div>
<div class="ttc" id="a02519_html_abd312d26fce8e0a43c12e98856d4e429"><div class="ttname"><a href="../../d9/dce/a02519.html#abd312d26fce8e0a43c12e98856d4e429">PMMVAD_LONG</a></div><div class="ttdeci">struct _MMVAD_LONG * PMMVAD_LONG</div></div>
<div class="ttc" id="a02195_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="../../df/d0e/a02195.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l01844">i386.h:1844</a></div></div>
<div class="ttc" id="a00947_html"><div class="ttname"><a href="../../d3/d29/a00947.html">_MMADDRESS_NODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00089">ps.h:89</a></div></div>
<div class="ttc" id="a02519_html_acb3eba71012236b9148d1bd59e58abda"><div class="ttname"><a href="../../d9/dce/a02519.html#acb3eba71012236b9148d1bd59e58abda">MiInitializeTransitionPfn</a></div><div class="ttdeci">VOID MiInitializeTransitionPfn(IN PFN_NUMBER PageFrameIndex, IN PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05800">pagfault.c:5800</a></div></div>
<div class="ttc" id="a01664_html_aa26fa67cefa4b93eeb9167da58cacd07"><div class="ttname"><a href="../../dc/d71/a01664.html#aa26fa67cefa4b93eeb9167da58cacd07">_SUBSECTION::PtesInSubsection</a></div><div class="ttdeci">ULONG PtesInSubsection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03627">mi.h:3627</a></div></div>
<div class="ttc" id="a00188_html_a122a594a65f81d3ff6c3bbd5376747da"><div class="ttname"><a href="../../da/d15/a00188.html#a122a594a65f81d3ff6c3bbd5376747da">_CONTROL_AREA::NumberOfSectionReferences</a></div><div class="ttdeci">ULONG NumberOfSectionReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03560">mi.h:3560</a></div></div>
<div class="ttc" id="a02519_html_a581c844c8c7c2f8be2a55134754cae6b"><div class="ttname"><a href="../../d9/dce/a02519.html#a581c844c8c7c2f8be2a55134754cae6b">MI_NEXT_ESTIMATION_SLOT_CONST</a></div><div class="ttdeci">struct _MI_NEXT_ESTIMATION_SLOT_CONST MI_NEXT_ESTIMATION_SLOT_CONST</div></div>
<div class="ttc" id="a02215_html_a919454825ec002a0c0560dfa4bd3a66e"><div class="ttname"><a href="../../dd/d31/a02215.html#a919454825ec002a0c0560dfa4bd3a66e">VirtualAddress</a></div><div class="ttdeci">IN PVOID VirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l02556">mm.h:2556</a></div></div>
<div class="ttc" id="a02519_html_a684c69a06daa64cbf447a91bbdecf494"><div class="ttname"><a href="../../d9/dce/a02519.html#a684c69a06daa64cbf447a91bbdecf494">MmSessionSpecialPoolEnd</a></div><div class="ttdeci">PVOID MmSessionSpecialPoolEnd</div></div>
<div class="ttc" id="a00188_html_ae53dca819f94189be6ba3fb297a96d99"><div class="ttname"><a href="../../da/d15/a00188.html#ae53dca819f94189be6ba3fb297a96d99">_CONTROL_AREA::DereferenceList</a></div><div class="ttdeci">LIST_ENTRY DereferenceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03559">mi.h:3559</a></div></div>
<div class="ttc" id="a02519_html_a2c10b4fc7f9229d2e2f4a0e3e0d91398"><div class="ttname"><a href="../../d9/dce/a02519.html#a2c10b4fc7f9229d2e2f4a0e3e0d91398">MiInsertAweInfo</a></div><div class="ttdeci">PVOID MiInsertAweInfo(IN PAWEINFO AweInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l01356">physical.c:1356</a></div></div>
<div class="ttc" id="a02519_html_a6b1fe32476b7d90a8ea9feac6805d813"><div class="ttname"><a href="../../d9/dce/a02519.html#a6b1fe32476b7d90a8ea9feac6805d813">MiObtainFreePages</a></div><div class="ttdeci">VOID MiObtainFreePages(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1a/a02546_source.html#l00213">wsmanage.c:213</a></div></div>
<div class="ttc" id="a02519_html_a63a505fd06333260bbfe502ae80e808d"><div class="ttname"><a href="../../d9/dce/a02519.html#a63a505fd06333260bbfe502ae80e808d">MmMaximumNonPagedPoolInPages</a></div><div class="ttdeci">PFN_NUMBER MmMaximumNonPagedPoolInPages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00275">miglobal.c:275</a></div></div>
<div class="ttc" id="a02519_html_afc527f1b61fb8c70344a40fd3fa2ecb4"><div class="ttname"><a href="../../d9/dce/a02519.html#afc527f1b61fb8c70344a40fd3fa2ecb4">MmMakeProtectNotWriteCopy</a></div><div class="ttdeci">ULONG MmMakeProtectNotWriteCopy[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00671">miglobal.c:671</a></div></div>
<div class="ttc" id="a00988_html_aa15cd7f3cfad2dde5e9d717d65299ff9"><div class="ttname"><a href="../../d6/d48/a00988.html#aa15cd7f3cfad2dde5e9d717d65299ff9">_MMVAD::StartingVpn</a></div><div class="ttdeci">ULONG_PTR StartingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03983">mi.h:3983</a></div></div>
<div class="ttc" id="a02519_html_a1c9c09fd0218857d745f392856edb6ed"><div class="ttname"><a href="../../d9/dce/a02519.html#a1c9c09fd0218857d745f392856edb6ed">MiFreeInPageSupportBlock</a></div><div class="ttdeci">VOID MiFreeInPageSupportBlock(IN PMMINPAGE_SUPPORT Support)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l06665">pagfault.c:6665</a></div></div>
<div class="ttc" id="a00948_html_afe3adc73fc946e011bf476d7d2f44b4a"><div class="ttname"><a href="../../d8/d18/a00948.html#afe3adc73fc946e011bf476d7d2f44b4a">_MMBANKED_SECTION::BankSize</a></div><div class="ttdeci">ULONG BankSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03880">mi.h:3880</a></div></div>
<div class="ttc" id="a02519_html_a1eec45fed88f3e00397b42a705bafadc"><div class="ttname"><a href="../../d9/dce/a02519.html#a1eec45fed88f3e00397b42a705bafadc">MiDeletePageTablesForPhysicalRange</a></div><div class="ttdeci">VOID MiDeletePageTablesForPhysicalRange(IN PVOID StartingAddress, IN PVOID EndingAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/a02493_source.html#l03025">allocvm.c:3025</a></div></div>
<div class="ttc" id="a00895_html_af6712e77046792ceeba427de0f3fd1e8"><div class="ttname"><a href="../../d2/d21/a00895.html#af6712e77046792ceeba427de0f3fd1e8">_MAPPED_FILE_SEGMENT::LastSubsectionHint</a></div><div class="ttdeci">struct _MSUBSECTION * LastSubsectionHint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03505">mi.h:3505</a></div></div>
<div class="ttc" id="a01594_html_a8bc8d8d2fb0503eb7146a0eb7f2569cb"><div class="ttname"><a href="../../dc/def/a01594.html#a8bc8d8d2fb0503eb7146a0eb7f2569cb">_SEGMENT::SizeOfSegment</a></div><div class="ttdeci">UINT64 SizeOfSegment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03460">mi.h:3460</a></div></div>
<div class="ttc" id="a02519_html_a4394d7669b3b7fcedafda22a41e32c73a8e6030a5da732bf7bde0475a91770dee"><div class="ttname"><a href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a8e6030a5da732bf7bde0475a91770dee">CheckImageSection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03433">mi.h:3433</a></div></div>
<div class="ttc" id="a00850_html_aa8f94193303330b55d085467fca64d12"><div class="ttname"><a href="../../dc/d0a/a00850.html#aa8f94193303330b55d085467fca64d12">_LOCK_TRACKER::StartVa</a></div><div class="ttdeci">PVOID StartVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04347">mi.h:4347</a></div></div>
<div class="ttc" id="a02519_html_ad3527fc95b6093e86e81c55d8522d282"><div class="ttname"><a href="../../d9/dce/a02519.html#ad3527fc95b6093e86e81c55d8522d282">InterlockedCompareExchangePfn</a></div><div class="ttdeci">#define InterlockedCompareExchangePfn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02330">mi.h:2330</a></div></div>
<div class="ttc" id="a00942_html_a1ee336368e3161ea61239bc56c0a720c"><div class="ttname"><a href="../../df/d12/a00942.html#a1ee336368e3161ea61239bc56c0a720c">_MM_SESSION_SPACE::Color</a></div><div class="ttdeci">ULONG Color</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08583">mi.h:8583</a></div></div>
<div class="ttc" id="a01578_html_a0dd3dd9eb51879a91b00ca1335df2f94"><div class="ttname"><a href="../../d1/d88/a01578.html#a0dd3dd9eb51879a91b00ca1335df2f94">_SECTION::u</a></div><div class="ttdeci">union _SECTION::@747 u</div></div>
<div class="ttc" id="a00188_html_ab85014c3f978d37245cf0a0b3bf08fb7"><div class="ttname"><a href="../../da/d15/a00188.html#ab85014c3f978d37245cf0a0b3bf08fb7">_CONTROL_AREA::FlushInProgressCount</a></div><div class="ttdeci">USHORT FlushInProgressCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03573">mi.h:3573</a></div></div>
<div class="ttc" id="a00972_html_a00f2056315540d1cea84eda82129e2a6"><div class="ttname"><a href="../../de/d4e/a00972.html#a00f2056315540d1cea84eda82129e2a6">_MMPTE_FLUSH_LIST::Count</a></div><div class="ttdeci">ULONG Count</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04331">mi.h:4331</a></div></div>
<div class="ttc" id="a00964_html"><div class="ttname"><a href="../../da/d17/a00964.html">_MMPFN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01710">mi.h:1710</a></div></div>
<div class="ttc" id="a00936_html_a8e550c5fddbaa251388b6daa915c3598"><div class="ttname"><a href="../../dc/d2b/a00936.html#a8e550c5fddbaa251388b6daa915c3598">_MM_DRIVER_VERIFIER_DATA::AllocationsWithNoTag</a></div><div class="ttdeci">ULONG AllocationsWithNoTag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07122">mi.h:7122</a></div></div>
<div class="ttc" id="a02496_html_a06c5ecaf5b2046120f72fa1c7951eb6c"><div class="ttname"><a href="../../d1/df5/a02496.html#a06c5ecaf5b2046120f72fa1c7951eb6c">MM_MAXIMUM_NUMBER_OF_COLORS</a></div><div class="ttdeci">#define MM_MAXIMUM_NUMBER_OF_COLORS</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00283">miamd.h:283</a></div></div>
<div class="ttc" id="a01185_html_acc209123672ef8568c2205e94a4109e2"><div class="ttname"><a href="../../d3/dd3/a01185.html#acc209123672ef8568c2205e94a4109e2">_MSUBSECTION::u</a></div><div class="ttdeci">union _MSUBSECTION::@744 u</div></div>
<div class="ttc" id="a02519_html_a5eb000ffa8c3d71032a84043ca80bf5f"><div class="ttname"><a href="../../d9/dce/a02519.html#a5eb000ffa8c3d71032a84043ca80bf5f">MiCreateDataFileMap</a></div><div class="ttdeci">NTSTATUS MiCreateDataFileMap(IN PFILE_OBJECT File, OUT PSEGMENT *Segment, IN PUINT64 MaximumSize, IN ULONG SectionPageProtection, IN ULONG AllocationAttributes, IN ULONG IgnoreFileSizing)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l04199">creasect.c:4199</a></div></div>
<div class="ttc" id="a00940_html_ad5be983cece69f5823c6897f7289b0ac"><div class="ttname"><a href="../../d7/db6/a00940.html#ad5be983cece69f5823c6897f7289b0ac">_MM_PTE_MAPPING::SystemVa</a></div><div class="ttdeci">PVOID SystemVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05119">mi.h:5119</a></div></div>
<div class="ttc" id="a00935_html"><div class="ttname"><a href="../../d8/d19/a00935.html">_MM_AVL_TABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00114">ps.h:114</a></div></div>
<div class="ttc" id="a00934_html_a0ce0e2e30592740662317acaafe1665f"><div class="ttname"><a href="../../d0/df0/a00934.html#a0ce0e2e30592740662317acaafe1665f">_MI_VERIFIER_POOL_HEADER::VerifierPoolEntry</a></div><div class="ttdeci">PVI_POOL_ENTRY VerifierPoolEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07110">mi.h:7110</a></div></div>
<div class="ttc" id="a02519_html_a6574e879d8d4fd9c1b0b43b4b317ff51"><div class="ttname"><a href="../../d9/dce/a02519.html#a6574e879d8d4fd9c1b0b43b4b317ff51">MMCLONE_HEADER</a></div><div class="ttdeci">struct _MMCLONE_HEADER MMCLONE_HEADER</div></div>
<div class="ttc" id="a02519_html_a7f925f60ee965d4910ec4b6ecfcb557b"><div class="ttname"><a href="../../d9/dce/a02519.html#a7f925f60ee965d4910ec4b6ecfcb557b">MmSystemProcessWorkingSetMin</a></div><div class="ttdeci">PFN_NUMBER MmSystemProcessWorkingSetMin</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00534">miglobal.c:534</a></div></div>
<div class="ttc" id="a02519_html_a00f3d6848d90acbf5dfebf8d5836420c"><div class="ttname"><a href="../../d9/dce/a02519.html#a00f3d6848d90acbf5dfebf8d5836420c">MMSECURE_ENTRY</a></div><div class="ttdeci">struct _MMSECURE_ENTRY MMSECURE_ENTRY</div></div>
<div class="ttc" id="a00991_html_a79d25bdaea2755c90ffaf1f989c7b3d4"><div class="ttname"><a href="../../df/d2f/a00991.html#a79d25bdaea2755c90ffaf1f989c7b3d4">_MMVAD_LONG::LongFlags</a></div><div class="ttdeci">ULONG_PTR LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04010">mi.h:4010</a></div></div>
<div class="ttc" id="a02519_html_ad9e4fe78e10532dc8e081d5e56349ef7"><div class="ttname"><a href="../../d9/dce/a02519.html#ad9e4fe78e10532dc8e081d5e56349ef7">MMADDRESS_LIST</a></div><div class="ttdeci">struct _MMADDRESS_LIST MMADDRESS_LIST</div></div>
<div class="ttc" id="a02519_html_a5e0f5a376c555d6436b2257095b9f3f7"><div class="ttname"><a href="../../d9/dce/a02519.html#a5e0f5a376c555d6436b2257095b9f3f7">MmCodeClusterSize</a></div><div class="ttdeci">ULONG MmCodeClusterSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00043">mminit.c:43</a></div></div>
<div class="ttc" id="a01627_html"><div class="ttname"><a href="../../de/db6/a01627.html">_SINGLE_LIST_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01094">ntdef.h:1094</a></div></div>
<div class="ttc" id="a02519_html_a25a4333aa538f0036b116d12739d4138"><div class="ttname"><a href="../../d9/dce/a02519.html#a25a4333aa538f0036b116d12739d4138">MiUnmapLargePages</a></div><div class="ttdeci">VOID MiUnmapLargePages(IN PVOID BaseAddress, IN SIZE_T NumberOfBytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l08307">iosup.c:8307</a></div></div>
<div class="ttc" id="a02519_html_a356314cddf1b83d8181d3b0b5a44422c"><div class="ttname"><a href="../../d9/dce/a02519.html#a356314cddf1b83d8181d3b0b5a44422c">MiNonCachedCollisions</a></div><div class="ttdeci">ULONG MiNonCachedCollisions</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00119">iosup.c:119</a></div></div>
<div class="ttc" id="a02256_html_ada58d39577d11f98a8c4162f18467550"><div class="ttname"><a href="../../de/dc3/a02256.html#ada58d39577d11f98a8c4162f18467550">RtlCheckBit</a></div><div class="ttdeci">#define RtlCheckBit(BMH, BP)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l05945">ntrtl.h:5945</a></div></div>
<div class="ttc" id="a00991_html_a3903167d942c1a67727401504eef96fb"><div class="ttname"><a href="../../df/d2f/a00991.html#a3903167d942c1a67727401504eef96fb">_MMVAD_LONG::VadFlags</a></div><div class="ttdeci">MMVAD_FLAGS VadFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04011">mi.h:4011</a></div></div>
<div class="ttc" id="a02519_html_ab0cce4b90f64c19eadbfc3d6540d54f3"><div class="ttname"><a href="../../d9/dce/a02519.html#ab0cce4b90f64c19eadbfc3d6540d54f3">MmSpecialPoolTag</a></div><div class="ttdeci">ULONG MmSpecialPoolTag</div></div>
<div class="ttc" id="a02519_html_a25bbda090700a973ac5bab59d340ab0a"><div class="ttname"><a href="../../d9/dce/a02519.html#a25bbda090700a973ac5bab59d340ab0a">MiInitializeReadInProgressPfn</a></div><div class="ttdeci">VOID MiInitializeReadInProgressPfn(IN PMDL Mdl, IN PMMPTE BasePte, IN PKEVENT Event, IN WSLE_NUMBER WorkingSetIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05635">pagfault.c:5635</a></div></div>
<div class="ttc" id="a02519_html_a90284911b52b34cc954d30414cfe9e1d"><div class="ttname"><a href="../../d9/dce/a02519.html#a90284911b52b34cc954d30414cfe9e1d">MmUnusedSubsectionCountPeak</a></div><div class="ttdeci">ULONG MmUnusedSubsectionCountPeak</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00405">miglobal.c:405</a></div></div>
<div class="ttc" id="a02519_html_a491ceceb99a5d209b8e2206e1aaf19a7"><div class="ttname"><a href="../../d9/dce/a02519.html#a491ceceb99a5d209b8e2206e1aaf19a7">MiSegmentDelete</a></div><div class="ttdeci">VOID MiSegmentDelete(PSEGMENT Segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l00157">sectsup.c:157</a></div></div>
<div class="ttc" id="a02519_html_ae21b2d466815852a6fbfba30d223e783"><div class="ttname"><a href="../../d9/dce/a02519.html#ae21b2d466815852a6fbfba30d223e783">MiEndingOffset</a></div><div class="ttdeci">LARGE_INTEGER FORCEINLINE MiEndingOffset(IN PSUBSECTION Subsection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06876">mi.h:6876</a></div></div>
<div class="ttc" id="a00942_html_a9c996c79d672e4d97afe927c679316d2"><div class="ttname"><a href="../../df/d12/a00942.html#a9c996c79d672e4d97afe927c679316d2">_MM_SESSION_SPACE::PageTables</a></div><div class="ttdeci">PMMPTE PageTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08679">mi.h:8679</a></div></div>
<div class="ttc" id="a02519_html_aeaa9eb86bbf4d3f51d8fe67a71cbf0ed"><div class="ttname"><a href="../../d9/dce/a02519.html#aeaa9eb86bbf4d3f51d8fe67a71cbf0ed">MiSessionWsList</a></div><div class="ttdeci">LIST_ENTRY MiSessionWsList</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00756">miglobal.c:756</a></div></div>
<div class="ttc" id="a02519_html_a912696531df66014c894737d3dfb4c10"><div class="ttname"><a href="../../d9/dce/a02519.html#a912696531df66014c894737d3dfb4c10">MmModifiedPageMaximum</a></div><div class="ttdeci">PFN_NUMBER MmModifiedPageMaximum</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00489">miglobal.c:489</a></div></div>
<div class="ttc" id="a01594_html_adb4f1a7593ee5709ebcae260657195d7"><div class="ttname"><a href="../../dc/def/a01594.html#adb4f1a7593ee5709ebcae260657195d7">_SEGMENT::ImageInformation</a></div><div class="ttdeci">PSECTION_IMAGE_INFORMATION ImageInformation</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03481">mi.h:3481</a></div></div>
<div class="ttc" id="a02519_html_adc924f9ee8d1a50c3fb3d90aa58eae93"><div class="ttname"><a href="../../d9/dce/a02519.html#adc924f9ee8d1a50c3fb3d90aa58eae93">MmResidentAvailablePages</a></div><div class="ttdeci">SPFN_NUMBER MmResidentAvailablePages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00081">miglobal.c:81</a></div></div>
<div class="ttc" id="a00936_html_a4454b8baf2b3878548bfc8c8651fe768"><div class="ttname"><a href="../../dc/d2b/a00936.html#a4454b8baf2b3878548bfc8c8651fe768">_MM_DRIVER_VERIFIER_DATA::BurstAllocationsFailedDeliberately</a></div><div class="ttdeci">ULONG BurstAllocationsFailedDeliberately</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07144">mi.h:7144</a></div></div>
<div class="ttc" id="a00938_html_a7466ede537f2c0a9c782b6e40bac9b3b"><div class="ttname"><a href="../../d5/d54/a00938.html#a7466ede537f2c0a9c782b6e40bac9b3b">_MM_LDW_WORK_CONTEXT::WorkItem</a></div><div class="ttdeci">WORK_QUEUE_ITEM WorkItem</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04747">mi.h:4747</a></div></div>
<div class="ttc" id="a02519_html_a8961d0fbdf2a5820f66b4cf356d120c4"><div class="ttname"><a href="../../d9/dce/a02519.html#a8961d0fbdf2a5820f66b4cf356d120c4">MI_FREED_SPECIAL_POOL</a></div><div class="ttdeci">struct _MI_FREED_SPECIAL_POOL MI_FREED_SPECIAL_POOL</div></div>
<div class="ttc" id="a02519_html_a05837414a11b8e3ad9400255265006b4"><div class="ttname"><a href="../../d9/dce/a02519.html#a05837414a11b8e3ad9400255265006b4">MI_VAD_TYPE</a></div><div class="ttdeci">enum _MI_VAD_TYPE MI_VAD_TYPE</div></div>
<div class="ttc" id="a00958_html_a6a02ae9e3c07a3ff1015654336d92c8e"><div class="ttname"><a href="../../df/d9c/a00958.html#a6a02ae9e3c07a3ff1015654336d92c8e">_MMIO_TRACKER::CacheAttribute</a></div><div class="ttdeci">MI_PFN_CACHE_ATTRIBUTE CacheAttribute</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01967">mi.h:1967</a></div></div>
<div class="ttc" id="a02519_html_a183842707695cc756654592ebd7193f4"><div class="ttname"><a href="../../d9/dce/a02519.html#a183842707695cc756654592ebd7193f4">PSUBSECTION</a></div><div class="ttdeci">struct _SUBSECTION * PSUBSECTION</div></div>
<div class="ttc" id="a00963_html_a475b9de91bb6efacfc39e9cb32281373"><div class="ttname"><a href="../../de/dad/a00963.html#a475b9de91bb6efacfc39e9cb32281373">_MMPAGING_FILE::ReferenceCount</a></div><div class="ttdeci">ULONG ReferenceCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04253">mi.h:4253</a></div></div>
<div class="ttc" id="a02291_html"><div class="ttname"><a href="../../dd/d3b/a02291.html">stdio.h</a></div></div>
<div class="ttc" id="a02519_html_a596f0b94349a209bc0284ca64a3f4aa5"><div class="ttname"><a href="../../d9/dce/a02519.html#a596f0b94349a209bc0284ca64a3f4aa5">MI_LARGEPAGE_MEMORY_RUN</a></div><div class="ttdeci">struct _MI_LARGEPAGE_MEMORY_RUN MI_LARGEPAGE_MEMORY_RUN</div></div>
<div class="ttc" id="a02277_html_a13c69f70c497eb4495bb74188c5133aa"><div class="ttname"><a href="../../d0/dc1/a02277.html#a13c69f70c497eb4495bb74188c5133aa">WSLE_NUMBER</a></div><div class="ttdeci">ULONG WSLE_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00064">ps.h:64</a></div></div>
<div class="ttc" id="a00962_html"><div class="ttname"><a href="../../df/d88/a00962.html">_MMPAGE_FILE_EXPANSION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03792">mi.h:3792</a></div></div>
<div class="ttc" id="a02519_html_a34407d48cbe22767b28ccc13871503d3"><div class="ttname"><a href="../../d9/dce/a02519.html#a34407d48cbe22767b28ccc13871503d3">MiCreateImageFileMap</a></div><div class="ttdeci">NTSTATUS MiCreateImageFileMap(IN PFILE_OBJECT File, OUT PSEGMENT *Segment)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l01678">creasect.c:1678</a></div></div>
<div class="ttc" id="a02519_html_a413e9c5c3d579de89f19de67eeb623de"><div class="ttname"><a href="../../d9/dce/a02519.html#a413e9c5c3d579de89f19de67eeb623de">MiTriageVerifyDriver</a></div><div class="ttdeci">LOGICAL MiTriageVerifyDriver(IN PKLDR_DATA_TABLE_ENTRY DataTableEntry)</div></div>
<div class="ttc" id="a02519_html_a1611f6e833db11f419204fa8cb1717aa"><div class="ttname"><a href="../../d9/dce/a02519.html#a1611f6e833db11f419204fa8cb1717aa">MiSyncCachedRanges</a></div><div class="ttdeci">VOID MiSyncCachedRanges(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l06331">allocpag.c:6331</a></div></div>
<div class="ttc" id="a00929_html_adee5b5ca500174695e3fdddfe38cf770"><div class="ttname"><a href="../../dc/d92/a00929.html#adee5b5ca500174695e3fdddfe38cf770">_MI_PFN_DEREFERENCE_CHUNK::Flags</a></div><div class="ttdeci">CSHORT Flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04498">mi.h:4498</a></div></div>
<div class="ttc" id="a00958_html_ac0edc7002d9cfee1af7c6a20a43ff7ff"><div class="ttname"><a href="../../df/d9c/a00958.html#ac0edc7002d9cfee1af7c6a20a43ff7ff">_MMIO_TRACKER::BaseVa</a></div><div class="ttdeci">PVOID BaseVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01964">mi.h:1964</a></div></div>
<div class="ttc" id="a02519_html_a71942b2e9de0f67357593f0c5eb1e1ca"><div class="ttname"><a href="../../d9/dce/a02519.html#a71942b2e9de0f67357593f0c5eb1e1ca">PMI_PFN_DEREFERENCE_CHUNK</a></div><div class="ttdeci">struct _MI_PFN_DEREFERENCE_CHUNK * PMI_PFN_DEREFERENCE_CHUNK</div></div>
<div class="ttc" id="a02519_html_a672b4c4cbe7a6706160d898a2c82d403"><div class="ttname"><a href="../../d9/dce/a02519.html#a672b4c4cbe7a6706160d898a2c82d403">MiGetPreviousNode</a></div><div class="ttdeci">PMMADDRESS_NODE FASTCALL MiGetPreviousNode(IN PMMADDRESS_NODE Node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01674">addrsup.c:1674</a></div></div>
<div class="ttc" id="a02519_html_adf919013ce2a4094a42ce274e45f59df"><div class="ttname"><a href="../../d9/dce/a02519.html#adf919013ce2a4094a42ce274e45f59df">MmSizeOfPagedPoolInPages</a></div><div class="ttdeci">PFN_NUMBER MmSizeOfPagedPoolInPages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00288">miglobal.c:288</a></div></div>
<div class="ttc" id="a02519_html_a001c3d100b7de6eae431eccdbb5e2656"><div class="ttname"><a href="../../d9/dce/a02519.html#a001c3d100b7de6eae431eccdbb5e2656">MiAddLockToTable</a></div><div class="ttdeci">VOID MiAddLockToTable(IN PVOID AcquireAddress, IN PVOID ReleaseAddress, IN LARGE_INTEGER HoldTime)</div></div>
<div class="ttc" id="a02519_html_a8035ddc9229cba6541300cbc3efb89a2"><div class="ttname"><a href="../../d9/dce/a02519.html#a8035ddc9229cba6541300cbc3efb89a2">PSEGMENT_FLAGS</a></div><div class="ttdeci">struct _SEGMENT_FLAGS * PSEGMENT_FLAGS</div></div>
<div class="ttc" id="a00850_html"><div class="ttname"><a href="../../dc/d0a/a00850.html">_LOCK_TRACKER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04344">mi.h:4344</a></div></div>
<div class="ttc" id="a02519_html_a51878dc00fd71d6c719903b28d200d88"><div class="ttname"><a href="../../d9/dce/a02519.html#a51878dc00fd71d6c719903b28d200d88">MmPagingFileCreated</a></div><div class="ttdeci">PKEVENT MmPagingFileCreated</div></div>
<div class="ttc" id="a02519_html_afa17ce03c6c3e82a03120fe7055e3c12"><div class="ttname"><a href="../../d9/dce/a02519.html#afa17ce03c6c3e82a03120fe7055e3c12">MiRemoveMappedView</a></div><div class="ttdeci">VOID MiRemoveMappedView(IN PEPROCESS CurrentProcess, IN PMMVAD Vad)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd4/a02541_source.html#l00399">umapview.c:399</a></div></div>
<div class="ttc" id="a02519_html_a0353aa086bb1eb13d7bbc8b717b72303"><div class="ttname"><a href="../../d9/dce/a02519.html#a0353aa086bb1eb13d7bbc8b717b72303">ValidKernelPte</a></div><div class="ttdeci">MMPTE ValidKernelPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00034">dataamd.c:34</a></div></div>
<div class="ttc" id="a02519_html_a0ebaa47343241475eb6034b9cb43c5bf"><div class="ttname"><a href="../../d9/dce/a02519.html#a0ebaa47343241475eb6034b9cb43c5bf">MiAddMappedPtes</a></div><div class="ttdeci">NTSTATUS MiAddMappedPtes(IN PMMPTE FirstPte, IN PFN_NUMBER NumberOfPtes, IN PCONTROL_AREA ControlArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db4/a02517_source.html#l00341">mapcache.c:341</a></div></div>
<div class="ttc" id="a02519_html_ace21c29e3dd94150ba0adb3f64b4de91"><div class="ttname"><a href="../../d9/dce/a02519.html#ace21c29e3dd94150ba0adb3f64b4de91">MiInsertFrontModifiedNoWrite</a></div><div class="ttdeci">VOID FASTCALL MiInsertFrontModifiedNoWrite(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l02754">pfnlist.c:2754</a></div></div>
<div class="ttc" id="a00930_html_a1a847ba8eb5d40822d93f409d271b7d4"><div class="ttname"><a href="../../d7/d16/a00930.html#a1a847ba8eb5d40822d93f409d271b7d4">_MI_PHYSICAL_VIEW::StartingVpn</a></div><div class="ttdeci">ULONG_PTR StartingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04055">mi.h:4055</a></div></div>
<div class="ttc" id="a00619_html_a6d0de372bd7db550215a82ceac1c648f"><div class="ttname"><a href="../../d6/d6a/a00619.html#a6d0de372bd7db550215a82ceac1c648f">_IMAGE_ENTRY_IN_SESSION::LastAddress</a></div><div class="ttdeci">PVOID LastAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08851">mi.h:8851</a></div></div>
<div class="ttc" id="a02519_html_ac9e118c029c413a9d2dbd2fb02b0e34a"><div class="ttname"><a href="../../d9/dce/a02519.html#ac9e118c029c413a9d2dbd2fb02b0e34a">MmResTrack</a></div><div class="ttdeci">SIZE_T MmResTrack[MM_BUMP_COUNTER_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00243">miglobal.c:243</a></div></div>
<div class="ttc" id="a02167_html_af8429def935ee9a571d3e6dfffc3e790"><div class="ttname"><a href="../../de/d48/a02167.html#af8429def935ee9a571d3e6dfffc3e790">SIZE_T</a></div><div class="ttdeci">ULONG_PTR SIZE_T</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00400">basetsd.h:400</a></div></div>
<div class="ttc" id="a02519_html_afe6257ad9742989189c09c9240c3c880"><div class="ttname"><a href="../../d9/dce/a02519.html#afe6257ad9742989189c09c9240c3c880">MmPagedPoolEnd</a></div><div class="ttdeci">PVOID MmPagedPoolEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00108">dataamd.c:108</a></div></div>
<div class="ttc" id="a02519_html_adf310431c1a192827632c37f8ad45089"><div class="ttname"><a href="../../d9/dce/a02519.html#adf310431c1a192827632c37f8ad45089">MiSessionSpaceEnd</a></div><div class="ttdeci">ULONG_PTR MiSessionSpaceEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00766">miglobal.c:766</a></div></div>
<div class="ttc" id="a00030_html_a1ba6dc16e5f3a52e6ee4452591f1578d"><div class="ttname"><a href="../../d5/d79/a00030.html#a1ba6dc16e5f3a52e6ee4452591f1578d">_ALIAS_VAD_INFO::NumberOfEntries</a></div><div class="ttdeci">ULONG NumberOfEntries</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03967">mi.h:3967</a></div></div>
<div class="ttc" id="a02519_html_a6ac102588f1771b47f75cfeeb4a2221b"><div class="ttname"><a href="../../d9/dce/a02519.html#a6ac102588f1771b47f75cfeeb4a2221b">SEGMENT</a></div><div class="ttdeci">struct _SEGMENT SEGMENT</div></div>
<div class="ttc" id="a00950_html_a77bb5924b24daabe4c85ebbed4c12682"><div class="ttname"><a href="../../df/d39/a00950.html#a77bb5924b24daabe4c85ebbed4c12682">_MMCLONE_DESCRIPTOR::RightChild</a></div><div class="ttdeci">struct _MMADDRESS_NODE * RightChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04162">mi.h:4162</a></div></div>
<div class="ttc" id="a02519_html_a81b771d54d89ed75b678d0ba0b2366c5"><div class="ttname"><a href="../../d9/dce/a02519.html#a81b771d54d89ed75b678d0ba0b2366c5">MiSessionViewStart</a></div><div class="ttdeci">ULONG_PTR MiSessionViewStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00768">miglobal.c:768</a></div></div>
<div class="ttc" id="a00950_html"><div class="ttname"><a href="../../df/d39/a00950.html">_MMCLONE_DESCRIPTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04156">mi.h:4156</a></div></div>
<div class="ttc" id="a02519_html_aa248eef7719acf758e3cf9f7f677fbf2"><div class="ttname"><a href="../../d9/dce/a02519.html#aa248eef7719acf758e3cf9f7f677fbf2">MmFlushCounter</a></div><div class="ttdeci">ULONG MmFlushCounter</div></div>
<div class="ttc" id="a00942_html_a8ec0c74298e674e7aa84b99e8e276e52"><div class="ttname"><a href="../../df/d12/a00942.html#a8ec0c74298e674e7aa84b99e8e276e52">_MM_SESSION_SPACE::AttachCount</a></div><div class="ttdeci">ULONG AttachCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08603">mi.h:8603</a></div></div>
<div class="ttc" id="a02519_html_a3d5445c465d616cc0b2e9582d1175baf"><div class="ttname"><a href="../../d9/dce/a02519.html#a3d5445c465d616cc0b2e9582d1175baf">UNLOCK_PFN</a></div><div class="ttdeci">#define UNLOCK_PFN(OLDIRQL)                                                                                              </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00962">mi.h:962</a></div></div>
<div class="ttc" id="a02519_html_a0e1d227aa90fe6dd086d3277c6b58701"><div class="ttname"><a href="../../d9/dce/a02519.html#a0e1d227aa90fe6dd086d3277c6b58701">MiDereferenceControlAreaBySection</a></div><div class="ttdeci">VOID MiDereferenceControlAreaBySection(IN PCONTROL_AREA ControlArea, IN ULONG UserRef)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l00672">sectsup.c:672</a></div></div>
<div class="ttc" id="a02519_html_a20326ea706b2431be11163fa1f44b375"><div class="ttname"><a href="../../d9/dce/a02519.html#a20326ea706b2431be11163fa1f44b375">MiGetExecutionAddress</a></div><div class="ttdeci">PVOID MiGetExecutionAddress(VOID)</div></div>
<div class="ttc" id="a02519_html_a21a199b3e2240d177a92c24edde865ad"><div class="ttname"><a href="../../d9/dce/a02519.html#a21a199b3e2240d177a92c24edde865ad">PSEGMENT</a></div><div class="ttdeci">struct _SEGMENT * PSEGMENT</div></div>
<div class="ttc" id="a00943_html_ac706b4f8b2a287a24af329b2f84eb89c"><div class="ttname"><a href="../../d1/ddd/a00943.html#ac706b4f8b2a287a24af329b2f84eb89c">_MM_SESSION_SPACE_FLAGS::DeletePending</a></div><div class="ttdeci">ULONG DeletePending</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08477">mi.h:8477</a></div></div>
<div class="ttc" id="a00939_html_a1caf5664dc271e0087f1f10caee79dbe"><div class="ttname"><a href="../../dd/d20/a00939.html#a1caf5664dc271e0087f1f10caee79dbe">_MM_PAGED_POOL_INFO::LastPteForPagedPool</a></div><div class="ttdeci">PMMPTE LastPteForPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07720">mi.h:7720</a></div></div>
<div class="ttc" id="a02519_html_ab54a03ad3b02308fa98223c2d3d1ede9"><div class="ttname"><a href="../../d9/dce/a02519.html#ab54a03ad3b02308fa98223c2d3d1ede9">MiDispatchFault</a></div><div class="ttdeci">NTSTATUS MiDispatchFault(IN ULONG_PTR FaultStatus, IN PVOID VirtualAdress, IN PMMPTE PointerPte, IN PMMPTE PointerProtoPte, IN LOGICAL RecheckAccess, IN PEPROCESS Process, IN PVOID TrapInformation, IN PMMVAD Vad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l00100">pagfault.c:100</a></div></div>
<div class="ttc" id="a02230_html_aad4a7ebff687dc5228cc3fd4d25067f2"><div class="ttname"><a href="../../dd/d67/a02230.html#aad4a7ebff687dc5228cc3fd4d25067f2">NOTHING</a></div><div class="ttdeci">#define NOTHING</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00043">ntdef.h:43</a></div></div>
<div class="ttc" id="a02519_html_abaef4042d8150d8799d60d06051c2020"><div class="ttname"><a href="../../d9/dce/a02519.html#abaef4042d8150d8799d60d06051c2020">MiLowNonPagedPoolThreshold</a></div><div class="ttdeci">PFN_NUMBER MiLowNonPagedPoolThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00136">mminit.c:136</a></div></div>
<div class="ttc" id="a00992_html_a6e5096bc6623c54c163799347eac61df"><div class="ttname"><a href="../../d7/d76/a00992.html#a6e5096bc6623c54c163799347eac61df">_MMVAD_SHORT::u1</a></div><div class="ttdeci">union _MMVAD_SHORT::@757 u1</div></div>
<div class="ttc" id="a02519_html_ad1776f0fc51474f0134689137159e815"><div class="ttname"><a href="../../d9/dce/a02519.html#ad1776f0fc51474f0134689137159e815">MiReturnPageTablePageCommitment</a></div><div class="ttdeci">VOID MiReturnPageTablePageCommitment(IN PVOID StartingAddress, IN PVOID EndingAddress, IN PEPROCESS CurrentProcess, IN PMMVAD PreviousVad, IN PMMVAD NextVad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l00936">mmquota.c:936</a></div></div>
<div class="ttc" id="a02519_html_a2eaef353656ba32d609bd64decc3160e"><div class="ttname"><a href="../../d9/dce/a02519.html#a2eaef353656ba32d609bd64decc3160e">MiMakeSystemAddressValidPfnSystemWs</a></div><div class="ttdeci">ULONG FASTCALL MiMakeSystemAddressValidPfnSystemWs(IN PVOID VirtualAddress, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00588">mmsup.c:588</a></div></div>
<div class="ttc" id="a02519_html_a623f5f5b849dca9e2386b1ad2c024d90"><div class="ttname"><a href="../../d9/dce/a02519.html#a623f5f5b849dca9e2386b1ad2c024d90">MiSetIATProtect</a></div><div class="ttdeci">VOID MiSetIATProtect(IN PVOID DllBase, IN ULONG Protection)</div></div>
<div class="ttc" id="a02519_html_af2f97b5e0c814566ec4f06fdb8daf71a"><div class="ttname"><a href="../../d9/dce/a02519.html#af2f97b5e0c814566ec4f06fdb8daf71a">MmSystemPageColor</a></div><div class="ttdeci">ULONG MmSystemPageColor</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00547">miglobal.c:547</a></div></div>
<div class="ttc" id="a00960_html_a92bd53bffb3162a5eec2c0bda1cc0bc5"><div class="ttname"><a href="../../dd/d11/a00960.html#a92bd53bffb3162a5eec2c0bda1cc0bc5">_MMMOD_WRITER_LISTHEAD::ListHead</a></div><div class="ttdeci">LIST_ENTRY ListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04212">mi.h:4212</a></div></div>
<div class="ttc" id="a01595_html_a4a9aecd42a0da8783cf1e49f74da8e7f"><div class="ttname"><a href="../../dc/dbf/a01595.html#a4a9aecd42a0da8783cf1e49f74da8e7f">_SEGMENT_FLAGS::Spare</a></div><div class="ttdeci">ULONG_PTR Spare</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03450">mi.h:3450</a></div></div>
<div class="ttc" id="a00922_html_a1b09958a7216bf66f9d687b790d39cb5"><div class="ttname"><a href="../../dd/dcf/a00922.html#a1b09958a7216bf66f9d687b790d39cb5">_MI_FREED_SPECIAL_POOL::OverlaidPoolHeader</a></div><div class="ttdeci">POOL_HEADER OverlaidPoolHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07200">mi.h:7200</a></div></div>
<div class="ttc" id="a02519_html_a95260003d95d30c704faf789b366da07"><div class="ttname"><a href="../../d9/dce/a02519.html#a95260003d95d30c704faf789b366da07">MiLdwPopupWorker</a></div><div class="ttdeci">VOID MiLdwPopupWorker(IN PVOID Context)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l02180">modwrite.c:2180</a></div></div>
<div class="ttc" id="a02519_html_a96622e4bc32a0af1a88e861df5056f5ea22ca83deb7835240ce61914ff8b14ced"><div class="ttname"><a href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea22ca83deb7835240ce61914ff8b14ced">MiCached</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01545">mi.h:1545</a></div></div>
<div class="ttc" id="a02519_html_a9bde24ca8879200b902d0054de4532b5"><div class="ttname"><a href="../../d9/dce/a02519.html#a9bde24ca8879200b902d0054de4532b5">MiMakeSystemAddressValidPfnWs</a></div><div class="ttdeci">ULONG FASTCALL MiMakeSystemAddressValidPfnWs(IN PVOID VirtualAddress, IN PEPROCESS CurrentProcess, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00507">mmsup.c:507</a></div></div>
<div class="ttc" id="a02519_html_a2670d3e56dfc926b3197555e4fea3f89"><div class="ttname"><a href="../../d9/dce/a02519.html#a2670d3e56dfc926b3197555e4fea3f89">MiIssuePageExtendRequest</a></div><div class="ttdeci">LOGICAL MiIssuePageExtendRequest(IN PMMPAGE_FILE_EXPANSION PageExtend)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l05028">modwrite.c:5028</a></div></div>
<div class="ttc" id="a02519_html_a0f7e5f80395a954f3d897db3b3a5001f"><div class="ttname"><a href="../../d9/dce/a02519.html#a0f7e5f80395a954f3d897db3b3a5001f">MiModifiedPageWriterTimer</a></div><div class="ttdeci">KTIMER MiModifiedPageWriterTimer</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00191">mminit.c:191</a></div></div>
<div class="ttc" id="a00816_html_a6f8a7a6dc82a3caf36d35d3c7ee646c1"><div class="ttname"><a href="../../d7/d60/a00816.html#a6f8a7a6dc82a3caf36d35d3c7ee646c1">_LARGE_CONTROL_AREA::WritableUserReferences</a></div><div class="ttdeci">ULONG WritableUserReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03597">mi.h:3597</a></div></div>
<div class="ttc" id="a00982_html_a73042199eff7ef3494af44459e01ff40"><div class="ttname"><a href="../../d1/d7a/a00982.html#a73042199eff7ef3494af44459e01ff40">_MMSECURE_ENTRY::EndVpn</a></div><div class="ttdeci">ULONG_PTR EndVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03961">mi.h:3961</a></div></div>
<div class="ttc" id="a02519_html_a9d6fd4e313851acb50647e30e8c2c1de"><div class="ttname"><a href="../../d9/dce/a02519.html#a9d6fd4e313851acb50647e30e8c2c1de">MiDecrementReferenceCount</a></div><div class="ttdeci">VOID FASTCALL MiDecrementReferenceCount(IN PMMPFN Pfn1, IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/a02527_source.html#l00202">pfndec.c:202</a></div></div>
<div class="ttc" id="a00984_html_ad8701c907566fe22e6c9450bb3aefa8c"><div class="ttname"><a href="../../d2/d4c/a00984.html#ad8701c907566fe22e6c9450bb3aefa8c">_MMSUBSECTION_FLAGS::GlobalMemory</a></div><div class="ttdeci">unsigned GlobalMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03610">mi.h:3610</a></div></div>
<div class="ttc" id="a01664_html_a00064c11729b1dccb90d618795d2decc"><div class="ttname"><a href="../../dc/d71/a01664.html#a00064c11729b1dccb90d618795d2decc">_SUBSECTION::u</a></div><div class="ttdeci">union _SUBSECTION::@743 u</div></div>
<div class="ttc" id="a02167_html_ab806494dc8904358e60aec7d1efc9331"><div class="ttname"><a href="../../de/d48/a02167.html#ab806494dc8904358e60aec7d1efc9331">LONG_PTR</a></div><div class="ttdeci">_W64 long LONG_PTR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00117">basetsd.h:117</a></div></div>
<div class="ttc" id="a02519_html_acf4279ff7c97d675f64880bebbf6547b"><div class="ttname"><a href="../../d9/dce/a02519.html#acf4279ff7c97d675f64880bebbf6547b">MiInitializeSystemCache</a></div><div class="ttdeci">VOID MiInitializeSystemCache(IN ULONG MinimumWorkingSet, IN ULONG MaximumWorkingSet)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db4/a02517_source.html#l01236">mapcache.c:1236</a></div></div>
<div class="ttc" id="a01578_html_ab616ff7863c6a83672f11c5388bbac06"><div class="ttname"><a href="../../d1/d88/a01578.html#ab616ff7863c6a83672f11c5388bbac06">_SECTION::InitialPageProtection</a></div><div class="ttdeci">MM_PROTECTION_MASK InitialPageProtection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03868">mi.h:3868</a></div></div>
<div class="ttc" id="a02519_html_ab9400e647e315965b9b44e47ff6bf7a4"><div class="ttname"><a href="../../d9/dce/a02519.html#ab9400e647e315965b9b44e47ff6bf7a4">MmSectionCommitMutex</a></div><div class="ttdeci">KGUARDED_MUTEX MmSectionCommitMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00372">miglobal.c:372</a></div></div>
<div class="ttc" id="a00933_html_abc5980ca8c69f14c782a8d2a24a83ffc"><div class="ttname"><a href="../../d0/d5b/a00933.html#abc5980ca8c69f14c782a8d2a24a83ffc">_MI_VERIFIER_DRIVER_ENTRY::PeakPagedPoolAllocations</a></div><div class="ttdeci">ULONG PeakPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07099">mi.h:7099</a></div></div>
<div class="ttc" id="a02519_html_a39bb1513b38f385ff2dcad46c20aa4a1"><div class="ttname"><a href="../../d9/dce/a02519.html#a39bb1513b38f385ff2dcad46c20aa4a1">MiRestoreTransitionPte</a></div><div class="ttdeci">VOID FASTCALL MiRestoreTransitionPte(IN PMMPFN Pfn1)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00890">mmsup.c:890</a></div></div>
<div class="ttc" id="a01664_html_aa86f21a3bb5cc5175bc7bd4e21bb73a4"><div class="ttname"><a href="../../dc/d71/a01664.html#aa86f21a3bb5cc5175bc7bd4e21bb73a4">_SUBSECTION::SubsectionFlags</a></div><div class="ttdeci">MMSUBSECTION_FLAGS SubsectionFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03621">mi.h:3621</a></div></div>
<div class="ttc" id="a02519_html_a44743221adc45200c004e7ac7ef51e68"><div class="ttname"><a href="../../d9/dce/a02519.html#a44743221adc45200c004e7ac7ef51e68">MiIdentifyPfn</a></div><div class="ttdeci">VOID FASTCALL MiIdentifyPfn(IN PMMPFN Pfn1, OUT PMMPFN_IDENTITY PfnIdentity)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dad/a02500_source.html#l00883">dmpaddr.c:883</a></div></div>
<div class="ttc" id="a01185_html_a0a48ab11c970d164f60e587e7dbad077"><div class="ttname"><a href="../../d3/dd3/a01185.html#a0a48ab11c970d164f60e587e7dbad077">_MSUBSECTION::ControlArea</a></div><div class="ttdeci">PCONTROL_AREA ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03650">mi.h:3650</a></div></div>
<div class="ttc" id="a02519_html_af3c314e41c3e8398831e05f5c6a23223"><div class="ttname"><a href="../../d9/dce/a02519.html#af3c314e41c3e8398831e05f5c6a23223">MiFlushTbForAttributeChange</a></div><div class="ttdeci">ULONG MiFlushTbForAttributeChange</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00816">miglobal.c:816</a></div></div>
<div class="ttc" id="a02200_html_a4683f23a9ac83860d274d5c193a1d187"><div class="ttname"><a href="../../dd/dce/a02200.html#a4683f23a9ac83860d274d5c193a1d187">PDRIVER_UNLOAD</a></div><div class="ttdeci">VOID(* PDRIVER_UNLOAD)(IN struct _DRIVER_OBJECT *DriverObject)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dce/a02200_source.html#l00657">io.h:657</a></div></div>
<div class="ttc" id="a00982_html_aa1a37aa46e928902421d88dafbc63464"><div class="ttname"><a href="../../d1/d7a/a00982.html#aa1a37aa46e928902421d88dafbc63464">_MMSECURE_ENTRY::StartVpn</a></div><div class="ttdeci">ULONG_PTR StartVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03960">mi.h:3960</a></div></div>
<div class="ttc" id="a02519_html_ac6c18e6f131f2a905a7b7cd7107e7411"><div class="ttname"><a href="../../d9/dce/a02519.html#ac6c18e6f131f2a905a7b7cd7107e7411">MmNonPagedPoolStart</a></div><div class="ttdeci">PVOID MmNonPagedPoolStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00102">dataamd.c:102</a></div></div>
<div class="ttc" id="a00816_html_a9b262ff4c2638d1bf96e03da156bb226"><div class="ttname"><a href="../../d7/d60/a00816.html#a9b262ff4c2638d1bf96e03da156bb226">_LARGE_CONTROL_AREA::WaitingForDeletion</a></div><div class="ttdeci">PEVENT_COUNTER WaitingForDeletion</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03594">mi.h:3594</a></div></div>
<div class="ttc" id="a00936_html_aee67b24d55c7744e34217f2665e03ed9"><div class="ttname"><a href="../../dc/d2b/a00936.html#aee67b24d55c7744e34217f2665e03ed9">_MM_DRIVER_VERIFIER_DATA::PagedBytes</a></div><div class="ttdeci">SIZE_T PagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07139">mi.h:7139</a></div></div>
<div class="ttc" id="a02519_html_a4c2bf045b7726aefd1bdb3f2e95b3e9a"><div class="ttname"><a href="../../d9/dce/a02519.html#a4c2bf045b7726aefd1bdb3f2e95b3e9a">MiWaitForInPageComplete</a></div><div class="ttdeci">NTSTATUS MiWaitForInPageComplete(IN PMMPFN Pfn, IN PMMPTE PointerPte, IN PVOID FaultingAddress, IN PMMPTE PointerPteContents, IN PMMINPAGE_SUPPORT InPageSupport, IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l04099">pagfault.c:4099</a></div></div>
<div class="ttc" id="a00989_html_ad7e34fc55b73dc7247960132c4b35611"><div class="ttname"><a href="../../d4/d95/a00989.html#ad7e34fc55b73dc7247960132c4b35611">_MMVAD_FLAGS::PrivateMemory</a></div><div class="ttdeci">ULONG_PTR PrivateMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03935">mi.h:3935</a></div></div>
<div class="ttc" id="a00942_html_aa748ed32542fcf6653cb8a33b8e68664"><div class="ttname"><a href="../../df/d12/a00942.html#aa748ed32542fcf6653cb8a33b8e68664">_MM_SESSION_SPACE::CommittedPages</a></div><div class="ttdeci">SIZE_T CommittedPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08562">mi.h:8562</a></div></div>
<div class="ttc" id="a00181_html_a38fb645000a7721f05ad26c2b45b596c"><div class="ttname"><a href="../../d8/d64/a00181.html#a38fb645000a7721f05ad26c2b45b596c">_COLORED_PAGE_INFO::PfnAllocation</a></div><div class="ttdeci">PMMPFN PfnAllocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04727">mi.h:4727</a></div></div>
<div class="ttc" id="a02519_html_ac7b292fd46fcaaabb3f3cf95d8add3fa"><div class="ttname"><a href="../../d9/dce/a02519.html#ac7b292fd46fcaaabb3f3cf95d8add3fa">MmMinimumFreeDiskSpace</a></div><div class="ttdeci">ULONG MmMinimumFreeDiskSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00496">miglobal.c:496</a></div></div>
<div class="ttc" id="a00936_html_a8f3cab8687876cc33961e89b148595e1"><div class="ttname"><a href="../../dc/d2b/a00936.html#a8f3cab8687876cc33961e89b148595e1">_MM_DRIVER_VERIFIER_DATA::PeakNonPagedPoolAllocations</a></div><div class="ttdeci">ULONG PeakNonPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07137">mi.h:7137</a></div></div>
<div class="ttc" id="a02519_html_aa881e61ea944cf2c061aa216517da1e1"><div class="ttname"><a href="../../d9/dce/a02519.html#aa881e61ea944cf2c061aa216517da1e1">MiInitializeDriverVerifierList</a></div><div class="ttdeci">VOID MiInitializeDriverVerifierList(VOID)</div></div>
<div class="ttc" id="a02519_html_aed22fc4a40990d81e7dafc0c674ba3e0"><div class="ttname"><a href="../../d9/dce/a02519.html#aed22fc4a40990d81e7dafc0c674ba3e0">MiMakePdeExistAndMakeValid</a></div><div class="ttdeci">VOID MiMakePdeExistAndMakeValid(IN PMMPTE PointerPde, IN PEPROCESS TargetProcess, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00307">mmsup.c:307</a></div></div>
<div class="ttc" id="a02519_html_a5226798f3e4415420d8e4e33adc0638f"><div class="ttname"><a href="../../d9/dce/a02519.html#a5226798f3e4415420d8e4e33adc0638f">PWIN32_PROTECTION_MASK</a></div><div class="ttdeci">PULONG PWIN32_PROTECTION_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00143">mi.h:143</a></div></div>
<div class="ttc" id="a00996_html"><div class="ttname"><a href="../../d3/daa/a00996.html">_MMWSL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03009">mi.h:3009</a></div></div>
<div class="ttc" id="a02519_html_a189112b9f61e9492126b4367b4a340e5"><div class="ttname"><a href="../../d9/dce/a02519.html#a189112b9f61e9492126b4367b4a340e5">MiGetInstructionPointer</a></div><div class="ttdeci">PVOID MiGetInstructionPointer(VOID)</div></div>
<div class="ttc" id="a02519_html_aa451b2c3d6c951e66752a20868b245ff"><div class="ttname"><a href="../../d9/dce/a02519.html#aa451b2c3d6c951e66752a20868b245ff">PMI_VERIFIER_DRIVER_ENTRY</a></div><div class="ttdeci">struct _MI_VERIFIER_DRIVER_ENTRY * PMI_VERIFIER_DRIVER_ENTRY</div></div>
<div class="ttc" id="a02519_html_ac209f696e9b5019f0ec3c80a53b358a2"><div class="ttname"><a href="../../d9/dce/a02519.html#ac209f696e9b5019f0ec3c80a53b358a2">MmDynamicMemoryLock</a></div><div class="ttdeci">EX_PUSH_LOCK MmDynamicMemoryLock</div></div>
<div class="ttc" id="a02519_html_a27ddcdfb7c9b6140ddbec913c452f655"><div class="ttname"><a href="../../d9/dce/a02519.html#a27ddcdfb7c9b6140ddbec913c452f655">MiIsProtectionCompatible</a></div><div class="ttdeci">ULONG FASTCALL MiIsProtectionCompatible(IN ULONG OldProtect, IN ULONG NewProtect)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00053">mmsup.c:53</a></div></div>
<div class="ttc" id="a00964_html_ac60dd9f74477e0cf3b87c3acb89964f2"><div class="ttname"><a href="../../da/d17/a00964.html#ac60dd9f74477e0cf3b87c3acb89964f2">_MMPFN::WsIndex</a></div><div class="ttdeci">WSLE_NUMBER WsIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01713">mi.h:1713</a></div></div>
<div class="ttc" id="a02519_html_a15718240acd391e5312b3b42bf8287eb"><div class="ttname"><a href="../../d9/dce/a02519.html#a15718240acd391e5312b3b42bf8287eb">MiFreeInitializationCode</a></div><div class="ttdeci">VOID MiFreeInitializationCode(IN PVOID StartVa, IN PVOID EndVa)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l04165">mminit.c:4165</a></div></div>
<div class="ttc" id="a00967_html"><div class="ttname"><a href="../../d4/d94/a00967.html">_MMPFNENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01656">mi.h:1656</a></div></div>
<div class="ttc" id="a00936_html_a1f4fe40e9259c171656ee7c66f9e19c3"><div class="ttname"><a href="../../dc/d2b/a00936.html#a1f4fe40e9259c171656ee7c66f9e19c3">_MM_DRIVER_VERIFIER_DATA::UnTrackedPool</a></div><div class="ttdeci">ULONG UnTrackedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07131">mi.h:7131</a></div></div>
<div class="ttc" id="a02519_html_a2e6666340f11ee8cb7339972cbc4754e"><div class="ttname"><a href="../../d9/dce/a02519.html#a2e6666340f11ee8cb7339972cbc4754e">MiReturnLargePages</a></div><div class="ttdeci">VOID MiReturnLargePages(IN PMI_LARGEPAGE_MEMORY_RUN LargePageListHead)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l02973">physical.c:2973</a></div></div>
<div class="ttc" id="a02519_html_a36e25fd45eefb8ea45304fa87db1bf1e"><div class="ttname"><a href="../../d9/dce/a02519.html#a36e25fd45eefb8ea45304fa87db1bf1e">MmNonPagedPoolEnd</a></div><div class="ttdeci">PVOID MmNonPagedPoolEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00104">dataamd.c:104</a></div></div>
<div class="ttc" id="a02519_html_a0f9c5c11b0e03a11bf26390f1135f92e"><div class="ttname"><a href="../../d9/dce/a02519.html#a0f9c5c11b0e03a11bf26390f1135f92e">MMWSLE_HASH</a></div><div class="ttdeci">struct _MMWSLE_HASH MMWSLE_HASH</div></div>
<div class="ttc" id="a02519_html_a3dd266745c64df076c4433ea9625c74f"><div class="ttname"><a href="../../d9/dce/a02519.html#a3dd266745c64df076c4433ea9625c74f">MmHeapDeCommitTotalFreeThreshold</a></div><div class="ttdeci">SIZE_T MmHeapDeCommitTotalFreeThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00569">miglobal.c:569</a></div></div>
<div class="ttc" id="a00964_html_a967589f727d90e303a9289dce4783eb1"><div class="ttname"><a href="../../da/d17/a00964.html#a967589f727d90e303a9289dce4783eb1">_MMPFN::u4</a></div><div class="ttdeci">union _MMPFN::@732 u4</div></div>
<div class="ttc" id="a02519_html_a4b54008d8e431a8adf73357656ea60ec"><div class="ttname"><a href="../../d9/dce/a02519.html#a4b54008d8e431a8adf73357656ea60ec">MiReleasePageFileSpace</a></div><div class="ttdeci">ULONG FASTCALL MiReleasePageFileSpace(IN MMPTE PteContents)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/a02499_source.html#l01373">deleteva.c:1373</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3ccaf0d8e242b0ddce86a0663823b5e91a20"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaf0d8e242b0ddce86a0663823b5e91a20">VadImageMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03920">mi.h:3920</a></div></div>
<div class="ttc" id="a02256_html_a51a55345c30f049d20abe1f3301c9040"><div class="ttname"><a href="../../de/dc3/a02256.html#a51a55345c30f049d20abe1f3301c9040">PSLIST_ENTRY</a></div><div class="ttdeci">#define PSLIST_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l00121">ntrtl.h:121</a></div></div>
<div class="ttc" id="a02519_html_a744078cdb79b6e7a44c8b4a87da54c27"><div class="ttname"><a href="../../d9/dce/a02519.html#a744078cdb79b6e7a44c8b4a87da54c27">MiHighPagedPoolThreshold</a></div><div class="ttdeci">PFN_NUMBER MiHighPagedPoolThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00134">mminit.c:134</a></div></div>
<div class="ttc" id="a02519_html_a104c36cefce44a56737edddce3c5b558"><div class="ttname"><a href="../../d9/dce/a02519.html#a104c36cefce44a56737edddce3c5b558">MI_PTE_RANGES</a></div><div class="ttdeci">struct _MI_PTE_RANGES MI_PTE_RANGES</div></div>
<div class="ttc" id="a00816_html_aa66daa1ff5bb7392e2dd30367bf478df"><div class="ttname"><a href="../../d7/d60/a00816.html#aa66daa1ff5bb7392e2dd30367bf478df">_LARGE_CONTROL_AREA::SessionId</a></div><div class="ttdeci">ULONG SessionId</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03603">mi.h:3603</a></div></div>
<div class="ttc" id="a02519_html_a313afee0aa52c7d04faf510fa9bb461c"><div class="ttname"><a href="../../d9/dce/a02519.html#a313afee0aa52c7d04faf510fa9bb461c">MiSessionWideReserveImageAddress</a></div><div class="ttdeci">NTSTATUS MiSessionWideReserveImageAddress(IN PSECTION Section, OUT PVOID *AssignedAddress, OUT PSECTION *NewSectionPointer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l00720">sessload.c:720</a></div></div>
<div class="ttc" id="a00991_html_a62db07708d410dec2361f46cb54db82a"><div class="ttname"><a href="../../df/d2f/a00991.html#a62db07708d410dec2361f46cb54db82a">_MMVAD_LONG::u2</a></div><div class="ttdeci">union _MMVAD_LONG::@754 u2</div></div>
<div class="ttc" id="a00850_html_a419e2adb984e00e77ab700434a59f217"><div class="ttname"><a href="../../dc/d0a/a00850.html#a419e2adb984e00e77ab700434a59f217">_LOCK_TRACKER::Length</a></div><div class="ttdeci">ULONG Length</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04350">mi.h:4350</a></div></div>
<div class="ttc" id="a02519_html_a107e04855cef57f6b3cdf55062237e2f"><div class="ttname"><a href="../../d9/dce/a02519.html#a107e04855cef57f6b3cdf55062237e2f">MiInitializeSpecialPool</a></div><div class="ttdeci">LOGICAL MiInitializeSpecialPool(IN POOL_TYPE PoolType)</div></div>
<div class="ttc" id="a02519_html_ae1258af02e9e93e8aee701bf1282705c"><div class="ttname"><a href="../../d9/dce/a02519.html#ae1258af02e9e93e8aee701bf1282705c">MmCriticalSectionTimeout</a></div><div class="ttdeci">LARGE_INTEGER MmCriticalSectionTimeout</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00566">miglobal.c:566</a></div></div>
<div class="ttc" id="a00991_html_acc9741fcb046fe22bba13abdc309e2c1"><div class="ttname"><a href="../../df/d2f/a00991.html#acc9741fcb046fe22bba13abdc309e2c1">_MMVAD_LONG::VadFlags2</a></div><div class="ttdeci">MMVAD_FLAGS2 VadFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04018">mi.h:4018</a></div></div>
<div class="ttc" id="a02519_html_a446ab3a758c5cab5b54458f52fa604ce"><div class="ttname"><a href="../../d9/dce/a02519.html#a446ab3a758c5cab5b54458f52fa604ce">MmLastUnloadedDriver</a></div><div class="ttdeci">ULONG MmLastUnloadedDriver</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l00044">sysload.c:44</a></div></div>
<div class="ttc" id="a00933_html_a428cb7103eced57f32ed94e28580e317"><div class="ttname"><a href="../../d0/d5b/a00933.html#a428cb7103eced57f32ed94e28580e317">_MI_VERIFIER_DRIVER_ENTRY::BaseName</a></div><div class="ttdeci">UNICODE_STRING BaseName</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07083">mi.h:7083</a></div></div>
<div class="ttc" id="a02519_html_a67a547be63ea7bada77ba8567b199886"><div class="ttname"><a href="../../d9/dce/a02519.html#a67a547be63ea7bada77ba8567b199886">MiCheckVirtualAddress</a></div><div class="ttdeci">PMMPTE MiCheckVirtualAddress(IN PVOID VirtualAddress, OUT PULONG ProtectCode, OUT PMMVAD *VadOut)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l04701">pagfault.c:4701</a></div></div>
<div class="ttc" id="a00961_html_a0c7b72c080df4dbda6b68ff80d5daa49"><div class="ttname"><a href="../../da/d45/a00961.html#a0c7b72c080df4dbda6b68ff80d5daa49">_MMMOD_WRITER_MDL_ENTRY::Irp</a></div><div class="ttdeci">PIRP Irp</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04223">mi.h:4223</a></div></div>
<div class="ttc" id="a01594_html_a5df7f154be6661929b6c5278b1d5fbc8"><div class="ttname"><a href="../../dc/def/a01594.html#a5df7f154be6661929b6c5278b1d5fbc8">_SEGMENT::u2</a></div><div class="ttdeci">union _SEGMENT::@740 u2</div></div>
<div class="ttc" id="a02519_html_a082588518a1be910573edf5b8340060f"><div class="ttname"><a href="../../d9/dce/a02519.html#a082588518a1be910573edf5b8340060f">MiHighestUserPte</a></div><div class="ttdeci">PMMPTE MiHighestUserPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00177">miglobal.c:177</a></div></div>
<div class="ttc" id="a02519_html_a8dacff69da76e2a00c26e77a267a98a2"><div class="ttname"><a href="../../d9/dce/a02519.html#a8dacff69da76e2a00c26e77a267a98a2">MiInitializeReadInProgressSinglePfn</a></div><div class="ttdeci">VOID MiInitializeReadInProgressSinglePfn(IN PFN_NUMBER PageFrameIndex, IN PMMPTE BasePte, IN PKEVENT Event, IN WSLE_NUMBER WorkingSetIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05506">pagfault.c:5506</a></div></div>
<div class="ttc" id="a00962_html_af3d263d85757fa5b000d428fd81f2ec2"><div class="ttname"><a href="../../df/d88/a00962.html#af3d263d85757fa5b000d428fd81f2ec2">_MMPAGE_FILE_EXPANSION::Segment</a></div><div class="ttdeci">PSEGMENT Segment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03793">mi.h:3793</a></div></div>
<div class="ttc" id="a02519_html_ac35b0241c17751e44c92346df9f1d769"><div class="ttname"><a href="../../d9/dce/a02519.html#ac35b0241c17751e44c92346df9f1d769">MiMakeEntireImageCopyOnWrite</a></div><div class="ttdeci">VOID MiMakeEntireImageCopyOnWrite(IN PSUBSECTION Subsection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l06180">sysload.c:6180</a></div></div>
<div class="ttc" id="a02519_html_afcd002ed456bc654f5b170f61b7a10d0"><div class="ttname"><a href="../../d9/dce/a02519.html#afcd002ed456bc654f5b170f61b7a10d0">MiHighestUserPde</a></div><div class="ttdeci">PMMPTE MiHighestUserPde</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00178">miglobal.c:178</a></div></div>
<div class="ttc" id="a00984_html"><div class="ttname"><a href="../../d2/d4c/a00984.html">_MMSUBSECTION_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03606">mi.h:3606</a></div></div>
<div class="ttc" id="a02519_html_a0e82835327d2d38b07ba41bed2b30010"><div class="ttname"><a href="../../d9/dce/a02519.html#a0e82835327d2d38b07ba41bed2b30010">MiRemoveViewsFromSection</a></div><div class="ttdeci">VOID MiRemoveViewsFromSection(IN PMSUBSECTION StartMappedSubsection, IN UINT64 LastPteOffset OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l03155">mapview.c:3155</a></div></div>
<div class="ttc" id="a02184_html_a81afa05d457d7830c34d1c17a2872a5f"><div class="ttname"><a href="../../d5/ddd/a02184.html#a81afa05d457d7830c34d1c17a2872a5f">Tag</a></div><div class="ttdeci">NTKERNELAPI __in SIZE_T __in ULONG Tag</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l00204">ex.h:204</a></div></div>
<div class="ttc" id="a02519_html_a4087075d61df8717e16b565f7f33050b"><div class="ttname"><a href="../../d9/dce/a02519.html#a4087075d61df8717e16b565f7f33050b">InterlockedCompareExchange16</a></div><div class="ttdeci">FORCEINLINE SHORT FASTCALL InterlockedCompareExchange16(IN OUT SHORT volatile *Destination, IN SHORT Exchange, IN SHORT Comperand)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02257">mi.h:2257</a></div></div>
<div class="ttc" id="a01776_html"><div class="ttname"><a href="../../dd/d00/a01776.html">_UNICODE_STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01043">ntdef.h:1043</a></div></div>
<div class="ttc" id="a00988_html_ab0aecdc0d6f3b7f27cb926fb033f1dd4"><div class="ttname"><a href="../../d6/d48/a00988.html#ab0aecdc0d6f3b7f27cb926fb033f1dd4">_MMVAD::Parent</a></div><div class="ttdeci">struct _MMVAD * Parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03979">mi.h:3979</a></div></div>
<div class="ttc" id="a02519_html_a5662c741f6d3032734770441f88a5a80"><div class="ttname"><a href="../../d9/dce/a02519.html#a5662c741f6d3032734770441f88a5a80">MmProcessList</a></div><div class="ttdeci">LIST_ENTRY MmProcessList</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d41/a02530_source.html#l00154">procsup.c:154</a></div></div>
<div class="ttc" id="a00955_html"><div class="ttname"><a href="../../dc/db6/a00955.html">_MMFREE_POOL_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04264">mi.h:4264</a></div></div>
<div class="ttc" id="a00933_html_a2993b1ed176f4010b51404677e7e72bd"><div class="ttname"><a href="../../d0/d5b/a00933.html#a2993b1ed176f4010b51404677e7e72bd">_MI_VERIFIER_DRIVER_ENTRY::EndAddress</a></div><div class="ttdeci">PVOID EndAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07085">mi.h:7085</a></div></div>
<div class="ttc" id="a02519_html_a92956a3150c69f1df88e9de95ee789de"><div class="ttname"><a href="../../d9/dce/a02519.html#a92956a3150c69f1df88e9de95ee789de">MiMakeSystemAddressValidPfn</a></div><div class="ttdeci">ULONG FASTCALL MiMakeSystemAddressValidPfn(IN PVOID VirtualAddress, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00675">mmsup.c:675</a></div></div>
<div class="ttc" id="a02519_html_a8530f4b79553d951573f1b4991f9fedb"><div class="ttname"><a href="../../d9/dce/a02519.html#a8530f4b79553d951573f1b4991f9fedb">MiLocateAddressInTree</a></div><div class="ttdeci">PMMADDRESS_NODE FASTCALL MiLocateAddressInTree(IN ULONG_PTR Vpn, IN PMM_AVL_TABLE Root)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01748">addrsup.c:1748</a></div></div>
<div class="ttc" id="a00843_html_adc094d7a9eafaa1bec20653aa56cab52"><div class="ttname"><a href="../../dc/d22/a00843.html#adc094d7a9eafaa1bec20653aa56cab52">_LOAD_IMPORTS::Entry</a></div><div class="ttdeci">PKLDR_DATA_TABLE_ENTRY Entry[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09058">mi.h:9058</a></div></div>
<div class="ttc" id="a02519_html_ab9c2d51f27883d0f9606d8bcaba9bfb8"><div class="ttname"><a href="../../d9/dce/a02519.html#ab9c2d51f27883d0f9606d8bcaba9bfb8">MMIO_TRACKER</a></div><div class="ttdeci">struct _MMIO_TRACKER MMIO_TRACKER</div></div>
<div class="ttc" id="a02519_html_a41020f8def2ced6ed5a10c05feba5ea6"><div class="ttname"><a href="../../d9/dce/a02519.html#a41020f8def2ced6ed5a10c05feba5ea6">MmMinimumFreePages</a></div><div class="ttdeci">PFN_NUMBER MmMinimumFreePages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00476">miglobal.c:476</a></div></div>
<div class="ttc" id="a00996_html_ad35956a2707df4215e5acc0f20fd73e2"><div class="ttname"><a href="../../d3/daa/a00996.html#ad35956a2707df4215e5acc0f20fd73e2">_MMWSL::HashTableSize</a></div><div class="ttdeci">ULONG HashTableSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03018">mi.h:3018</a></div></div>
<div class="ttc" id="a02519_html_a9b1537075617a20ddb55619d218c1a78"><div class="ttname"><a href="../../d9/dce/a02519.html#a9b1537075617a20ddb55619d218c1a78">MI_TRANSLATE_CACHETYPE</a></div><div class="ttdeci">FORCEINLINE MI_PFN_CACHE_ATTRIBUTE MI_TRANSLATE_CACHETYPE(IN MEMORY_CACHING_TYPE InputCacheType, IN ULONG IoSpace)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01584">mi.h:1584</a></div></div>
<div class="ttc" id="a02519_html_aeb2c773b00411fa0694a4d77f1a0ab8f"><div class="ttname"><a href="../../d9/dce/a02519.html#aeb2c773b00411fa0694a4d77f1a0ab8f">MMVAD_LONG</a></div><div class="ttdeci">struct _MMVAD_LONG MMVAD_LONG</div></div>
<div class="ttc" id="a02519_html_a472bab9a8d06ae716b4ca9920e671e1e"><div class="ttname"><a href="../../d9/dce/a02519.html#a472bab9a8d06ae716b4ca9920e671e1e">MmNumberOfActiveMdlEntries</a></div><div class="ttdeci">ULONG MmNumberOfActiveMdlEntries</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00433">miglobal.c:433</a></div></div>
<div class="ttc" id="a00956_html_af09ae440a4ff5f9ad5a843466ae6e0d9"><div class="ttname"><a href="../../d3/de5/a00956.html#af09ae440a4ff5f9ad5a843466ae6e0d9">_MMINPAGE_FLAGS::Available1</a></div><div class="ttdeci">ULONG_PTR Available1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03821">mi.h:3821</a></div></div>
<div class="ttc" id="a00991_html_aa0282cba0f7a5a1ca3b460f019ea4845"><div class="ttname"><a href="../../df/d2f/a00991.html#aa0282cba0f7a5a1ca3b460f019ea4845">_MMVAD_LONG::u4</a></div><div class="ttdeci">union _MMVAD_LONG::@756 u4</div></div>
<div class="ttc" id="a02519_html_ab0111beefc0ff0f79ba7102ecfa97fc7"><div class="ttname"><a href="../../d9/dce/a02519.html#ab0111beefc0ff0f79ba7102ecfa97fc7">MmMinAdditionNonPagedPoolPerMb</a></div><div class="ttdeci">ULONG MmMinAdditionNonPagedPoolPerMb</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00281">miglobal.c:281</a></div></div>
<div class="ttc" id="a02519_html_a77ca56d66b2415d186e72fbfff35837a"><div class="ttname"><a href="../../d9/dce/a02519.html#a77ca56d66b2415d186e72fbfff35837a">MM_DRIVER_VERIFIER_DATA</a></div><div class="ttdeci">struct _MM_DRIVER_VERIFIER_DATA MM_DRIVER_VERIFIER_DATA</div></div>
<div class="ttc" id="a00843_html"><div class="ttname"><a href="../../dc/d22/a00843.html">_LOAD_IMPORTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09056">mi.h:9056</a></div></div>
<div class="ttc" id="a00989_html_a74be13ee72ded1dbe43b58b90b870355"><div class="ttname"><a href="../../d4/d95/a00989.html#a74be13ee72ded1dbe43b58b90b870355">_MMVAD_FLAGS::CommitCharge</a></div><div class="ttdeci">ULONG_PTR CommitCharge</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03929">mi.h:3929</a></div></div>
<div class="ttc" id="a02519_html_a128af86ccdfedf6bef1b50ea6da96031"><div class="ttname"><a href="../../d9/dce/a02519.html#a128af86ccdfedf6bef1b50ea6da96031">MmModifiedWriteClusterSize</a></div><div class="ttdeci">ULONG MmModifiedWriteClusterSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00514">miglobal.c:514</a></div></div>
<div class="ttc" id="a00816_html_a1eea098e63fbf538b5a4abe0a58fd337"><div class="ttname"><a href="../../d7/d60/a00816.html#a1eea098e63fbf538b5a4abe0a58fd337">_LARGE_CONTROL_AREA::NumberOfSystemCacheViews</a></div><div class="ttdeci">ULONG NumberOfSystemCacheViews</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03587">mi.h:3587</a></div></div>
<div class="ttc" id="a02237_html_ac4ba056700d2913c40f13f20d1be42a3"><div class="ttname"><a href="../../d9/d13/a02237.html#ac4ba056700d2913c40f13f20d1be42a3">Reserved</a></div><div class="ttdeci">ULONG PVOID Reserved</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d13/a02237_source.html#l01263">ntimage.h:1263</a></div></div>
<div class="ttc" id="a02519_html_adc479482065ac310eedcb85db9800e55"><div class="ttname"><a href="../../d9/dce/a02519.html#adc479482065ac310eedcb85db9800e55">MmNumberOfPagingFiles</a></div><div class="ttdeci">ULONG MmNumberOfPagingFiles</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00437">miglobal.c:437</a></div></div>
<div class="ttc" id="a02519_html_a9f1c5d059eb92d258e6cdd5398dad10c"><div class="ttname"><a href="../../d9/dce/a02519.html#a9f1c5d059eb92d258e6cdd5398dad10c">MmMaxAdditionNonPagedPoolPerMb</a></div><div class="ttdeci">ULONG MmMaxAdditionNonPagedPoolPerMb</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00285">miglobal.c:285</a></div></div>
<div class="ttc" id="a02519_html_a740118e1e4df2d3ea586802e18adedaa"><div class="ttname"><a href="../../d9/dce/a02519.html#a740118e1e4df2d3ea586802e18adedaa">MiSectionDelete</a></div><div class="ttdeci">VOID MiSectionDelete(IN PVOID Object)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l00712">sectsup.c:712</a></div></div>
<div class="ttc" id="a02519_html_a7a38a07c63971f8087388eeb2dbeb9f2"><div class="ttname"><a href="../../d9/dce/a02519.html#a7a38a07c63971f8087388eeb2dbeb9f2">MiFindActualFaultingPte</a></div><div class="ttdeci">PMMPTE MiFindActualFaultingPte(IN PVOID FaultingAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l04556">pagfault.c:4556</a></div></div>
<div class="ttc" id="a00942_html_a433ab2a9a1a1ce959ca655a933fd7a44"><div class="ttname"><a href="../../df/d12/a00942.html#a433ab2a9a1a1ce959ca655a933fd7a44">_MM_SESSION_SPACE::Flags</a></div><div class="ttdeci">MM_SESSION_SPACE_FLAGS Flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08521">mi.h:8521</a></div></div>
<div class="ttc" id="a02519_html_a671c2e282e21dd49da5c0517ecd2abf8"><div class="ttname"><a href="../../d9/dce/a02519.html#a671c2e282e21dd49da5c0517ecd2abf8">MiFlushAllPages</a></div><div class="ttdeci">VOID MiFlushAllPages(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l04976">modwrite.c:4976</a></div></div>
<div class="ttc" id="a02519_html_abf72c0f7ddffcc8d7419be875cb3d4dd"><div class="ttname"><a href="../../d9/dce/a02519.html#abf72c0f7ddffcc8d7419be875cb3d4dd">VerifierLargePagedPoolMap</a></div><div class="ttdeci">PRTL_BITMAP VerifierLargePagedPoolMap</div></div>
<div class="ttc" id="a02519_html_abf2350478b2785cc914acf2ce6d61dc8"><div class="ttname"><a href="../../d9/dce/a02519.html#abf2350478b2785cc914acf2ce6d61dc8">ALIAS_VAD_INFO2</a></div><div class="ttdeci">struct _ALIAS_VAD_INFO2 ALIAS_VAD_INFO2</div></div>
<div class="ttc" id="a02519_html_a46f4eb1e65bfa9d5fc32ca0c48ec328a"><div class="ttname"><a href="../../d9/dce/a02519.html#a46f4eb1e65bfa9d5fc32ca0c48ec328a">MmUnusedSubsectionCount</a></div><div class="ttdeci">ULONG MmUnusedSubsectionCount</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00403">miglobal.c:403</a></div></div>
<div class="ttc" id="a02230_html_aa8c0374618b33785ccb02f74bcfebc46"><div class="ttname"><a href="../../dd/d67/a02230.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a></div><div class="ttdeci">void * HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00424">ntdef.h:424</a></div></div>
<div class="ttc" id="a02519_html_a615192acfe805f067664519980114c56"><div class="ttname"><a href="../../d9/dce/a02519.html#a615192acfe805f067664519980114c56">MiRemoveZeroPageIfAny</a></div><div class="ttdeci">#define MiRemoveZeroPageIfAny(COLOR)  </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05990">mi.h:5990</a></div></div>
<div class="ttc" id="a00982_html"><div class="ttname"><a href="../../d1/d7a/a00982.html">_MMSECURE_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03955">mi.h:3955</a></div></div>
<div class="ttc" id="a00992_html_acbdf4f03dbb22ebc60c3bc8f6ec9ebe3"><div class="ttname"><a href="../../d7/d76/a00992.html#acbdf4f03dbb22ebc60c3bc8f6ec9ebe3">_MMVAD_SHORT::LongFlags</a></div><div class="ttdeci">ULONG_PTR LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04041">mi.h:4041</a></div></div>
<div class="ttc" id="a00963_html_affe6e07474af72ea59c8056079ef60b3"><div class="ttname"><a href="../../de/dad/a00963.html#affe6e07474af72ea59c8056079ef60b3">_MMPAGING_FILE::FileHandle</a></div><div class="ttdeci">HANDLE FileHandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04257">mi.h:4257</a></div></div>
<div class="ttc" id="a01807_html_a148a37ff2ce53c526866e8c7c5fa73ad"><div class="ttname"><a href="../../df/d5b/a01807.html#a148a37ff2ce53c526866e8c7c5fa73ad">_VI_POOL_ENTRY_INUSE::Tag</a></div><div class="ttdeci">ULONG_PTR Tag</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07065">mi.h:7065</a></div></div>
<div class="ttc" id="a00074_html_aea3a9c6db008c07f1944a9340459ce89"><div class="ttname"><a href="../../db/db6/a00074.html#aea3a9c6db008c07f1944a9340459ce89">_AWEINFO::VadPhysicalPagesLimit</a></div><div class="ttdeci">ULONG_PTR VadPhysicalPagesLimit</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04088">mi.h:4088</a></div></div>
<div class="ttc" id="a02519_html_aed6c391a70b089d93fc77033203e1ebe"><div class="ttname"><a href="../../d9/dce/a02519.html#aed6c391a70b089d93fc77033203e1ebe">PMMIO_TRACKER</a></div><div class="ttdeci">struct _MMIO_TRACKER * PMMIO_TRACKER</div></div>
<div class="ttc" id="a00943_html"><div class="ttname"><a href="../../d1/ddd/a00943.html">_MM_SESSION_SPACE_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08475">mi.h:8475</a></div></div>
<div class="ttc" id="a01664_html"><div class="ttname"><a href="../../dc/d71/a01664.html">_SUBSECTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03617">mi.h:3617</a></div></div>
<div class="ttc" id="a00981_html_a75c4f94f86b9f868672dbf88efc769d1"><div class="ttname"><a href="../../dd/d24/a00981.html#a75c4f94f86b9f868672dbf88efc769d1">_MMSECTION_FLAGS::Accessed</a></div><div class="ttdeci">unsigned Accessed</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03549">mi.h:3549</a></div></div>
<div class="ttc" id="a00930_html_a8aeecd94243862563093f2668f98b918"><div class="ttname"><a href="../../d7/d16/a00930.html#a8aeecd94243862563093f2668f98b918">_MI_PHYSICAL_VIEW::LeftChild</a></div><div class="ttdeci">struct _MMADDRESS_NODE * LeftChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04053">mi.h:4053</a></div></div>
<div class="ttc" id="a00816_html_a6e6855b2b1f5432400d49f7433523a21"><div class="ttname"><a href="../../d7/d60/a00816.html#a6e6855b2b1f5432400d49f7433523a21">_LARGE_CONTROL_AREA::FilePointer</a></div><div class="ttdeci">PFILE_OBJECT FilePointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03593">mi.h:3593</a></div></div>
<div class="ttc" id="a00370_html"><div class="ttname"><a href="../../d3/d30/a00370.html">_ERESOURCE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l04558">ex.h:4558</a></div></div>
<div class="ttc" id="a02519_html_a21d4e407e0876f5acf546fe9e2a46b85"><div class="ttname"><a href="../../d9/dce/a02519.html#a21d4e407e0876f5acf546fe9e2a46b85">PMMINPAGE_SUPPORT</a></div><div class="ttdeci">struct _MMINPAGE_SUPPORT * PMMINPAGE_SUPPORT</div></div>
<div class="ttc" id="a02230_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="../../dd/d67/a02230.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01263">ntdef.h:1263</a></div></div>
<div class="ttc" id="a02496_html_ab07bf92e29c19a1eb66f62c2287817ad"><div class="ttname"><a href="../../d1/df5/a02496.html#ab07bf92e29c19a1eb66f62c2287817ad">MM_USER_PAGE_DIRECTORY_PARENT_PAGES</a></div><div class="ttdeci">#define MM_USER_PAGE_DIRECTORY_PARENT_PAGES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00471">miamd.h:471</a></div></div>
<div class="ttc" id="a02519_html_a2c4f513670b80d59ad70ed71f74a7826"><div class="ttname"><a href="../../d9/dce/a02519.html#a2c4f513670b80d59ad70ed71f74a7826">MiInitialSystemPageDirectory</a></div><div class="ttdeci">PMMPTE MiInitialSystemPageDirectory</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l07981">iosup.c:7981</a></div></div>
<div class="ttc" id="a02519_html_a338490f9c3d8ea48aad71ee9d51f57b3"><div class="ttname"><a href="../../d9/dce/a02519.html#a338490f9c3d8ea48aad71ee9d51f57b3">MmSevenMinutes</a></div><div class="ttdeci">const LARGE_INTEGER MmSevenMinutes</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00553">miglobal.c:553</a></div></div>
<div class="ttc" id="a00981_html_aecbed85e12b4f24fa8f90ecdf4281d84"><div class="ttname"><a href="../../dd/d24/a00981.html#aecbed85e12b4f24fa8f90ecdf4281d84">_MMSECTION_FLAGS::WasPurged</a></div><div class="ttdeci">unsigned WasPurged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03534">mi.h:3534</a></div></div>
<div class="ttc" id="a00942_html_a4a61e5df95db6143eb0e1314b31ea182"><div class="ttname"><a href="../../df/d12/a00942.html#a4a61e5df95db6143eb0e1314b31ea182">_MM_SESSION_SPACE::LocaleId</a></div><div class="ttdeci">LCID LocaleId</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08597">mi.h:8597</a></div></div>
<div class="ttc" id="a01000_html_ab942c2fc7f955697c8204356cb9127c6"><div class="ttname"><a href="../../d7/df2/a01000.html#ab942c2fc7f955697c8204356cb9127c6">_MMWSLENTRY::VirtualPageNumber</a></div><div class="ttdeci">ULONG_PTR VirtualPageNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02982">mi.h:2982</a></div></div>
<div class="ttc" id="a02519_html_af639ae9558747f52b59245f261b96b7b"><div class="ttname"><a href="../../d9/dce/a02519.html#af639ae9558747f52b59245f261b96b7b">MmSystemWsLock</a></div><div class="ttdeci">FAST_MUTEX MmSystemWsLock</div></div>
<div class="ttc" id="a02519_html_ae10f78210ca351b006aa29e3e9b6a7dd"><div class="ttname"><a href="../../d9/dce/a02519.html#ae10f78210ca351b006aa29e3e9b6a7dd">MiInitializeCopyOnWritePfn</a></div><div class="ttdeci">VOID MiInitializeCopyOnWritePfn(IN PFN_NUMBER PageFrameIndex, IN PMMPTE PointerPte, IN WSLE_NUMBER WorkingSetIndex, IN PMMWSL WorkingSetList)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05907">pagfault.c:5907</a></div></div>
<div class="ttc" id="a00991_html_adcae5f2d6f0b5813e6c5f727ed28df40"><div class="ttname"><a href="../../df/d2f/a00991.html#adcae5f2d6f0b5813e6c5f727ed28df40">_MMVAD_LONG::LeftChild</a></div><div class="ttdeci">struct _MMVAD * LeftChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04004">mi.h:4004</a></div></div>
<div class="ttc" id="a02519_html_aa4c591f0de1636bf83133f3fb0072783"><div class="ttname"><a href="../../d9/dce/a02519.html#aa4c591f0de1636bf83133f3fb0072783">SUBSECTION</a></div><div class="ttdeci">struct _SUBSECTION SUBSECTION</div></div>
<div class="ttc" id="a02519_html_a6aeeb2dd9d02eb06875c7b5a6cefdfa3"><div class="ttname"><a href="../../d9/dce/a02519.html#a6aeeb2dd9d02eb06875c7b5a6cefdfa3">MiExtendPagingFiles</a></div><div class="ttdeci">SIZE_T MiExtendPagingFiles(IN PMMPAGE_FILE_EXPANSION PageExpand)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l01587">modwrite.c:1587</a></div></div>
<div class="ttc" id="a00957_html_ac5cd96a6d57db0525e8dcbde899d5b80"><div class="ttname"><a href="../../d1/df7/a00957.html#ac5cd96a6d57db0525e8dcbde899d5b80">_MMINPAGE_SUPPORT::u1</a></div><div class="ttdeci">union _MMINPAGE_SUPPORT::@746 u1</div></div>
<div class="ttc" id="a00985_html_a8804f8ebd955e3ba134f7d301b7f9be7"><div class="ttname"><a href="../../da/deb/a00985.html#a8804f8ebd955e3ba134f7d301b7f9be7">_MMSUBSECTION_FLAGS2::SubsectionConverted</a></div><div class="ttdeci">unsigned SubsectionConverted</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03640">mi.h:3640</a></div></div>
<div class="ttc" id="a00967_html_a75bfdd953c9ddb637f00837b3c2e45f6"><div class="ttname"><a href="../../d4/d94/a00967.html#a75bfdd953c9ddb637f00837b3c2e45f6">_MMPFNENTRY::Rom</a></div><div class="ttdeci">USHORT Rom</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01684">mi.h:1684</a></div></div>
<div class="ttc" id="a02519_html_ac49fd6af7e8d58fbb120a4270b671e0a"><div class="ttname"><a href="../../d9/dce/a02519.html#ac49fd6af7e8d58fbb120a4270b671e0a">InterlockedIncrementPfn</a></div><div class="ttdeci">#define InterlockedIncrementPfn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02331">mi.h:2331</a></div></div>
<div class="ttc" id="a00957_html_a725e18d5c5fd45bdc6f681587cf49d8c"><div class="ttname"><a href="../../d1/df7/a00957.html#a725e18d5c5fd45bdc6f681587cf49d8c">_MMINPAGE_SUPPORT::Thread</a></div><div class="ttdeci">PETHREAD Thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03840">mi.h:3840</a></div></div>
<div class="ttc" id="a02519_html_adf8ba1e7d99382bfa1f4afa910f95021"><div class="ttname"><a href="../../d9/dce/a02519.html#adf8ba1e7d99382bfa1f4afa910f95021">PMMMOD_WRITER_LISTHEAD</a></div><div class="ttdeci">struct _MMMOD_WRITER_LISTHEAD * PMMMOD_WRITER_LISTHEAD</div></div>
<div class="ttc" id="a02519_html_a522d3a369bf87fa1356748540b4dc527"><div class="ttname"><a href="../../d9/dce/a02519.html#a522d3a369bf87fa1356748540b4dc527">MmVerifyDriverLevel</a></div><div class="ttdeci">ULONG MmVerifyDriverLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00833">miglobal.c:833</a></div></div>
<div class="ttc" id="a02519_html_a6b13644194c82b15b66312c9328f17cd"><div class="ttname"><a href="../../d9/dce/a02519.html#a6b13644194c82b15b66312c9328f17cd">MiTrimPte</a></div><div class="ttdeci">VOID MiTrimPte(IN PVOID VirtualAddress, IN PMMPTE ReadPte, IN PMMPFN Pfn1, IN PEPROCESS CurrentProcess, IN MMPTE NewPteContents)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l06362">pagfault.c:6362</a></div></div>
<div class="ttc" id="a02215_html_a0420c23393b2b800d392135ac624bf26ad35cdb70fc38c7eccf8c962ba5b09e90"><div class="ttname"><a href="../../dd/d31/a02215.html#a0420c23393b2b800d392135ac624bf26ad35cdb70fc38c7eccf8c962ba5b09e90">MaximumPtePoolTypes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l00454">mm.h:454</a></div></div>
<div class="ttc" id="a02519_html_a38acd6578d5dbb3a24c1e73be71b759a"><div class="ttname"><a href="../../d9/dce/a02519.html#a38acd6578d5dbb3a24c1e73be71b759a">TransitionPde</a></div><div class="ttdeci">const MMPTE TransitionPde</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00083">dataamd.c:83</a></div></div>
<div class="ttc" id="a02519_html_a5f327897b7762722fa2ed220db0d6049"><div class="ttname"><a href="../../d9/dce/a02519.html#a5f327897b7762722fa2ed220db0d6049">MmSystemPteBase</a></div><div class="ttdeci">PMMPTE MmSystemPteBase</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00356">miglobal.c:356</a></div></div>
<div class="ttc" id="a02519_html_affb4fe3c4b81c5d18252579eb2f89354"><div class="ttname"><a href="../../d9/dce/a02519.html#affb4fe3c4b81c5d18252579eb2f89354">MiLocateWsle</a></div><div class="ttdeci">WSLE_NUMBER FASTCALL MiLocateWsle(IN PVOID VirtualAddress, IN PMMWSL WorkingSetList, IN WSLE_NUMBER WsPfnIndex, IN LOGICAL Deletion)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l00471">wstree.c:471</a></div></div>
<div class="ttc" id="a00970_html_ad0c25548484125476485d5f72743dff6"><div class="ttname"><a href="../../d0/daf/a00970.html#ad0c25548484125476485d5f72743dff6">_MMPTE::Soft</a></div><div class="ttdeci">MMPTE_SOFTWARE Soft</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02762">miamd.h:2762</a></div></div>
<div class="ttc" id="a00939_html_aeec8d42efccdd1167b9de116e846ede3"><div class="ttname"><a href="../../dd/d20/a00939.html#aeec8d42efccdd1167b9de116e846ede3">_MM_PAGED_POOL_INFO::NextPdeForPagedPoolExpansion</a></div><div class="ttdeci">PMMPTE NextPdeForPagedPoolExpansion</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07721">mi.h:7721</a></div></div>
<div class="ttc" id="a00970_html"><div class="ttname"><a href="../../d0/daf/a00970.html">_MMPTE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02755">miamd.h:2755</a></div></div>
<div class="ttc" id="a02519_html_abd1e5d2b0d0656cbd630df06cca6ed06"><div class="ttname"><a href="../../d9/dce/a02519.html#abd1e5d2b0d0656cbd630df06cca6ed06">MmNumberOfSystemPtes</a></div><div class="ttdeci">PFN_NUMBER MmNumberOfSystemPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00290">miglobal.c:290</a></div></div>
<div class="ttc" id="a00942_html_a4373bd4344ff22e1abf3e376a166b81c"><div class="ttname"><a href="../../df/d12/a00942.html#a4373bd4344ff22e1abf3e376a166b81c">_MM_SESSION_SPACE::SessionPoolAllocationFailures</a></div><div class="ttdeci">ULONG SessionPoolAllocationFailures[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08587">mi.h:8587</a></div></div>
<div class="ttc" id="a02519_html_a07aeb8310832c3433a3eeeb9879a43dc"><div class="ttname"><a href="../../d9/dce/a02519.html#a07aeb8310832c3433a3eeeb9879a43dc">MmEventCountSListHead</a></div><div class="ttdeci">SLIST_HEADER MmEventCountSListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00346">miglobal.c:346</a></div></div>
<div class="ttc" id="a00964_html_aded2721be15f5b58b29acb7cd229a7e9"><div class="ttname"><a href="../../da/d17/a00964.html#aded2721be15f5b58b29acb7cd229a7e9">_MMPFN::ReferenceCount</a></div><div class="ttdeci">USHORT ReferenceCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01745">mi.h:1745</a></div></div>
<div class="ttc" id="a02519_html_aa5ef77b3379c5937062a44e49b043650"><div class="ttname"><a href="../../d9/dce/a02519.html#aa5ef77b3379c5937062a44e49b043650">MmLargePageDriverBuffer</a></div><div class="ttdeci">WCHAR MmLargePageDriverBuffer[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00841">miglobal.c:841</a></div></div>
<div class="ttc" id="a02496_html_aa108ab0800c8bc417f80650196cd8df6"><div class="ttname"><a href="../../d1/df5/a02496.html#aa108ab0800c8bc417f80650196cd8df6">GET_PAGING_FILE_NUMBER</a></div><div class="ttdeci">#define GET_PAGING_FILE_NUMBER(PTE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02340">miamd.h:2340</a></div></div>
<div class="ttc" id="a02519_html_a1897f4abb10d7db6d400f6a8afd62afe"><div class="ttname"><a href="../../d9/dce/a02519.html#a1897f4abb10d7db6d400f6a8afd62afe">MmStandbyPageListByPriority</a></div><div class="ttdeci">MMPFNLIST MmStandbyPageListByPriority[MI_PFN_PRIORITIES]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00131">miglobal.c:131</a></div></div>
<div class="ttc" id="a01185_html_a9254fc81b8b6b7cf7cba9208e3ab658e"><div class="ttname"><a href="../../d3/dd3/a01185.html#a9254fc81b8b6b7cf7cba9208e3ab658e">_MSUBSECTION::NumberOfMappedViews</a></div><div class="ttdeci">ULONG_PTR NumberOfMappedViews</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03662">mi.h:3662</a></div></div>
<div class="ttc" id="a00982_html_abe73ee6e73102d43412c84ad10d85b2c"><div class="ttname"><a href="../../d1/d7a/a00982.html#abe73ee6e73102d43412c84ad10d85b2c">_MMSECURE_ENTRY::u2</a></div><div class="ttdeci">union _MMSECURE_ENTRY::@748 u2</div></div>
<div class="ttc" id="a02519_html_af73046f675bd172cbd0b4e11c44c51e4"><div class="ttname"><a href="../../d9/dce/a02519.html#af73046f675bd172cbd0b4e11c44c51e4">LOCK_PFN</a></div><div class="ttdeci">#define LOCK_PFN(OLDIRQL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00957">mi.h:957</a></div></div>
<div class="ttc" id="a00936_html_a2d34ba7d3272ee4463085a491995ced9"><div class="ttname"><a href="../../dc/d2b/a00936.html#a2d34ba7d3272ee4463085a491995ced9">_MM_DRIVER_VERIFIER_DATA::RaiseIrqls</a></div><div class="ttdeci">ULONG RaiseIrqls</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07115">mi.h:7115</a></div></div>
<div class="ttc" id="a00799_html"><div class="ttname"><a href="../../d0/d7d/a00799.html">_KSEMAPHORE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l00838">ke.h:838</a></div></div>
<div class="ttc" id="a00930_html_a97891433fb6bbcf19e4fee942a2e80f7"><div class="ttname"><a href="../../d7/d16/a00930.html#a97891433fb6bbcf19e4fee942a2e80f7">_MI_PHYSICAL_VIEW::Balance</a></div><div class="ttdeci">LONG_PTR Balance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04050">mi.h:4050</a></div></div>
<div class="ttc" id="a00964_html_a72937e16c8afc13b05056779bcee2bbd"><div class="ttname"><a href="../../da/d17/a00964.html#a72937e16c8afc13b05056779bcee2bbd">_MMPFN::e1</a></div><div class="ttdeci">MMPFNENTRY e1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01746">mi.h:1746</a></div></div>
<div class="ttc" id="a02519_html_a70defef6bf8d513ec6ea3ed549030f71"><div class="ttname"><a href="../../d9/dce/a02519.html#a70defef6bf8d513ec6ea3ed549030f71">MiZeroPhysicalPage</a></div><div class="ttdeci">VOID FASTCALL MiZeroPhysicalPage(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00849">mmsup.c:849</a></div></div>
<div class="ttc" id="a00939_html_a21cc9bfff18ae596c45d128934b2b93b"><div class="ttname"><a href="../../dd/d20/a00939.html#a21cc9bfff18ae596c45d128934b2b93b">_MM_PAGED_POOL_INFO::AllocatedPagedPool</a></div><div class="ttdeci">SIZE_T AllocatedPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07724">mi.h:7724</a></div></div>
<div class="ttc" id="a02249_html_a425eea3f57239dc3a8b77669eba3ca97"><div class="ttname"><a href="../../dd/dc3/a02249.html#a425eea3f57239dc3a8b77669eba3ca97">KPROCESSOR_MODE</a></div><div class="ttdeci">CCHAR KPROCESSOR_MODE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc3/a02249_source.html#l00124">ntosdef.h:124</a></div></div>
<div class="ttc" id="a02519_html_a82aca3d9833118b31914954ef8f90c53"><div class="ttname"><a href="../../d9/dce/a02519.html#a82aca3d9833118b31914954ef8f90c53">MiSessionImageStart</a></div><div class="ttdeci">ULONG_PTR MiSessionImageStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00776">miglobal.c:776</a></div></div>
<div class="ttc" id="a02519_html_a72bf4d1d74b03eded9bf9d29ddfcc0eb"><div class="ttname"><a href="../../d9/dce/a02519.html#a72bf4d1d74b03eded9bf9d29ddfcc0eb">MmExpansionLock</a></div><div class="ttdeci">KSPIN_LOCK MmExpansionLock</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00528">miglobal.c:528</a></div></div>
<div class="ttc" id="a02519_html_a4394d7669b3b7fcedafda22a41e32c73a8b5ed30aafd5192ce4cffee601b271ea"><div class="ttname"><a href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a8b5ed30aafd5192ce4cffee601b271ea">CheckUserDataSection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03434">mi.h:3434</a></div></div>
<div class="ttc" id="a00933_html_a69b86c876b567687b7d274748b2cdef1"><div class="ttname"><a href="../../d0/d5b/a00933.html#a69b86c876b567687b7d274748b2cdef1">_MI_VERIFIER_DRIVER_ENTRY::PoolTrackers</a></div><div class="ttdeci">SLIST_HEADER PoolTrackers</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07095">mi.h:7095</a></div></div>
<div class="ttc" id="a02519_html_a0bd4fda9c9cf3407f59554c9639e4aa9"><div class="ttname"><a href="../../d9/dce/a02519.html#a0bd4fda9c9cf3407f59554c9639e4aa9">MiWriteProtectSystemImage</a></div><div class="ttdeci">VOID MiWriteProtectSystemImage(IN PVOID DllBase)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l06689">sysload.c:6689</a></div></div>
<div class="ttc" id="a00942_html_a0b91592f104936e274e137ef9f9242e4"><div class="ttname"><a href="../../df/d12/a00942.html#a0b91592f104936e274e137ef9f9242e4">_MM_SESSION_SPACE::SessionId</a></div><div class="ttdeci">ULONG SessionId</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08524">mi.h:8524</a></div></div>
<div class="ttc" id="a01185_html_aac3fe9c96ca96d0e5c08114051228a8e"><div class="ttname"><a href="../../d3/dd3/a01185.html#aac3fe9c96ca96d0e5c08114051228a8e">_MSUBSECTION::NextSubsection</a></div><div class="ttdeci">struct _SUBSECTION * NextSubsection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03660">mi.h:3660</a></div></div>
<div class="ttc" id="a02519_html_a5f20b3601fa6a2acb5a9cee60755468b"><div class="ttname"><a href="../../d9/dce/a02519.html#a5f20b3601fa6a2acb5a9cee60755468b">MmPageFaultNotifyRoutine</a></div><div class="ttdeci">PPAGE_FAULT_NOTIFY_ROUTINE MmPageFaultNotifyRoutine</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00229">mminit.c:229</a></div></div>
<div class="ttc" id="a02519_html_a490c668cbfaecf226d00664383d2256d"><div class="ttname"><a href="../../d9/dce/a02519.html#a490c668cbfaecf226d00664383d2256d">MiRemoveWsleFromFreeList</a></div><div class="ttdeci">VOID MiRemoveWsleFromFreeList(IN WSLE_NUMBER Entry, IN PMMWSLE Wsle, IN PMMWSL WorkingSetList)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l01192">wstree.c:1192</a></div></div>
<div class="ttc" id="a00999_html"><div class="ttname"><a href="../../de/de2/a00999.html">_MMWSLE_HASH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02926">mi.h:2926</a></div></div>
<div class="ttc" id="a01185_html_a78f5a3c50b6094fb29e03aa942e0cd03"><div class="ttname"><a href="../../d3/dd3/a01185.html#a78f5a3c50b6094fb29e03aa942e0cd03">_MSUBSECTION::UnusedPtes</a></div><div class="ttdeci">ULONG UnusedPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03658">mi.h:3658</a></div></div>
<div class="ttc" id="a00940_html_a12ccf3ddc77271c23e749afcdf5c2398"><div class="ttname"><a href="../../d7/db6/a00940.html#a12ccf3ddc77271c23e749afcdf5c2398">_MM_PTE_MAPPING::ListEntry</a></div><div class="ttdeci">LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05118">mi.h:5118</a></div></div>
<div class="ttc" id="a02519_html_ab09bd83ae374acacca5a0b519b2c8bfe"><div class="ttname"><a href="../../d9/dce/a02519.html#ab09bd83ae374acacca5a0b519b2c8bfe">MI_MAX_DEREFERENCE_CHUNK</a></div><div class="ttdeci">#define MI_MAX_DEREFERENCE_CHUNK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04494">mi.h:4494</a></div></div>
<div class="ttc" id="a02519_html_a684165e10fcf731c6621273cbe32794b"><div class="ttname"><a href="../../d9/dce/a02519.html#a684165e10fcf731c6621273cbe32794b">MiDetachSession</a></div><div class="ttdeci">VOID MiDetachSession(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l01735">session.c:1735</a></div></div>
<div class="ttc" id="a00387_html"><div class="ttname"><a href="../../db/db9/a00387.html">_EX_PUSH_LOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l04827">ex.h:4827</a></div></div>
<div class="ttc" id="a02519_html_a3586f36fcd5ab80f572a517288fcc6ed"><div class="ttname"><a href="../../d9/dce/a02519.html#a3586f36fcd5ab80f572a517288fcc6ed">MiInitializeSystemSpaceMap</a></div><div class="ttdeci">LOGICAL MiInitializeSystemSpaceMap(PVOID Session OPTIONAL)</div></div>
<div class="ttc" id="a02230_html_a724fb9f82013c782db5c3c12ea36aac8"><div class="ttname"><a href="../../dd/d67/a02230.html#a724fb9f82013c782db5c3c12ea36aac8">FORCEINLINE</a></div><div class="ttdeci">#define FORCEINLINE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00212">ntdef.h:212</a></div></div>
<div class="ttc" id="a00991_html_a11be1e947a04f4e5bc42ee67ccc711db"><div class="ttname"><a href="../../df/d2f/a00991.html#a11be1e947a04f4e5bc42ee67ccc711db">_MMVAD_LONG::Banked</a></div><div class="ttdeci">PMMBANKED_SECTION Banked</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04025">mi.h:4025</a></div></div>
<div class="ttc" id="a02519_html_af36f5753e48c1590d9921411af2b11f8"><div class="ttname"><a href="../../d9/dce/a02519.html#af36f5753e48c1590d9921411af2b11f8">MMEXTEND_INFO</a></div><div class="ttdeci">struct _MMEXTEND_INFO MMEXTEND_INFO</div></div>
<div class="ttc" id="a00847_html_a67bc7ca32a80ced78e9aa0c5e78499f6"><div class="ttname"><a href="../../d4/d60/a00847.html#a67bc7ca32a80ced78e9aa0c5e78499f6">_LOCK_HEADER::Valid</a></div><div class="ttdeci">LOGICAL Valid</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04370">mi.h:4370</a></div></div>
<div class="ttc" id="a02519_html_a720cce063e51a54b88f3ce2453f9419a"><div class="ttname"><a href="../../d9/dce/a02519.html#a720cce063e51a54b88f3ce2453f9419a">MiFreeSessionSpaceMap</a></div><div class="ttdeci">VOID MiFreeSessionSpaceMap(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l05872">mapview.c:5872</a></div></div>
<div class="ttc" id="a02519_html_a56b6edb9cd44c4fc9a5678e5afe6fb55"><div class="ttname"><a href="../../d9/dce/a02519.html#a56b6edb9cd44c4fc9a5678e5afe6fb55">PMMPFN</a></div><div class="ttdeci">struct _MMPFN * PMMPFN</div></div>
<div class="ttc" id="a02519_html_a95ebbb36f9a78a71eee0806ce6ae7869"><div class="ttname"><a href="../../d9/dce/a02519.html#a95ebbb36f9a78a71eee0806ce6ae7869">MiSwapWslEntries</a></div><div class="ttdeci">VOID MiSwapWslEntries(IN WSLE_NUMBER SwapEntry, IN WSLE_NUMBER Entry, IN PMMSUPPORT WsInfo, IN LOGICAL EntryNotInHash)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l00781">wstree.c:781</a></div></div>
<div class="ttc" id="a02519_html_ad55d71ea21ea8b09864549708f6c5a9b"><div class="ttname"><a href="../../d9/dce/a02519.html#ad55d71ea21ea8b09864549708f6c5a9b">MmZeroingPageEvent</a></div><div class="ttdeci">KEVENT MmZeroingPageEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00205">miglobal.c:205</a></div></div>
<div class="ttc" id="a00619_html_a0c475acfab86d55b0237ef6672a26969"><div class="ttname"><a href="../../d6/d6a/a00619.html#a0c475acfab86d55b0237ef6672a26969">_IMAGE_ENTRY_IN_SESSION::Link</a></div><div class="ttdeci">LIST_ENTRY Link</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08849">mi.h:8849</a></div></div>
<div class="ttc" id="a00895_html_a0c05b81f21b565183e340e964382354d"><div class="ttname"><a href="../../d2/d21/a00895.html#a0c05b81f21b565183e340e964382354d">_MAPPED_FILE_SEGMENT::SegmentPteTemplate</a></div><div class="ttdeci">MMPTE SegmentPteTemplate</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03497">mi.h:3497</a></div></div>
<div class="ttc" id="a00933_html_a8b8d74aa096da35a12fb421ac4b260f6"><div class="ttname"><a href="../../d0/d5b/a00933.html#a8b8d74aa096da35a12fb421ac4b260f6">_MI_VERIFIER_DRIVER_ENTRY::PagedBytes</a></div><div class="ttdeci">SIZE_T PagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07102">mi.h:7102</a></div></div>
<div class="ttc" id="a00982_html_abacefce753c806e2b90e30c61fe046a6"><div class="ttname"><a href="../../d1/d7a/a00982.html#abacefce753c806e2b90e30c61fe046a6">_MMSECURE_ENTRY::LongFlags2</a></div><div class="ttdeci">ULONG_PTR LongFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03957">mi.h:3957</a></div></div>
<div class="ttc" id="a00997_html_a3b66e863ce18daaf0cd10092865be56f"><div class="ttname"><a href="../../d0/d28/a00997.html#a3b66e863ce18daaf0cd10092865be56f">_MMWSLE::u1</a></div><div class="ttdeci">union _MMWSLE::@738 u1</div></div>
<div class="ttc" id="a00991_html_abaf583109f8002b90e6ab042befc3042"><div class="ttname"><a href="../../df/d2f/a00991.html#abaf583109f8002b90e6ab042befc3042">_MMVAD_LONG::ControlArea</a></div><div class="ttdeci">PCONTROL_AREA ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04013">mi.h:4013</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3cca66eacdd61aa24996a72053d86b526b95"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca66eacdd61aa24996a72053d86b526b95">VadRotatePhysical</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03924">mi.h:3924</a></div></div>
<div class="ttc" id="a02519_html_afcdc0c2b2ae3b04aca561762c9fa4c4a"><div class="ttname"><a href="../../d9/dce/a02519.html#afcdc0c2b2ae3b04aca561762c9fa4c4a">MmInPageSupportSListHead</a></div><div class="ttdeci">SLIST_HEADER MmInPageSupportSListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00348">miglobal.c:348</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3ccaff81ddea34a68e5bc6be454fb2901db8"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaff81ddea34a68e5bc6be454fb2901db8">VadNone</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03918">mi.h:3918</a></div></div>
<div class="ttc" id="a00978_html_afd7bce724113deb325b9ed8658b88433"><div class="ttname"><a href="../../d2/ddd/a00978.html#afd7bce724113deb325b9ed8658b88433">_MMPTE_SOFTWARE::Prototype</a></div><div class="ttdeci">ULONGLONG Prototype</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02615">miamd.h:2615</a></div></div>
<div class="ttc" id="a02519_html_aedb2c292ac18226db655d35c4f6101c4"><div class="ttname"><a href="../../d9/dce/a02519.html#aedb2c292ac18226db655d35c4f6101c4">MiUnusedSubsectionPagedPool</a></div><div class="ttdeci">SIZE_T MiUnusedSubsectionPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00407">miglobal.c:407</a></div></div>
<div class="ttc" id="a02519_html_a6ff132293a0aab700304cb5b461e8f92"><div class="ttname"><a href="../../d9/dce/a02519.html#a6ff132293a0aab700304cb5b461e8f92">PMMPAGE_FILE_EXPANSION</a></div><div class="ttdeci">struct _MMPAGE_FILE_EXPANSION * PMMPAGE_FILE_EXPANSION</div></div>
<div class="ttc" id="a02519_html_a5df172a7b348bba669a4d894541bb67f"><div class="ttname"><a href="../../d9/dce/a02519.html#a5df172a7b348bba669a4d894541bb67f">MmMinimumWorkingSetSize</a></div><div class="ttdeci">PFN_NUMBER MmMinimumWorkingSetSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00540">miglobal.c:540</a></div></div>
<div class="ttc" id="a00963_html_a81d114077b22387aa657b9f9ad8fad97"><div class="ttname"><a href="../../de/dad/a00963.html#a81d114077b22387aa657b9f9ad8fad97">_MMPAGING_FILE::PeakUsage</a></div><div class="ttdeci">PFN_NUMBER PeakUsage</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04245">mi.h:4245</a></div></div>
<div class="ttc" id="a00375_html"><div class="ttname"><a href="../../dd/dcb/a00375.html">_EVENT_COUNTER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03509">mi.h:3509</a></div></div>
<div class="ttc" id="a01579_html"><div class="ttname"><a href="../../d5/d81/a01579.html">_SECTION_IMAGE_INFORMATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/a02245_source.html#l00218">ntmmapi.h:218</a></div></div>
<div class="ttc" id="a00988_html_af7281c3b8108031e27cb50d51124ce22"><div class="ttname"><a href="../../d6/d48/a00988.html#af7281c3b8108031e27cb50d51124ce22">_MMVAD::u</a></div><div class="ttdeci">union _MMVAD::@750 u</div></div>
<div class="ttc" id="a02519_html_af982615feb827eb62b64c0d0b5afe6af"><div class="ttname"><a href="../../d9/dce/a02519.html#af982615feb827eb62b64c0d0b5afe6af">MI_CLEAR_BIT</a></div><div class="ttdeci">#define MI_CLEAR_BIT(ARRAY, BIT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01518">mi.h:1518</a></div></div>
<div class="ttc" id="a02519_html_a02e3dafe42854c68bf8a7921a09a0b9f"><div class="ttname"><a href="../../d9/dce/a02519.html#a02e3dafe42854c68bf8a7921a09a0b9f">MiRemoveZeroPageMayReleaseLocks</a></div><div class="ttdeci">FORCEINLINE PFN_NUMBER MiRemoveZeroPageMayReleaseLocks(IN ULONG Color, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06001">mi.h:6001</a></div></div>
<div class="ttc" id="a00375_html_a8db26245f6b86d18609da7f36efea3ee"><div class="ttname"><a href="../../dd/dcb/a00375.html#a8db26245f6b86d18609da7f36efea3ee">_EVENT_COUNTER::Event</a></div><div class="ttdeci">KEVENT Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03512">mi.h:3512</a></div></div>
<div class="ttc" id="a00991_html_a3545e76c374b68ae646ff97951d193e9"><div class="ttname"><a href="../../df/d2f/a00991.html#a3545e76c374b68ae646ff97951d193e9">_MMVAD_LONG::u1</a></div><div class="ttdeci">union _MMVAD_LONG::@752 u1</div></div>
<div class="ttc" id="a02519_html_a714d319e4b414ce7ce9fa5b4c00e2109"><div class="ttname"><a href="../../d9/dce/a02519.html#a714d319e4b414ce7ce9fa5b4c00e2109">MmSystemCacheWorkingSetList</a></div><div class="ttdeci">PMMWSL MmSystemCacheWorkingSetList</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00316">miglobal.c:316</a></div></div>
<div class="ttc" id="a02519_html_a583dbc91c26cd981808b4ef5dba504db"><div class="ttname"><a href="../../d9/dce/a02519.html#a583dbc91c26cd981808b4ef5dba504db">MiCheckSessionPoolAllocations</a></div><div class="ttdeci">VOID MiCheckSessionPoolAllocations(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03668">allocpag.c:3668</a></div></div>
<div class="ttc" id="a00936_html_aafa11d48dd7c1df38f9deb6efdd8b72d"><div class="ttname"><a href="../../dc/d2b/a00936.html#aafa11d48dd7c1df38f9deb6efdd8b72d">_MM_DRIVER_VERIFIER_DATA::UserTrims</a></div><div class="ttdeci">ULONG UserTrims</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07132">mi.h:7132</a></div></div>
<div class="ttc" id="a02519_html_a940acc5d6e65c438e38e94047e7a94cf"><div class="ttname"><a href="../../d9/dce/a02519.html#a940acc5d6e65c438e38e94047e7a94cf">MmAttemptForCantExtend</a></div><div class="ttdeci">MMPAGE_FILE_EXPANSION MmAttemptForCantExtend</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00421">miglobal.c:421</a></div></div>
<div class="ttc" id="a00981_html_a274c4bcabde69f7ee3bf0b03a687bdf7"><div class="ttname"><a href="../../dd/d24/a00981.html#a274c4bcabde69f7ee3bf0b03a687bdf7">_MMSECTION_FLAGS::Rom</a></div><div class="ttdeci">unsigned Rom</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03552">mi.h:3552</a></div></div>
<div class="ttc" id="a02519_html_a1155bfa93325c4755f606a53d8d15790"><div class="ttname"><a href="../../d9/dce/a02519.html#a1155bfa93325c4755f606a53d8d15790">PMI_PTE_RANGES</a></div><div class="ttdeci">struct _MI_PTE_RANGES * PMI_PTE_RANGES</div></div>
<div class="ttc" id="a00188_html_ab3888c3dbe08a7ac139269b37ecf49e4"><div class="ttname"><a href="../../da/d15/a00188.html#ab3888c3dbe08a7ac139269b37ecf49e4">_CONTROL_AREA::ModifiedWriteCount</a></div><div class="ttdeci">USHORT ModifiedWriteCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03572">mi.h:3572</a></div></div>
<div class="ttc" id="a02519_html_a5de00ad5ae32fbd92eb777397db0a1a0"><div class="ttname"><a href="../../d9/dce/a02519.html#a5de00ad5ae32fbd92eb777397db0a1a0">MiIsEntireRangeDecommitted</a></div><div class="ttdeci">ULONG MiIsEntireRangeDecommitted(IN PVOID StartingAddress, IN PVOID EndingAddress, IN PMMVAD Vad, IN PEPROCESS Process)</div></div>
<div class="ttc" id="a02519_html_a08c8b8020fb639d64c0caf9af7fa6e1c"><div class="ttname"><a href="../../d9/dce/a02519.html#a08c8b8020fb639d64c0caf9af7fa6e1c">MI_NONPAGEABLE_MEMORY_AVAILABLE</a></div><div class="ttdeci">#define MI_NONPAGEABLE_MEMORY_AVAILABLE()                                                                    </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02241">mi.h:2241</a></div></div>
<div class="ttc" id="a00964_html_a5b70433c6bd0569fe904f39bbfa77579"><div class="ttname"><a href="../../da/d17/a00964.html#a5b70433c6bd0569fe904f39bbfa77579">_MMPFN::AweReferenceCount</a></div><div class="ttdeci">LONG AweReferenceCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01758">mi.h:1758</a></div></div>
<div class="ttc" id="a02519_html_ac1c32f14cbee84c37561d659cd0e2c34"><div class="ttname"><a href="../../d9/dce/a02519.html#ac1c32f14cbee84c37561d659cd0e2c34">MiZeroInParallel</a></div><div class="ttdeci">VOID MiZeroInParallel(IN PCOLORED_PAGE_INFO ColoredPageInfoBase)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l10113">iosup.c:10113</a></div></div>
<div class="ttc" id="a02519_html_a086d413f8b0a663458ab3569feb8922c"><div class="ttname"><a href="../../d9/dce/a02519.html#a086d413f8b0a663458ab3569feb8922c">MmPageFileCreationLock</a></div><div class="ttdeci">KGUARDED_MUTEX MmPageFileCreationLock</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00391">miglobal.c:391</a></div></div>
<div class="ttc" id="a02241_html_a89adb6dc0ec6cc3fcce2441adcf97013"><div class="ttname"><a href="../../df/de4/a02241.html#a89adb6dc0ec6cc3fcce2441adcf97013">KSPIN_LOCK</a></div><div class="ttdeci">ULONG_PTR KSPIN_LOCK</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de4/a02241_source.html#l00065">ntkeapi.h:65</a></div></div>
<div class="ttc" id="a02519_html_a08187efecb5a17f35c8774aaf4abe611"><div class="ttname"><a href="../../d9/dce/a02519.html#a08187efecb5a17f35c8774aaf4abe611">MmUnusedSegmentCount</a></div><div class="ttdeci">ULONG MmUnusedSegmentCount</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00401">miglobal.c:401</a></div></div>
<div class="ttc" id="a00922_html_aafb417e3726b9a84ff8c0e92e58d0e09"><div class="ttname"><a href="../../dd/dcf/a00922.html#aafb417e3726b9a84ff8c0e92e58d0e09">_MI_FREED_SPECIAL_POOL::Thread</a></div><div class="ttdeci">PETHREAD Thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07211">mi.h:7211</a></div></div>
<div class="ttc" id="a00942_html_a322442ee0e252b58d2bc72095ebf37b6"><div class="ttname"><a href="../../df/d12/a00942.html#a322442ee0e252b58d2bc72095ebf37b6">_MM_SESSION_SPACE::PagedPoolMutex</a></div><div class="ttdeci">KGUARDED_MUTEX PagedPoolMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08644">mi.h:8644</a></div></div>
<div class="ttc" id="a00930_html_a2ed3f7155be1374714e21b16da604109"><div class="ttname"><a href="../../d7/d16/a00930.html#a2ed3f7155be1374714e21b16da604109">_MI_PHYSICAL_VIEW::MappingPte</a></div><div class="ttdeci">PMMPTE MappingPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04060">mi.h:4060</a></div></div>
<div class="ttc" id="a02519_html_a1171c4cd01e566b09637e60eb8d92c57"><div class="ttname"><a href="../../d9/dce/a02519.html#a1171c4cd01e566b09637e60eb8d92c57">MiIsPteDecommittedPage</a></div><div class="ttdeci">ULONG FORCEINLINE MiIsPteDecommittedPage(IN PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06306">mi.h:6306</a></div></div>
<div class="ttc" id="a02256_html_ab49350da23720546beb60b8054facd9c"><div class="ttname"><a href="../../de/dc3/a02256.html#ab49350da23720546beb60b8054facd9c">ASSERT</a></div><div class="ttdeci">#define ASSERT(exp)              </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l00286">ntrtl.h:286</a></div></div>
<div class="ttc" id="a02519_html_a503a2fe002f15a8d33bc240916f677c5"><div class="ttname"><a href="../../d9/dce/a02519.html#a503a2fe002f15a8d33bc240916f677c5">MmPagingFileDebug</a></div><div class="ttdeci">ULONG_PTR MmPagingFileDebug[]</div></div>
<div class="ttc" id="a02519_html_a8968d03534cae4d0003603e8d4e9bd2c"><div class="ttname"><a href="../../d9/dce/a02519.html#a8968d03534cae4d0003603e8d4e9bd2c">PMMVIEW</a></div><div class="ttdeci">struct _MMVIEW * PMMVIEW</div></div>
<div class="ttc" id="a02519_html_a78820a8ba99e6f96a1dbce9c98933deea66a73d8f2c873c84a520e4bf691b3552"><div class="ttname"><a href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deea66a73d8f2c873c84a520e4bf691b3552">ShareCountOnly</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02922">mi.h:2922</a></div></div>
<div class="ttc" id="a00989_html_a166a3ce21a220389993d127f2800dbcb"><div class="ttname"><a href="../../d4/d95/a00989.html#a166a3ce21a220389993d127f2800dbcb">_MMVAD_FLAGS::MemCommit</a></div><div class="ttdeci">ULONG_PTR MemCommit</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03932">mi.h:3932</a></div></div>
<div class="ttc" id="a00996_html_a08d2fea7e5cbf980149308e092f9f76f"><div class="ttname"><a href="../../d3/daa/a00996.html#a08d2fea7e5cbf980149308e092f9f76f">_MMWSL::HashTable</a></div><div class="ttdeci">PMMWSLE_HASH HashTable</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03017">mi.h:3017</a></div></div>
<div class="ttc" id="a01578_html_a569d2aeb87d3791eb07556d116fcfada"><div class="ttname"><a href="../../d1/d88/a01578.html#a569d2aeb87d3791eb07556d116fcfada">_SECTION::LongFlags</a></div><div class="ttdeci">ULONG LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03865">mi.h:3865</a></div></div>
<div class="ttc" id="a01185_html_a79efe90354b28d3dbde3ad6972a52d78"><div class="ttname"><a href="../../d3/dd3/a01185.html#a79efe90354b28d3dbde3ad6972a52d78">_MSUBSECTION::LongFlags2</a></div><div class="ttdeci">ULONG LongFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03664">mi.h:3664</a></div></div>
<div class="ttc" id="a00981_html_a711cfe41e7defc6fd168107d8fe97c0e"><div class="ttname"><a href="../../dd/d24/a00981.html#a711cfe41e7defc6fd168107d8fe97c0e">_MMSECTION_FLAGS::filler</a></div><div class="ttdeci">unsigned filler</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03554">mi.h:3554</a></div></div>
<div class="ttc" id="a00930_html_ac6443251509d368144faa136a59dc897"><div class="ttname"><a href="../../d7/d16/a00930.html#ac6443251509d368144faa136a59dc897">_MI_PHYSICAL_VIEW::u1</a></div><div class="ttdeci">union _MI_PHYSICAL_VIEW::@759 u1</div></div>
<div class="ttc" id="a02519_html_abc54d767c7af0026069c46caa04ad14f"><div class="ttname"><a href="../../d9/dce/a02519.html#abc54d767c7af0026069c46caa04ad14f">MI_SET_CACHETYPE_TRANSLATION</a></div><div class="ttdeci">FORCEINLINE VOID MI_SET_CACHETYPE_TRANSLATION(IN MEMORY_CACHING_TYPE InputCacheType, IN ULONG IoSpace, IN MI_PFN_CACHE_ATTRIBUTE NewAttribute)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01627">mi.h:1627</a></div></div>
<div class="ttc" id="a02044_html_a8d0307cc6eebba297dba1b97a0a7618e"><div class="ttname"><a href="../../d8/d22/a02044.html#a8d0307cc6eebba297dba1b97a0a7618e">Status</a></div><div class="ttdeci">ULONG Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d22/a02044_source.html#l00083">cmchek.c:83</a></div></div>
<div class="ttc" id="a00967_html_a0f221b620e1986aceef8514517ac95be"><div class="ttname"><a href="../../d4/d94/a00967.html#a0f221b620e1986aceef8514517ac95be">_MMPFNENTRY::CacheAttribute</a></div><div class="ttdeci">USHORT CacheAttribute</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01683">mi.h:1683</a></div></div>
<div class="ttc" id="a00981_html_a6be17cdb680b3f09d639cd1c5f57f00e"><div class="ttname"><a href="../../dd/d24/a00981.html#a6be17cdb680b3f09d639cd1c5f57f00e">_MMSECTION_FLAGS::Networked</a></div><div class="ttdeci">unsigned Networked</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03526">mi.h:3526</a></div></div>
<div class="ttc" id="a01664_html_adc68aaaf8068775b74e0840c78076ac4"><div class="ttname"><a href="../../dc/d71/a01664.html#adc68aaaf8068775b74e0840c78076ac4">_SUBSECTION::SubsectionBase</a></div><div class="ttdeci">PMMPTE SubsectionBase</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03625">mi.h:3625</a></div></div>
<div class="ttc" id="a02215_html_a984817daa8faa8a1c1b7691aaa320fb4"><div class="ttname"><a href="../../dd/d31/a02215.html#a984817daa8faa8a1c1b7691aaa320fb4">TrapInformation</a></div><div class="ttdeci">IN PVOID IN PVOID TrapInformation</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l02556">mm.h:2556</a></div></div>
<div class="ttc" id="a02230_html_aeb50efa3851f57820d84e371ddbd4168"><div class="ttname"><a href="../../dd/d67/a02230.html#aeb50efa3851f57820d84e371ddbd4168">LOGICAL</a></div><div class="ttdeci">ULONG LOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00526">ntdef.h:526</a></div></div>
<div class="ttc" id="a00956_html_aba5f9160ab87ead227b5649ee849b7d0"><div class="ttname"><a href="../../d3/de5/a00956.html#aba5f9160ab87ead227b5649ee849b7d0">_MMINPAGE_FLAGS::Available2</a></div><div class="ttdeci">ULONG_PTR Available2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03822">mi.h:3822</a></div></div>
<div class="ttc" id="a02519_html_a106e8184a4e17b81542b9b97f3b05ad0"><div class="ttname"><a href="../../d9/dce/a02519.html#a106e8184a4e17b81542b9b97f3b05ad0">MiInitializeSessionPool</a></div><div class="ttdeci">NTSTATUS MiInitializeSessionPool(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03964">allocpag.c:3964</a></div></div>
<div class="ttc" id="a00847_html_a8e6566a162a4d5d22dded83504300a65"><div class="ttname"><a href="../../d4/d60/a00847.html#a8e6566a162a4d5d22dded83504300a65">_LOCK_HEADER::Lock</a></div><div class="ttdeci">KSPIN_LOCK Lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04369">mi.h:4369</a></div></div>
<div class="ttc" id="a02519_html_aaf9f894ba403191b59c693d5544004ab"><div class="ttname"><a href="../../d9/dce/a02519.html#aaf9f894ba403191b59c693d5544004ab">MiDereferenceIoSpace</a></div><div class="ttdeci">LOGICAL MiDereferenceIoSpace(IN PMDL MemoryDescriptorList)</div></div>
<div class="ttc" id="a00942_html_a3984cda1d6aafdc7b2016913b44350f2"><div class="ttname"><a href="../../df/d12/a00942.html#a3984cda1d6aafdc7b2016913b44350f2">_MM_SESSION_SPACE::LastProcessSwappedOutTime</a></div><div class="ttdeci">LARGE_INTEGER LastProcessSwappedOutTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08533">mi.h:8533</a></div></div>
<div class="ttc" id="a02519_html_a02cd88d7364e5999f9a489615132555d"><div class="ttname"><a href="../../d9/dce/a02519.html#a02cd88d7364e5999f9a489615132555d">MiInsertPageInList</a></div><div class="ttdeci">VOID FASTCALL MiInsertPageInList(IN PMMPFNLIST ListHead, IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l00354">pfnlist.c:354</a></div></div>
<div class="ttc" id="a00936_html_a7bd91d51458a29a8e861ae80c36b8b0a"><div class="ttname"><a href="../../dc/d2b/a00936.html#a7bd91d51458a29a8e861ae80c36b8b0a">_MM_DRIVER_VERIFIER_DATA::SynchronizeExecutions</a></div><div class="ttdeci">ULONG SynchronizeExecutions</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07117">mi.h:7117</a></div></div>
<div class="ttc" id="a02519_html_a14563eeed98cab769b33b9816b7f81c9"><div class="ttname"><a href="../../d9/dce/a02519.html#a14563eeed98cab769b33b9816b7f81c9">MiTrackingAborted</a></div><div class="ttdeci">BOOLEAN MiTrackingAborted</div></div>
<div class="ttc" id="a00963_html"><div class="ttname"><a href="../../de/dad/a00963.html">_MMPAGING_FILE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04239">mi.h:4239</a></div></div>
<div class="ttc" id="a00961_html_a992357c22bcca6e023994d63d2cb40d6"><div class="ttname"><a href="../../da/d45/a00961.html#a992357c22bcca6e023994d63d2cb40d6">_MMMOD_WRITER_MDL_ENTRY::u</a></div><div class="ttdeci">union _MMMOD_WRITER_MDL_ENTRY::@762 u</div></div>
<div class="ttc" id="a00375_html_a0cba03261b2a7920bafb7d386a67138e"><div class="ttname"><a href="../../dd/dcb/a00375.html#a0cba03261b2a7920bafb7d386a67138e">_EVENT_COUNTER::ListEntry</a></div><div class="ttdeci">SLIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03510">mi.h:3510</a></div></div>
<div class="ttc" id="a02519_html_a9e3b5a63d9028e064c124226edfd1caf"><div class="ttname"><a href="../../d9/dce/a02519.html#a9e3b5a63d9028e064c124226edfd1caf">MmMaximumNonPagedPoolInBytes</a></div><div class="ttdeci">SIZE_T MmMaximumNonPagedPoolInBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00273">miglobal.c:273</a></div></div>
<div class="ttc" id="a00961_html_a1101e7f75f5014f448fb5cf808c8e543"><div class="ttname"><a href="../../da/d45/a00961.html#a1101e7f75f5014f448fb5cf808c8e543">_MMMOD_WRITER_MDL_ENTRY::File</a></div><div class="ttdeci">PFILE_OBJECT File</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04228">mi.h:4228</a></div></div>
<div class="ttc" id="a01664_html_a5edbba89b07d8f17b71bd07b7b1f1256"><div class="ttname"><a href="../../dc/d71/a01664.html#a5edbba89b07d8f17b71bd07b7b1f1256">_SUBSECTION::NumberOfFullSectors</a></div><div class="ttdeci">ULONG NumberOfFullSectors</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03624">mi.h:3624</a></div></div>
<div class="ttc" id="a02519_html_a918c09b7cc040be1be598557ea0682ee"><div class="ttname"><a href="../../d9/dce/a02519.html#a918c09b7cc040be1be598557ea0682ee">InterlockedDecrement16</a></div><div class="ttdeci">FORCEINLINE SHORT FASTCALL InterlockedDecrement16(IN OUT PSHORT Addend)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02289">mi.h:2289</a></div></div>
<div class="ttc" id="a02519_html_a829418d514b91a194c7dc0145ee588c1"><div class="ttname"><a href="../../d9/dce/a02519.html#a829418d514b91a194c7dc0145ee588c1">ExpDefaultErrorPortProcess</a></div><div class="ttdeci">PEPROCESS ExpDefaultErrorPortProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d79/a02117_source.html#l00063">harderr.c:63</a></div></div>
<div class="ttc" id="a00929_html_a421677bd135bb071da218fd68fca52fd"><div class="ttname"><a href="../../dc/d92/a00929.html#a421677bd135bb071da218fd68fca52fd">_MI_PFN_DEREFERENCE_CHUNK::NumberOfPages</a></div><div class="ttdeci">USHORT NumberOfPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04499">mi.h:4499</a></div></div>
<div class="ttc" id="a00996_html_a37d7f44b6f86e0f0dc04b867798f18be"><div class="ttname"><a href="../../d3/daa/a00996.html#a37d7f44b6f86e0f0dc04b867798f18be">_MMWSL::LastEntry</a></div><div class="ttdeci">WSLE_NUMBER LastEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03012">mi.h:3012</a></div></div>
<div class="ttc" id="a00938_html"><div class="ttname"><a href="../../d5/d54/a00938.html">_MM_LDW_WORK_CONTEXT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04746">mi.h:4746</a></div></div>
<div class="ttc" id="a00936_html_ab5384d174ffd1c65c7624c4dc1f7382f"><div class="ttname"><a href="../../dc/d2b/a00936.html#ab5384d174ffd1c65c7624c4dc1f7382f">_MM_DRIVER_VERIFIER_DATA::PeakPagedPoolAllocations</a></div><div class="ttdeci">ULONG PeakPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07136">mi.h:7136</a></div></div>
<div class="ttc" id="a02519_html_ab14b07f14cba23f7e0ac51628dd0a1b5"><div class="ttname"><a href="../../d9/dce/a02519.html#ab14b07f14cba23f7e0ac51628dd0a1b5">MiChargeCommitmentFailures</a></div><div class="ttdeci">ULONG MiChargeCommitmentFailures[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00464">miglobal.c:464</a></div></div>
<div class="ttc" id="a02519_html_a2f7f3c2fb7893d46ec1c82152e08c5d4"><div class="ttname"><a href="../../d9/dce/a02519.html#a2f7f3c2fb7893d46ec1c82152e08c5d4">PSESSION_GLOBAL_SUBSECTION_INFO</a></div><div class="ttdeci">struct _SESSION_GLOBAL_SUBSECTION_INFO * PSESSION_GLOBAL_SUBSECTION_INFO</div></div>
<div class="ttc" id="a02519_html_a9e3fa9c33b19b3007573e1abef7d3e96"><div class="ttname"><a href="../../d9/dce/a02519.html#a9e3fa9c33b19b3007573e1abef7d3e96">PMMCLONE_HEADER</a></div><div class="ttdeci">struct _MMCLONE_HEADER * PMMCLONE_HEADER</div></div>
<div class="ttc" id="a02230_html_a2a3e0cda5f1249bef6db47c5eb8e3813"><div class="ttname"><a href="../../dd/d67/a02230.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a></div><div class="ttdeci">long LONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00291">ntdef.h:291</a></div></div>
<div class="ttc" id="a00850_html_a2fe4e4060e1444d3ac2cbb8d8fc3fc0c"><div class="ttname"><a href="../../dc/d0a/a00850.html#a2fe4e4060e1444d3ac2cbb8d8fc3fc0c">_LOCK_TRACKER::CallingAddress</a></div><div class="ttdeci">PVOID CallingAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04352">mi.h:4352</a></div></div>
<div class="ttc" id="a00981_html_ac46f00d62bd379a22b8f350a476a44db"><div class="ttname"><a href="../../dd/d24/a00981.html#ac46f00d62bd379a22b8f350a476a44db">_MMSECTION_FLAGS::NoCache</a></div><div class="ttdeci">unsigned NoCache</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03527">mi.h:3527</a></div></div>
<div class="ttc" id="a02519_html_a00ab641521d2abaf30a6b21547f9322d"><div class="ttname"><a href="../../d9/dce/a02519.html#a00ab641521d2abaf30a6b21547f9322d">MiResidentPagesForSpan</a></div><div class="ttdeci">PFN_NUMBER MiResidentPagesForSpan(IN PVOID StartingAddress, IN PVOID EndingAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/a02493_source.html#l02825">allocvm.c:2825</a></div></div>
<div class="ttc" id="a02519_html_a2838cb6be0337bc36ff91541fda471ea"><div class="ttname"><a href="../../d9/dce/a02519.html#a2838cb6be0337bc36ff91541fda471ea">MiGetLastNode</a></div><div class="ttdeci">PMMADDRESS_NODE MiGetLastNode(IN PMM_AVL_TABLE Root)</div></div>
<div class="ttc" id="a02519_html_ae8656f424dc9153a9f282b279d67ebb0"><div class="ttname"><a href="../../d9/dce/a02519.html#ae8656f424dc9153a9f282b279d67ebb0">MiFaultRetryMask</a></div><div class="ttdeci">ULONG MiFaultRetryMask</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00824">miglobal.c:824</a></div></div>
<div class="ttc" id="a02519_html_a751c52f546538eaf16dfa19af9886928"><div class="ttname"><a href="../../d9/dce/a02519.html#a751c52f546538eaf16dfa19af9886928">MiSessionLastPte</a></div><div class="ttdeci">PMMPTE MiSessionLastPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00185">miglobal.c:185</a></div></div>
<div class="ttc" id="a02205_html_a401a925f8ec84579861731dc6b84c80aaef8433b9494a4b6e9ed6282530b4ddda"><div class="ttname"><a href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aaef8433b9494a4b6e9ed6282530b4ddda">MmWriteCombined</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l04657">ke.h:4657</a></div></div>
<div class="ttc" id="a02519_html_a33b9bac6057a849cb2d52bbc62194807"><div class="ttname"><a href="../../d9/dce/a02519.html#a33b9bac6057a849cb2d52bbc62194807">MiCheckSystemPteProtection</a></div><div class="ttdeci">LOGICAL MiCheckSystemPteProtection(IN ULONG_PTR StoreInstruction, IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l06775">iosup.c:6775</a></div></div>
<div class="ttc" id="a02519_html_a2ee1ca2df1d804f916e7e22fb5cc1118"><div class="ttname"><a href="../../d9/dce/a02519.html#a2ee1ca2df1d804f916e7e22fb5cc1118">MmDereferenceSegmentHeader</a></div><div class="ttdeci">MMDEREFERENCE_SEGMENT_HEADER MmDereferenceSegmentHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00393">miglobal.c:393</a></div></div>
<div class="ttc" id="a02519_html_aae80f58bca3bd83455c9ef1de7a60605"><div class="ttname"><a href="../../d9/dce/a02519.html#aae80f58bca3bd83455c9ef1de7a60605">MMPFNTIMINGS</a></div><div class="ttdeci">struct _MMPFNTIMINGS MMPFNTIMINGS</div></div>
<div class="ttc" id="a02230_html_aa8495c77c87618ddbab765a549c9cbcb"><div class="ttname"><a href="../../dd/d67/a02230.html#aa8495c77c87618ddbab765a549c9cbcb">PKIRQL</a></div><div class="ttdeci">KIRQL * PKIRQL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01531">ntdef.h:1531</a></div></div>
<div class="ttc" id="a02519_html_add464605884e3fe68125a48ebbe4e482"><div class="ttname"><a href="../../d9/dce/a02519.html#add464605884e3fe68125a48ebbe4e482">MiLowPagedPoolEvent</a></div><div class="ttdeci">PKEVENT MiLowPagedPoolEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00127">mminit.c:127</a></div></div>
<div class="ttc" id="a00981_html_a63f274af210fc4c319fd57f16e940676"><div class="ttname"><a href="../../dd/d24/a00981.html#a63f274af210fc4c319fd57f16e940676">_MMSECTION_FLAGS::UserReference</a></div><div class="ttdeci">unsigned UserReference</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03536">mi.h:3536</a></div></div>
<div class="ttc" id="a02519_html_a97772f923445b27847c21e9711a8cea7"><div class="ttname"><a href="../../d9/dce/a02519.html#a97772f923445b27847c21e9711a8cea7">MmPagesAboveWsMinimum</a></div><div class="ttdeci">PFN_NUMBER MmPagesAboveWsMinimum</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00088">miglobal.c:88</a></div></div>
<div class="ttc" id="a00993_html_aa20a4720623e9b61216610ca4efa3563"><div class="ttname"><a href="../../da/d0a/a00993.html#aa20a4720623e9b61216610ca4efa3563">_MMVIEW::Entry</a></div><div class="ttdeci">ULONG_PTR Entry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04282">mi.h:4282</a></div></div>
<div class="ttc" id="a00074_html_a5410f14637581221a3b16018b231944c"><div class="ttname"><a href="../../db/db6/a00074.html#a5410f14637581221a3b16018b231944c">_AWEINFO::AweVadRoot</a></div><div class="ttdeci">MM_AVL_TABLE AweVadRoot</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04101">mi.h:4101</a></div></div>
<div class="ttc" id="a00964_html_ae78d191d4d5d8f36bc9d9479b35736b9"><div class="ttname"><a href="../../da/d17/a00964.html#ae78d191d4d5d8f36bc9d9479b35736b9">_MMPFN::AweAllocation</a></div><div class="ttdeci">ULONG_PTR AweAllocation</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01770">mi.h:1770</a></div></div>
<div class="ttc" id="a00181_html_a6e018b86f1f6f550de71a54367f7ef99"><div class="ttname"><a href="../../d8/d64/a00181.html#a6e018b86f1f6f550de71a54367f7ef99">_COLORED_PAGE_INFO::Event</a></div><div class="ttdeci">KEVENT Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04728">mi.h:4728</a></div></div>
<div class="ttc" id="a00990_html"><div class="ttname"><a href="../../dd/d7a/a00990.html">_MMVAD_FLAGS2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03938">mi.h:3938</a></div></div>
<div class="ttc" id="a02519_html_a1dee336c8b612daf9ef5a73451eb0257"><div class="ttname"><a href="../../d9/dce/a02519.html#a1dee336c8b612daf9ef5a73451eb0257">MmTotalCommitLimitMaximum</a></div><div class="ttdeci">SIZE_T MmTotalCommitLimitMaximum</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00462">miglobal.c:462</a></div></div>
<div class="ttc" id="a02519_html_a78a173ad98572402a9849fcdfb685869"><div class="ttname"><a href="../../d9/dce/a02519.html#a78a173ad98572402a9849fcdfb685869">MiInitializeAndChargePfn</a></div><div class="ttdeci">NTSTATUS MiInitializeAndChargePfn(OUT PPFN_NUMBER PageFrameIndex, IN PMMPTE PointerPde, IN PFN_NUMBER ContainingPageFrame, IN LOGICAL SessionAllocation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03828">allocpag.c:3828</a></div></div>
<div class="ttc" id="a02519_html_ac934f67ca08af1593b1d33e1db9313c7"><div class="ttname"><a href="../../d9/dce/a02519.html#ac934f67ca08af1593b1d33e1db9313c7">MmSubsectionTopPage</a></div><div class="ttdeci">ULONG_PTR MmSubsectionTopPage</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00041">mminit.c:41</a></div></div>
<div class="ttc" id="a02519_html_a9aca1f1461b1a5e60da0e736b7eac2f5"><div class="ttname"><a href="../../d9/dce/a02519.html#a9aca1f1461b1a5e60da0e736b7eac2f5">MI_VERIFIER_POOL_HEADER</a></div><div class="ttdeci">struct _MI_VERIFIER_POOL_HEADER MI_VERIFIER_POOL_HEADER</div></div>
<div class="ttc" id="a02519_html_aaec871e0214e873a7f9d1517e36e5023"><div class="ttname"><a href="../../d9/dce/a02519.html#aaec871e0214e873a7f9d1517e36e5023">MiNumberOfCompressionPages</a></div><div class="ttdeci">PFN_NUMBER MiNumberOfCompressionPages</div></div>
<div class="ttc" id="a01594_html_a51ab317a203a88a827b3dc55b04648bb"><div class="ttname"><a href="../../dc/def/a01594.html#a51ab317a203a88a827b3dc55b04648bb">_SEGMENT::TotalNumberOfPtes</a></div><div class="ttdeci">ULONG TotalNumberOfPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03456">mi.h:3456</a></div></div>
<div class="ttc" id="a00961_html"><div class="ttname"><a href="../../da/d45/a00961.html">_MMMOD_WRITER_MDL_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04216">mi.h:4216</a></div></div>
<div class="ttc" id="a02519_html_acf0577dcd95d744e3abed6d683db08ad"><div class="ttname"><a href="../../d9/dce/a02519.html#acf0577dcd95d744e3abed6d683db08ad">AWEINFO</a></div><div class="ttdeci">struct _AWEINFO AWEINFO</div></div>
<div class="ttc" id="a00931_html_a4880ef0049de6c0a85646b998c1088c8"><div class="ttname"><a href="../../df/dbc/a00931.html#a4880ef0049de6c0a85646b998c1088c8">_MI_PTE_RANGES::StartingVa</a></div><div class="ttdeci">PVOID StartingVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05025">mi.h:5025</a></div></div>
<div class="ttc" id="a00981_html_afa8a32df54b91ced528178a902c32d34"><div class="ttname"><a href="../../dd/d24/a00981.html#afa8a32df54b91ced528178a902c32d34">_MMSECTION_FLAGS::NoModifiedWriting</a></div><div class="ttdeci">unsigned NoModifiedWriting</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03519">mi.h:3519</a></div></div>
<div class="ttc" id="a02519_html_ab3bc8aaf5d24bfa7c94da5c55a435817"><div class="ttname"><a href="../../d9/dce/a02519.html#ab3bc8aaf5d24bfa7c94da5c55a435817">MI_PHYSICAL_VIEW</a></div><div class="ttdeci">struct _MI_PHYSICAL_VIEW MI_PHYSICAL_VIEW</div></div>
<div class="ttc" id="a00926_html"><div class="ttname"><a href="../../d8/d38/a00926.html">_MI_LARGEPAGE_MEMORY_RUN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04776">mi.h:4776</a></div></div>
<div class="ttc" id="a02519_html_a3117b0194dcaec616f34145a19f85011"><div class="ttname"><a href="../../d9/dce/a02519.html#a3117b0194dcaec616f34145a19f85011">MiAccessCheck</a></div><div class="ttdeci">NTSTATUS MiAccessCheck(IN PMMPTE PointerPte, IN ULONG_PTR WriteOperation, IN KPROCESSOR_MODE PreviousMode, IN ULONG Protection, IN PVOID TrapInformation, IN BOOLEAN CallerHoldsPfnLock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02490_source.html#l00063">acceschk.c:63</a></div></div>
<div class="ttc" id="a02205_html_a652c3aea8df026001af73c0ee51304da"><div class="ttname"><a href="../../dc/d43/a02205.html#a652c3aea8df026001af73c0ee51304da">KeReadTbFlushTimeStamp</a></div><div class="ttdeci">FORCEINLINE ULONG KeReadTbFlushTimeStamp(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l04298">ke.h:4298</a></div></div>
<div class="ttc" id="a02519_html_ad339e20da6e720855a23ff222310bdc4"><div class="ttname"><a href="../../d9/dce/a02519.html#ad339e20da6e720855a23ff222310bdc4">MMVAD_FLAGS2</a></div><div class="ttdeci">struct _MMVAD_FLAGS2 MMVAD_FLAGS2</div></div>
<div class="ttc" id="a00922_html_ab7ba8898a9c9999f3ea6f65ad218d200"><div class="ttname"><a href="../../dd/dcf/a00922.html#ab7ba8898a9c9999f3ea6f65ad218d200">_MI_FREED_SPECIAL_POOL::TickCount</a></div><div class="ttdeci">ULONG TickCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07204">mi.h:7204</a></div></div>
<div class="ttc" id="a02519_html_a786aca989ca87b629afe359cd8be5e67"><div class="ttname"><a href="../../d9/dce/a02519.html#a786aca989ca87b629afe359cd8be5e67">MmPagesAboveWsThreshold</a></div><div class="ttdeci">PFN_NUMBER MmPagesAboveWsThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00095">miglobal.c:95</a></div></div>
<div class="ttc" id="a02519_html_aa29e28a917d8eceecd76a7ec6486358e"><div class="ttname"><a href="../../d9/dce/a02519.html#aa29e28a917d8eceecd76a7ec6486358e">MiRemoveViewsFromSectionWithPfn</a></div><div class="ttdeci">VOID MiRemoveViewsFromSectionWithPfn(IN PMSUBSECTION StartMappedSubsection, IN UINT64 LastPteOffset OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l03246">mapview.c:3246</a></div></div>
<div class="ttc" id="a02519_html_a51d0fb124ffc1031d9f8afdb62d83c69"><div class="ttname"><a href="../../d9/dce/a02519.html#a51d0fb124ffc1031d9f8afdb62d83c69">MMMOD_WRITER_LISTHEAD</a></div><div class="ttdeci">struct _MMMOD_WRITER_LISTHEAD MMMOD_WRITER_LISTHEAD</div></div>
<div class="ttc" id="a02519_html_a2071494637dcf57d073e6425859ca77f"><div class="ttname"><a href="../../d9/dce/a02519.html#a2071494637dcf57d073e6425859ca77f">MMSECT</a></div><div class="ttdeci">const ULONG MMSECT</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00522">miglobal.c:522</a></div></div>
<div class="ttc" id="a00985_html_abaa12e13940c1c46f48ffc18a77bdb9b"><div class="ttname"><a href="../../da/deb/a00985.html#abaa12e13940c1c46f48ffc18a77bdb9b">_MMSUBSECTION_FLAGS2::SubsectionAccessed</a></div><div class="ttdeci">unsigned SubsectionAccessed</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03639">mi.h:3639</a></div></div>
<div class="ttc" id="a02519_html_aec55900ad249564f3cbd737b74d6684d"><div class="ttname"><a href="../../d9/dce/a02519.html#aec55900ad249564f3cbd737b74d6684d">MmSystemViewSize</a></div><div class="ttdeci">SIZE_T MmSystemViewSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00760">miglobal.c:760</a></div></div>
<div class="ttc" id="a02519_html_ae8cb8dafdd51851c92b228c82f4be092"><div class="ttname"><a href="../../d9/dce/a02519.html#ae8cb8dafdd51851c92b228c82f4be092">MmVirtualAddressDescriptorRoot</a></div><div class="ttdeci">PMMVAD MmVirtualAddressDescriptorRoot</div></div>
<div class="ttc" id="a02519_html_a5fc73fca67ec8afa63f24c786a4f3909"><div class="ttname"><a href="../../d9/dce/a02519.html#a5fc73fca67ec8afa63f24c786a4f3909">MiCreatePageTablesForPhysicalRange</a></div><div class="ttdeci">LOGICAL MiCreatePageTablesForPhysicalRange(IN PEPROCESS Process, IN PVOID StartingAddress, IN PVOID EndingAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/a02493_source.html#l02906">allocvm.c:2906</a></div></div>
<div class="ttc" id="a00978_html_a981a32b5ccd29d7ab92ce75cdb0e06dc"><div class="ttname"><a href="../../d2/ddd/a00978.html#a981a32b5ccd29d7ab92ce75cdb0e06dc">_MMPTE_SOFTWARE::Protection</a></div><div class="ttdeci">ULONGLONG Protection</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02614">miamd.h:2614</a></div></div>
<div class="ttc" id="a02519_html_a8727e2b6f82504e77a0100a9c342d9ea"><div class="ttname"><a href="../../d9/dce/a02519.html#a8727e2b6f82504e77a0100a9c342d9ea">MiSessionPoolEnd</a></div><div class="ttdeci">ULONG_PTR MiSessionPoolEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00764">miglobal.c:764</a></div></div>
<div class="ttc" id="a02519_html_aff8133d00b05df80fdccf323e2c317e0"><div class="ttname"><a href="../../d9/dce/a02519.html#aff8133d00b05df80fdccf323e2c317e0">MiUnmapSinglePage</a></div><div class="ttdeci">VOID MiUnmapSinglePage(IN PVOID BaseAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l05300">iosup.c:5300</a></div></div>
<div class="ttc" id="a02519_html_a48a0d9611893cdee41d7d2e778afb87f"><div class="ttname"><a href="../../d9/dce/a02519.html#a48a0d9611893cdee41d7d2e778afb87f">MmUnloadedDrivers</a></div><div class="ttdeci">PUNLOADED_DRIVERS MmUnloadedDrivers</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l00042">sysload.c:42</a></div></div>
<div class="ttc" id="a00816_html_a2e62a85b29f044d2003e8c638f48a408"><div class="ttname"><a href="../../d7/d60/a00816.html#a2e62a85b29f044d2003e8c638f48a408">_LARGE_CONTROL_AREA::StartingFrame</a></div><div class="ttdeci">PFN_NUMBER StartingFrame</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03601">mi.h:3601</a></div></div>
<div class="ttc" id="a00948_html_afe3e6c129a1eeaccdcb1e03537c4e6df"><div class="ttname"><a href="../../d8/d18/a00948.html#afe3e6c129a1eeaccdcb1e03537c4e6df">_MMBANKED_SECTION::BankShift</a></div><div class="ttdeci">ULONG BankShift</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03881">mi.h:3881</a></div></div>
<div class="ttc" id="a00963_html_afccc1b04281cd13cfa884512f8ef4bc6"><div class="ttname"><a href="../../de/dad/a00963.html#afccc1b04281cd13cfa884512f8ef4bc6">_MMPAGING_FILE::HighestPage</a></div><div class="ttdeci">PFN_NUMBER HighestPage</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04246">mi.h:4246</a></div></div>
<div class="ttc" id="a02519_html_a37063eb33d61b794d02702641aacffd2"><div class="ttname"><a href="../../d9/dce/a02519.html#a37063eb33d61b794d02702641aacffd2">MiUnlinkFreeOrZeroedPage</a></div><div class="ttdeci">VOID MiUnlinkFreeOrZeroedPage(IN PMMPFN Pfn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l01416">pfnlist.c:1416</a></div></div>
<div class="ttc" id="a00933_html_a4069eee88d58f163ebed80a04e399a33"><div class="ttname"><a href="../../d0/d5b/a00933.html#a4069eee88d58f163ebed80a04e399a33">_MI_VERIFIER_DRIVER_ENTRY::PoolPageHeaders</a></div><div class="ttdeci">SLIST_HEADER PoolPageHeaders</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07094">mi.h:7094</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3cca4e96928a984a92d9181408557f7e4027"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca4e96928a984a92d9181408557f7e4027">VadWriteWatch</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03922">mi.h:3922</a></div></div>
<div class="ttc" id="a02519_html_a144c5f4e7cc358ba745ea0fd4c297b98"><div class="ttname"><a href="../../d9/dce/a02519.html#a144c5f4e7cc358ba745ea0fd4c297b98">MM4K_SHIFT</a></div><div class="ttdeci">#define MM4K_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00119">mi.h:119</a></div></div>
<div class="ttc" id="a02519_html_a0ab0f4e038fa33f17f351d0aee56293e"><div class="ttname"><a href="../../d9/dce/a02519.html#a0ab0f4e038fa33f17f351d0aee56293e">MiActiveVerifierThunks</a></div><div class="ttdeci">ULONG MiActiveVerifierThunks</div></div>
<div class="ttc" id="a02519_html_a7fe577c931a811a177a7de9cabc8c167"><div class="ttname"><a href="../../d9/dce/a02519.html#a7fe577c931a811a177a7de9cabc8c167">MiCleanPhysicalProcessPages</a></div><div class="ttdeci">VOID MiCleanPhysicalProcessPages(IN PEPROCESS Process)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l02663">physical.c:2663</a></div></div>
<div class="ttc" id="a00958_html_af36e524f01db77e48924e680a3eda753"><div class="ttname"><a href="../../df/d9c/a00958.html#af36e524f01db77e48924e680a3eda753">_MMIO_TRACKER::PageFrameIndex</a></div><div class="ttdeci">PFN_NUMBER PageFrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01965">mi.h:1965</a></div></div>
<div class="ttc" id="a02519_html_ab07d8b5c2089ddc4c9951c5723d55ea9"><div class="ttname"><a href="../../d9/dce/a02519.html#ab07d8b5c2089ddc4c9951c5723d55ea9">MiPfnBitMap</a></div><div class="ttdeci">RTL_BITMAP MiPfnBitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00061">mminit.c:61</a></div></div>
<div class="ttc" id="a02519_html_a2571901adde44d911b6a4eb10664df36"><div class="ttname"><a href="../../d9/dce/a02519.html#a2571901adde44d911b6a4eb10664df36">MmProcessColorSeed</a></div><div class="ttdeci">ULONG MmProcessColorSeed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00035">miglobal.c:35</a></div></div>
<div class="ttc" id="a00962_html_a6645f328d3b763fedfa2ba59dc4ff3b3"><div class="ttname"><a href="../../df/d88/a00962.html#a6645f328d3b763fedfa2ba59dc4ff3b3">_MMPAGE_FILE_EXPANSION::DereferenceList</a></div><div class="ttdeci">LIST_ENTRY DereferenceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03794">mi.h:3794</a></div></div>
<div class="ttc" id="a00957_html_ac2074651dd943d13973845275f2602c5"><div class="ttname"><a href="../../d1/df7/a00957.html#ac2074651dd943d13973845275f2602c5">_MMINPAGE_SUPPORT::Pfn</a></div><div class="ttdeci">PMMPFN Pfn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03843">mi.h:3843</a></div></div>
<div class="ttc" id="a02519_html_a797fafec1b6e7fcd0792c8fad7175c43"><div class="ttname"><a href="../../d9/dce/a02519.html#a797fafec1b6e7fcd0792c8fad7175c43">MiMapSinglePage</a></div><div class="ttdeci">PVOID MiMapSinglePage(IN PVOID VirtualAddress OPTIONAL, IN PFN_NUMBER PageFrameIndex, IN MEMORY_CACHING_TYPE CacheType, IN MM_PAGE_PRIORITY Priority)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l05039">iosup.c:5039</a></div></div>
<div class="ttc" id="a02519_html_a010a4e864c00f09c4f4057cea789cdb9"><div class="ttname"><a href="../../d9/dce/a02519.html#a010a4e864c00f09c4f4057cea789cdb9">MiGetNextNode</a></div><div class="ttdeci">PMMADDRESS_NODE FASTCALL MiGetNextNode(IN PMMADDRESS_NODE Node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01594">addrsup.c:1594</a></div></div>
<div class="ttc" id="a02519_html_a1a85e51d2b390629d2ddb7ba0dece5e4"><div class="ttname"><a href="../../d9/dce/a02519.html#a1a85e51d2b390629d2ddb7ba0dece5e4">MmHeapDeCommitFreeBlockThreshold</a></div><div class="ttdeci">SIZE_T MmHeapDeCommitFreeBlockThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00570">miglobal.c:570</a></div></div>
<div class="ttc" id="a00339_html_aae813de3e75f2e25ed28dffbff36d717"><div class="ttname"><a href="../../d0/d01/a00339.html#aae813de3e75f2e25ed28dffbff36d717">_DRIVER_SPECIFIED_VERIFIER_THUNKS::ListEntry</a></div><div class="ttdeci">LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09078">mi.h:9078</a></div></div>
<div class="ttc" id="a00981_html_a3219d98e4bb56573de13dadafde5d267"><div class="ttname"><a href="../../dd/d24/a00981.html#a3219d98e4bb56573de13dadafde5d267">_MMSECTION_FLAGS::NoChange</a></div><div class="ttdeci">unsigned NoChange</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03544">mi.h:3544</a></div></div>
<div class="ttc" id="a01806_html"><div class="ttname"><a href="../../db/db2/a01806.html">_VI_POOL_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07068">mi.h:7068</a></div></div>
<div class="ttc" id="a02519_html_a2039d181fd12ed06e07a006689d829a0"><div class="ttname"><a href="../../d9/dce/a02519.html#a2039d181fd12ed06e07a006689d829a0">MmModifiedPageListByColor</a></div><div class="ttdeci">MMPFNLIST MmModifiedPageListByColor[MM_MAXIMUM_NUMBER_OF_COLORS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00120">dataamd.c:120</a></div></div>
<div class="ttc" id="a02519_html_a034e95aa5c969353e0d5145abf288a6a"><div class="ttname"><a href="../../d9/dce/a02519.html#a034e95aa5c969353e0d5145abf288a6a">MiAttemptPageFileReduction</a></div><div class="ttdeci">VOID MiAttemptPageFileReduction(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l01865">modwrite.c:1865</a></div></div>
<div class="ttc" id="a02519_html_ab70ef0d11e76d124b53f8e1b66245c05"><div class="ttname"><a href="../../d9/dce/a02519.html#ab70ef0d11e76d124b53f8e1b66245c05">MiPhysicalViewRemover</a></div><div class="ttdeci">VOID MiPhysicalViewRemover(IN PEPROCESS Process, IN PMMVAD Vad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l06954">iosup.c:6954</a></div></div>
<div class="ttc" id="a02519_html_a2cd8df37951d86658c5a60822eb4ca76"><div class="ttname"><a href="../../d9/dce/a02519.html#a2cd8df37951d86658c5a60822eb4ca76">MmDeadStackSListHead</a></div><div class="ttdeci">SLIST_HEADER MmDeadStackSListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00340">miglobal.c:340</a></div></div>
<div class="ttc" id="a02519_html_a90460e3768f71713c04eb1a665f98408"><div class="ttname"><a href="../../d9/dce/a02519.html#a90460e3768f71713c04eb1a665f98408">MiInsertVad</a></div><div class="ttdeci">VOID FORCEINLINE MiInsertVad(IN PMMVAD Vad, IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05392">mi.h:5392</a></div></div>
<div class="ttc" id="a02195_html_a850d80ca2291d26b40dc6b25c419f81a"><div class="ttname"><a href="../../df/d0e/a02195.html#a850d80ca2291d26b40dc6b25c419f81a">PAGE_SHIFT</a></div><div class="ttdeci">#define PAGE_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l01852">i386.h:1852</a></div></div>
<div class="ttc" id="a01614_html_ad76dbbf50c55095b85cb564136b76a8e"><div class="ttname"><a href="../../db/d7c/a01614.html#ad76dbbf50c55095b85cb564136b76a8e">_SESSION_GLOBAL_SUBSECTION_INFO::PteIndex</a></div><div class="ttdeci">ULONG_PTR PteIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08843">mi.h:8843</a></div></div>
<div class="ttc" id="a00963_html_ac9a016d7ed172c621ef35e62c2746bb4"><div class="ttname"><a href="../../de/dad/a00963.html#ac9a016d7ed172c621ef35e62c2746bb4">_MMPAGING_FILE::MaximumSize</a></div><div class="ttdeci">PFN_NUMBER MaximumSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04241">mi.h:4241</a></div></div>
<div class="ttc" id="a00922_html_a7a6610097c55ac690ea2aefc95ac586f"><div class="ttname"><a href="../../dd/dcf/a00922.html#a7a6610097c55ac690ea2aefc95ac586f">_MI_FREED_SPECIAL_POOL::NumberOfBytesRequested</a></div><div class="ttdeci">ULONG NumberOfBytesRequested</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07205">mi.h:7205</a></div></div>
<div class="ttc" id="a02519_html_a5878ddd3653683ad14f239d3ac7232d9"><div class="ttname"><a href="../../d9/dce/a02519.html#a5878ddd3653683ad14f239d3ac7232d9">MiRemoveWorkingSetPages</a></div><div class="ttdeci">VOID MiRemoveWorkingSetPages(IN PMMSUPPORT WsInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l04446">wslist.c:4446</a></div></div>
<div class="ttc" id="a02519_html_a1c04a5780dd6b395a940d90071f1a51a"><div class="ttname"><a href="../../d9/dce/a02519.html#a1c04a5780dd6b395a940d90071f1a51a">MMSHARE_TYPE</a></div><div class="ttdeci">enum _MMSHARE_TYPE MMSHARE_TYPE</div></div>
<div class="ttc" id="a00981_html_ad672f3c076177f2e541112494194bac9"><div class="ttname"><a href="../../dd/d24/a00981.html#ad672f3c076177f2e541112494194bac9">_MMSECTION_FLAGS::filler0</a></div><div class="ttdeci">unsigned filler0</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03546">mi.h:3546</a></div></div>
<div class="ttc" id="a02519_html_a87c0f03491992c334c5b5a108754f3c7"><div class="ttname"><a href="../../d9/dce/a02519.html#a87c0f03491992c334c5b5a108754f3c7">MmSectionExtendSetResource</a></div><div class="ttdeci">ERESOURCE MmSectionExtendSetResource</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00385">miglobal.c:385</a></div></div>
<div class="ttc" id="a02519_html_a46bd5f909ec118d47b7478c72bc462d9"><div class="ttname"><a href="../../d9/dce/a02519.html#a46bd5f909ec118d47b7478c72bc462d9">MiSetProtectionOnSection</a></div><div class="ttdeci">NTSTATUS MiSetProtectionOnSection(IN PEPROCESS Process, IN PMMVAD Vad, IN PVOID StartingAddress, IN PVOID EndingAddress, IN ULONG NewProtect, OUT PULONG CapturedOldProtect, IN ULONG DontCharge, OUT PULONG Locked)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc8/a02531_source.html#l01050">protect.c:1050</a></div></div>
<div class="ttc" id="a02205_html_ae09977cca2cb0b574e8556934915eb7f"><div class="ttname"><a href="../../dc/d43/a02205.html#ae09977cca2cb0b574e8556934915eb7f">MEMORY_CACHING_TYPE</a></div><div class="ttdeci">enum _MEMORY_CACHING_TYPE MEMORY_CACHING_TYPE</div></div>
<div class="ttc" id="a02519_html_a38c89927b27c36c26208f48420e13a58"><div class="ttname"><a href="../../d9/dce/a02519.html#a38c89927b27c36c26208f48420e13a58">MAPPED_FILE_SEGMENT</a></div><div class="ttdeci">struct _MAPPED_FILE_SEGMENT MAPPED_FILE_SEGMENT</div></div>
<div class="ttc" id="a00983_html_a8c90d81a8771faba7b38fea0c55dd2bd"><div class="ttname"><a href="../../d7/d98/a00983.html#a8c90d81a8771faba7b38fea0c55dd2bd">_MMSESSION::SystemSpaceHashSize</a></div><div class="ttdeci">ULONG SystemSpaceHashSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04310">mi.h:4310</a></div></div>
<div class="ttc" id="a02519_html_a0e43736f9a3a62c8f00cb36361ad6116"><div class="ttname"><a href="../../d9/dce/a02519.html#a0e43736f9a3a62c8f00cb36361ad6116">MiAddValidPageToWorkingSet</a></div><div class="ttdeci">WSLE_NUMBER MiAddValidPageToWorkingSet(IN PVOID VirtualAddress, IN PMMPTE PointerPte, IN PMMPFN Pfn1, IN ULONG WsleMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l06283">pagfault.c:6283</a></div></div>
<div class="ttc" id="a02519_html_a4eb7c741ac386637654606898f3f85dd"><div class="ttname"><a href="../../d9/dce/a02519.html#a4eb7c741ac386637654606898f3f85dd">MmSessionImageSize</a></div><div class="ttdeci">SIZE_T MmSessionImageSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00784">miglobal.c:784</a></div></div>
<div class="ttc" id="a01578_html_aff2045585d87e326b3fb8742d7fa1ff7"><div class="ttname"><a href="../../d1/d88/a01578.html#aff2045585d87e326b3fb8742d7fa1ff7">_SECTION::SizeOfSection</a></div><div class="ttdeci">LARGE_INTEGER SizeOfSection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03863">mi.h:3863</a></div></div>
<div class="ttc" id="a02519_html_af45b8cecefb00d7be966c54d1c87bd3f"><div class="ttname"><a href="../../d9/dce/a02519.html#af45b8cecefb00d7be966c54d1c87bd3f">MiRecoverSpecialPtes</a></div><div class="ttdeci">LOGICAL MiRecoverSpecialPtes(IN ULONG NumberOfPtes)</div></div>
<div class="ttc" id="a02519_html_af1e9f7166a27c018f6a3eddea2f38f41"><div class="ttname"><a href="../../d9/dce/a02519.html#af1e9f7166a27c018f6a3eddea2f38f41">MiAllocatePagesForMdl</a></div><div class="ttdeci">PMDL MiAllocatePagesForMdl(IN PHYSICAL_ADDRESS LowAddress, IN PHYSICAL_ADDRESS HighAddress, IN PHYSICAL_ADDRESS SkipBytes, IN SIZE_T TotalBytes, IN MI_PFN_CACHE_ATTRIBUTE CacheAttribute, IN ULONG Flags)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l10322">iosup.c:10322</a></div></div>
<div class="ttc" id="a00930_html_a4976cba3b745452f0464dac94516fcf3"><div class="ttname"><a href="../../d7/d16/a00930.html#a4976cba3b745452f0464dac94516fcf3">_MI_PHYSICAL_VIEW::RightChild</a></div><div class="ttdeci">struct _MMADDRESS_NODE * RightChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04054">mi.h:4054</a></div></div>
<div class="ttc" id="a00961_html_a408528ef6355592f0a12ba8424a53c61"><div class="ttname"><a href="../../da/d45/a00961.html#a408528ef6355592f0a12ba8424a53c61">_MMMOD_WRITER_MDL_ENTRY::FileResource</a></div><div class="ttdeci">PERESOURCE FileResource</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04230">mi.h:4230</a></div></div>
<div class="ttc" id="a02519_html_a7af5b067c68a4db78548e23ab91652f5"><div class="ttname"><a href="../../d9/dce/a02519.html#a7af5b067c68a4db78548e23ab91652f5">PMMPTE_FLUSH_LIST</a></div><div class="ttdeci">struct _MMPTE_FLUSH_LIST * PMMPTE_FLUSH_LIST</div></div>
<div class="ttc" id="a02519_html_ab417d1951acfcad8bb90ffdf48a72536"><div class="ttname"><a href="../../d9/dce/a02519.html#ab417d1951acfcad8bb90ffdf48a72536">MiSessionSpacePageTables</a></div><div class="ttdeci">ULONG MiSessionSpacePageTables</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00770">miglobal.c:770</a></div></div>
<div class="ttc" id="a00964_html_a8a10c276e3cd55b7b6e6a8c52cd560be"><div class="ttname"><a href="../../da/d17/a00964.html#a8a10c276e3cd55b7b6e6a8c52cd560be">_MMPFN::ShareCount</a></div><div class="ttdeci">ULONG_PTR ShareCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01733">mi.h:1733</a></div></div>
<div class="ttc" id="a00031_html_a90b535ff58446fb4affb3ae60c1d5797"><div class="ttname"><a href="../../df/d61/a00031.html#a90b535ff58446fb4affb3ae60c1d5797">_ALIAS_VAD_INFO2::BaseAddress</a></div><div class="ttdeci">ULONG BaseAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03972">mi.h:3972</a></div></div>
<div class="ttc" id="a02215_html_a30df91b6843ad4b1d76b3c84d4786fbc"><div class="ttname"><a href="../../dd/d31/a02215.html#a30df91b6843ad4b1d76b3c84d4786fbc">MmSecondaryColorMask</a></div><div class="ttdeci">ULONG MmSecondaryColorMask</div></div>
<div class="ttc" id="a00895_html"><div class="ttname"><a href="../../d2/d21/a00895.html">_MAPPED_FILE_SEGMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03490">mi.h:3490</a></div></div>
<div class="ttc" id="a02519_html_aafca12a568e9bb06775aa161a63c425c"><div class="ttname"><a href="../../d9/dce/a02519.html#aafca12a568e9bb06775aa161a63c425c">MiCheckForControlAreaDeletion</a></div><div class="ttdeci">VOID MiCheckForControlAreaDeletion(IN PCONTROL_AREA ControlArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l02509">sectsup.c:2509</a></div></div>
<div class="ttc" id="a02245_html_a0a64bb526e58ec166d35c6a4b1622603"><div class="ttname"><a href="../../da/d14/a02245.html#a0a64bb526e58ec166d35c6a4b1622603">SECTION_INHERIT</a></div><div class="ttdeci">enum _SECTION_INHERIT SECTION_INHERIT</div></div>
<div class="ttc" id="a02519_html_aceac3e7de7b4c6a1e74fd826708bae60"><div class="ttname"><a href="../../d9/dce/a02519.html#aceac3e7de7b4c6a1e74fd826708bae60">MiAddViewsForSection</a></div><div class="ttdeci">NTSTATUS MiAddViewsForSection(IN PMSUBSECTION MappedSubsection, IN UINT64 LastPteOffset OPTIONAL, IN KIRQL OldIrql, OUT PULONG Waited)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l02885">mapview.c:2885</a></div></div>
<div class="ttc" id="a00942_html_af9d48fe5eb66494a419ebd54ad798a2d"><div class="ttname"><a href="../../df/d12/a00942.html#af9d48fe5eb66494a419ebd54ad798a2d">_MM_SESSION_SPACE::ImageList</a></div><div class="ttdeci">LIST_ENTRY ImageList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08595">mi.h:8595</a></div></div>
<div class="ttc" id="a02184_html_a46c1fda1daa0351fcd9ee85bb6c1fa6d"><div class="ttname"><a href="../../d5/ddd/a02184.html#a46c1fda1daa0351fcd9ee85bb6c1fa6d">NumberOfBytes</a></div><div class="ttdeci">DECLSPEC_DEPRECATED_DDK NTKERNELAPI __in SIZE_T NumberOfBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l00187">ex.h:187</a></div></div>
<div class="ttc" id="a02519_html_a423eb2ed99f973ab82b646f8ea12d868"><div class="ttname"><a href="../../d9/dce/a02519.html#a423eb2ed99f973ab82b646f8ea12d868">MmSizeOfNonPagedPoolInBytes</a></div><div class="ttdeci">SIZE_T MmSizeOfNonPagedPoolInBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00271">miglobal.c:271</a></div></div>
<div class="ttc" id="a02519_html_aaa3a5e1459f5cd91a64169aea65b9e9a"><div class="ttname"><a href="../../d9/dce/a02519.html#aaa3a5e1459f5cd91a64169aea65b9e9a">MMSECTION_FLAGS</a></div><div class="ttdeci">struct _MMSECTION_FLAGS MMSECTION_FLAGS</div></div>
<div class="ttc" id="a02519_html_a2af626dd2a2a395615cf0e312d95a5cf"><div class="ttname"><a href="../../d9/dce/a02519.html#a2af626dd2a2a395615cf0e312d95a5cf">MiInitializeLargePageSupport</a></div><div class="ttdeci">VOID MiInitializeLargePageSupport(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l07810">iosup.c:7810</a></div></div>
<div class="ttc" id="a00988_html_ab0a7d97a3de3182eb216743b13ae91a6"><div class="ttname"><a href="../../d6/d48/a00988.html#ab0a7d97a3de3182eb216743b13ae91a6">_MMVAD::VadFlags</a></div><div class="ttdeci">MMVAD_FLAGS VadFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03988">mi.h:3988</a></div></div>
<div class="ttc" id="a00816_html_ac4c0df7d45a4ca18b511cd015068abaf"><div class="ttname"><a href="../../d7/d60/a00816.html#ac4c0df7d45a4ca18b511cd015068abaf">_LARGE_CONTROL_AREA::UserGlobalList</a></div><div class="ttdeci">LIST_ENTRY UserGlobalList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03602">mi.h:3602</a></div></div>
<div class="ttc" id="a00950_html_a40b14ca72e2bef9c2c56e007e13f8764"><div class="ttname"><a href="../../df/d39/a00950.html#a40b14ca72e2bef9c2c56e007e13f8764">_MMCLONE_DESCRIPTOR::u1</a></div><div class="ttdeci">union _MMCLONE_DESCRIPTOR::@761 u1</div></div>
<div class="ttc" id="a01387_html"><div class="ttname"><a href="../../d9/d40/a01387.html">_POOL_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d6e/a02273_source.html#l00166">pool.h:166</a></div></div>
<div class="ttc" id="a00939_html_a3e24080214de3ceff4133586b6f672da"><div class="ttname"><a href="../../dd/d20/a00939.html#a3e24080214de3ceff4133586b6f672da">_MM_PAGED_POOL_INFO::EndOfPagedPoolBitmap</a></div><div class="ttdeci">PRTL_BITMAP EndOfPagedPoolBitmap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07718">mi.h:7718</a></div></div>
<div class="ttc" id="a02496_html_a1af6ab66fe9e6ba1c9260201fd39222f"><div class="ttname"><a href="../../d1/df5/a02496.html#a1af6ab66fe9e6ba1c9260201fd39222f">MM_USER_PAGE_DIRECTORY_PAGES</a></div><div class="ttdeci">#define MM_USER_PAGE_DIRECTORY_PAGES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00469">miamd.h:469</a></div></div>
<div class="ttc" id="a02519_html_a4222654e7fca252795caee85f49fd31d"><div class="ttname"><a href="../../d9/dce/a02519.html#a4222654e7fca252795caee85f49fd31d">MmMakeLowMemory</a></div><div class="ttdeci">LOGICAL MmMakeLowMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l00035">sysload.c:35</a></div></div>
<div class="ttc" id="a00955_html_a814eeb3912709015561262c25df9230f"><div class="ttname"><a href="../../dc/db6/a00955.html#a814eeb3912709015561262c25df9230f">_MMFREE_POOL_ENTRY::Size</a></div><div class="ttdeci">PFN_NUMBER Size</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04266">mi.h:4266</a></div></div>
<div class="ttc" id="a00959_html_ad7233bf25145d605822c1d3e0efe583c"><div class="ttname"><a href="../../db/d40/a00959.html#ad7233bf25145d605822c1d3e0efe583c">_MMLOCK_CONFLICT::Thread</a></div><div class="ttdeci">PETHREAD Thread</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04274">mi.h:4274</a></div></div>
<div class="ttc" id="a00936_html_aac29785147803d9953632168966b604d"><div class="ttname"><a href="../../dc/d2b/a00936.html#aac29785147803d9953632168966b604d">_MM_DRIVER_VERIFIER_DATA::Unloads</a></div><div class="ttdeci">ULONG Unloads</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07130">mi.h:7130</a></div></div>
<div class="ttc" id="a01578_html_a7476b7304e5e846ce63678c44d6c2ac3"><div class="ttname"><a href="../../d1/d88/a01578.html#a7476b7304e5e846ce63678c44d6c2ac3">_SECTION::Segment</a></div><div class="ttdeci">PSEGMENT Segment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03862">mi.h:3862</a></div></div>
<div class="ttc" id="a02519_html_aaadd8d49654552f3aa4d3343448bd155"><div class="ttname"><a href="../../d9/dce/a02519.html#aaadd8d49654552f3aa4d3343448bd155">MiCheckSecuredVad</a></div><div class="ttdeci">NTSTATUS MiCheckSecuredVad(IN PMMVAD Vad, IN PVOID Base, IN ULONG_PTR Size, IN ULONG ProtectionMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc8/a02531_source.html#l02585">protect.c:2585</a></div></div>
<div class="ttc" id="a00942_html_add290864a051980830c9456fde321c92"><div class="ttname"><a href="../../df/d12/a00942.html#add290864a051980830c9456fde321c92">_MM_SESSION_SPACE::LastProcess</a></div><div class="ttdeci">PEPROCESS LastProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08607">mi.h:8607</a></div></div>
<div class="ttc" id="a00963_html_a5e645b20ff715d45e01ac81e7ec73023"><div class="ttname"><a href="../../de/dad/a00963.html#a5e645b20ff715d45e01ac81e7ec73023">_MMPAGING_FILE::BootPartition</a></div><div class="ttdeci">ULONG BootPartition</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04254">mi.h:4254</a></div></div>
<div class="ttc" id="a00339_html_a10e2591eea087b405f32e544345bf1ca"><div class="ttname"><a href="../../d0/d01/a00339.html#a10e2591eea087b405f32e544345bf1ca">_DRIVER_SPECIFIED_VERIFIER_THUNKS::DataTableEntry</a></div><div class="ttdeci">PKLDR_DATA_TABLE_ENTRY DataTableEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09079">mi.h:9079</a></div></div>
<div class="ttc" id="a02519_html_af52ec2472252e84d3317777ecca3375d"><div class="ttname"><a href="../../d9/dce/a02519.html#af52ec2472252e84d3317777ecca3375d">MiGetPpeAddress</a></div><div class="ttdeci">#define MiGetPpeAddress(va)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06115">mi.h:6115</a></div></div>
<div class="ttc" id="a02519_html_adab89ad863aa585c1526683603618208"><div class="ttname"><a href="../../d9/dce/a02519.html#adab89ad863aa585c1526683603618208">MiFindInitializationCode</a></div><div class="ttdeci">VOID MiFindInitializationCode(OUT PVOID *StartVa, OUT PVOID *EndVa)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l03843">mminit.c:3843</a></div></div>
<div class="ttc" id="a00929_html_ad3dceb56ace4e0a72a14cccdb325712a"><div class="ttname"><a href="../../dc/d92/a00929.html#ad3dceb56ace4e0a72a14cccdb325712a">_MI_PFN_DEREFERENCE_CHUNK::Pfns</a></div><div class="ttdeci">PFN_NUMBER Pfns[MI_MAX_DEREFERENCE_CHUNK]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04500">mi.h:4500</a></div></div>
<div class="ttc" id="a00988_html_a1a8e7b3d959c6718069c4d927859def5"><div class="ttname"><a href="../../d6/d48/a00988.html#a1a8e7b3d959c6718069c4d927859def5">_MMVAD::RightChild</a></div><div class="ttdeci">struct _MMVAD * RightChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03982">mi.h:3982</a></div></div>
<div class="ttc" id="a00817_html_a34beb9c05c3a2982d57fc450cc934ae3"><div class="ttname"><a href="../../dc/d5e/a00817.html#a34beb9c05c3a2982d57fc450cc934ae3">_LARGE_INTEGER::QuadPart</a></div><div class="ttdeci">LONGLONG QuadPart</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00680">ntdef.h:680</a></div></div>
<div class="ttc" id="a02230_html_a9b67065e91f1a6e43bda96403b9a7085"><div class="ttname"><a href="../../dd/d67/a02230.html#a9b67065e91f1a6e43bda96403b9a7085">ULONGLONG</a></div><div class="ttdeci">double ULONGLONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00656">ntdef.h:656</a></div></div>
<div class="ttc" id="a00074_html_ac4b2c10c3c5fbee5aa45509a2ee71c09"><div class="ttname"><a href="../../db/db6/a00074.html#ac4b2c10c3c5fbee5aa45509a2ee71c09">_AWEINFO::VadPhysicalPages</a></div><div class="ttdeci">ULONG_PTR VadPhysicalPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04087">mi.h:4087</a></div></div>
<div class="ttc" id="a02519_html_a97e8d0a04ca5aa9ea346f4a9fcd4e35a"><div class="ttname"><a href="../../d9/dce/a02519.html#a97e8d0a04ca5aa9ea346f4a9fcd4e35a">MmUnusedSubsectionList</a></div><div class="ttdeci">LIST_ENTRY MmUnusedSubsectionList</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00397">miglobal.c:397</a></div></div>
<div class="ttc" id="a02519_html_a357ecc4b8bf825d8b7f83940eca901cf"><div class="ttname"><a href="../../d9/dce/a02519.html#a357ecc4b8bf825d8b7f83940eca901cf">MmRomPageListHead</a></div><div class="ttdeci">MMPFNLIST MmRomPageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00159">miglobal.c:159</a></div></div>
<div class="ttc" id="a02519_html_a0bac7c5cbe2e0698789f0ecf64cb6926"><div class="ttname"><a href="../../d9/dce/a02519.html#a0bac7c5cbe2e0698789f0ecf64cb6926">MmQuerySpecialPoolBlockType</a></div><div class="ttdeci">POOL_TYPE MmQuerySpecialPoolBlockType(IN PVOID P)</div></div>
<div class="ttc" id="a02208_html_af3ed097c6b453b6c4e5964fbef5b9ca7"><div class="ttname"><a href="../../d8/d1e/a02208.html#af3ed097c6b453b6c4e5964fbef5b9ca7">KeAreAllApcsDisabled</a></div><div class="ttdeci">FORCEINLINE BOOLEAN KeAreAllApcsDisabled(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1e/a02208_source.html#l00399">kx.h:399</a></div></div>
<div class="ttc" id="a00930_html_a735a1ab723b66b3a2f7f6ae4122708d5"><div class="ttname"><a href="../../d7/d16/a00930.html#a735a1ab723b66b3a2f7f6ae4122708d5">_MI_PHYSICAL_VIEW::InPageSupport</a></div><div class="ttdeci">PMMINPAGE_SUPPORT InPageSupport</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04063">mi.h:4063</a></div></div>
<div class="ttc" id="a00936_html_ac2a711242b2732e05ae603923e2ff35f"><div class="ttname"><a href="../../dc/d2b/a00936.html#ac2a711242b2732e05ae603923e2ff35f">_MM_DRIVER_VERIFIER_DATA::AllocationsSucceededSpecialPool</a></div><div class="ttdeci">ULONG AllocationsSucceededSpecialPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07121">mi.h:7121</a></div></div>
<div class="ttc" id="a00188_html_aaf1ed88b757bc7b588bc18fc8265a77a"><div class="ttname"><a href="../../da/d15/a00188.html#aaf1ed88b757bc7b588bc18fc8265a77a">_CONTROL_AREA::u</a></div><div class="ttdeci">union _CONTROL_AREA::@741 u</div></div>
<div class="ttc" id="a00964_html_a427d74bfd7e3c30f7d1c01d50c5af28a"><div class="ttname"><a href="../../da/d17/a00964.html#a427d74bfd7e3c30f7d1c01d50c5af28a">_MMPFN::u3</a></div><div class="ttdeci">union _MMPFN::@729 u3</div></div>
<div class="ttc" id="a00816_html_a57163933ee8566fbd53b5f4ed093e73a"><div class="ttname"><a href="../../d7/d60/a00816.html#a57163933ee8566fbd53b5f4ed093e73a">_LARGE_CONTROL_AREA::u</a></div><div class="ttdeci">union _LARGE_CONTROL_AREA::@742 u</div></div>
<div class="ttc" id="a00996_html_a85b29618762c108851d0eab4ad9470d3"><div class="ttname"><a href="../../d3/daa/a00996.html#a85b29618762c108851d0eab4ad9470d3">_MMWSL::UsedPageTableEntries</a></div><div class="ttdeci">USHORT UsedPageTableEntries[MM_USER_PAGE_TABLE_PAGES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03056">mi.h:3056</a></div></div>
<div class="ttc" id="a01000_html_a43d0a9326a297d3be9d0ae2256597974"><div class="ttname"><a href="../../d7/df2/a01000.html#a43d0a9326a297d3be9d0ae2256597974">_MMWSLENTRY::LockedInMemory</a></div><div class="ttdeci">ULONG_PTR LockedInMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02966">mi.h:2966</a></div></div>
<div class="ttc" id="a02519_html_a5d68144fcedf05fcdd743c3b1a524cd8"><div class="ttname"><a href="../../d9/dce/a02519.html#a5d68144fcedf05fcdd743c3b1a524cd8">MiReleaseSplitSystemPtes</a></div><div class="ttdeci">VOID MiReleaseSplitSystemPtes(IN PMMPTE StartingPte, IN ULONG NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPtePoolType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l02132">sysptes.c:2132</a></div></div>
<div class="ttc" id="a01594_html_a3922f3b42f382b3180c9fe13628a2642"><div class="ttname"><a href="../../dc/def/a01594.html#a3922f3b42f382b3180c9fe13628a2642">_SEGMENT::CreatingProcess</a></div><div class="ttdeci">PEPROCESS CreatingProcess</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03477">mi.h:3477</a></div></div>
<div class="ttc" id="a02519_html_a64221e81c9efa5abd292866c4f714f98"><div class="ttname"><a href="../../d9/dce/a02519.html#a64221e81c9efa5abd292866c4f714f98">MmSpecialPoolStart</a></div><div class="ttdeci">PVOID MmSpecialPoolStart</div></div>
<div class="ttc" id="a02519_html_ad1500b300f0e2a97a8ef476c2a7de3b3"><div class="ttname"><a href="../../d9/dce/a02519.html#ad1500b300f0e2a97a8ef476c2a7de3b3">MiInsertBasedSection</a></div><div class="ttdeci">VOID FASTCALL MiInsertBasedSection(IN PSECTION Section)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l00089">sectsup.c:89</a></div></div>
<div class="ttc" id="a00988_html_aa517d3c2faecd9a2993a122fc45e9245"><div class="ttname"><a href="../../d6/d48/a00988.html#aa517d3c2faecd9a2993a122fc45e9245">_MMVAD::LastContiguousPte</a></div><div class="ttdeci">PMMPTE LastContiguousPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03992">mi.h:3992</a></div></div>
<div class="ttc" id="a02519_html_a479252cc2d3f0e924c5c6940c5125513"><div class="ttname"><a href="../../d9/dce/a02519.html#a479252cc2d3f0e924c5c6940c5125513">MmLargePageMinimum</a></div><div class="ttdeci">ULONG MmLargePageMinimum</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00108">miglobal.c:108</a></div></div>
<div class="ttc" id="a01594_html_a26878cc7d6034b2481769e81dcdaf9a8"><div class="ttname"><a href="../../dc/def/a01594.html#a26878cc7d6034b2481769e81dcdaf9a8">_SEGMENT::ExtendInfo</a></div><div class="ttdeci">PMMEXTEND_INFO ExtendInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03464">mi.h:3464</a></div></div>
<div class="ttc" id="a02519_html_ae4de36b3f7edfae4116de1c2c6fadecb"><div class="ttname"><a href="../../d9/dce/a02519.html#ae4de36b3f7edfae4116de1c2c6fadecb">MiSetDirtyBit</a></div><div class="ttdeci">LOGICAL MiSetDirtyBit(IN PVOID FaultingAddress, IN PMMPTE PointerPte, IN ULONG PfnHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d57/a02543_source.html#l00382">wrtfault.c:382</a></div></div>
<div class="ttc" id="a00619_html_aa8b6cdcf0e68c4e382cba5a96bb858a0"><div class="ttname"><a href="../../d6/d6a/a00619.html#aa8b6cdcf0e68c4e382cba5a96bb858a0">_IMAGE_ENTRY_IN_SESSION::Address</a></div><div class="ttdeci">PVOID Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08850">mi.h:8850</a></div></div>
<div class="ttc" id="a00983_html"><div class="ttname"><a href="../../d7/d98/a00983.html">_MMSESSION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04292">mi.h:4292</a></div></div>
<div class="ttc" id="a00948_html_ade9d0751213795e9f1d9a188db450121"><div class="ttname"><a href="../../d8/d18/a00948.html#ade9d0751213795e9f1d9a188db450121">_MMBANKED_SECTION::Context</a></div><div class="ttdeci">PVOID Context</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03883">mi.h:3883</a></div></div>
<div class="ttc" id="a02519_html_aa14e7b8a0530dc58aeb11769a83737fd"><div class="ttname"><a href="../../d9/dce/a02519.html#aa14e7b8a0530dc58aeb11769a83737fd">MiSessionUnlinkWorkingSet</a></div><div class="ttdeci">VOID MiSessionUnlinkWorkingSet(VOID)</div></div>
<div class="ttc" id="a00970_html_afa28ee661e71cfe2effd5fc655302e2b"><div class="ttname"><a href="../../d0/daf/a00970.html#afa28ee661e71cfe2effd5fc655302e2b">_MMPTE::Hard</a></div><div class="ttdeci">MMPTE_HARDWARE Hard</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02758">miamd.h:2758</a></div></div>
<div class="ttc" id="a00958_html"><div class="ttname"><a href="../../df/d9c/a00958.html">_MMIO_TRACKER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01962">mi.h:1962</a></div></div>
<div class="ttc" id="a02215_html_a3dcd9f7dac8168477fc17173a7d8e7f4"><div class="ttname"><a href="../../dd/d31/a02215.html#a3dcd9f7dac8168477fc17173a7d8e7f4">CacheType</a></div><div class="ttdeci">NTKERNELAPI __in SIZE_T __in MEMORY_CACHING_TYPE CacheType</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l01944">mm.h:1944</a></div></div>
<div class="ttc" id="a02519_html_a9943def982387e67c0528dbb38b428ec"><div class="ttname"><a href="../../d9/dce/a02519.html#a9943def982387e67c0528dbb38b428ec">MiSessionInitializeWorkingSetList</a></div><div class="ttdeci">NTSTATUS MiSessionInitializeWorkingSetList(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l01592">wslist.c:1592</a></div></div>
<div class="ttc" id="a00936_html_a8c4c0b5707118c2866f8484f661c61c3"><div class="ttname"><a href="../../dc/d2b/a00936.html#a8c4c0b5707118c2866f8484f661c61c3">_MM_DRIVER_VERIFIER_DATA::SessionTrims</a></div><div class="ttdeci">ULONG SessionTrims</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07145">mi.h:7145</a></div></div>
<div class="ttc" id="a00955_html_a84f9d7d6b5b05073ddd9f4d52d97b723"><div class="ttname"><a href="../../dc/db6/a00955.html#a84f9d7d6b5b05073ddd9f4d52d97b723">_MMFREE_POOL_ENTRY::Owner</a></div><div class="ttdeci">struct _MMFREE_POOL_ENTRY * Owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04268">mi.h:4268</a></div></div>
<div class="ttc" id="a02519_html_ad3a81b74483763af5e54519579efbbe7"><div class="ttname"><a href="../../d9/dce/a02519.html#ad3a81b74483763af5e54519579efbbe7">MiAweViewRemover</a></div><div class="ttdeci">VOID MiAweViewRemover(IN PEPROCESS Process, IN PMMVAD Vad)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l02907">physical.c:2907</a></div></div>
<div class="ttc" id="a00929_html"><div class="ttname"><a href="../../dc/d92/a00929.html">_MI_PFN_DEREFERENCE_CHUNK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04496">mi.h:4496</a></div></div>
<div class="ttc" id="a02519_html_adb1a1caa2e4b21c9c44159b8bb73a1fb"><div class="ttname"><a href="../../d9/dce/a02519.html#adb1a1caa2e4b21c9c44159b8bb73a1fb">MiInitializeDriverLargePageList</a></div><div class="ttdeci">VOID MiInitializeDriverLargePageList(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l00337">sysload.c:337</a></div></div>
<div class="ttc" id="a00181_html"><div class="ttname"><a href="../../d8/d64/a00181.html">_COLORED_PAGE_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04718">mi.h:4718</a></div></div>
<div class="ttc" id="a00188_html_adbff9c17f6201428d83236bf613b1856"><div class="ttname"><a href="../../da/d15/a00188.html#adbff9c17f6201428d83236bf613b1856">_CONTROL_AREA::NumberOfPfnReferences</a></div><div class="ttdeci">ULONG NumberOfPfnReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03561">mi.h:3561</a></div></div>
<div class="ttc" id="a01806_html_a669ee1f4e1f8f607a7c9d8f9417b2c56"><div class="ttname"><a href="../../db/db2/a01806.html#a669ee1f4e1f8f607a7c9d8f9417b2c56">_VI_POOL_ENTRY::PageHeader</a></div><div class="ttdeci">VI_POOL_PAGE_HEADER PageHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07070">mi.h:7070</a></div></div>
<div class="ttc" id="a02519_html_a0b96dfda36f88bfba99c7e2237e24a7a"><div class="ttname"><a href="../../d9/dce/a02519.html#a0b96dfda36f88bfba99c7e2237e24a7a">MiFreeContiguousPages</a></div><div class="ttdeci">VOID MiFreeContiguousPages(IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER SizeInPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l05183">allocpag.c:5183</a></div></div>
<div class="ttc" id="a00950_html_ae38091ecdc4e5a936d4026f3850d0684"><div class="ttname"><a href="../../df/d39/a00950.html#ae38091ecdc4e5a936d4026f3850d0684">_MMCLONE_DESCRIPTOR::FinalNumberOfReferences</a></div><div class="ttdeci">LONG FinalNumberOfReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04168">mi.h:4168</a></div></div>
<div class="ttc" id="a00981_html_a3da7644310a1527eb9f7a79807d963f7"><div class="ttname"><a href="../../dd/d24/a00981.html#a3da7644310a1527eb9f7a79807d963f7">_MMSECTION_FLAGS::GlobalMemory</a></div><div class="ttdeci">unsigned GlobalMemory</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03537">mi.h:3537</a></div></div>
<div class="ttc" id="a01000_html_ac2eb4934794efd37b4ba67f482d5a8aa"><div class="ttname"><a href="../../d7/df2/a01000.html#ac2eb4934794efd37b4ba67f482d5a8aa">_MMWSLENTRY::Age</a></div><div class="ttdeci">ULONG_PTR Age</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02978">mi.h:2978</a></div></div>
<div class="ttc" id="a02519_html_a51c3e998ff452ee3e87c2b5051e446f4"><div class="ttname"><a href="../../d9/dce/a02519.html#a51c3e998ff452ee3e87c2b5051e446f4">PMM_LDW_WORK_CONTEXT</a></div><div class="ttdeci">struct _MM_LDW_WORK_CONTEXT * PMM_LDW_WORK_CONTEXT</div></div>
<div class="ttc" id="a00981_html_a611c89e61b2aef2c59ac940e57eb7a94"><div class="ttname"><a href="../../dd/d24/a00981.html#a611c89e61b2aef2c59ac940e57eb7a94">_MMSECTION_FLAGS::FilePointerNull</a></div><div class="ttdeci">unsigned FilePointerNull</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03539">mi.h:3539</a></div></div>
<div class="ttc" id="a00746_html"><div class="ttname"><a href="../../d4/dfa/a00746.html">_KEVENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc3/a02249_source.html#l00597">ntosdef.h:597</a></div></div>
<div class="ttc" id="a02184_html_af05a562f4d336d8f3e7e36edd2a31bfe"><div class="ttname"><a href="../../d5/ddd/a02184.html#af05a562f4d336d8f3e7e36edd2a31bfe">Priority</a></div><div class="ttdeci">NTKERNELAPI __in SIZE_T __in ULONG __in EX_POOL_PRIORITY Priority</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l00252">ex.h:252</a></div></div>
<div class="ttc" id="a02519_html_a2c4898e7e74bf253c0552f64d34345d0"><div class="ttname"><a href="../../d9/dce/a02519.html#a2c4898e7e74bf253c0552f64d34345d0">ZeroPte</a></div><div class="ttdeci">const MMPTE ZeroPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00026">dataamd.c:26</a></div></div>
<div class="ttc" id="a00817_html"><div class="ttname"><a href="../../dc/d5e/a00817.html">_LARGE_INTEGER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00670">ntdef.h:670</a></div></div>
<div class="ttc" id="a02519_html_ab3ff1e421a97d9a485ae1cb84746879f"><div class="ttname"><a href="../../d9/dce/a02519.html#ab3ff1e421a97d9a485ae1cb84746879f">MMSECTOR_SHIFT</a></div><div class="ttdeci">#define MMSECTOR_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00122">mi.h:122</a></div></div>
<div class="ttc" id="a02519_html_a7ac4602e5ea78421cdfe553ce3cc3514"><div class="ttname"><a href="../../d9/dce/a02519.html#a7ac4602e5ea78421cdfe553ce3cc3514">MmAliasAlignment</a></div><div class="ttdeci">ULONG MmAliasAlignment</div></div>
<div class="ttc" id="a02519_html_a4fdb78a28edc2330db06e4825719cf41"><div class="ttname"><a href="../../d9/dce/a02519.html#a4fdb78a28edc2330db06e4825719cf41">MiTriageAddDrivers</a></div><div class="ttdeci">LOGICAL MiTriageAddDrivers(IN PLOADER_PARAMETER_BLOCK LoaderBlock)</div></div>
<div class="ttc" id="a00981_html_a3f80443240b39fd5375d866229fa0d18"><div class="ttname"><a href="../../dd/d24/a00981.html#a3f80443240b39fd5375d866229fa0d18">_MMSECTION_FLAGS::WriteCombined</a></div><div class="ttdeci">unsigned WriteCombined</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03553">mi.h:3553</a></div></div>
<div class="ttc" id="a02519_html_ae7e0f34786a0ba9c419f15e4f7785cee"><div class="ttname"><a href="../../d9/dce/a02519.html#ae7e0f34786a0ba9c419f15e4f7785cee">MiOverCommitCallCount</a></div><div class="ttdeci">ULONG MiOverCommitCallCount</div></div>
<div class="ttc" id="a00895_html_a6cba001e9daef65ea256b15763d6160f"><div class="ttname"><a href="../../d2/d21/a00895.html#a6cba001e9daef65ea256b15763d6160f">_MAPPED_FILE_SEGMENT::NonExtendedPtes</a></div><div class="ttdeci">ULONG NonExtendedPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03493">mi.h:3493</a></div></div>
<div class="ttc" id="a02167_html_a0369490f03e75c2b2ba109965cc14892"><div class="ttname"><a href="../../de/d48/a02167.html#a0369490f03e75c2b2ba109965cc14892">PSIZE_T</a></div><div class="ttdeci">ULONG_PTR * PSIZE_T</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00400">basetsd.h:400</a></div></div>
<div class="ttc" id="a00981_html"><div class="ttname"><a href="../../dd/d24/a00981.html">_MMSECTION_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03515">mi.h:3515</a></div></div>
<div class="ttc" id="a02519_html_a17cdafd4d3782942bdc5d792aaaabf98"><div class="ttname"><a href="../../d9/dce/a02519.html#a17cdafd4d3782942bdc5d792aaaabf98">MiCancelWriteOfMappedPfn</a></div><div class="ttdeci">LOGICAL MiCancelWriteOfMappedPfn(IN PFN_NUMBER PageToStop, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l02753">modwrite.c:2753</a></div></div>
<div class="ttc" id="a02230_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="../../dd/d67/a02230.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01262">ntdef.h:1262</a></div></div>
<div class="ttc" id="a02519_html_a6c35539f03baf13a6a9d59a725bc5370"><div class="ttname"><a href="../../d9/dce/a02519.html#a6c35539f03baf13a6a9d59a725bc5370">MmBadPageListHead</a></div><div class="ttdeci">MMPFNLIST MmBadPageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00147">miglobal.c:147</a></div></div>
<div class="ttc" id="a02519_html_a0bacc69e91680ae93c1258dfa30e4873"><div class="ttname"><a href="../../d9/dce/a02519.html#a0bacc69e91680ae93c1258dfa30e4873">MiAllocateLargePages</a></div><div class="ttdeci">NTSTATUS MiAllocateLargePages(IN PVOID StartingAddress, IN PVOID EndingAddress, IN MM_PROTECTION_MASK ProtectionMask, IN LOGICAL CallerHasPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l03293">physical.c:3293</a></div></div>
<div class="ttc" id="a00895_html_ad3fb4ca888a315ac1b9a5f229383e37c"><div class="ttname"><a href="../../d2/d21/a00895.html#ad3fb4ca888a315ac1b9a5f229383e37c">_MAPPED_FILE_SEGMENT::BasedAddress</a></div><div class="ttdeci">PVOID BasedAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03503">mi.h:3503</a></div></div>
<div class="ttc" id="a00946_html"><div class="ttname"><a href="../../da/d40/a00946.html">_MMADDRESS_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03950">mi.h:3950</a></div></div>
<div class="ttc" id="a02519_html_abed308a5e34c0ab880464abd07dd51c3"><div class="ttname"><a href="../../d9/dce/a02519.html#abed308a5e34c0ab880464abd07dd51c3">MmGetNodeColor</a></div><div class="ttdeci">FORCEINLINE ULONG MmGetNodeColor(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09132">mi.h:9132</a></div></div>
<div class="ttc" id="a01185_html_ab0c0b5cddd42a1feb8ec34fcae0dc776"><div class="ttname"><a href="../../d3/dd3/a01185.html#ab0c0b5cddd42a1feb8ec34fcae0dc776">_MSUBSECTION::LongFlags</a></div><div class="ttdeci">ULONG LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03652">mi.h:3652</a></div></div>
<div class="ttc" id="a02519_html_a2517eb6410f3caf6d99dfca289105d43"><div class="ttname"><a href="../../d9/dce/a02519.html#a2517eb6410f3caf6d99dfca289105d43">MmPfnDeferredList</a></div><div class="ttdeci">PSLIST_ENTRY MmPfnDeferredList</div></div>
<div class="ttc" id="a02519_html_a9d8688bddf3473a4929ba4bed5960e60"><div class="ttname"><a href="../../d9/dce/a02519.html#a9d8688bddf3473a4929ba4bed5960e60">MM_PROTECTION_MASK</a></div><div class="ttdeci">ULONG MM_PROTECTION_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00145">mi.h:145</a></div></div>
<div class="ttc" id="a02519_html_a7f0a8d4679df587284a4c45da3dcd72e"><div class="ttname"><a href="../../d9/dce/a02519.html#a7f0a8d4679df587284a4c45da3dcd72e">MM_MAXIMUM_FLUSH_COUNT</a></div><div class="ttdeci">#define MM_MAXIMUM_FLUSH_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00136">mi.h:136</a></div></div>
<div class="ttc" id="a02519_html_a024a3c8f9d06f1ebe5434b72aaf58bc7"><div class="ttname"><a href="../../d9/dce/a02519.html#a024a3c8f9d06f1ebe5434b72aaf58bc7">MiReloadBootLoadedDrivers</a></div><div class="ttdeci">VOID MiReloadBootLoadedDrivers(IN PLOADER_PARAMETER_BLOCK LoaderBlock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l07275">sysload.c:7275</a></div></div>
<div class="ttc" id="a02519_html_a1a5c614131698e82846555dc521e3db2"><div class="ttname"><a href="../../d9/dce/a02519.html#a1a5c614131698e82846555dc521e3db2">MiRemoveImageSectionObject</a></div><div class="ttdeci">VOID MiRemoveImageSectionObject(IN PFILE_OBJECT File, IN PCONTROL_AREA ControlArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l05531">creasect.c:5531</a></div></div>
<div class="ttc" id="a00967_html_a5501e1d75ffb02477c469598cb4bf13d"><div class="ttname"><a href="../../d4/d94/a00967.html#a5501e1d75ffb02477c469598cb4bf13d">_MMPFNENTRY::ReadInProgress</a></div><div class="ttdeci">USHORT ReadInProgress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01658">mi.h:1658</a></div></div>
<div class="ttc" id="a02496_html_a7c45686394d96bad88d7c4516e11e610"><div class="ttname"><a href="../../d1/df5/a02496.html#a7c45686394d96bad88d7c4516e11e610">MM_USER_PAGE_TABLE_PAGES</a></div><div class="ttdeci">#define MM_USER_PAGE_TABLE_PAGES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00467">miamd.h:467</a></div></div>
<div class="ttc" id="a01595_html_ae9ccbd10a0e95010e36bd8cc95068ea5"><div class="ttname"><a href="../../dc/dbf/a01595.html#ae9ccbd10a0e95010e36bd8cc95068ea5">_SEGMENT_FLAGS::ExtraSharedWowSubsections</a></div><div class="ttdeci">ULONG_PTR ExtraSharedWowSubsections</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03445">mi.h:3445</a></div></div>
<div class="ttc" id="a02519_html_a68a211971d2f192b9ee91767594ebc53"><div class="ttname"><a href="../../d9/dce/a02519.html#a68a211971d2f192b9ee91767594ebc53">MiSessionLookupImage</a></div><div class="ttdeci">PIMAGE_ENTRY_IN_SESSION MiSessionLookupImage(IN PVOID BaseAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l00530">sessload.c:530</a></div></div>
<div class="ttc" id="a02519_html_a19b069758aba29af00bed066d0af5cdd"><div class="ttname"><a href="../../d9/dce/a02519.html#a19b069758aba29af00bed066d0af5cdd">MiDeleteSessionVirtualAddresses</a></div><div class="ttdeci">NTSTATUS MiDeleteSessionVirtualAddresses(IN PVOID VirtualAddress, IN SIZE_T NumberOfBytes)</div></div>
<div class="ttc" id="a00961_html_ac69294aa364f4010590503c4d49b5b4c"><div class="ttname"><a href="../../da/d45/a00961.html#ac69294aa364f4010590503c4d49b5b4c">_MMMOD_WRITER_MDL_ENTRY::IssueTime</a></div><div class="ttdeci">LARGE_INTEGER IssueTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04231">mi.h:4231</a></div></div>
<div class="ttc" id="a02519_html_a21c7b98b5ea8818a1404f1c60d330e5f"><div class="ttname"><a href="../../d9/dce/a02519.html#a21c7b98b5ea8818a1404f1c60d330e5f">MmLastReservedMappingPte</a></div><div class="ttdeci">PMMPTE MmLastReservedMappingPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00193">miglobal.c:193</a></div></div>
<div class="ttc" id="a00961_html_af0de74a1c94433f82d5380441bffbfc9"><div class="ttname"><a href="../../da/d45/a00961.html#af0de74a1c94433f82d5380441bffbfc9">_MMMOD_WRITER_MDL_ENTRY::PagingFile</a></div><div class="ttdeci">struct _MMPAGING_FILE * PagingFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04227">mi.h:4227</a></div></div>
<div class="ttc" id="a00969_html_a142ff3adfd55edc27428d391faf6ace8"><div class="ttname"><a href="../../d7/dfd/a00969.html#a142ff3adfd55edc27428d391faf6ace8">_MMPFNTIMINGS::HoldTime</a></div><div class="ttdeci">LARGE_INTEGER HoldTime</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00904">mi.h:904</a></div></div>
<div class="ttc" id="a02230_html_a9de25ce33a4628ba620c6ec99fa46ede"><div class="ttname"><a href="../../dd/d67/a02230.html#a9de25ce33a4628ba620c6ec99fa46ede">PUCHAR</a></div><div class="ttdeci">UCHAR * PUCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00399">ntdef.h:399</a></div></div>
<div class="ttc" id="a02519_html_a463bd4fcda7e0aba114c4c718b4f54d6"><div class="ttname"><a href="../../d9/dce/a02519.html#a463bd4fcda7e0aba114c4c718b4f54d6">MiIncrementSystemPtes</a></div><div class="ttdeci">VOID MiIncrementSystemPtes(IN ULONG NumberOfPtes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l02513">sysptes.c:2513</a></div></div>
<div class="ttc" id="a02519_html_a4fa74051d12679d7d665f20fe2f64096"><div class="ttname"><a href="../../d9/dce/a02519.html#a4fa74051d12679d7d665f20fe2f64096">MmPfnDatabase</a></div><div class="ttdeci">PMMPFN MmPfnDatabase</div></div>
<div class="ttc" id="a02519_html_af325a9368d5bac25ccdcfbf32d0e4b63"><div class="ttname"><a href="../../d9/dce/a02519.html#af325a9368d5bac25ccdcfbf32d0e4b63">MiInsertPageInFreeList</a></div><div class="ttdeci">VOID FASTCALL MiInsertPageInFreeList(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l00104">pfnlist.c:104</a></div></div>
<div class="ttc" id="a00933_html_af47bc6a5f8b1d1ef2638bfa62b9f9c44"><div class="ttname"><a href="../../d0/d5b/a00933.html#af47bc6a5f8b1d1ef2638bfa62b9f9c44">_MI_VERIFIER_DRIVER_ENTRY::PeakNonPagedPoolAllocations</a></div><div class="ttdeci">ULONG PeakNonPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07100">mi.h:7100</a></div></div>
<div class="ttc" id="a02519_html_a39f459834af316f04569da71aae8d2f3"><div class="ttname"><a href="../../d9/dce/a02519.html#a39f459834af316f04569da71aae8d2f3">MiModifiedPageWriter</a></div><div class="ttdeci">VOID MiModifiedPageWriter(IN PVOID StartContext)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l02847">modwrite.c:2847</a></div></div>
<div class="ttc" id="a02519_html_af0eae6a99a241d80c7c205f4842b4fd6"><div class="ttname"><a href="../../d9/dce/a02519.html#af0eae6a99a241d80c7c205f4842b4fd6">MmMinimumFreePagesToZero</a></div><div class="ttdeci">PFN_NUMBER MmMinimumFreePagesToZero</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00220">miglobal.c:220</a></div></div>
<div class="ttc" id="a00188_html_a5dc1ac6e770a9479df359cb06327f7a0"><div class="ttname"><a href="../../da/d15/a00188.html#a5dc1ac6e770a9479df359cb06327f7a0">_CONTROL_AREA::LongFlags</a></div><div class="ttdeci">ULONG LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03567">mi.h:3567</a></div></div>
<div class="ttc" id="a00981_html_ab13bcf5f16c59a8e15d5302fa91981b0"><div class="ttname"><a href="../../dd/d24/a00981.html#ab13bcf5f16c59a8e15d5302fa91981b0">_MMSECTION_FLAGS::CollidedFlush</a></div><div class="ttdeci">unsigned CollidedFlush</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03543">mi.h:3543</a></div></div>
<div class="ttc" id="a02519_html_a6041166e85512ed24cdbcc440885c3c7"><div class="ttname"><a href="../../d9/dce/a02519.html#a6041166e85512ed24cdbcc440885c3c7">MmNumberOfFreeNonPagedPool</a></div><div class="ttdeci">PFN_NUMBER MmNumberOfFreeNonPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00302">miglobal.c:302</a></div></div>
<div class="ttc" id="a02519_html_a8f1ae077e75bb29818a522cd87348f76"><div class="ttname"><a href="../../d9/dce/a02519.html#a8f1ae077e75bb29818a522cd87348f76">MiGetInPageSupportBlock</a></div><div class="ttdeci">PMMINPAGE_SUPPORT MiGetInPageSupportBlock(IN KIRQL OldIrql, IN PNTSTATUS Status)</div></div>
<div class="ttc" id="a02519_html_a8e20d0072576523063a280aed55e17be"><div class="ttname"><a href="../../d9/dce/a02519.html#a8e20d0072576523063a280aed55e17be">MiDereferenceSegmentThread</a></div><div class="ttdeci">VOID MiDereferenceSegmentThread(IN PVOID StartContext)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l00799">sectsup.c:799</a></div></div>
<div class="ttc" id="a01594_html_a25f1d224dec91c9e30d7a97d806b5570"><div class="ttname"><a href="../../dc/def/a01594.html#a25f1d224dec91c9e30d7a97d806b5570">_SEGMENT::FirstMappedVa</a></div><div class="ttdeci">PVOID FirstMappedVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03482">mi.h:3482</a></div></div>
<div class="ttc" id="a02519_html_a52b5d855c7a1d03f679272e25fd1aaa2"><div class="ttname"><a href="../../d9/dce/a02519.html#a52b5d855c7a1d03f679272e25fd1aaa2">PVI_POOL_PAGE_HEADER</a></div><div class="ttdeci">struct _VI_POOL_PAGE_HEADER * PVI_POOL_PAGE_HEADER</div></div>
<div class="ttc" id="a00964_html_a186c56e57729130b835b93fabb3ba9b7"><div class="ttname"><a href="../../da/d17/a00964.html#a186c56e57729130b835b93fabb3ba9b7">_MMPFN::OriginalPte</a></div><div class="ttdeci">MMPTE OriginalPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01757">mi.h:1757</a></div></div>
<div class="ttc" id="a00934_html"><div class="ttname"><a href="../../d0/df0/a00934.html">_MI_VERIFIER_POOL_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07109">mi.h:7109</a></div></div>
<div class="ttc" id="a00973_html_a081ca8eba4d912617b63842b756cbdff"><div class="ttname"><a href="../../d3/da5/a00973.html#a081ca8eba4d912617b63842b756cbdff">_MMPTE_HARDWARE::Valid</a></div><div class="ttdeci">ULONGLONG Valid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02714">miamd.h:2714</a></div></div>
<div class="ttc" id="a02519_html_aadf64e2183fd3f84ecb5ec1a9bb42882"><div class="ttname"><a href="../../d9/dce/a02519.html#aadf64e2183fd3f84ecb5ec1a9bb42882">VI_POOL_ENTRY</a></div><div class="ttdeci">struct _VI_POOL_ENTRY VI_POOL_ENTRY</div></div>
<div class="ttc" id="a02519_html_a9113092b195be440d60744d580789a9b"><div class="ttname"><a href="../../d9/dce/a02519.html#a9113092b195be440d60744d580789a9b">MmPageLocationList</a></div><div class="ttdeci">PMMPFNLIST MmPageLocationList[NUMBER_OF_PAGE_LISTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00167">miglobal.c:167</a></div></div>
<div class="ttc" id="a02519_html_a4ae0b3279fdf548d8c64988b9d729da5"><div class="ttname"><a href="../../d9/dce/a02519.html#a4ae0b3279fdf548d8c64988b9d729da5">PIMAGE_ENTRY_IN_SESSION</a></div><div class="ttdeci">struct _IMAGE_ENTRY_IN_SESSION * PIMAGE_ENTRY_IN_SESSION</div></div>
<div class="ttc" id="a02496_html_a7b86d7101cf859cdaaef6fe108a421c6"><div class="ttname"><a href="../../d1/df5/a02496.html#a7b86d7101cf859cdaaef6fe108a421c6">MiGetVirtualAddressMappedByPte</a></div><div class="ttdeci">#define MiGetVirtualAddressMappedByPte(PTE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02176">miamd.h:2176</a></div></div>
<div class="ttc" id="a00963_html_a1cdab5deeef4d12755b05ba9def0d4fe"><div class="ttname"><a href="../../de/dad/a00963.html#a1cdab5deeef4d12755b05ba9def0d4fe">_MMPAGING_FILE::Size</a></div><div class="ttdeci">PFN_NUMBER Size</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04240">mi.h:4240</a></div></div>
<div class="ttc" id="a02519_html_a743607da5dad40d262a97a112f2f3a31"><div class="ttname"><a href="../../d9/dce/a02519.html#a743607da5dad40d262a97a112f2f3a31">MiTimerPending</a></div><div class="ttdeci">BOOLEAN MiTimerPending</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00185">mminit.c:185</a></div></div>
<div class="ttc" id="a00981_html_a74c283469394ed4e4992ac2b604aab0a"><div class="ttname"><a href="../../dd/d24/a00981.html#a74c283469394ed4e4992ac2b604aab0a">_MMSECTION_FLAGS::Image</a></div><div class="ttdeci">unsigned Image</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03522">mi.h:3522</a></div></div>
<div class="ttc" id="a02519_html_ad0ee484a6ee4c109e4cdd10110ad9cc4"><div class="ttname"><a href="../../d9/dce/a02519.html#ad0ee484a6ee4c109e4cdd10110ad9cc4">MmProtectToPteMask</a></div><div class="ttdeci">ULONG MmProtectToPteMask[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00631">miglobal.c:631</a></div></div>
<div class="ttc" id="a02519_html_a0b8c5e7991ae43b4b278da6e0f2bc577"><div class="ttname"><a href="../../d9/dce/a02519.html#a0b8c5e7991ae43b4b278da6e0f2bc577">MmMaximumNonPagedPoolPercent</a></div><div class="ttdeci">ULONG MmMaximumNonPagedPoolPercent</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00277">miglobal.c:277</a></div></div>
<div class="ttc" id="a02519_html_a8f0c9f6e460c045025ea57209a5ee5be"><div class="ttname"><a href="../../d9/dce/a02519.html#a8f0c9f6e460c045025ea57209a5ee5be">DemandZeroPde</a></div><div class="ttdeci">MMPTE DemandZeroPde</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00077">dataamd.c:77</a></div></div>
<div class="ttc" id="a00843_html_aac9092cf43b964f4d9ad98abc53ee268"><div class="ttname"><a href="../../dc/d22/a00843.html#aac9092cf43b964f4d9ad98abc53ee268">_LOAD_IMPORTS::Count</a></div><div class="ttdeci">SIZE_T Count</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09057">mi.h:9057</a></div></div>
<div class="ttc" id="a02519_html_a1b0d893a6210e20e0c7fe93e2e587f31"><div class="ttname"><a href="../../d9/dce/a02519.html#a1b0d893a6210e20e0c7fe93e2e587f31">MiInitializePfn</a></div><div class="ttdeci">VOID MiInitializePfn(IN PFN_NUMBER PageFrameIndex, IN PMMPTE PointerPte, IN ULONG ModifiedState)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l05207">pagfault.c:5207</a></div></div>
<div class="ttc" id="a02519_html_a5ece5c7e2819b44a8ea977819f4e8cce"><div class="ttname"><a href="../../d9/dce/a02519.html#a5ece5c7e2819b44a8ea977819f4e8cce">MmModifiedPageListHead</a></div><div class="ttdeci">MMPFNLIST MmModifiedPageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00133">miglobal.c:133</a></div></div>
<div class="ttc" id="a02519_html_a548ffb29b1cfd428ae148ec661d92230"><div class="ttname"><a href="../../d9/dce/a02519.html#a548ffb29b1cfd428ae148ec661d92230">MiUnmapViewOfSection</a></div><div class="ttdeci">NTSTATUS MiUnmapViewOfSection(IN PEPROCESS Process, IN PVOID BaseAddress, IN ULONG UnmapFlags)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd4/a02541_source.html#l00083">umapview.c:83</a></div></div>
<div class="ttc" id="a00188_html_a1dd221249cd669a59c64d52d830aa8e4"><div class="ttname"><a href="../../da/d15/a00188.html#a1dd221249cd669a59c64d52d830aa8e4">_CONTROL_AREA::WaitingForDeletion</a></div><div class="ttdeci">PEVENT_COUNTER WaitingForDeletion</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03571">mi.h:3571</a></div></div>
<div class="ttc" id="a02519_html_ab5b0e41516227cdda96a5baa4c215a3c"><div class="ttname"><a href="../../d9/dce/a02519.html#ab5b0e41516227cdda96a5baa4c215a3c">MiCreatePagingFileMap</a></div><div class="ttdeci">NTSTATUS MiCreatePagingFileMap(OUT PSEGMENT *Segment, IN PUINT64 MaximumSize, IN ULONG ProtectionMask, IN ULONG AllocationAttributes)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l04671">creasect.c:4671</a></div></div>
<div class="ttc" id="a00958_html_adea1de1d4169729112e0e91afa7a8e4b"><div class="ttname"><a href="../../df/d9c/a00958.html#adea1de1d4169729112e0e91afa7a8e4b">_MMIO_TRACKER::NumberOfPages</a></div><div class="ttdeci">PFN_NUMBER NumberOfPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01966">mi.h:1966</a></div></div>
<div class="ttc" id="a00990_html_af080a409c799297ec1a9ac09f8191324"><div class="ttname"><a href="../../dd/d7a/a00990.html#af080a409c799297ec1a9ac09f8191324">_MMVAD_FLAGS2::LongVad</a></div><div class="ttdeci">unsigned LongVad</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03944">mi.h:3944</a></div></div>
<div class="ttc" id="a02519_html_a739228d03081f023814ce7565f5e04ed"><div class="ttname"><a href="../../d9/dce/a02519.html#a739228d03081f023814ce7565f5e04ed">PCONTROL_AREA</a></div><div class="ttdeci">struct _CONTROL_AREA * PCONTROL_AREA</div></div>
<div class="ttc" id="a02519_html_ac48912e4eb11eea5576b22529ec472d3"><div class="ttname"><a href="../../d9/dce/a02519.html#ac48912e4eb11eea5576b22529ec472d3">MiReleaseWsle</a></div><div class="ttdeci">VOID MiReleaseWsle(IN WSLE_NUMBER WorkingSetIndex, IN PMMSUPPORT WsInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l00893">wslist.c:893</a></div></div>
<div class="ttc" id="a02519_html_a3781c66ecf6aaa1a6b569b1d089945c8"><div class="ttname"><a href="../../d9/dce/a02519.html#a3781c66ecf6aaa1a6b569b1d089945c8">PCOLORED_PAGE_INFO</a></div><div class="ttdeci">struct _COLORED_PAGE_INFO * PCOLORED_PAGE_INFO</div></div>
<div class="ttc" id="a00850_html_a5080bef460495c5aeb2a29df1f45cd7f"><div class="ttname"><a href="../../dc/d0a/a00850.html#a5080bef460495c5aeb2a29df1f45cd7f">_LOCK_TRACKER::CallersCaller</a></div><div class="ttdeci">PVOID CallersCaller</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04353">mi.h:4353</a></div></div>
<div class="ttc" id="a02519_html_a595f1f92af113904c75b47d68fde14e0"><div class="ttname"><a href="../../d9/dce/a02519.html#a595f1f92af113904c75b47d68fde14e0">MiPurgeTransitionList</a></div><div class="ttdeci">VOID MiPurgeTransitionList(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l02898">pfnlist.c:2898</a></div></div>
<div class="ttc" id="a02519_html_af1290f0f4f785e9df2840ba911ae68c5"><div class="ttname"><a href="../../d9/dce/a02519.html#af1290f0f4f785e9df2840ba911ae68c5">MiSessionAddProcess</a></div><div class="ttdeci">VOID MiSessionAddProcess(IN PEPROCESS NewProcess)</div></div>
<div class="ttc" id="a02519_html_af84ba311bae632c5fc896805be5715b5"><div class="ttname"><a href="../../d9/dce/a02519.html#af84ba311bae632c5fc896805be5715b5">MmSystemCacheEnd</a></div><div class="ttdeci">PVOID MmSystemCacheEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00324">miglobal.c:324</a></div></div>
<div class="ttc" id="a02519_html_ac1401d1313886798be8d91157b21a0a5"><div class="ttname"><a href="../../d9/dce/a02519.html#ac1401d1313886798be8d91157b21a0a5">MmModifiedPageWriterEvent</a></div><div class="ttdeci">KEVENT MmModifiedPageWriterEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00439">miglobal.c:439</a></div></div>
<div class="ttc" id="a02205_html_a708d16f1b2af937d9222b388fe6716e3"><div class="ttname"><a href="../../dc/d43/a02205.html#a708d16f1b2af937d9222b388fe6716e3">KeLoopTbFlushTimeStampUnlocked</a></div><div class="ttdeci">FORCEINLINE VOID KeLoopTbFlushTimeStampUnlocked(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l04319">ke.h:4319</a></div></div>
<div class="ttc" id="a00942_html_a60b656ce17db0920cbb5d8ad8db44035"><div class="ttname"><a href="../../df/d12/a00942.html#a60b656ce17db0920cbb5d8ad8db44035">_MM_SESSION_SPACE::PagedPoolEnd</a></div><div class="ttdeci">PVOID PagedPoolEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08575">mi.h:8575</a></div></div>
<div class="ttc" id="a00933_html_a2e989e3a0e74d069e48018ff71f69718"><div class="ttname"><a href="../../d0/d5b/a00933.html#a2e989e3a0e74d069e48018ff71f69718">_MI_VERIFIER_DRIVER_ENTRY::Unloads</a></div><div class="ttdeci">ULONG Unloads</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07081">mi.h:7081</a></div></div>
<div class="ttc" id="a02519_html_a79a4f35924dc6fc9b76bbcc0d1e15985"><div class="ttname"><a href="../../d9/dce/a02519.html#a79a4f35924dc6fc9b76bbcc0d1e15985">MiCheckControlArea</a></div><div class="ttdeci">VOID MiCheckControlArea(IN PCONTROL_AREA ControlArea, IN KIRQL PreviousIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l02302">sectsup.c:2302</a></div></div>
<div class="ttc" id="a00031_html_a85e8016492915576c9dd9feed87cdd74"><div class="ttname"><a href="../../df/d61/a00031.html#a85e8016492915576c9dd9feed87cdd74">_ALIAS_VAD_INFO2::SecureHandle</a></div><div class="ttdeci">HANDLE SecureHandle</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03973">mi.h:3973</a></div></div>
<div class="ttc" id="a02519_html_aa31b9f746e59233b4f0cc8f812e81b86"><div class="ttname"><a href="../../d9/dce/a02519.html#aa31b9f746e59233b4f0cc8f812e81b86">PrototypePte</a></div><div class="ttdeci">MMPTE PrototypePte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00088">dataamd.c:88</a></div></div>
<div class="ttc" id="a02519_html_adee63d446d45f82ca2181e4c367e769a"><div class="ttname"><a href="../../d9/dce/a02519.html#adee63d446d45f82ca2181e4c367e769a">MmFreePageListHead</a></div><div class="ttdeci">MMPFNLIST MmFreePageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00117">miglobal.c:117</a></div></div>
<div class="ttc" id="a02519_html_a28f09d090bcdfb4f2ca6f96128ee2b30"><div class="ttname"><a href="../../d9/dce/a02519.html#a28f09d090bcdfb4f2ca6f96128ee2b30">MiCheckForUserStackOverflow</a></div><div class="ttdeci">NTSTATUS FASTCALL MiCheckForUserStackOverflow(IN PVOID FaultingAddress, IN PVOID TrapInformation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02490_source.html#l00251">acceschk.c:251</a></div></div>
<div class="ttc" id="a00991_html_a941c2324e7cedfb13843cb66753df308"><div class="ttname"><a href="../../df/d2f/a00991.html#a941c2324e7cedfb13843cb66753df308">_MMVAD_LONG::EndingVpn</a></div><div class="ttdeci">ULONG_PTR EndingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04007">mi.h:4007</a></div></div>
<div class="ttc" id="a00948_html_ab407ff0a25e6c32fbdbcaded1cd33772"><div class="ttname"><a href="../../d8/d18/a00948.html#ab407ff0a25e6c32fbdbcaded1cd33772">_MMBANKED_SECTION::BankTemplate</a></div><div class="ttdeci">MMPTE BankTemplate[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03885">mi.h:3885</a></div></div>
<div class="ttc" id="a00936_html_a329f499192bd6c927900871aa86cec91"><div class="ttname"><a href="../../dc/d2b/a00936.html#a329f499192bd6c927900871aa86cec91">_MM_DRIVER_VERIFIER_DATA::TrimRequests</a></div><div class="ttdeci">ULONG TrimRequests</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07124">mi.h:7124</a></div></div>
<div class="ttc" id="a02519_html_aab0c9a1a4dfb3eab100797937ca50477"><div class="ttname"><a href="../../d9/dce/a02519.html#aab0c9a1a4dfb3eab100797937ca50477">PMSUBSECTION</a></div><div class="ttdeci">struct _MSUBSECTION * PMSUBSECTION</div></div>
<div class="ttc" id="a02519_html_a85223e660926e67bad03794b7f24ce15"><div class="ttname"><a href="../../d9/dce/a02519.html#a85223e660926e67bad03794b7f24ce15">MmUnusedSegmentCleanup</a></div><div class="ttdeci">KEVENT MmUnusedSegmentCleanup</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00399">miglobal.c:399</a></div></div>
<div class="ttc" id="a00950_html_a17d24cc442ecaea7dcc9bfaeeb199d8c"><div class="ttname"><a href="../../df/d39/a00950.html#a17d24cc442ecaea7dcc9bfaeeb199d8c">_MMCLONE_DESCRIPTOR::NumberOfPtes</a></div><div class="ttdeci">ULONG NumberOfPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04165">mi.h:4165</a></div></div>
<div class="ttc" id="a00984_html_a331a0195bdff1f2e0d08756b99f51206"><div class="ttname"><a href="../../d2/d4c/a00984.html#a331a0195bdff1f2e0d08756b99f51206">_MMSUBSECTION_FLAGS::SectorEndOffset</a></div><div class="ttdeci">unsigned SectorEndOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03614">mi.h:3614</a></div></div>
<div class="ttc" id="a00992_html_aff9d8b215f0b1114a7c4f60e9a891aad"><div class="ttname"><a href="../../d7/d76/a00992.html#aff9d8b215f0b1114a7c4f60e9a891aad">_MMVAD_SHORT::EndingVpn</a></div><div class="ttdeci">ULONG_PTR EndingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04038">mi.h:4038</a></div></div>
<div class="ttc" id="a00981_html_a59e645ad44d89874a8ea4289d90b0487"><div class="ttname"><a href="../../dd/d24/a00981.html#a59e645ad44d89874a8ea4289d90b0487">_MMSECTION_FLAGS::FailAllIo</a></div><div class="ttdeci">unsigned FailAllIo</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03521">mi.h:3521</a></div></div>
<div class="ttc" id="a02519_html_ae4c64933cd15cbcee753869c7f05e0cb"><div class="ttname"><a href="../../d9/dce/a02519.html#ae4c64933cd15cbcee753869c7f05e0cb">MmPagingFile</a></div><div class="ttdeci">PMMPAGING_FILE MmPagingFile[MAX_PAGE_FILES]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00435">miglobal.c:435</a></div></div>
<div class="ttc" id="a02519_html_a96622e4bc32a0af1a88e861df5056f5ea0720f38a3eadc1b5247bd9fbf1ada3fe"><div class="ttname"><a href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea0720f38a3eadc1b5247bd9fbf1ada3fe">MiWriteCombined</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01546">mi.h:1546</a></div></div>
<div class="ttc" id="a01614_html"><div class="ttname"><a href="../../db/d7c/a01614.html">_SESSION_GLOBAL_SUBSECTION_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08842">mi.h:8842</a></div></div>
<div class="ttc" id="a00181_html_a22eb91e18c7f4ffae5535842f6c119f5"><div class="ttname"><a href="../../d8/d64/a00181.html#a22eb91e18c7f4ffae5535842f6c119f5">_COLORED_PAGE_INFO::BasePriority</a></div><div class="ttdeci">SCHAR BasePriority</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04726">mi.h:4726</a></div></div>
<div class="ttc" id="a00961_html_a4efc016a4e288fef1be830a4c6858658"><div class="ttname"><a href="../../da/d45/a00961.html#a4efc016a4e288fef1be830a4c6858658">_MMMOD_WRITER_MDL_ENTRY::ControlArea</a></div><div class="ttdeci">PCONTROL_AREA ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04229">mi.h:4229</a></div></div>
<div class="ttc" id="a02519_html_ab69e4181a196f6d15660a25890634e2b"><div class="ttname"><a href="../../d9/dce/a02519.html#ab69e4181a196f6d15660a25890634e2b">MiReturnCommitment</a></div><div class="ttdeci">#define MiReturnCommitment(_QuotaCharge)                                                            </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02210">mi.h:2210</a></div></div>
<div class="ttc" id="a02519_html_ac9b68302351f140b5d10983ec6670d05"><div class="ttname"><a href="../../d9/dce/a02519.html#ac9b68302351f140b5d10983ec6670d05">MiArmCompressionInterrupt</a></div><div class="ttdeci">NTSTATUS MiArmCompressionInterrupt(VOID)</div></div>
<div class="ttc" id="a02519_html_ad900b40ef1fffcb588de64dd5547a64a"><div class="ttname"><a href="../../d9/dce/a02519.html#ad900b40ef1fffcb588de64dd5547a64a">MiDereferenceControlArea</a></div><div class="ttdeci">VOID MiDereferenceControlArea(IN PCONTROL_AREA ControlArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l01867">mapview.c:1867</a></div></div>
<div class="ttc" id="a02519_html_a7d5652cac8a0813cc059c67328ef4d95"><div class="ttname"><a href="../../d9/dce/a02519.html#a7d5652cac8a0813cc059c67328ef4d95">MmIoTrackerLock</a></div><div class="ttdeci">KSPIN_LOCK MmIoTrackerLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00062">iosup.c:62</a></div></div>
<div class="ttc" id="a02519_html_a19f4140a0c0f43bac7cef84750c7c309"><div class="ttname"><a href="../../d9/dce/a02519.html#a19f4140a0c0f43bac7cef84750c7c309">MiFindNodeOrParent</a></div><div class="ttdeci">TABLE_SEARCH_RESULT MiFindNodeOrParent(IN PMM_AVL_TABLE Table, IN ULONG_PTR StartingVpn, OUT PMMADDRESS_NODE *NodeOrParent)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l00213">addrsup.c:213</a></div></div>
<div class="ttc" id="a00990_html_ac76e20292c2949b350268098e4ed4b7f"><div class="ttname"><a href="../../dd/d7a/a00990.html#ac76e20292c2949b350268098e4ed4b7f">_MMVAD_FLAGS2::ExtendableFile</a></div><div class="ttdeci">unsigned ExtendableFile</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03945">mi.h:3945</a></div></div>
<div class="ttc" id="a00720_html"><div class="ttname"><a href="../../dc/d14/a00720.html">_KAPC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc3/a02249_source.html#l00187">ntosdef.h:187</a></div></div>
<div class="ttc" id="a02215_html_abafdbe9e1798708d23f871074d3c7613"><div class="ttname"><a href="../../dd/d31/a02215.html#abafdbe9e1798708d23f871074d3c7613">NUMBER_OF_PAGE_LISTS</a></div><div class="ttdeci">#define NUMBER_OF_PAGE_LISTS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l01329">mm.h:1329</a></div></div>
<div class="ttc" id="a01594_html_a79dea8e5e020f05a37b67c2448ed804b"><div class="ttname"><a href="../../dc/def/a01594.html#a79dea8e5e020f05a37b67c2448ed804b">_SEGMENT::PrototypePte</a></div><div class="ttdeci">PMMPTE PrototypePte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03485">mi.h:3485</a></div></div>
<div class="ttc" id="a02519_html_aa0fbf4f25079e5f75ae31648bf95d1f5"><div class="ttname"><a href="../../d9/dce/a02519.html#aa0fbf4f25079e5f75ae31648bf95d1f5">MiInsertVadCharges</a></div><div class="ttdeci">NTSTATUS MiInsertVadCharges(IN PMMVAD Vad, IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/a02542_source.html#l00042">vadtree.c:42</a></div></div>
<div class="ttc" id="a02519_html_ac6a3dcce3ed609366fb208ad44e81113"><div class="ttname"><a href="../../d9/dce/a02519.html#ac6a3dcce3ed609366fb208ad44e81113">MmMakeFileAccess</a></div><div class="ttdeci">ACCESS_MASK MmMakeFileAccess[8]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00729">miglobal.c:729</a></div></div>
<div class="ttc" id="a02519_html_a7c1c51ea934f9d9763405e40dad4d5d4"><div class="ttname"><a href="../../d9/dce/a02519.html#a7c1c51ea934f9d9763405e40dad4d5d4">MmSessionPoolSize</a></div><div class="ttdeci">SIZE_T MmSessionPoolSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00774">miglobal.c:774</a></div></div>
<div class="ttc" id="a01595_html_a7e03ecd50cf8f13b853cc5b1cbc3a730"><div class="ttname"><a href="../../dc/dbf/a01595.html#a7e03ecd50cf8f13b853cc5b1cbc3a730">_SEGMENT_FLAGS::LargePages</a></div><div class="ttdeci">ULONG_PTR LargePages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03446">mi.h:3446</a></div></div>
<div class="ttc" id="a00619_html_a077df2986b83e13c0135441798feac26"><div class="ttname"><a href="../../d6/d6a/a00619.html#a077df2986b83e13c0135441798feac26">_IMAGE_ENTRY_IN_SESSION::GlobalSubs</a></div><div class="ttdeci">PSESSION_GLOBAL_SUBSECTION_INFO GlobalSubs</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08856">mi.h:8856</a></div></div>
<div class="ttc" id="a02519_html_aeec41aea1fb9d5d8d321b922bb482375"><div class="ttname"><a href="../../d9/dce/a02519.html#aeec41aea1fb9d5d8d321b922bb482375">MiDereferenceLastChanceLdw</a></div><div class="ttdeci">LOGICAL MiDereferenceLastChanceLdw(IN PMM_LDW_WORK_CONTEXT LdwContext)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l01563">pfnlist.c:1563</a></div></div>
<div class="ttc" id="a02519_html_a5369164ba535dbafcf20b864df7b1a1f"><div class="ttname"><a href="../../d9/dce/a02519.html#a5369164ba535dbafcf20b864df7b1a1f">MMSUBSECTION_FLAGS</a></div><div class="ttdeci">struct _MMSUBSECTION_FLAGS MMSUBSECTION_FLAGS</div></div>
<div class="ttc" id="a02519_html_a24719b7fc6b3daf78bd3d3349ebec350"><div class="ttname"><a href="../../d9/dce/a02519.html#a24719b7fc6b3daf78bd3d3349ebec350">MMINPAGE_SUPPORT</a></div><div class="ttdeci">struct _MMINPAGE_SUPPORT MMINPAGE_SUPPORT</div></div>
<div class="ttc" id="a00982_html_aeea97edb8131e869cb4e897ef707034a"><div class="ttname"><a href="../../d1/d7a/a00982.html#aeea97edb8131e869cb4e897ef707034a">_MMSECURE_ENTRY::VadFlags2</a></div><div class="ttdeci">MMVAD_FLAGS2 VadFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03958">mi.h:3958</a></div></div>
<div class="ttc" id="a02314_html"><div class="ttname"><a href="../../d2/dd9/a02314.html">zwapi.h</a></div></div>
<div class="ttc" id="a02519_html_a7ce73c317cf52b3b7e0e8d95e5ce30a1"><div class="ttname"><a href="../../d9/dce/a02519.html#a7ce73c317cf52b3b7e0e8d95e5ce30a1">MiSessionImagePteStart</a></div><div class="ttdeci">PMMPTE MiSessionImagePteStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00780">miglobal.c:780</a></div></div>
<div class="ttc" id="a00942_html_ac891ae560613fc80ded0a0234013aaad"><div class="ttname"><a href="../../df/d12/a00942.html#ac891ae560613fc80ded0a0234013aaad">_MM_SESSION_SPACE::PagedPool</a></div><div class="ttdeci">POOL_DESCRIPTOR PagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08661">mi.h:8661</a></div></div>
<div class="ttc" id="a00930_html_afa5849d53963e6e2089d8d5c83f7b424"><div class="ttname"><a href="../../d7/d16/a00930.html#afa5849d53963e6e2089d8d5c83f7b424">_MI_PHYSICAL_VIEW::VadType</a></div><div class="ttdeci">MI_VAD_TYPE VadType</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04058">mi.h:4058</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3ccaa44bbf2976390cf0def02ed8190f79b6"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3ccaa44bbf2976390cf0def02ed8190f79b6">VadDevicePhysicalMemory</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03919">mi.h:3919</a></div></div>
<div class="ttc" id="a00938_html_a704ecb102e0a04b7a62d979226c4661b"><div class="ttname"><a href="../../d5/d54/a00938.html#a704ecb102e0a04b7a62d979226c4661b">_MM_LDW_WORK_CONTEXT::FileObject</a></div><div class="ttdeci">PFILE_OBJECT FileObject</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04748">mi.h:4748</a></div></div>
<div class="ttc" id="a02519_html_a7554808a3ff5dae0adf379bb0ff68483"><div class="ttname"><a href="../../d9/dce/a02519.html#a7554808a3ff5dae0adf379bb0ff68483">MiQueryAddressState</a></div><div class="ttdeci">ULONG MiQueryAddressState(IN PVOID Va, IN PMMVAD Vad, IN PEPROCESS TargetProcess, OUT PULONG ReturnedProtect, OUT PVOID *NextVaToQuery)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db6/a02533_source.html#l00794">queryvm.c:794</a></div></div>
<div class="ttc" id="a02519_html_afa9257666c262c0bb6f40001a2e83bc8"><div class="ttname"><a href="../../d9/dce/a02519.html#afa9257666c262c0bb6f40001a2e83bc8">MiHighNonPagedPoolEvent</a></div><div class="ttdeci">PKEVENT MiHighNonPagedPoolEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00131">mminit.c:131</a></div></div>
<div class="ttc" id="a00990_html_ae688d475f6f62e916e51cea63d11e326"><div class="ttname"><a href="../../dd/d7a/a00990.html#ae688d475f6f62e916e51cea63d11e326">_MMVAD_FLAGS2::FileOffset</a></div><div class="ttdeci">unsigned FileOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03939">mi.h:3939</a></div></div>
<div class="ttc" id="a00961_html_a63089aad1a5c0e72c8d28f4608024359"><div class="ttname"><a href="../../da/d45/a00961.html#a63089aad1a5c0e72c8d28f4608024359">_MMMOD_WRITER_MDL_ENTRY::LastByte</a></div><div class="ttdeci">LARGE_INTEGER LastByte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04221">mi.h:4221</a></div></div>
<div class="ttc" id="a02519_html_a0cba4c6c4347fe2cdc155757cd66c3b5"><div class="ttname"><a href="../../d9/dce/a02519.html#a0cba4c6c4347fe2cdc155757cd66c3b5">MI_FLUSH_PROCESS_TB</a></div><div class="ttdeci">#define MI_FLUSH_PROCESS_TB(AllProcessors)                                                        </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01386">mi.h:1386</a></div></div>
<div class="ttc" id="a02519_html_ae23464cf2e5e46b6d7da13a927039424"><div class="ttname"><a href="../../d9/dce/a02519.html#ae23464cf2e5e46b6d7da13a927039424">MiFlushCacheForAttributeChange</a></div><div class="ttdeci">ULONG MiFlushCacheForAttributeChange</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00817">miglobal.c:817</a></div></div>
<div class="ttc" id="a01594_html_a76b20ba81992e6bb06d27ec26058f50c"><div class="ttname"><a href="../../dc/def/a01594.html#a76b20ba81992e6bb06d27ec26058f50c">_SEGMENT::SegmentPteTemplate</a></div><div class="ttdeci">MMPTE SegmentPteTemplate</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03461">mi.h:3461</a></div></div>
<div class="ttc" id="a00962_html_abd66057c3e904bcc389cbbc79984aa3d"><div class="ttname"><a href="../../df/d88/a00962.html#abd66057c3e904bcc389cbbc79984aa3d">_MMPAGE_FILE_EXPANSION::PageFileNumber</a></div><div class="ttdeci">ULONG PageFileNumber</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03799">mi.h:3799</a></div></div>
<div class="ttc" id="a02519_html_aaaf29efa23fd293e7a755e33c014b859"><div class="ttname"><a href="../../d9/dce/a02519.html#aaaf29efa23fd293e7a755e33c014b859">MiDecrementSubsections</a></div><div class="ttdeci">VOID MiDecrementSubsections(IN PSUBSECTION FirstSubsection, IN PSUBSECTION LastSubsection OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd4/a02541_source.html#l00323">umapview.c:323</a></div></div>
<div class="ttc" id="a02519_html_a0db4cb76ccc40ed2c330f9ead4f6245d"><div class="ttname"><a href="../../d9/dce/a02519.html#a0db4cb76ccc40ed2c330f9ead4f6245d">MmSpecialPoolEnd</a></div><div class="ttdeci">PVOID MmSpecialPoolEnd</div></div>
<div class="ttc" id="a01000_html"><div class="ttname"><a href="../../d7/df2/a01000.html">_MMWSLENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02963">mi.h:2963</a></div></div>
<div class="ttc" id="a02519_html_a6286415c411ec157cd4ff19340a33a22"><div class="ttname"><a href="../../d9/dce/a02519.html#a6286415c411ec157cd4ff19340a33a22">ValidKernelPteLocal</a></div><div class="ttdeci">const MMPTE ValidKernelPteLocal</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00040">dataamd.c:40</a></div></div>
<div class="ttc" id="a02519_html_add711d4001eeec57ae4969e652d4ca07"><div class="ttname"><a href="../../d9/dce/a02519.html#add711d4001eeec57ae4969e652d4ca07">MiAddSystemPtes</a></div><div class="ttdeci">VOID MiAddSystemPtes(IN PMMPTE StartingPte, IN ULONG NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPtePoolType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l02544">sysptes.c:2544</a></div></div>
<div class="ttc" id="a02519_html_a9080df10f9f127e9871517a2f3077ea2"><div class="ttname"><a href="../../d9/dce/a02519.html#a9080df10f9f127e9871517a2f3077ea2">MmModifiedNoWritePageListHead</a></div><div class="ttdeci">MMPFNLIST MmModifiedNoWritePageListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00140">miglobal.c:140</a></div></div>
<div class="ttc" id="a02519_html_a8a67acb344fa200b220457dc39a2c8ec"><div class="ttname"><a href="../../d9/dce/a02519.html#a8a67acb344fa200b220457dc39a2c8ec">MiFindEmptyAddressRangeDownTree</a></div><div class="ttdeci">NTSTATUS MiFindEmptyAddressRangeDownTree(IN SIZE_T SizeOfRange, IN PVOID HighestAddressToEndAt, IN ULONG_PTR Alignment, IN PMM_AVL_TABLE Root, OUT PVOID *Base)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01933">addrsup.c:1933</a></div></div>
<div class="ttc" id="a01595_html"><div class="ttname"><a href="../../dc/dbf/a01595.html">_SEGMENT_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03443">mi.h:3443</a></div></div>
<div class="ttc" id="a00964_html_a5bed4740c412d8be8fc8750d1a1bfdc9"><div class="ttname"><a href="../../da/d17/a00964.html#a5bed4740c412d8be8fc8750d1a1bfdc9">_MMPFN::Flink</a></div><div class="ttdeci">PFN_NUMBER Flink</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01712">mi.h:1712</a></div></div>
<div class="ttc" id="a00930_html_a9b8edd6d244e966c1136705fefff273f"><div class="ttname"><a href="../../d7/d16/a00930.html#a9b8edd6d244e966c1136705fefff273f">_MI_PHYSICAL_VIEW::Parent</a></div><div class="ttdeci">struct _MMADDRESS_NODE * Parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04051">mi.h:4051</a></div></div>
<div class="ttc" id="a02519_html_a327164f708e09d8fd54cfb6436ad93da"><div class="ttname"><a href="../../d9/dce/a02519.html#a327164f708e09d8fd54cfb6436ad93da">MmHalfSecond</a></div><div class="ttdeci">const LARGE_INTEGER MmHalfSecond</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00559">miglobal.c:559</a></div></div>
<div class="ttc" id="a00988_html_aaf9fd5e7a5b5c39e2c1e1e60369074db"><div class="ttname"><a href="../../d6/d48/a00988.html#aaf9fd5e7a5b5c39e2c1e1e60369074db">_MMVAD::VadFlags2</a></div><div class="ttdeci">MMVAD_FLAGS2 VadFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03995">mi.h:3995</a></div></div>
<div class="ttc" id="a00949_html"><div class="ttname"><a href="../../df/dc6/a00949.html">_MMCLONE_BLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04145">mi.h:4145</a></div></div>
<div class="ttc" id="a02519_html_ad7b20fd0fabb83f9943f62f40a0e0b7a"><div class="ttname"><a href="../../d9/dce/a02519.html#ad7b20fd0fabb83f9943f62f40a0e0b7a">ValidUserPte</a></div><div class="ttdeci">const MMPTE ValidUserPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00046">dataamd.c:46</a></div></div>
<div class="ttc" id="a02519_html_a8aad2946476dadcf9da8a11c89336446"><div class="ttname"><a href="../../d9/dce/a02519.html#a8aad2946476dadcf9da8a11c89336446">MiCheckForConflictingNode</a></div><div class="ttdeci">PMMADDRESS_NODE MiCheckForConflictingNode(IN ULONG_PTR StartVpn, IN ULONG_PTR EndVpn, IN PMM_AVL_TABLE Root)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l00343">addrsup.c:343</a></div></div>
<div class="ttc" id="a02519_html_a9c3c47be93e53a822cde85957640a77e"><div class="ttname"><a href="../../d9/dce/a02519.html#a9c3c47be93e53a822cde85957640a77e">MiIssueNoPtesBugcheck</a></div><div class="ttdeci">VOID MiIssueNoPtesBugcheck(IN ULONG NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l01053">sysptes.c:1053</a></div></div>
<div class="ttc" id="a02519_html_a925d03bcd595402b7e35dda83f35f434"><div class="ttname"><a href="../../d9/dce/a02519.html#a925d03bcd595402b7e35dda83f35f434">MiLowMemoryEvent</a></div><div class="ttdeci">PKEVENT MiLowMemoryEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00124">mminit.c:124</a></div></div>
<div class="ttc" id="a02519_html_a324ae26b5978b2b7ed17a54cf4dae9af"><div class="ttname"><a href="../../d9/dce/a02519.html#a324ae26b5978b2b7ed17a54cf4dae9af">MmMakeSectionAccess</a></div><div class="ttdeci">ACCESS_MASK MmMakeSectionAccess[8]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00715">miglobal.c:715</a></div></div>
<div class="ttc" id="a00992_html_ac6f160bce88665033aec3cd6b61ce4e2"><div class="ttname"><a href="../../d7/d76/a00992.html#ac6f160bce88665033aec3cd6b61ce4e2">_MMVAD_SHORT::RightChild</a></div><div class="ttdeci">struct _MMVAD * RightChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04036">mi.h:4036</a></div></div>
<div class="ttc" id="a02519_html_a6031df2ee45df1f5f4396f5bf6ac4513"><div class="ttname"><a href="../../d9/dce/a02519.html#a6031df2ee45df1f5f4396f5bf6ac4513">MiGetPxeAddress</a></div><div class="ttdeci">#define MiGetPxeAddress(va)  </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06064">mi.h:6064</a></div></div>
<div class="ttc" id="a02496_html_acdf42011a632000dc0db74c64abfe7dd"><div class="ttname"><a href="../../d1/df5/a02496.html#acdf42011a632000dc0db74c64abfe7dd">MI_PTE_LOOKUP_NEEDED</a></div><div class="ttdeci">#define MI_PTE_LOOKUP_NEEDED</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02609">miamd.h:2609</a></div></div>
<div class="ttc" id="a02519_html_a10a721d8d0c94577874b5a37a7fb2e64"><div class="ttname"><a href="../../d9/dce/a02519.html#a10a721d8d0c94577874b5a37a7fb2e64">MiCheckPurgeAndUpMapCount</a></div><div class="ttdeci">NTSTATUS MiCheckPurgeAndUpMapCount(IN PCONTROL_AREA ControlArea, IN LOGICAL FailIfSystemViews)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l04160">mapview.c:4160</a></div></div>
<div class="ttc" id="a00927_html_aa51ab3dc71fe8d176d6db7777a4aefc6"><div class="ttname"><a href="../../dd/d98/a00927.html#aa51ab3dc71fe8d176d6db7777a4aefc6">_MI_NEXT_ESTIMATION_SLOT_CONST::Stride</a></div><div class="ttdeci">WSLE_NUMBER Stride</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03185">mi.h:3185</a></div></div>
<div class="ttc" id="a02519_html_a05934148477e07ceb5f63989aedac482"><div class="ttname"><a href="../../d9/dce/a02519.html#a05934148477e07ceb5f63989aedac482">MiTrimSegmentCache</a></div><div class="ttdeci">VOID MiTrimSegmentCache(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l00465">allocpag.c:465</a></div></div>
<div class="ttc" id="a02519_html_a2b276b00d5c837cbff8917f46c07328d"><div class="ttname"><a href="../../d9/dce/a02519.html#a2b276b00d5c837cbff8917f46c07328d">MiProtectVirtualMemory</a></div><div class="ttdeci">NTSTATUS MiProtectVirtualMemory(IN PEPROCESS Process, IN PVOID *CapturedBase, IN PSIZE_T CapturedRegionSize, IN ULONG Protect, IN PULONG LastProtect)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc8/a02531_source.html#l00293">protect.c:293</a></div></div>
<div class="ttc" id="a02519_html_af88c4ddceeb565fe0d91f5918533a16d"><div class="ttname"><a href="../../d9/dce/a02519.html#af88c4ddceeb565fe0d91f5918533a16d">PMI_LARGEPAGE_MEMORY_RUN</a></div><div class="ttdeci">struct _MI_LARGEPAGE_MEMORY_RUN * PMI_LARGEPAGE_MEMORY_RUN</div></div>
<div class="ttc" id="a00983_html_a143c8ae8f9d71d70770ec05add64bf89"><div class="ttname"><a href="../../d7/d98/a00983.html#a143c8ae8f9d71d70770ec05add64bf89">_MMSESSION::SystemSpaceHashEntries</a></div><div class="ttdeci">ULONG SystemSpaceHashEntries</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04311">mi.h:4311</a></div></div>
<div class="ttc" id="a00942_html_a3c1dc0b9d4308f5486921f7290463553"><div class="ttname"><a href="../../df/d12/a00942.html#a3c1dc0b9d4308f5486921f7290463553">_MM_SESSION_SPACE::PagedPoolInfo</a></div><div class="ttdeci">MM_PAGED_POOL_INFO PagedPoolInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08646">mi.h:8646</a></div></div>
<div class="ttc" id="a02519_html_a3de94e712de9ceec442cd98c74b8bab8"><div class="ttname"><a href="../../d9/dce/a02519.html#a3de94e712de9ceec442cd98c74b8bab8">MiAllMainMemoryMustBeCached</a></div><div class="ttdeci">BOOLEAN MiAllMainMemoryMustBeCached</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l05135">mminit.c:5135</a></div></div>
<div class="ttc" id="a00922_html_a4585a14413968c9f41d33bd7f87637f0"><div class="ttname"><a href="../../dd/dcf/a00922.html#a4585a14413968c9f41d33bd7f87637f0">_MI_FREED_SPECIAL_POOL::StackBytes</a></div><div class="ttdeci">ULONG StackBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07210">mi.h:7210</a></div></div>
<div class="ttc" id="a02519_html_adee56853e24be9d1c8120424504a7462"><div class="ttname"><a href="../../d9/dce/a02519.html#adee56853e24be9d1c8120424504a7462">MMVAD_FLAGS</a></div><div class="ttdeci">struct _MMVAD_FLAGS MMVAD_FLAGS</div></div>
<div class="ttc" id="a00981_html_a53f9eeae2aa20bf2d5b3b25eb1238bd2"><div class="ttname"><a href="../../dd/d24/a00981.html#a53f9eeae2aa20bf2d5b3b25eb1238bd2">_MMSECTION_FLAGS::BeingDeleted</a></div><div class="ttdeci">unsigned BeingDeleted</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03516">mi.h:3516</a></div></div>
<div class="ttc" id="a02519_html_a6ec00c9fed087a8161167df3b9778b1a"><div class="ttname"><a href="../../d9/dce/a02519.html#a6ec00c9fed087a8161167df3b9778b1a">MiAllocateAweInfo</a></div><div class="ttdeci">PVOID MiAllocateAweInfo(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l01263">physical.c:1263</a></div></div>
<div class="ttc" id="a00988_html_aaf87eb75a65abf3dee5a23aa96d5490d"><div class="ttname"><a href="../../d6/d48/a00988.html#aaf87eb75a65abf3dee5a23aa96d5490d">_MMVAD::u2</a></div><div class="ttdeci">union _MMVAD::@751 u2</div></div>
<div class="ttc" id="a01664_html_aa63a51ac8fdd18981f311010f03000da"><div class="ttname"><a href="../../dc/d71/a01664.html#aa63a51ac8fdd18981f311010f03000da">_SUBSECTION::LongFlags</a></div><div class="ttdeci">ULONG LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03620">mi.h:3620</a></div></div>
<div class="ttc" id="a02230_html_a4f4bb67531a9bf6f0b9c6ad76aeba587"><div class="ttname"><a href="../../dd/d67/a02230.html#a4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a></div><div class="ttdeci">unsigned char UCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00390">ntdef.h:390</a></div></div>
<div class="ttc" id="a02519_html_ac028c3a9074e206a59a4627171a4f6d5"><div class="ttname"><a href="../../d9/dce/a02519.html#ac028c3a9074e206a59a4627171a4f6d5">MiCheckForConflictingVadExistence</a></div><div class="ttdeci">LOGICAL MiCheckForConflictingVadExistence(IN PEPROCESS Process, IN PVOID StartingAddress, IN PVOID EndingAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/a02542_source.html#l00659">vadtree.c:659</a></div></div>
<div class="ttc" id="a00963_html_a862e537500bad83395e3442621eaf8ca"><div class="ttname"><a href="../../de/dad/a00963.html#a862e537500bad83395e3442621eaf8ca">_MMPAGING_FILE::Entry</a></div><div class="ttdeci">PMMMOD_WRITER_MDL_ENTRY Entry[MM_PAGING_FILE_MDLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04248">mi.h:4248</a></div></div>
<div class="ttc" id="a00619_html_a178083777551623cf3599ae3633a6eb1"><div class="ttname"><a href="../../d6/d6a/a00619.html#a178083777551623cf3599ae3633a6eb1">_IMAGE_ENTRY_IN_SESSION::ImageCountInThisSession</a></div><div class="ttdeci">ULONG ImageCountInThisSession</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08852">mi.h:8852</a></div></div>
<div class="ttc" id="a00956_html_a524cea938898ef1034dbc6b404d28ffc"><div class="ttname"><a href="../../d3/de5/a00956.html#a524cea938898ef1034dbc6b404d28ffc">_MMINPAGE_FLAGS::PrefetchMdlHighBits</a></div><div class="ttdeci">ULONG_PTR PrefetchMdlHighBits</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03826">mi.h:3826</a></div></div>
<div class="ttc" id="a02519_html_a46e822a3cb25c854396606cba6a91b08"><div class="ttname"><a href="../../d9/dce/a02519.html#a46e822a3cb25c854396606cba6a91b08">MiMakeProtectionMask</a></div><div class="ttdeci">ULONG FASTCALL MiMakeProtectionMask(IN ULONG Protect)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00182">mmsup.c:182</a></div></div>
<div class="ttc" id="a01185_html_aefc3d1378e196d0ac77521ff2fca470d"><div class="ttname"><a href="../../d3/dd3/a01185.html#aefc3d1378e196d0ac77521ff2fca470d">_MSUBSECTION::u2</a></div><div class="ttdeci">union _MSUBSECTION::@745 u2</div></div>
<div class="ttc" id="a00816_html_a7520b9bda9da33ec5af49ba045e6ad93"><div class="ttname"><a href="../../d7/d60/a00816.html#a7520b9bda9da33ec5af49ba045e6ad93">_LARGE_CONTROL_AREA::QuadwordPad</a></div><div class="ttdeci">ULONG QuadwordPad</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03599">mi.h:3599</a></div></div>
<div class="ttc" id="a02519_html_a028d8411d8e9c252ff1ed7789473128f"><div class="ttname"><a href="../../d9/dce/a02519.html#a028d8411d8e9c252ff1ed7789473128f">MiRemoveVadCharges</a></div><div class="ttdeci">VOID MiRemoveVadCharges(IN PMMVAD Vad, IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/a02542_source.html#l00395">vadtree.c:395</a></div></div>
<div class="ttc" id="a00982_html_a3afc1f0a547651ebb23292491c11f5f6"><div class="ttname"><a href="../../d1/d7a/a00982.html#a3afc1f0a547651ebb23292491c11f5f6">_MMSECURE_ENTRY::List</a></div><div class="ttdeci">LIST_ENTRY List</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03962">mi.h:3962</a></div></div>
<div class="ttc" id="a02519_html_a3d5d32846bde629bf25cb0635086f05d"><div class="ttname"><a href="../../d9/dce/a02519.html#a3d5d32846bde629bf25cb0635086f05d">NoAccessPte</a></div><div class="ttdeci">const MMPTE NoAccessPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00096">dataamd.c:96</a></div></div>
<div class="ttc" id="a02519_html_ab7002b22f45e581f6f1e416d627f111d"><div class="ttname"><a href="../../d9/dce/a02519.html#ab7002b22f45e581f6f1e416d627f111d">MiRemovePageFromList</a></div><div class="ttdeci">PFN_NUMBER FASTCALL MiRemovePageFromList(IN PMMPFNLIST ListHead)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l01075">pfnlist.c:1075</a></div></div>
<div class="ttc" id="a00991_html_ac24d7708cbb9898fe88b286c0c11f7b8"><div class="ttname"><a href="../../df/d2f/a00991.html#ac24d7708cbb9898fe88b286c0c11f7b8">_MMVAD_LONG::LongFlags2</a></div><div class="ttdeci">ULONG LongFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04017">mi.h:4017</a></div></div>
<div class="ttc" id="a01594_html_a9f062de4b2586c1d595dfd29f56d06d7"><div class="ttname"><a href="../../dc/def/a01594.html#a9f062de4b2586c1d595dfd29f56d06d7">_SEGMENT::NumberOfCommittedPages</a></div><div class="ttdeci">SIZE_T NumberOfCommittedPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03463">mi.h:3463</a></div></div>
<div class="ttc" id="a00996_html_aa4b5fdc541d9e95ad17b253c33895df6"><div class="ttname"><a href="../../d3/daa/a00996.html#aa4b5fdc541d9e95ad17b253c33895df6">_MMWSL::CommittedPageTables</a></div><div class="ttdeci">ULONG CommittedPageTables[MM_USER_PAGE_TABLE_PAGES/(sizeof(ULONG)*8)]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03058">mi.h:3058</a></div></div>
<div class="ttc" id="a02519_html_ac551cbbfea2cdc2b642c4c907a688253"><div class="ttname"><a href="../../d9/dce/a02519.html#ac551cbbfea2cdc2b642c4c907a688253">MiProtectAweRegion</a></div><div class="ttdeci">WIN32_PROTECTION_MASK MiProtectAweRegion(IN PVOID StartingAddress, IN PVOID EndingAddress, IN MM_PROTECTION_MASK ProtectionMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l04028">physical.c:4028</a></div></div>
<div class="ttc" id="a00951_html_a9482fb341f24f73fae6c13f824ffa488"><div class="ttname"><a href="../../dc/da0/a00951.html#a9482fb341f24f73fae6c13f824ffa488">_MMCLONE_HEADER::NumberOfPtes</a></div><div class="ttdeci">ULONG NumberOfPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04151">mi.h:4151</a></div></div>
<div class="ttc" id="a02195_html_acffac2af59e9aba42fa546317f3c9867"><div class="ttname"><a href="../../df/d0e/a02195.html#acffac2af59e9aba42fa546317f3c9867">InterlockedIncrementSizeT</a></div><div class="ttdeci">#define InterlockedIncrementSizeT(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l02462">i386.h:2462</a></div></div>
<div class="ttc" id="a00960_html_a0e40c28e89e01c9fd90f14192c694e87"><div class="ttname"><a href="../../dd/d11/a00960.html#a0e40c28e89e01c9fd90f14192c694e87">_MMMOD_WRITER_LISTHEAD::Event</a></div><div class="ttdeci">KEVENT Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04213">mi.h:4213</a></div></div>
<div class="ttc" id="a01807_html_a5d17a7e1efa0f549b7b708d2626e8605"><div class="ttname"><a href="../../df/d5b/a01807.html#a5d17a7e1efa0f549b7b708d2626e8605">_VI_POOL_ENTRY_INUSE::CallingAddress</a></div><div class="ttdeci">PVOID CallingAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07063">mi.h:7063</a></div></div>
<div class="ttc" id="a00619_html_acb7c2c72c51c7d4a1a993c566b71d728"><div class="ttname"><a href="../../d6/d6a/a00619.html#acb7c2c72c51c7d4a1a993c566b71d728">_IMAGE_ENTRY_IN_SESSION::ImageLoading</a></div><div class="ttdeci">LOGICAL ImageLoading</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08853">mi.h:8853</a></div></div>
<div class="ttc" id="a02519_html_ae3c777908a8008a565c7748bcd8a2f0b"><div class="ttname"><a href="../../d9/dce/a02519.html#ae3c777908a8008a565c7748bcd8a2f0b">PMMSESSION</a></div><div class="ttdeci">struct _MMSESSION * PMMSESSION</div></div>
<div class="ttc" id="a00997_html_a20290cbd0cac4424ffbe86dd2c2cb97e"><div class="ttname"><a href="../../d0/d28/a00997.html#a20290cbd0cac4424ffbe86dd2c2cb97e">_MMWSLE::VirtualAddress</a></div><div class="ttdeci">PVOID VirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02987">mi.h:2987</a></div></div>
<div class="ttc" id="a02519_html_a0610a88d5e7cff0f569d29e0b442b62b"><div class="ttname"><a href="../../d9/dce/a02519.html#a0610a88d5e7cff0f569d29e0b442b62b">MiInitializeSystemPtes</a></div><div class="ttdeci">VOID MiInitializeSystemPtes(IN PMMPTE StartingPte, IN PFN_NUMBER NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l02248">sysptes.c:2248</a></div></div>
<div class="ttc" id="a02519_html_ada728c8572767052481d71c87159a2da"><div class="ttname"><a href="../../d9/dce/a02519.html#ada728c8572767052481d71c87159a2da">MmSharedCommit</a></div><div class="ttdeci">SIZE_T MmSharedCommit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l00048">sectsup.c:48</a></div></div>
<div class="ttc" id="a00993_html_a7b5522e676d79a0b9536ce1c2ac50aa1"><div class="ttname"><a href="../../da/d0a/a00993.html#a7b5522e676d79a0b9536ce1c2ac50aa1">_MMVIEW::ControlArea</a></div><div class="ttdeci">PCONTROL_AREA ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04283">mi.h:4283</a></div></div>
<div class="ttc" id="a02519_html_ad25c6ba603e85931fb3d643a776ece95"><div class="ttname"><a href="../../d9/dce/a02519.html#ad25c6ba603e85931fb3d643a776ece95">MiInitializeCommitment</a></div><div class="ttdeci">VOID MiInitializeCommitment(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l00040">mmquota.c:40</a></div></div>
<div class="ttc" id="a00942_html_a7e705556c7ee6417b8a2ab590d51d884"><div class="ttname"><a href="../../df/d12/a00942.html#a7e705556c7ee6417b8a2ab590d51d884">_MM_SESSION_SPACE::ProcessReferenceToSession</a></div><div class="ttdeci">LONG ProcessReferenceToSession</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08616">mi.h:8616</a></div></div>
<div class="ttc" id="a02283_html"><div class="ttname"><a href="../../dd/d29/a02283.html">safeboot.h</a></div></div>
<div class="ttc" id="a00954_html"><div class="ttname"><a href="../../d3/dca/a00954.html">_MMEXTEND_INFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03438">mi.h:3438</a></div></div>
<div class="ttc" id="a01581_html"><div class="ttname"><a href="../../da/df3/a01581.html">_SECTION_OBJECT_POINTERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dce/a02200_source.html#l01717">io.h:1717</a></div></div>
<div class="ttc" id="a00030_html_aa70b19a1977c87df6adead393e871e14"><div class="ttname"><a href="../../d5/d79/a00030.html#aa70b19a1977c87df6adead393e871e14">_ALIAS_VAD_INFO::Apc</a></div><div class="ttdeci">KAPC Apc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03966">mi.h:3966</a></div></div>
<div class="ttc" id="a02519_html_a284cc466957e655fde93c943580fb508"><div class="ttname"><a href="../../d9/dce/a02519.html#a284cc466957e655fde93c943580fb508">MiAllocateLowMemory</a></div><div class="ttdeci">PVOID MiAllocateLowMemory(IN SIZE_T NumberOfBytes, IN PFN_NUMBER LowestAcceptablePfn, IN PFN_NUMBER HighestAcceptablePfn, IN PFN_NUMBER BoundaryPfn, IN PVOID CallingAddress, IN MEMORY_CACHING_TYPE CacheType, IN ULONG Tag)</div></div>
<div class="ttc" id="a02519_html_ac2edc72c103e5b6e34471fb87ffac0be"><div class="ttname"><a href="../../d9/dce/a02519.html#ac2edc72c103e5b6e34471fb87ffac0be">MI_ADD_LOCKED_PAGE_CHARGE_FOR_MODIFIED_PAGE</a></div><div class="ttdeci">FORCEINLINE VOID MI_ADD_LOCKED_PAGE_CHARGE_FOR_MODIFIED_PAGE(IN PMMPFN Pfn1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02619">mi.h:2619</a></div></div>
<div class="ttc" id="a01807_html_a7f58182f39fc56ec3ac98910ba24e3d0"><div class="ttname"><a href="../../df/d5b/a01807.html#a7f58182f39fc56ec3ac98910ba24e3d0">_VI_POOL_ENTRY_INUSE::VirtualAddress</a></div><div class="ttdeci">PVOID VirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07062">mi.h:7062</a></div></div>
<div class="ttc" id="a02519_html_a6051f7cb1e9645f9ce95ff36ddda4925"><div class="ttname"><a href="../../d9/dce/a02519.html#a6051f7cb1e9645f9ce95ff36ddda4925">MiEnableKernelVerifier</a></div><div class="ttdeci">VOID MiEnableKernelVerifier(VOID)</div></div>
<div class="ttc" id="a00948_html_aab2b28d42fed77ea1792ea7e89073d64"><div class="ttname"><a href="../../d8/d18/a00948.html#aab2b28d42fed77ea1792ea7e89073d64">_MMBANKED_SECTION::BasePhysicalPage</a></div><div class="ttdeci">PFN_NUMBER BasePhysicalPage</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03878">mi.h:3878</a></div></div>
<div class="ttc" id="a00942_html_ad276b532164b2974a466311e475701a1"><div class="ttname"><a href="../../df/d12/a00942.html#ad276b532164b2974a466311e475701a1">_MM_SESSION_SPACE::ReferenceCount</a></div><div class="ttdeci">LONG ReferenceCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08517">mi.h:8517</a></div></div>
<div class="ttc" id="a02519_html_a42fd9a3db62290db8d79f79952e86e0f"><div class="ttname"><a href="../../d9/dce/a02519.html#a42fd9a3db62290db8d79f79952e86e0f">MiLockCode</a></div><div class="ttdeci">VOID MiLockCode(IN PMMPTE FirstPte, IN PMMPTE LastPte, IN ULONG LockType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l13139">iosup.c:13139</a></div></div>
<div class="ttc" id="a02519_html_aa5d5ee16b1e140deec43cf0232c0dba4"><div class="ttname"><a href="../../d9/dce/a02519.html#aa5d5ee16b1e140deec43cf0232c0dba4">MiConvertStaticSubsections</a></div><div class="ttdeci">VOID MiConvertStaticSubsections(IN PCONTROL_AREA ControlArea)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l03293">mapview.c:3293</a></div></div>
<div class="ttc" id="a00949_html_ab5806a3ed12b188a4e11c04191d19304"><div class="ttname"><a href="../../df/dc6/a00949.html#ab5806a3ed12b188a4e11c04191d19304">_MMCLONE_BLOCK::ProtoPte</a></div><div class="ttdeci">MMPTE ProtoPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04146">mi.h:4146</a></div></div>
<div class="ttc" id="a02519_html_a232b33c28ca70fe17c7776172212f0c0"><div class="ttname"><a href="../../d9/dce/a02519.html#a232b33c28ca70fe17c7776172212f0c0">MI_IS_PFN</a></div><div class="ttdeci">FORCEINLINE LOGICAL MI_IS_PFN(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07430">mi.h:7430</a></div></div>
<div class="ttc" id="a02519_html_a783b052228a1afb58d9c7808798ee44e"><div class="ttname"><a href="../../d9/dce/a02519.html#a783b052228a1afb58d9c7808798ee44e">PMMCLONE_DESCRIPTOR</a></div><div class="ttdeci">struct _MMCLONE_DESCRIPTOR * PMMCLONE_DESCRIPTOR</div></div>
<div class="ttc" id="a00981_html_ad365d3f1746fc4d00db1398bd7845fcb"><div class="ttname"><a href="../../dd/d24/a00981.html#ad365d3f1746fc4d00db1398bd7845fcb">_MMSECTION_FLAGS::SetMappedFileIoComplete</a></div><div class="ttdeci">unsigned SetMappedFileIoComplete</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03542">mi.h:3542</a></div></div>
<div class="ttc" id="a00964_html_a3de3d4ebb356cb08b1199a54e7021fa3"><div class="ttname"><a href="../../da/d17/a00964.html#a3de3d4ebb356cb08b1199a54e7021fa3">_MMPFN::e2</a></div><div class="ttdeci">struct _MMPFN::@729::@735 e2</div></div>
<div class="ttc" id="a02519_html_a5292aa3a35f2e4ebfa0b7b7e18b83a32"><div class="ttname"><a href="../../d9/dce/a02519.html#a5292aa3a35f2e4ebfa0b7b7e18b83a32">MiCauseOverCommitPopup</a></div><div class="ttdeci">VOID MiCauseOverCommitPopup(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l01257">mmquota.c:1257</a></div></div>
<div class="ttc" id="a02519_html_ac05a63c6b70a794da8b3d9e2450e824c"><div class="ttname"><a href="../../d9/dce/a02519.html#ac05a63c6b70a794da8b3d9e2450e824c">MiStartZeroPageWorkers</a></div><div class="ttdeci">VOID MiStartZeroPageWorkers(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dc4/a02548_source.html#l00782">zeropage.c:782</a></div></div>
<div class="ttc" id="a02519_html_a9d5869abf2976729d4f6f853ab3d490c"><div class="ttname"><a href="../../d9/dce/a02519.html#a9d5869abf2976729d4f6f853ab3d490c">MmLargePageDriverBufferLength</a></div><div class="ttdeci">ULONG MmLargePageDriverBufferLength</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00844">miglobal.c:844</a></div></div>
<div class="ttc" id="a02519_html_af0cd32de5649206d276856323b894329"><div class="ttname"><a href="../../d9/dce/a02519.html#af0cd32de5649206d276856323b894329">MiReferenceSubsection</a></div><div class="ttdeci">LOGICAL MiReferenceSubsection(IN PMSUBSECTION MappedSubsection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l02802">mapview.c:2802</a></div></div>
<div class="ttc" id="a02230_html_a6addcc52e2dfddf231bf3213859ae2bb"><div class="ttname"><a href="../../dd/d67/a02230.html#a6addcc52e2dfddf231bf3213859ae2bb">PCHAR</a></div><div class="ttdeci">CHAR * PCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00313">ntdef.h:313</a></div></div>
<div class="ttc" id="a02519_html_a4321e3ee68b5acaba8b87850862b5800"><div class="ttname"><a href="../../d9/dce/a02519.html#a4321e3ee68b5acaba8b87850862b5800">MmAliasAlignmentMask</a></div><div class="ttdeci">ULONG MmAliasAlignmentMask</div></div>
<div class="ttc" id="a00188_html_a017cb136a531df7bafe7528d09f7c394"><div class="ttname"><a href="../../da/d15/a00188.html#a017cb136a531df7bafe7528d09f7c394">_CONTROL_AREA::Segment</a></div><div class="ttdeci">PSEGMENT Segment</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03558">mi.h:3558</a></div></div>
<div class="ttc" id="a01594_html_ad50378b2b4cf28b75c06c5e8a449fb54"><div class="ttname"><a href="../../dc/def/a01594.html#ad50378b2b4cf28b75c06c5e8a449fb54">_SEGMENT::u1</a></div><div class="ttdeci">union _SEGMENT::@739 u1</div></div>
<div class="ttc" id="a00997_html_aa7ea1ae22f69aca8097c8b2af61ba0a3"><div class="ttname"><a href="../../d0/d28/a00997.html#aa7ea1ae22f69aca8097c8b2af61ba0a3">_MMWSLE::e1</a></div><div class="ttdeci">MMWSLENTRY e1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02989">mi.h:2989</a></div></div>
<div class="ttc" id="a02230_html_a5850d5316caf7f4cedd742fdf8cd7c02"><div class="ttname"><a href="../../dd/d67/a02230.html#a5850d5316caf7f4cedd742fdf8cd7c02">USHORT</a></div><div class="ttdeci">unsigned short USHORT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00391">ntdef.h:391</a></div></div>
<div class="ttc" id="a00850_html_a5cf9e1a3944926a138d1af2b23e5dc0b"><div class="ttname"><a href="../../dc/d0a/a00850.html#a5cf9e1a3944926a138d1af2b23e5dc0b">_LOCK_TRACKER::Offset</a></div><div class="ttdeci">ULONG Offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04349">mi.h:4349</a></div></div>
<div class="ttc" id="a00930_html_a04c6ac3f8efccda1cc3894557fa63080"><div class="ttname"><a href="../../d7/d16/a00930.html#a04c6ac3f8efccda1cc3894557fa63080">_MI_PHYSICAL_VIEW::EndingVpn</a></div><div class="ttdeci">ULONG_PTR EndingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04056">mi.h:4056</a></div></div>
<div class="ttc" id="a00936_html_ad64e7a5021e1f935682fa6f5348002de"><div class="ttname"><a href="../../dc/d2b/a00936.html#ad64e7a5021e1f935682fa6f5348002de">_MM_DRIVER_VERIFIER_DATA::AllocationsFailed</a></div><div class="ttdeci">ULONG AllocationsFailed</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07126">mi.h:7126</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3cc"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cc">_MI_VAD_TYPE</a></div><div class="ttdeci">_MI_VAD_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03917">mi.h:3917</a></div></div>
<div class="ttc" id="a02519_html_ab42cad0c592099b1ed4af49e39e817f6"><div class="ttname"><a href="../../d9/dce/a02519.html#ab42cad0c592099b1ed4af49e39e817f6">MI_CHECK_BIT</a></div><div class="ttdeci">#define MI_CHECK_BIT(ARRAY, BIT)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01444">mi.h:1444</a></div></div>
<div class="ttc" id="a00957_html_a6fa1995cef63fc1cfe83edfe59b759f5"><div class="ttname"><a href="../../d1/df7/a00957.html#a6fa1995cef63fc1cfe83edfe59b759f5">_MMINPAGE_SUPPORT::LongFlags</a></div><div class="ttdeci">ULONG_PTR LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03846">mi.h:3846</a></div></div>
<div class="ttc" id="a02519_html_a1c5ae3eaf2ddadf9bb1eac3625c97e0d"><div class="ttname"><a href="../../d9/dce/a02519.html#a1c5ae3eaf2ddadf9bb1eac3625c97e0d">ValidKernelPdeLocal</a></div><div class="ttdeci">const MMPTE ValidKernelPdeLocal</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00071">dataamd.c:71</a></div></div>
<div class="ttc" id="a01185_html_adbfbd1787c739f49461192725d33f6c8"><div class="ttname"><a href="../../d3/dd3/a01185.html#adbfbd1787c739f49461192725d33f6c8">_MSUBSECTION::SubsectionBase</a></div><div class="ttdeci">PMMPTE SubsectionBase</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03657">mi.h:3657</a></div></div>
<div class="ttc" id="a00990_html_a0c7e30ad548c3c943eec7b67129723c0"><div class="ttname"><a href="../../dd/d7a/a00990.html#a0c7e30ad548c3c943eec7b67129723c0">_MMVAD_FLAGS2::Inherit</a></div><div class="ttdeci">unsigned Inherit</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03946">mi.h:3946</a></div></div>
<div class="ttc" id="a00850_html_a3e65ea8819691c34ed1d8d3ea79929d7"><div class="ttname"><a href="../../dc/d0a/a00850.html#a3e65ea8819691c34ed1d8d3ea79929d7">_LOCK_TRACKER::Who</a></div><div class="ttdeci">ULONG Who</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04354">mi.h:4354</a></div></div>
<div class="ttc" id="a00991_html_a1fa3382530db024282c9b1a9224caeca"><div class="ttname"><a href="../../df/d2f/a00991.html#a1fa3382530db024282c9b1a9224caeca">_MMVAD_LONG::Secured</a></div><div class="ttdeci">MMADDRESS_LIST Secured</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04022">mi.h:4022</a></div></div>
<div class="ttc" id="a02519_html_acd25383c7ce49a34adb89224b26da129"><div class="ttname"><a href="../../d9/dce/a02519.html#acd25383c7ce49a34adb89224b26da129">MmSeventySeconds</a></div><div class="ttdeci">const LARGE_INTEGER MmSeventySeconds</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00557">miglobal.c:557</a></div></div>
<div class="ttc" id="a00850_html_a8c186d8c2257c4244490a1be255ba0e2"><div class="ttname"><a href="../../dc/d0a/a00850.html#a8c186d8c2257c4244490a1be255ba0e2">_LOCK_TRACKER::Mdl</a></div><div class="ttdeci">PMDL Mdl</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04346">mi.h:4346</a></div></div>
<div class="ttc" id="a00074_html_ae852781d856447febcfa23688a871fe6"><div class="ttname"><a href="../../db/db6/a00074.html#ae852781d856447febcfa23688a871fe6">_AWEINFO::PushLock</a></div><div class="ttdeci">PEX_PUSH_LOCK_CACHE_AWARE PushLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04098">mi.h:4098</a></div></div>
<div class="ttc" id="a02230_html_aae604290388ca9cc8cc90ad0043c1e49"><div class="ttname"><a href="../../dd/d67/a02230.html#aae604290388ca9cc8cc90ad0043c1e49">PLOGICAL</a></div><div class="ttdeci">ULONG * PLOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00527">ntdef.h:527</a></div></div>
<div class="ttc" id="a02519_html_a27ec7a268654ca6ce1bbcfb7c05ac2c5"><div class="ttname"><a href="../../d9/dce/a02519.html#a27ec7a268654ca6ce1bbcfb7c05ac2c5">MiIsProtoAddressValid</a></div><div class="ttdeci">LOGICAL FORCEINLINE MiIsProtoAddressValid(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07623">mi.h:7623</a></div></div>
<div class="ttc" id="a00933_html_a8acd8b676c75c11d277dd798a484f902"><div class="ttname"><a href="../../d0/d5b/a00933.html#a8acd8b676c75c11d277dd798a484f902">_MI_VERIFIER_DRIVER_ENTRY::CurrentNonPagedPoolAllocations</a></div><div class="ttdeci">ULONG CurrentNonPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07098">mi.h:7098</a></div></div>
<div class="ttc" id="a00850_html_a7d0f8f94accf1d4c26ed959263addb9c"><div class="ttname"><a href="../../dc/d0a/a00850.html#a7d0f8f94accf1d4c26ed959263addb9c">_LOCK_TRACKER::Page</a></div><div class="ttdeci">PFN_NUMBER Page</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04351">mi.h:4351</a></div></div>
<div class="ttc" id="a00740_html"><div class="ttname"><a href="../../dc/dce/a00740.html">_KDPC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dc3/a02249_source.html#l00304">ntosdef.h:304</a></div></div>
<div class="ttc" id="a02519_html_a71754136c6d515e160e347e1c391d64f"><div class="ttname"><a href="../../d9/dce/a02519.html#a71754136c6d515e160e347e1c391d64f">MmPagedPoolInfo</a></div><div class="ttdeci">MM_PAGED_POOL_INFO MmPagedPoolInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00742">miglobal.c:742</a></div></div>
<div class="ttc" id="a00967_html_a0e63c7328b44b215808d96e63c6382b0"><div class="ttname"><a href="../../d4/d94/a00967.html#a0e63c7328b44b215808d96e63c6382b0">_MMPFNENTRY::RemovalRequested</a></div><div class="ttdeci">USHORT RemovalRequested</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01663">mi.h:1663</a></div></div>
<div class="ttc" id="a00963_html_a24ef80872d6b02afd9ebc4aef177b750"><div class="ttname"><a href="../../de/dad/a00963.html#a24ef80872d6b02afd9ebc4aef177b750">_MMPAGING_FILE::Bitmap</a></div><div class="ttdeci">PRTL_BITMAP Bitmap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04250">mi.h:4250</a></div></div>
<div class="ttc" id="a02519_html_a0c60e3df189b7316008e892f21415374"><div class="ttname"><a href="../../d9/dce/a02519.html#a0c60e3df189b7316008e892f21415374">MiAddCachedRange</a></div><div class="ttdeci">LOGICAL MiAddCachedRange(IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER LastPageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l06389">allocpag.c:6389</a></div></div>
<div class="ttc" id="a00926_html_a1a1f92c2de96049d5d06379b85b8826a"><div class="ttname"><a href="../../d8/d38/a00926.html#a1a1f92c2de96049d5d06379b85b8826a">_MI_LARGEPAGE_MEMORY_RUN::Next</a></div><div class="ttdeci">struct _MI_LARGEPAGE_MEMORY_RUN * Next</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04777">mi.h:4777</a></div></div>
<div class="ttc" id="a00957_html_a5ef23dcbc92d798f7fec92f31e55a734"><div class="ttname"><a href="../../d1/df7/a00957.html#a5ef23dcbc92d798f7fec92f31e55a734">_MMINPAGE_SUPPORT::FilePointer</a></div><div class="ttdeci">PFILE_OBJECT FilePointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03841">mi.h:3841</a></div></div>
<div class="ttc" id="a00950_html_add4c2ca33cb265e7ac8c1c1744de120e"><div class="ttname"><a href="../../df/d39/a00950.html#add4c2ca33cb265e7ac8c1c1744de120e">_MMCLONE_DESCRIPTOR::EndingVpn</a></div><div class="ttdeci">ULONG_PTR EndingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04164">mi.h:4164</a></div></div>
<div class="ttc" id="a00988_html_a1ba57ff8dfbbe6eaa8c41b30b76f998d"><div class="ttname"><a href="../../d6/d48/a00988.html#a1ba57ff8dfbbe6eaa8c41b30b76f998d">_MMVAD::Balance</a></div><div class="ttdeci">LONG_PTR Balance</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03978">mi.h:3978</a></div></div>
<div class="ttc" id="a02519_html_a155037b5768d0ccc5e3bdeceabee360c"><div class="ttname"><a href="../../d9/dce/a02519.html#a155037b5768d0ccc5e3bdeceabee360c">MiLockPagedAddress</a></div><div class="ttdeci">VOID FASTCALL MiLockPagedAddress(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dec/a02524_source.html#l00739">mmsup.c:739</a></div></div>
<div class="ttc" id="a02519_html_adc0adf23eefacfaa48da5e5d19f9c58a"><div class="ttname"><a href="../../d9/dce/a02519.html#adc0adf23eefacfaa48da5e5d19f9c58a">MiFreeLowMemory</a></div><div class="ttdeci">LOGICAL MiFreeLowMemory(IN PVOID BaseAddress, IN ULONG Tag)</div></div>
<div class="ttc" id="a00981_html_a8b471a3709014ce9f9c2b8a326b9a7db"><div class="ttname"><a href="../../dd/d24/a00981.html#a8b471a3709014ce9f9c2b8a326b9a7db">_MMSECTION_FLAGS::FloppyMedia</a></div><div class="ttdeci">unsigned FloppyMedia</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03533">mi.h:3533</a></div></div>
<div class="ttc" id="a00930_html_a3df99e07ca27e2f06b8f46f893adb369"><div class="ttname"><a href="../../d7/d16/a00930.html#a3df99e07ca27e2f06b8f46f893adb369">_MI_PHYSICAL_VIEW::BitMap</a></div><div class="ttdeci">PRTL_BITMAP BitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04061">mi.h:4061</a></div></div>
<div class="ttc" id="a02200_html_a72ac9d3792fa806a30a1a8df851b590b"><div class="ttname"><a href="../../dd/dce/a02200.html#a72ac9d3792fa806a30a1a8df851b590b">PIRP</a></div><div class="ttdeci">* PIRP</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dce/a02200_source.html#l02090">io.h:2090</a></div></div>
<div class="ttc" id="a00946_html_abafb8fc689626e7e2bf8f41c7231c457"><div class="ttname"><a href="../../da/d40/a00946.html#abafb8fc689626e7e2bf8f41c7231c457">_MMADDRESS_LIST::StartVpn</a></div><div class="ttdeci">ULONG_PTR StartVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03951">mi.h:3951</a></div></div>
<div class="ttc" id="a00967_html_af511f81a92e1c7dbc8dc94307ff9bb80"><div class="ttname"><a href="../../d4/d94/a00967.html#af511f81a92e1c7dbc8dc94307ff9bb80">_MMPFNENTRY::WriteInProgress</a></div><div class="ttdeci">USHORT WriteInProgress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01659">mi.h:1659</a></div></div>
<div class="ttc" id="a00942_html_ae5b3e67d716ab59756606b677f0d0fe6"><div class="ttname"><a href="../../df/d12/a00942.html#ae5b3e67d716ab59756606b677f0d0fe6">_MM_SESSION_SPACE::PagedPoolBasePde</a></div><div class="ttdeci">PMMPTE PagedPoolBasePde</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08581">mi.h:8581</a></div></div>
<div class="ttc" id="a00940_html"><div class="ttname"><a href="../../d7/db6/a00940.html">_MM_PTE_MAPPING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05117">mi.h:5117</a></div></div>
<div class="ttc" id="a00991_html_a3478c66075aa78b821c74542ab2d8fe1"><div class="ttname"><a href="../../df/d2f/a00991.html#a3478c66075aa78b821c74542ab2d8fe1">_MMVAD_LONG::Parent</a></div><div class="ttdeci">struct _MMVAD * Parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04002">mi.h:4002</a></div></div>
<div class="ttc" id="a00963_html_a103beb78e5053193a21f21b6fdcc599c"><div class="ttname"><a href="../../de/dad/a00963.html#a103beb78e5053193a21f21b6fdcc599c">_MMPAGING_FILE::PageFileName</a></div><div class="ttdeci">UNICODE_STRING PageFileName</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04249">mi.h:4249</a></div></div>
<div class="ttc" id="a00955_html_acbfa6e3ef1141d222313facf2cbeb422"><div class="ttname"><a href="../../dc/db6/a00955.html#acbfa6e3ef1141d222313facf2cbeb422">_MMFREE_POOL_ENTRY::List</a></div><div class="ttdeci">LIST_ENTRY List</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04265">mi.h:4265</a></div></div>
<div class="ttc" id="a00969_html_abef688f59273b43345f8a2c039f8a571"><div class="ttname"><a href="../../d7/dfd/a00969.html#abef688f59273b43345f8a2c039f8a571">_MMPFNTIMINGS::ReleasedAddress</a></div><div class="ttdeci">PVOID ReleasedAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00906">mi.h:906</a></div></div>
<div class="ttc" id="a02519_html_aa63bd3c882fe1cf68bb6b07de79e34b8"><div class="ttname"><a href="../../d9/dce/a02519.html#aa63bd3c882fe1cf68bb6b07de79e34b8">MiAdjustWorkingSetManagerParameters</a></div><div class="ttdeci">VOID MiAdjustWorkingSetManagerParameters(IN LOGICAL WorkStation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1a/a02546_source.html#l00167">wsmanage.c:167</a></div></div>
<div class="ttc" id="a02519_html_a67b4a43cdeb316bccbddd91dfb3a28ef"><div class="ttname"><a href="../../d9/dce/a02519.html#a67b4a43cdeb316bccbddd91dfb3a28ef">MiTrimWorkingSet</a></div><div class="ttdeci">WSLE_NUMBER MiTrimWorkingSet(IN WSLE_NUMBER Reduction, IN PMMSUPPORT WsInfo, IN ULONG TrimAge)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l04022">wslist.c:4022</a></div></div>
<div class="ttc" id="a02519_html_aff95ced342a830d1041da063f8da0604"><div class="ttname"><a href="../../d9/dce/a02519.html#aff95ced342a830d1041da063f8da0604">PLOAD_IMPORTS</a></div><div class="ttdeci">struct _LOAD_IMPORTS * PLOAD_IMPORTS</div></div>
<div class="ttc" id="a02519_html_ad2f5109cfcbdab2f7cd908f4e3982e14"><div class="ttname"><a href="../../d9/dce/a02519.html#ad2f5109cfcbdab2f7cd908f4e3982e14">PMMEXTEND_INFO</a></div><div class="ttdeci">struct _MMEXTEND_INFO * PMMEXTEND_INFO</div></div>
<div class="ttc" id="a00942_html_af5ef27f1fc281649fd3942822396ff39"><div class="ttname"><a href="../../df/d12/a00942.html#af5ef27f1fc281649fd3942822396ff39">_MM_SESSION_SPACE::Win32KDriverUnload</a></div><div class="ttdeci">PDRIVER_UNLOAD Win32KDriverUnload</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08655">mi.h:8655</a></div></div>
<div class="ttc" id="a00936_html_a3fecf1b6ee87db4d98c6f3ec1c4641b4"><div class="ttname"><a href="../../dc/d2b/a00936.html#a3fecf1b6ee87db4d98c6f3ec1c4641b4">_MM_DRIVER_VERIFIER_DATA::AllocationsFailedDeliberately</a></div><div class="ttdeci">ULONG AllocationsFailedDeliberately</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07127">mi.h:7127</a></div></div>
<div class="ttc" id="a01594_html_a3460a99e8c67f16dc5bb98427c88ae7c"><div class="ttname"><a href="../../dc/def/a01594.html#a3460a99e8c67f16dc5bb98427c88ae7c">_SEGMENT::ControlArea</a></div><div class="ttdeci">struct _CONTROL_AREA * ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03455">mi.h:3455</a></div></div>
<div class="ttc" id="a02519_html_a08b77d14533361e9d211e45d0012f36d"><div class="ttname"><a href="../../d9/dce/a02519.html#a08b77d14533361e9d211e45d0012f36d">PMMLOCK_CONFLICT</a></div><div class="ttdeci">struct _MMLOCK_CONFLICT * PMMLOCK_CONFLICT</div></div>
<div class="ttc" id="a02519_html_a0658d315eda0b2e4793972af2f3ac642"><div class="ttname"><a href="../../d9/dce/a02519.html#a0658d315eda0b2e4793972af2f3ac642">MiChargeResidentAvailable</a></div><div class="ttdeci">LOGICAL MiChargeResidentAvailable(IN PFN_NUMBER NumberOfPages, IN ULONG Id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l02698">sysload.c:2698</a></div></div>
<div class="ttc" id="a00988_html_a2dae94cdbf75a72ba085fa4d8cbd0fe8"><div class="ttname"><a href="../../d6/d48/a00988.html#a2dae94cdbf75a72ba085fa4d8cbd0fe8">_MMVAD::u1</a></div><div class="ttdeci">union _MMVAD::@749 u1</div></div>
<div class="ttc" id="a02519_html_a78820a8ba99e6f96a1dbce9c98933deeade72c436b84dbfff96d990c378c9bded"><div class="ttname"><a href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deeade72c436b84dbfff96d990c378c9bded">AndValid</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02923">mi.h:2923</a></div></div>
<div class="ttc" id="a02519_html_af5cb465f80778ec92c9e88870dbb314d"><div class="ttname"><a href="../../d9/dce/a02519.html#af5cb465f80778ec92c9e88870dbb314d">MiPlatformCacheAttributes</a></div><div class="ttdeci">MI_PFN_CACHE_ATTRIBUTE MiPlatformCacheAttributes[2 *MmMaximumCacheType]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00791">miglobal.c:791</a></div></div>
<div class="ttc" id="a02519_html_a9ee78402801d9d7e26fcb1b8196f7e27"><div class="ttname"><a href="../../d9/dce/a02519.html#a9ee78402801d9d7e26fcb1b8196f7e27">MiAddMdlTracker</a></div><div class="ttdeci">VOID MiAddMdlTracker(IN PMDL MemoryDescriptorList, IN PVOID CallingAddress, IN PVOID CallersCaller, IN PFN_NUMBER NumberOfPagesToLock, IN ULONG Who)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l01383">iosup.c:1383</a></div></div>
<div class="ttc" id="a02519_html_a6d426503c04a00a48a0665dc0272de32"><div class="ttname"><a href="../../d9/dce/a02519.html#a6d426503c04a00a48a0665dc0272de32">MmDynamicPfn</a></div><div class="ttdeci">PFN_NUMBER MmDynamicPfn</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00240">miglobal.c:240</a></div></div>
<div class="ttc" id="a02519_html_a7f5c178103a6d6a7bee15e3472f81db6"><div class="ttname"><a href="../../d9/dce/a02519.html#a7f5c178103a6d6a7bee15e3472f81db6">MiDoesPdeExistAndMakeValid</a></div><div class="ttdeci">ULONG MiDoesPdeExistAndMakeValid(IN PMMPTE PointerPde, IN PEPROCESS TargetProcess, IN KIRQL OldIrql, OUT PULONG Waited)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06203">mi.h:6203</a></div></div>
<div class="ttc" id="a00939_html_afbe985147147d4f85a473949badee0eb"><div class="ttname"><a href="../../dd/d20/a00939.html#afbe985147147d4f85a473949badee0eb">_MM_PAGED_POOL_INFO::PagedPoolCommit</a></div><div class="ttdeci">SIZE_T PagedPoolCommit</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07723">mi.h:7723</a></div></div>
<div class="ttc" id="a00998_html"><div class="ttname"><a href="../../d9/d9a/a00998.html">_MMWSLE_FLUSH_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04339">mi.h:4339</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3cca43d289192c6ca7f6145c0b38f61d3965"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca43d289192c6ca7f6145c0b38f61d3965">VadLargePageSection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03925">mi.h:3925</a></div></div>
<div class="ttc" id="a00961_html_ab4d9cfbb10669964582e3efbf0e8f5e3"><div class="ttname"><a href="../../da/d45/a00961.html#ab4d9cfbb10669964582e3efbf0e8f5e3">_MMMOD_WRITER_MDL_ENTRY::PagingListHead</a></div><div class="ttdeci">PMMMOD_WRITER_LISTHEAD PagingListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04225">mi.h:4225</a></div></div>
<div class="ttc" id="a02519_html_a81830a16c4d4264fda4d0b27d8070239"><div class="ttname"><a href="../../d9/dce/a02519.html#a81830a16c4d4264fda4d0b27d8070239">MM_PAGING_FILE_MDLS</a></div><div class="ttdeci">#define MM_PAGING_FILE_MDLS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04237">mi.h:4237</a></div></div>
<div class="ttc" id="a00936_html_a60daaf0ae24627b56bf278043c60c1fe"><div class="ttname"><a href="../../dc/d2b/a00936.html#a60daaf0ae24627b56bf278043c60c1fe">_MM_DRIVER_VERIFIER_DATA::Loads</a></div><div class="ttdeci">ULONG Loads</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07129">mi.h:7129</a></div></div>
<div class="ttc" id="a00981_html_a4f3198933f3c2fe44ab55c6675b001a2"><div class="ttname"><a href="../../dd/d24/a00981.html#a4f3198933f3c2fe44ab55c6675b001a2">_MMSECTION_FLAGS::Based</a></div><div class="ttdeci">unsigned Based</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03523">mi.h:3523</a></div></div>
<div class="ttc" id="a00969_html"><div class="ttname"><a href="../../d7/dfd/a00969.html">_MMPFNTIMINGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00903">mi.h:903</a></div></div>
<div class="ttc" id="a00816_html_af3f9a317bcac4fd204316f4558a48f28"><div class="ttname"><a href="../../d7/d60/a00816.html#af3f9a317bcac4fd204316f4558a48f28">_LARGE_CONTROL_AREA::NumberOfPfnReferences</a></div><div class="ttdeci">ULONG NumberOfPfnReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03584">mi.h:3584</a></div></div>
<div class="ttc" id="a00963_html_a6f3c38ed0dde3c272677dbd1415ec0b4"><div class="ttname"><a href="../../de/dad/a00963.html#a6f3c38ed0dde3c272677dbd1415ec0b4">_MMPAGING_FILE::File</a></div><div class="ttdeci">PFILE_OBJECT File</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04247">mi.h:4247</a></div></div>
<div class="ttc" id="a02519_html_ab2191fa5809148c079afb6cd1974ff63"><div class="ttname"><a href="../../d9/dce/a02519.html#ab2191fa5809148c079afb6cd1974ff63">MmNonPagedPoolFreeListHead</a></div><div class="ttdeci">LIST_ENTRY MmNonPagedPoolFreeListHead[MI_MAX_FREE_LIST_HEADS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l00071">allocpag.c:71</a></div></div>
<div class="ttc" id="a02519_html_add28fb1c81256946292ba7b8527243c7"><div class="ttname"><a href="../../d9/dce/a02519.html#add28fb1c81256946292ba7b8527243c7">MmSystemLockPagesCount</a></div><div class="ttdeci">PFN_NUMBER MmSystemLockPagesCount</div></div>
<div class="ttc" id="a02195_html_a90161b777082de0a1042e4ccec5cc90a"><div class="ttname"><a href="../../df/d0e/a02195.html#a90161b777082de0a1042e4ccec5cc90a">PPFN_NUMBER</a></div><div class="ttdeci">ULONG * PPFN_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l00056">i386.h:56</a></div></div>
<div class="ttc" id="a02519_html_a8f25faba24cdc6c6ba70a0db2cced1f3"><div class="ttname"><a href="../../d9/dce/a02519.html#a8f25faba24cdc6c6ba70a0db2cced1f3">MI_IO_BACKTRACE_LENGTH</a></div><div class="ttdeci">#define MI_IO_BACKTRACE_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01960">mi.h:1960</a></div></div>
<div class="ttc" id="a02519_html_ad5c63fac400d4fd8b8caf5ed9a6c2718"><div class="ttname"><a href="../../d9/dce/a02519.html#ad5c63fac400d4fd8b8caf5ed9a6c2718">MiChargeCommitmentRegardless</a></div><div class="ttdeci">#define MiChargeCommitmentRegardless()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02030">mi.h:2030</a></div></div>
<div class="ttc" id="a02519_html_a49aa016a650ee3c02a2ba3ae868f929a"><div class="ttname"><a href="../../d9/dce/a02519.html#a49aa016a650ee3c02a2ba3ae868f929a">MiRemoveUserPhysicalPagesVad</a></div><div class="ttdeci">VOID MiRemoveUserPhysicalPagesVad(IN PMMVAD_SHORT FoundVad)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l02491">physical.c:2491</a></div></div>
<div class="ttc" id="a00951_html_a80f1e935f4e62ea002871a96dd20db32"><div class="ttname"><a href="../../dc/da0/a00951.html#a80f1e935f4e62ea002871a96dd20db32">_MMCLONE_HEADER::ClonePtes</a></div><div class="ttdeci">PMMCLONE_BLOCK ClonePtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04153">mi.h:4153</a></div></div>
<div class="ttc" id="a02519_html_a363a9385ea6c288150e4f3ac8a2671a8"><div class="ttname"><a href="../../d9/dce/a02519.html#a363a9385ea6c288150e4f3ac8a2671a8">MmTrackLockedPages</a></div><div class="ttdeci">LOGICAL MmTrackLockedPages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07048">mi.h:7048</a></div></div>
<div class="ttc" id="a02184_html_a7a47357db9e4031f9e3bd998db9d53da"><div class="ttname"><a href="../../d5/ddd/a02184.html#a7a47357db9e4031f9e3bd998db9d53da">GENERAL_LOOKASIDE</a></div><div class="ttdeci">struct DECLSPEC_CACHEALIGN _GENERAL_LOOKASIDE GENERAL_LOOKASIDE</div></div>
<div class="ttc" id="a01807_html_abb5aa772f8b72dbe8696116da0ccb868"><div class="ttname"><a href="../../df/d5b/a01807.html#abb5aa772f8b72dbe8696116da0ccb868">_VI_POOL_ENTRY_INUSE::NumberOfBytes</a></div><div class="ttdeci">SIZE_T NumberOfBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07064">mi.h:7064</a></div></div>
<div class="ttc" id="a00967_html_aaa1e18a6e12d81759af14e058ab7a52d"><div class="ttname"><a href="../../d4/d94/a00967.html#aaa1e18a6e12d81759af14e058ab7a52d">_MMPFNENTRY::ParityError</a></div><div class="ttdeci">USHORT ParityError</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01685">mi.h:1685</a></div></div>
<div class="ttc" id="a00850_html_a3485a16f609cbac4d0d5bdea82cb6b24"><div class="ttname"><a href="../../dc/d0a/a00850.html#a3485a16f609cbac4d0d5bdea82cb6b24">_LOCK_TRACKER::ListEntry</a></div><div class="ttdeci">LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04345">mi.h:4345</a></div></div>
<div class="ttc" id="a00983_html_a45ff0c95e9b875792a0e9af41777f9a5"><div class="ttname"><a href="../../d7/d98/a00983.html#a45ff0c95e9b875792a0e9af41777f9a5">_MMSESSION::BitmapFailures</a></div><div class="ttdeci">ULONG BitmapFailures</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04313">mi.h:4313</a></div></div>
<div class="ttc" id="a02519_html_a26f52e71a07708c41c0b43e357f192af"><div class="ttname"><a href="../../d9/dce/a02519.html#a26f52e71a07708c41c0b43e357f192af">MM_PTE_MAPPING</a></div><div class="ttdeci">struct _MM_PTE_MAPPING MM_PTE_MAPPING</div></div>
<div class="ttc" id="a02519_html_a2a0a9aafdf5f72598433a448638604ec"><div class="ttname"><a href="../../d9/dce/a02519.html#a2a0a9aafdf5f72598433a448638604ec">MiInsertWsleHash</a></div><div class="ttdeci">VOID FASTCALL MiInsertWsleHash(IN WSLE_NUMBER Entry, IN PMMSUPPORT WsInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l00050">wstree.c:50</a></div></div>
<div class="ttc" id="a00188_html_a92138cd2cdc0eecfe555d31e07e14ac0"><div class="ttname"><a href="../../da/d15/a00188.html#a92138cd2cdc0eecfe555d31e07e14ac0">_CONTROL_AREA::FilePointer</a></div><div class="ttdeci">PFILE_OBJECT FilePointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03570">mi.h:3570</a></div></div>
<div class="ttc" id="a00074_html"><div class="ttname"><a href="../../db/db6/a00074.html">_AWEINFO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04085">mi.h:4085</a></div></div>
<div class="ttc" id="a02519_html_a5c3c4d1d78200215696cd20ad3a687f4"><div class="ttname"><a href="../../d9/dce/a02519.html#a5c3c4d1d78200215696cd20ad3a687f4">InterlockedIncrement16</a></div><div class="ttdeci">FORCEINLINE SHORT FASTCALL InterlockedIncrement16(IN OUT PSHORT Addend)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02274">mi.h:2274</a></div></div>
<div class="ttc" id="a02496_html_a7b09c6d98ba2df88c12be373e3e19ff8"><div class="ttname"><a href="../../d1/df5/a02496.html#a7b09c6d98ba2df88c12be373e3e19ff8">MI_RESERVED_BITS_CANONICAL</a></div><div class="ttdeci">LOGICAL __inline MI_RESERVED_BITS_CANONICAL(IN PVOID VirtualAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l03310">miamd.h:3310</a></div></div>
<div class="ttc" id="a01664_html_ae0c17e41e44c9d3d280593632f92c82d"><div class="ttname"><a href="../../dc/d71/a01664.html#ae0c17e41e44c9d3d280593632f92c82d">_SUBSECTION::NextSubsection</a></div><div class="ttdeci">struct _SUBSECTION * NextSubsection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03628">mi.h:3628</a></div></div>
<div class="ttc" id="a02519_html_a4394d7669b3b7fcedafda22a41e32c73"><div class="ttname"><a href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73">_SECTION_CHECK_TYPE</a></div><div class="ttdeci">_SECTION_CHECK_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03431">mi.h:3431</a></div></div>
<div class="ttc" id="a00961_html_ac256f658efb252377c7746ee98244b4f"><div class="ttname"><a href="../../da/d45/a00961.html#ac256f658efb252377c7746ee98244b4f">_MMMOD_WRITER_MDL_ENTRY::Mdl</a></div><div class="ttdeci">MDL Mdl</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04232">mi.h:4232</a></div></div>
<div class="ttc" id="a02519_html_ad71fce3c641ede6ff80f532978d4172b"><div class="ttname"><a href="../../d9/dce/a02519.html#ad71fce3c641ede6ff80f532978d4172b">LOCK_HEADER</a></div><div class="ttdeci">struct _LOCK_HEADER LOCK_HEADER</div></div>
<div class="ttc" id="a02519_html_aac3c48e232fdcbc38bb3f64e86fd9a07"><div class="ttname"><a href="../../d9/dce/a02519.html#aac3c48e232fdcbc38bb3f64e86fd9a07">MM_BUMP_COUNTER_MAX</a></div><div class="ttdeci">#define MM_BUMP_COUNTER_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07313">mi.h:7313</a></div></div>
<div class="ttc" id="a00986_html"><div class="ttname"><a href="../../d3/d7b/a00986.html">_MMSUPPORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00066">ps.h:66</a></div></div>
<div class="ttc" id="a02519_html_a79cc623a92a57d124b3cc51ec7dbcf22"><div class="ttname"><a href="../../d9/dce/a02519.html#a79cc623a92a57d124b3cc51ec7dbcf22">MI_REMOVE_LOCKED_PAGE_CHARGE_AND_DECREF</a></div><div class="ttdeci">FORCEINLINE VOID MI_REMOVE_LOCKED_PAGE_CHARGE_AND_DECREF(IN PMMPFN Pfn1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02770">mi.h:2770</a></div></div>
<div class="ttc" id="a02519_html_a49faf6018caaebf8f92bbcc26c351092"><div class="ttname"><a href="../../d9/dce/a02519.html#a49faf6018caaebf8f92bbcc26c351092">MiChargeCommitmentPfnLockHeld</a></div><div class="ttdeci">FORCEINLINE LOGICAL MiChargeCommitmentPfnLockHeld(IN LOGICAL Force)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02044">mi.h:2044</a></div></div>
<div class="ttc" id="a02519_html_a1ba82621a5b511defadda82cda6193a7"><div class="ttname"><a href="../../d9/dce/a02519.html#a1ba82621a5b511defadda82cda6193a7">MM_NOIRQL</a></div><div class="ttdeci">#define MM_NOIRQL</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05140">mi.h:5140</a></div></div>
<div class="ttc" id="a00957_html"><div class="ttname"><a href="../../d1/df7/a00957.html">_MMINPAGE_SUPPORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03832">mi.h:3832</a></div></div>
<div class="ttc" id="a00931_html_a8dd6d49cc666dfa50d8335765fa94b36"><div class="ttname"><a href="../../df/dbc/a00931.html#a8dd6d49cc666dfa50d8335765fa94b36">_MI_PTE_RANGES::EndingVa</a></div><div class="ttdeci">PVOID EndingVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05026">mi.h:5026</a></div></div>
<div class="ttc" id="a02519_html_a254f7402d82e70aa3f69a32ea7619d96"><div class="ttname"><a href="../../d9/dce/a02519.html#a254f7402d82e70aa3f69a32ea7619d96">MiEnableRandomSpecialPool</a></div><div class="ttdeci">VOID MiEnableRandomSpecialPool(IN LOGICAL Enable)</div></div>
<div class="ttc" id="a02519_html_af258a6d4799aa77993b34495e80c5c6b"><div class="ttname"><a href="../../d9/dce/a02519.html#af258a6d4799aa77993b34495e80c5c6b">MmSystemCacheStart</a></div><div class="ttdeci">PVOID MmSystemCacheStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00322">miglobal.c:322</a></div></div>
<div class="ttc" id="a01578_html"><div class="ttname"><a href="../../d1/d88/a01578.html">_SECTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03860">mi.h:3860</a></div></div>
<div class="ttc" id="a00992_html_a230573ba241f563ce36a5a08c714027e"><div class="ttname"><a href="../../d7/d76/a00992.html#a230573ba241f563ce36a5a08c714027e">_MMVAD_SHORT::Parent</a></div><div class="ttdeci">struct _MMVAD * Parent</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04033">mi.h:4033</a></div></div>
<div class="ttc" id="a02519_html_a96622e4bc32a0af1a88e861df5056f5e"><div class="ttname"><a href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5e">_MI_PFN_CACHE_ATTRIBUTE</a></div><div class="ttdeci">_MI_PFN_CACHE_ATTRIBUTE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01543">mi.h:1543</a></div></div>
<div class="ttc" id="a02195_html_a0fffa47d0cca8521b6ff56b16b27baed"><div class="ttname"><a href="../../df/d0e/a02195.html#a0fffa47d0cca8521b6ff56b16b27baed">SPFN_NUMBER</a></div><div class="ttdeci">LONG SPFN_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l00055">i386.h:55</a></div></div>
<div class="ttc" id="a00845_html"><div class="ttname"><a href="../../d7/dcf/a00845.html">_LOADER_PARAMETER_BLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/daf/a02164_source.html#l00344">arc.h:344</a></div></div>
<div class="ttc" id="a00936_html_a24fd0476c45a33240d45b668cc41d1b7"><div class="ttname"><a href="../../dc/d2b/a00936.html#a24fd0476c45a33240d45b668cc41d1b7">_MM_DRIVER_VERIFIER_DATA::Level</a></div><div class="ttdeci">ULONG Level</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07114">mi.h:7114</a></div></div>
<div class="ttc" id="a00942_html_aed646e84e2776721576e454622fe6466"><div class="ttname"><a href="../../df/d12/a00942.html#aed646e84e2776721576e454622fe6466">_MM_SESSION_SPACE::Wsle</a></div><div class="ttdeci">PMMWSLE Wsle</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08653">mi.h:8653</a></div></div>
<div class="ttc" id="a02519_html_ab67e0b9971b3557d309cf87b6a0868e8"><div class="ttname"><a href="../../d9/dce/a02519.html#ab67e0b9971b3557d309cf87b6a0868e8">MiApplyDriverVerifier</a></div><div class="ttdeci">LOGICAL MiApplyDriverVerifier(IN PKLDR_DATA_TABLE_ENTRY, IN PMI_VERIFIER_DRIVER_ENTRY Verifier)</div></div>
<div class="ttc" id="a02519_html_a96622e4bc32a0af1a88e861df5056f5ea4aa77db9c2e35ce8aefc8d01648ac9c2"><div class="ttname"><a href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5ea4aa77db9c2e35ce8aefc8d01648ac9c2">MiNotMapped</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01547">mi.h:1547</a></div></div>
<div class="ttc" id="a00996_html_a7200f5af72bef027a24c5c505a4e26d2"><div class="ttname"><a href="../../d3/daa/a00996.html#a7200f5af72bef027a24c5c505a4e26d2">_MMWSL::Wsle</a></div><div class="ttdeci">PMMWSLE Wsle</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03014">mi.h:3014</a></div></div>
<div class="ttc" id="a00990_html_a695a38ddc241dbd7f064604aadf49975"><div class="ttname"><a href="../../dd/d7a/a00990.html#a695a38ddc241dbd7f064604aadf49975">_MMVAD_FLAGS2::OneSecured</a></div><div class="ttdeci">unsigned OneSecured</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03941">mi.h:3941</a></div></div>
<div class="ttc" id="a02230_html_ad64a44524a71caf12eab151d0daef5b2"><div class="ttname"><a href="../../dd/d67/a02230.html#ad64a44524a71caf12eab151d0daef5b2">PNTSTATUS</a></div><div class="ttdeci">NTSTATUS * PNTSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00536">ntdef.h:536</a></div></div>
<div class="ttc" id="a00981_html_a726aa9e8e271691a73771f6d9fa9fc55"><div class="ttname"><a href="../../dd/d24/a00981.html#a726aa9e8e271691a73771f6d9fa9fc55">_MMSECTION_FLAGS::DeleteOnClose</a></div><div class="ttdeci">unsigned DeleteOnClose</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03538">mi.h:3538</a></div></div>
<div class="ttc" id="a00375_html_ab168e6c7f13d9e70164b351bd02e4969"><div class="ttname"><a href="../../dd/dcb/a00375.html#ab168e6c7f13d9e70164b351bd02e4969">_EVENT_COUNTER::RefCount</a></div><div class="ttdeci">ULONG RefCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03511">mi.h:3511</a></div></div>
<div class="ttc" id="a02519_html_a07443e8f94932aeaae2819f6190f12a3"><div class="ttname"><a href="../../d9/dce/a02519.html#a07443e8f94932aeaae2819f6190f12a3">MiGetPageForHeader</a></div><div class="ttdeci">PFN_NUMBER MiGetPageForHeader(LOGICAL ZeroPage)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l05107">creasect.c:5107</a></div></div>
<div class="ttc" id="a02519_html_af5ffd074c5c069da75722e2b73e7729f"><div class="ttname"><a href="../../d9/dce/a02519.html#af5ffd074c5c069da75722e2b73e7729f">MiRemoveWsle</a></div><div class="ttdeci">VOID FASTCALL MiRemoveWsle(IN WSLE_NUMBER Entry, IN PMMWSL WorkingSetList)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l00625">wstree.c:625</a></div></div>
<div class="ttc" id="a02519_html_a00b68e0673243df063aaf44c14a7768b"><div class="ttname"><a href="../../d9/dce/a02519.html#a00b68e0673243df063aaf44c14a7768b">PMMCLONE_BLOCK</a></div><div class="ttdeci">struct _MMCLONE_BLOCK * PMMCLONE_BLOCK</div></div>
<div class="ttc" id="a02519_html_a82076de5922c5eff0bd753758c99852c"><div class="ttname"><a href="../../d9/dce/a02519.html#a82076de5922c5eff0bd753758c99852c">MiBadRefCount</a></div><div class="ttdeci">VOID MiBadRefCount(__in PMMPFN Pfn1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/a02527_source.html#l00331">pfndec.c:331</a></div></div>
<div class="ttc" id="a00895_html_a2bc8c6eb81d4190a50cb6431c4166421"><div class="ttname"><a href="../../d2/d21/a00895.html#a2bc8c6eb81d4190a50cb6431c4166421">_MAPPED_FILE_SEGMENT::ExtendInfo</a></div><div class="ttdeci">PMMEXTEND_INFO ExtendInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03500">mi.h:3500</a></div></div>
<div class="ttc" id="a02277_html_a636403863c1b1229e9f6eff0c4d1e8e4"><div class="ttname"><a href="../../d0/dc1/a02277.html#a636403863c1b1229e9f6eff0c4d1e8e4">PWSLE_NUMBER</a></div><div class="ttdeci">ULONG * PWSLE_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00064">ps.h:64</a></div></div>
<div class="ttc" id="a00619_html_af11e5759a31b4b1603a02a46d6485f50"><div class="ttname"><a href="../../d6/d6a/a00619.html#af11e5759a31b4b1603a02a46d6485f50">_IMAGE_ENTRY_IN_SESSION::PrototypePtes</a></div><div class="ttdeci">PMMPTE PrototypePtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08854">mi.h:8854</a></div></div>
<div class="ttc" id="a00943_html_afa0dfe425cbbd21c6b536c0960b9587e"><div class="ttname"><a href="../../d1/ddd/a00943.html#afa0dfe425cbbd21c6b536c0960b9587e">_MM_SESSION_SPACE_FLAGS::Filler</a></div><div class="ttdeci">ULONG Filler</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08478">mi.h:8478</a></div></div>
<div class="ttc" id="a02519_html_a2095507d194c0973f25a2d96e27fcc06"><div class="ttname"><a href="../../d9/dce/a02519.html#a2095507d194c0973f25a2d96e27fcc06">PMM_DRIVER_VERIFIER_DATA</a></div><div class="ttdeci">struct _MM_DRIVER_VERIFIER_DATA * PMM_DRIVER_VERIFIER_DATA</div></div>
<div class="ttc" id="a02519_html_a45c5fd4bbb63a47b889bc478a2131822"><div class="ttname"><a href="../../d9/dce/a02519.html#a45c5fd4bbb63a47b889bc478a2131822">PMI_VERIFIER_POOL_HEADER</a></div><div class="ttdeci">struct _MI_VERIFIER_POOL_HEADER * PMI_VERIFIER_POOL_HEADER</div></div>
<div class="ttc" id="a00850_html_acb5cd0f9b5130653987d5f6586171218"><div class="ttname"><a href="../../dc/d0a/a00850.html#acb5cd0f9b5130653987d5f6586171218">_LOCK_TRACKER::Process</a></div><div class="ttdeci">PEPROCESS Process</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04355">mi.h:4355</a></div></div>
<div class="ttc" id="a02519_html_ac4c1f5ecc63a28e1dff8da975d1eabcc"><div class="ttname"><a href="../../d9/dce/a02519.html#ac4c1f5ecc63a28e1dff8da975d1eabcc">MiInitializePfnForOtherProcess</a></div><div class="ttdeci">VOID MiInitializePfnForOtherProcess(IN PFN_NUMBER PageFrameIndex, IN PMMPTE PointerPte, IN PFN_NUMBER ContainingPageFrame)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l06191">pagfault.c:6191</a></div></div>
<div class="ttc" id="a00181_html_a4f03ffd54d044b24ba3741fd98a1ccab"><div class="ttname"><a href="../../d8/d64/a00181.html#a4f03ffd54d044b24ba3741fd98a1ccab">_COLORED_PAGE_INFO::PagesLeftToScan</a></div><div class="ttdeci">PFN_NUMBER PagesLeftToScan</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04720">mi.h:4720</a></div></div>
<div class="ttc" id="a02519_html_af45b50a75030765673e43e8c8a714f0d"><div class="ttname"><a href="../../d9/dce/a02519.html#af45b50a75030765673e43e8c8a714f0d">MiQueryPerformanceCounter</a></div><div class="ttdeci">LARGE_INTEGER MiQueryPerformanceCounter(IN PLARGE_INTEGER PerformanceFrequency)</div></div>
<div class="ttc" id="a00372_html"><div class="ttname"><a href="../../db/d7e/a00372.html">_ETHREAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00545">ps.h:545</a></div></div>
<div class="ttc" id="a02195_html_ab0ba27705a26293f025bfc61c0d52212"><div class="ttname"><a href="../../df/d0e/a02195.html#ab0ba27705a26293f025bfc61c0d52212">PFN_NUMBER</a></div><div class="ttdeci">ULONG PFN_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l00056">i386.h:56</a></div></div>
<div class="ttc" id="a02519_html_a94acfdb988991ce05807345bb1f6afbd"><div class="ttname"><a href="../../d9/dce/a02519.html#a94acfdb988991ce05807345bb1f6afbd">MiReleaseProcessReferenceToSessionDataPage</a></div><div class="ttdeci">VOID MiReleaseProcessReferenceToSessionDataPage(PMM_SESSION_SPACE SessionGlobal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l01888">session.c:1888</a></div></div>
<div class="ttc" id="a00961_html_a7f3c75b55330ebee9c9f8c5a2793eb66"><div class="ttname"><a href="../../da/d45/a00961.html#a7f3c75b55330ebee9c9f8c5a2793eb66">_MMMOD_WRITER_MDL_ENTRY::IoStatus</a></div><div class="ttdeci">IO_STATUS_BLOCK IoStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04220">mi.h:4220</a></div></div>
<div class="ttc" id="a00988_html_a6c0a9f2d6187cc0ea559bda1b7b99171"><div class="ttname"><a href="../../d6/d48/a00988.html#a6c0a9f2d6187cc0ea559bda1b7b99171">_MMVAD::ControlArea</a></div><div class="ttdeci">PCONTROL_AREA ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03990">mi.h:3990</a></div></div>
<div class="ttc" id="a02519_html_a365542a6ca378282aba45cd7732c9bd5"><div class="ttname"><a href="../../d9/dce/a02519.html#a365542a6ca378282aba45cd7732c9bd5">MiDeleteVirtualAddresses</a></div><div class="ttdeci">VOID MiDeleteVirtualAddresses(IN PUCHAR StartingAddress, IN PUCHAR EndingAddress, IN PMMVAD Vad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d7c/a02499_source.html#l00160">deleteva.c:160</a></div></div>
<div class="ttc" id="a00408_html"><div class="ttname"><a href="../../dd/dea/a00408.html">_FAST_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l00357">ex.h:357</a></div></div>
<div class="ttc" id="a00933_html_ae3d2a9ba2bb12dd91cd76e83e292c1ed"><div class="ttname"><a href="../../d0/d5b/a00933.html#ae3d2a9ba2bb12dd91cd76e83e292c1ed">_MI_VERIFIER_DRIVER_ENTRY::CurrentPagedPoolAllocations</a></div><div class="ttdeci">ULONG CurrentPagedPoolAllocations</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07097">mi.h:7097</a></div></div>
<div class="ttc" id="a00953_html_a727f2c71d45c63834690eb882ab424c0"><div class="ttname"><a href="../../d5/da3/a00953.html#a727f2c71d45c63834690eb882ab424c0">_MMDEREFERENCE_SEGMENT_HEADER::Semaphore</a></div><div class="ttdeci">KSEMAPHORE Semaphore</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03779">mi.h:3779</a></div></div>
<div class="ttc" id="a02519_html_a31c238e916dd269c4d27a33eb686ae3e"><div class="ttname"><a href="../../d9/dce/a02519.html#a31c238e916dd269c4d27a33eb686ae3e">MiFreeWsleList</a></div><div class="ttdeci">WSLE_NUMBER MiFreeWsleList(IN PMMSUPPORT WsInfo, IN PMMWSLE_FLUSH_LIST WsleFlushList)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l03675">wslist.c:3675</a></div></div>
<div class="ttc" id="a00942_html_a723338bb2af24eb2c9517913ccebce3f"><div class="ttname"><a href="../../df/d12/a00942.html#a723338bb2af24eb2c9517913ccebce3f">_MM_SESSION_SPACE::ImageLoadingCount</a></div><div class="ttdeci">LONG ImageLoadingCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08697">mi.h:8697</a></div></div>
<div class="ttc" id="a02519_html_a3588754a3f0062ce48e75461f2708e9a"><div class="ttname"><a href="../../d9/dce/a02519.html#a3588754a3f0062ce48e75461f2708e9a">MM_USABLE_PAGES_FREE</a></div><div class="ttdeci">#define MM_USABLE_PAGES_FREE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00104">mi.h:104</a></div></div>
<div class="ttc" id="a02519_html_a2088ecdc26443a8fcbb9e97fcd177ee3"><div class="ttname"><a href="../../d9/dce/a02519.html#a2088ecdc26443a8fcbb9e97fcd177ee3">MiFreeAweInfo</a></div><div class="ttdeci">VOID MiFreeAweInfo(IN PAWEINFO AweInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l01324">physical.c:1324</a></div></div>
<div class="ttc" id="a02519_html_ac818f9f725f779b224d93ab24d3a6fee"><div class="ttname"><a href="../../d9/dce/a02519.html#ac818f9f725f779b224d93ab24d3a6fee">PMMVAD</a></div><div class="ttdeci">struct _MMVAD * PMMVAD</div></div>
<div class="ttc" id="a02519_html_aaaac509f8cd78b1649424ee1e6a5695a"><div class="ttname"><a href="../../d9/dce/a02519.html#aaaac509f8cd78b1649424ee1e6a5695a">MiInitializeSessionWsSupport</a></div><div class="ttdeci">VOID MiInitializeSessionWsSupport(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l01558">wslist.c:1558</a></div></div>
<div class="ttc" id="a02519_html_aea7bb1d3a06a2e20e5bc7f85685556be"><div class="ttname"><a href="../../d9/dce/a02519.html#aea7bb1d3a06a2e20e5bc7f85685556be">PMMMOD_WRITER_MDL_ENTRY</a></div><div class="ttdeci">struct _MMMOD_WRITER_MDL_ENTRY * PMMMOD_WRITER_MDL_ENTRY</div></div>
<div class="ttc" id="a02519_html_a060a3f4e950a48171a327e1afe28282b"><div class="ttname"><a href="../../d9/dce/a02519.html#a060a3f4e950a48171a327e1afe28282b">MiSessionOutSwapProcess</a></div><div class="ttdeci">VOID MiSessionOutSwapProcess(IN PEPROCESS Process)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l03136">session.c:3136</a></div></div>
<div class="ttc" id="a02519_html_a640a0a18cd24c5ccf003820ca78bc948"><div class="ttname"><a href="../../d9/dce/a02519.html#a640a0a18cd24c5ccf003820ca78bc948">MMWORKING_SET_EXPANSION_HEAD</a></div><div class="ttdeci">struct _MMWORKING_SET_EXPANSION_HEAD MMWORKING_SET_EXPANSION_HEAD</div></div>
<div class="ttc" id="a00996_html_ab2f667b6eb2e8a376e22abc622836878"><div class="ttname"><a href="../../d3/daa/a00996.html#ab2f667b6eb2e8a376e22abc622836878">_MMWSL::NonDirectCount</a></div><div class="ttdeci">WSLE_NUMBER NonDirectCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03016">mi.h:3016</a></div></div>
<div class="ttc" id="a02519_html_a5a0c2ee8a2560bc6254a52a45b2dda91"><div class="ttname"><a href="../../d9/dce/a02519.html#a5a0c2ee8a2560bc6254a52a45b2dda91">MiUnlinkPageFromList</a></div><div class="ttdeci">VOID FASTCALL MiUnlinkPageFromList(IN PMMPFN Pfn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l01250">pfnlist.c:1250</a></div></div>
<div class="ttc" id="a02519_html_a2dd392d2253b32a6203359cb82145c8a"><div class="ttname"><a href="../../d9/dce/a02519.html#a2dd392d2253b32a6203359cb82145c8a">MiSessionPageTableRelease</a></div><div class="ttdeci">VOID MiSessionPageTableRelease(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03917">allocpag.c:3917</a></div></div>
<div class="ttc" id="a02519_html_ad5fc5a47aa7b2616d42dda0404f6e01f"><div class="ttname"><a href="../../d9/dce/a02519.html#ad5fc5a47aa7b2616d42dda0404f6e01f">MiFindContiguousMemory</a></div><div class="ttdeci">PVOID MiFindContiguousMemory(IN PFN_NUMBER LowestPfn, IN PFN_NUMBER HighestPfn, IN PFN_NUMBER BoundaryPfn, IN PFN_NUMBER SizeInPages, IN MEMORY_CACHING_TYPE CacheType, IN PVOID CallingAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l05248">allocpag.c:5248</a></div></div>
<div class="ttc" id="a02519_html_aeec181dd425b788e48c7611dc1be908c"><div class="ttname"><a href="../../d9/dce/a02519.html#aeec181dd425b788e48c7611dc1be908c">MiRemovePageFromWorkingSet</a></div><div class="ttdeci">ULONG MiRemovePageFromWorkingSet(IN PMMPTE PointerPte, IN PMMPFN Pfn1, IN PMMSUPPORT WsInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l00781">wslist.c:781</a></div></div>
<div class="ttc" id="a02519_html_a5ee0d1546d372fd7a7c8e0db925b6f4b"><div class="ttname"><a href="../../d9/dce/a02519.html#a5ee0d1546d372fd7a7c8e0db925b6f4b">MiReserveSystemPtes</a></div><div class="ttdeci">PMMPTE MiReserveSystemPtes(IN ULONG NumberOfPtes, IN MMSYSTEM_PTE_POOL_TYPE SystemPteType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l00355">sysptes.c:355</a></div></div>
<div class="ttc" id="a00808_html"><div class="ttname"><a href="../../d7/dc8/a00808.html">_KTHREAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l01069">ke.h:1069</a></div></div>
<div class="ttc" id="a00950_html_a48d6d99ebf5ce5dd77150edddfb8b167"><div class="ttname"><a href="../../df/d39/a00950.html#a48d6d99ebf5ce5dd77150edddfb8b167">_MMCLONE_DESCRIPTOR::NumberOfReferences</a></div><div class="ttdeci">LONG NumberOfReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04167">mi.h:4167</a></div></div>
<div class="ttc" id="a00964_html_a4c630f910a6303f4cb68ebdd0e482d70"><div class="ttname"><a href="../../da/d17/a00964.html#a4c630f910a6303f4cb68ebdd0e482d70">_MMPFN::ReadStatus</a></div><div class="ttdeci">NTSTATUS ReadStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01715">mi.h:1715</a></div></div>
<div class="ttc" id="a02230_html_ab27e8a5903617bec9d037e4039ac00a7"><div class="ttname"><a href="../../dd/d67/a02230.html#ab27e8a5903617bec9d037e4039ac00a7">PVOID</a></div><div class="ttdeci">void * PVOID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00245">ntdef.h:245</a></div></div>
<div class="ttc" id="a02519_html_a67faa6aa8ff47115f75572a47f7ec190"><div class="ttname"><a href="../../d9/dce/a02519.html#a67faa6aa8ff47115f75572a47f7ec190">MI_STARTING_OFFSET</a></div><div class="ttdeci">#define MI_STARTING_OFFSET(SUBSECT, PTE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00537">mi.h:537</a></div></div>
<div class="ttc" id="a02519_html_a5922d8f65a066a7fc945cff8d0233aa1"><div class="ttname"><a href="../../d9/dce/a02519.html#a5922d8f65a066a7fc945cff8d0233aa1">MiInsertIoSpaceMap</a></div><div class="ttdeci">MI_PFN_CACHE_ATTRIBUTE MiInsertIoSpaceMap(IN PVOID BaseVa, IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER NumberOfPages, IN MI_PFN_CACHE_ATTRIBUTE CacheAttribute)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l04793">iosup.c:4793</a></div></div>
<div class="ttc" id="a00988_html_a31d167c6f548d69c33bf0fdc3530c030"><div class="ttname"><a href="../../d6/d48/a00988.html#a31d167c6f548d69c33bf0fdc3530c030">_MMVAD::LongFlags2</a></div><div class="ttdeci">ULONG LongFlags2</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03994">mi.h:3994</a></div></div>
<div class="ttc" id="a00031_html"><div class="ttname"><a href="../../df/d61/a00031.html">_ALIAS_VAD_INFO2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03971">mi.h:3971</a></div></div>
<div class="ttc" id="a00972_html"><div class="ttname"><a href="../../de/d4e/a00972.html">_MMPTE_FLUSH_LIST</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04330">mi.h:4330</a></div></div>
<div class="ttc" id="a00958_html_abc7518235c50b97cf41c6c3990d32476"><div class="ttname"><a href="../../df/d9c/a00958.html#abc7518235c50b97cf41c6c3990d32476">_MMIO_TRACKER::StackTrace</a></div><div class="ttdeci">PVOID StackTrace[MI_IO_BACKTRACE_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01968">mi.h:1968</a></div></div>
<div class="ttc" id="a02519_html_acb90ddcdf809f8c7cd10d315e4480b64"><div class="ttname"><a href="../../d9/dce/a02519.html#acb90ddcdf809f8c7cd10d315e4480b64">COMMIT_SIZE</a></div><div class="ttdeci">#define COMMIT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03905">mi.h:3905</a></div></div>
<div class="ttc" id="a00989_html_a01e1d482ee00d46c1610959d6a5a5a9b"><div class="ttname"><a href="../../d4/d95/a00989.html#a01e1d482ee00d46c1610959d6a5a5a9b">_MMVAD_FLAGS::NoChange</a></div><div class="ttdeci">ULONG_PTR NoChange</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03930">mi.h:3930</a></div></div>
<div class="ttc" id="a02519_html_a46b65e50fc7fa8d275934c906b678d78"><div class="ttname"><a href="../../d9/dce/a02519.html#a46b65e50fc7fa8d275934c906b678d78">CONTROL_AREA</a></div><div class="ttdeci">struct _CONTROL_AREA CONTROL_AREA</div></div>
<div class="ttc" id="a00942_html_a2cf2afb45427da04c5abc1dd569bd08e"><div class="ttname"><a href="../../df/d12/a00942.html#a2cf2afb45427da04c5abc1dd569bd08e">_MM_SESSION_SPACE::ResidentProcessCount</a></div><div class="ttdeci">LONG ResidentProcessCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08585">mi.h:8585</a></div></div>
<div class="ttc" id="a02519_html_a3ec3a847577be0647d265cebbe6b33b5"><div class="ttname"><a href="../../d9/dce/a02519.html#a3ec3a847577be0647d265cebbe6b33b5">PMMINPAGE_FLAGS</a></div><div class="ttdeci">struct _MMINPAGE_FLAGS * PMMINPAGE_FLAGS</div></div>
<div class="ttc" id="a02519_html_aa8e12b8ff26ed6f607676a7f8b1ffbfc"><div class="ttname"><a href="../../d9/dce/a02519.html#aa8e12b8ff26ed6f607676a7f8b1ffbfc">MmCrashDumpPte</a></div><div class="ttdeci">PMMPTE MmCrashDumpPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00140">dataamd.c:140</a></div></div>
<div class="ttc" id="a00933_html"><div class="ttname"><a href="../../d0/d5b/a00933.html">_MI_VERIFIER_DRIVER_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07078">mi.h:7078</a></div></div>
<div class="ttc" id="a00989_html_aca88e2c8e69a676691bd3a8ca1e28d39"><div class="ttname"><a href="../../d4/d95/a00989.html#aca88e2c8e69a676691bd3a8ca1e28d39">_MMVAD_FLAGS::VadType</a></div><div class="ttdeci">ULONG_PTR VadType</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03931">mi.h:3931</a></div></div>
<div class="ttc" id="a02519_html_a8169ed7a6db7fe4bfb7178167955e358"><div class="ttname"><a href="../../d9/dce/a02519.html#a8169ed7a6db7fe4bfb7178167955e358">PMMWSLE_FLUSH_LIST</a></div><div class="ttdeci">struct _MMWSLE_FLUSH_LIST * PMMWSLE_FLUSH_LIST</div></div>
<div class="ttc" id="a02237_html"><div class="ttname"><a href="../../d9/d13/a02237.html">ntimage.h</a></div></div>
<div class="ttc" id="a02519_html_a1610f3a6893ec357b74bbe1e28ddea2d"><div class="ttname"><a href="../../d9/dce/a02519.html#a1610f3a6893ec357b74bbe1e28ddea2d">MiMapPagesToZeroInHyperSpace</a></div><div class="ttdeci">PVOID MiMapPagesToZeroInHyperSpace(IN PMMPFN PfnAllocation, IN PFN_COUNT NumberOfPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dff/a02506_source.html#l00292">hypermap.c:292</a></div></div>
<div class="ttc" id="a02184_html_a971c37f796ee1dd6a449795d1b978bf4"><div class="ttname"><a href="../../d5/ddd/a02184.html#a971c37f796ee1dd6a449795d1b978bf4">POOL_TYPE</a></div><div class="ttdeci">enum _POOL_TYPE POOL_TYPE</div></div>
<div class="ttc" id="a00922_html_a8916a1e76fc42485b3505889c2624b96"><div class="ttname"><a href="../../dd/dcf/a00922.html#a8916a1e76fc42485b3505889c2624b96">_MI_FREED_SPECIAL_POOL::StackData</a></div><div class="ttdeci">UCHAR StackData[MI_STACK_BYTES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07213">mi.h:7213</a></div></div>
<div class="ttc" id="a02519_html_a38229cf5a3e701f9b3d41cbe50068136"><div class="ttname"><a href="../../d9/dce/a02519.html#a38229cf5a3e701f9b3d41cbe50068136">MiReleaseConfirmedPageFileSpace</a></div><div class="ttdeci">VOID FORCEINLINE MiReleaseConfirmedPageFileSpace(IN MMPTE PteContents)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08068">mi.h:8068</a></div></div>
<div class="ttc" id="a02519_html_a52ddca7a1dacf5855a92d129e3184ca3"><div class="ttname"><a href="../../d9/dce/a02519.html#a52ddca7a1dacf5855a92d129e3184ca3">MiPhysicalViewAdjuster</a></div><div class="ttdeci">VOID MiPhysicalViewAdjuster(IN PEPROCESS Process, IN PMMVAD OldVad, IN PMMVAD NewVad)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l07029">iosup.c:7029</a></div></div>
<div class="ttc" id="a02519_html_a755143340ea12b6b22640f8cd1e67de5"><div class="ttname"><a href="../../d9/dce/a02519.html#a755143340ea12b6b22640f8cd1e67de5">MiChangeNoAccessForkPte</a></div><div class="ttdeci">ULONG MiChangeNoAccessForkPte(IN PMMPTE PointerPte, IN ULONG ProtectionMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc8/a02531_source.html#l02265">protect.c:2265</a></div></div>
<div class="ttc" id="a02519_html_a59c3dc707e4bed135b68b9d0760bf16e"><div class="ttname"><a href="../../d9/dce/a02519.html#a59c3dc707e4bed135b68b9d0760bf16e">MiGetProtoPteAddressExtended</a></div><div class="ttdeci">PMMPTE FASTCALL MiGetProtoPteAddressExtended(IN PMMVAD Vad, IN ULONG_PTR Vpn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df7/a02501_source.html#l00963">extsect.c:963</a></div></div>
<div class="ttc" id="a02519_html_ab056e8e11d9c343849e849d4a854be9d"><div class="ttname"><a href="../../d9/dce/a02519.html#ab056e8e11d9c343849e849d4a854be9d">MiDecrementReferenceCountForAwePage</a></div><div class="ttdeci">VOID MiDecrementReferenceCountForAwePage(IN PMMPFN Pfn1, IN LOGICAL PfnHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l02854">iosup.c:2854</a></div></div>
<div class="ttc" id="a02519_html_ac4baef21f92527db91971968a8942900"><div class="ttname"><a href="../../d9/dce/a02519.html#ac4baef21f92527db91971968a8942900">GlobalPte</a></div><div class="ttdeci">MMPTE GlobalPte</div></div>
<div class="ttc" id="a02519_html_a5595dc971d85cfd3553e365998bfb169"><div class="ttname"><a href="../../d9/dce/a02519.html#a5595dc971d85cfd3553e365998bfb169">KernelVerifier</a></div><div class="ttdeci">LOGICAL KernelVerifier</div></div>
<div class="ttc" id="a02519_html_a53b8db23aeb871854683c81ebe89e5e5"><div class="ttname"><a href="../../d9/dce/a02519.html#a53b8db23aeb871854683c81ebe89e5e5">MiAddExpansionNonPagedPool</a></div><div class="ttdeci">VOID MiAddExpansionNonPagedPool(IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER NumberOfPages, IN LOGICAL PfnHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03602">allocpag.c:3602</a></div></div>
<div class="ttc" id="a00619_html_acf9ce3ddd41302fd32da07e65d4d7cf0"><div class="ttname"><a href="../../d6/d6a/a00619.html#acf9ce3ddd41302fd32da07e65d4d7cf0">_IMAGE_ENTRY_IN_SESSION::DataTableEntry</a></div><div class="ttdeci">PKLDR_DATA_TABLE_ENTRY DataTableEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08855">mi.h:8855</a></div></div>
<div class="ttc" id="a02519_html_ad9be4da47b3e4fd0cb26c115d5befad1"><div class="ttname"><a href="../../d9/dce/a02519.html#ad9be4da47b3e4fd0cb26c115d5befad1">MiUnloadSessionImageByForce</a></div><div class="ttdeci">NTSTATUS MiUnloadSessionImageByForce(IN SIZE_T NumberOfPtes, IN PVOID ImageBase)</div></div>
<div class="ttc" id="a02519_html_a2d05c8cfb3c2964bcda276a26dd5102a"><div class="ttname"><a href="../../d9/dce/a02519.html#a2d05c8cfb3c2964bcda276a26dd5102a">PMI_PHYSICAL_VIEW</a></div><div class="ttdeci">struct _MI_PHYSICAL_VIEW * PMI_PHYSICAL_VIEW</div></div>
<div class="ttc" id="a02519_html_ac2d953ce24805ef0614099c726973533"><div class="ttname"><a href="../../d9/dce/a02519.html#ac2d953ce24805ef0614099c726973533">MiMustFrameBeCached</a></div><div class="ttdeci">LOGICAL MiMustFrameBeCached(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l06279">allocpag.c:6279</a></div></div>
<div class="ttc" id="a02519_html_a4b021e12e843ddb31aa4c2107a9176f4"><div class="ttname"><a href="../../d9/dce/a02519.html#a4b021e12e843ddb31aa4c2107a9176f4">LOCK_TRACKER</a></div><div class="ttdeci">struct _LOCK_TRACKER LOCK_TRACKER</div></div>
<div class="ttc" id="a01808_html_a6ca83121cdad8478ffcf613ce5bed1bc"><div class="ttname"><a href="../../d7/d02/a01808.html#a6ca83121cdad8478ffcf613ce5bed1bc">_VI_POOL_PAGE_HEADER::NextPage</a></div><div class="ttdeci">PSLIST_ENTRY NextPage</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07056">mi.h:7056</a></div></div>
<div class="ttc" id="a00960_html"><div class="ttname"><a href="../../dd/d11/a00960.html">_MMMOD_WRITER_LISTHEAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04211">mi.h:4211</a></div></div>
<div class="ttc" id="a02519_html_a18078c8539a19f4c5325ece33a93a3f0"><div class="ttname"><a href="../../d9/dce/a02519.html#a18078c8539a19f4c5325ece33a93a3f0">MiFindEmptyAddressRangeInTree</a></div><div class="ttdeci">NTSTATUS MiFindEmptyAddressRangeInTree(IN SIZE_T SizeOfRange, IN ULONG_PTR Alignment, IN PMM_AVL_TABLE Root, OUT PMMADDRESS_NODE *PreviousVad, OUT PVOID *Base)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01797">addrsup.c:1797</a></div></div>
<div class="ttc" id="a00922_html_a77af561dfe99858e9bedebda598f5c2c"><div class="ttname"><a href="../../dd/dcf/a00922.html#a77af561dfe99858e9bedebda598f5c2c">_MI_FREED_SPECIAL_POOL::VirtualAddress</a></div><div class="ttdeci">PVOID VirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07208">mi.h:7208</a></div></div>
<div class="ttc" id="a02195_html_a74408dc6a84942757727eab8adf88686"><div class="ttname"><a href="../../df/d0e/a02195.html#a74408dc6a84942757727eab8adf88686">MmSystemRangeStart</a></div><div class="ttdeci">NTKERNELAPI PVOID MmSystemRangeStart</div></div>
<div class="ttc" id="a00942_html_a9ff88fdd54b0e05d204b4b235a0a971a"><div class="ttname"><a href="../../df/d12/a00942.html#a9ff88fdd54b0e05d204b4b235a0a971a">_MM_SESSION_SPACE::Vm</a></div><div class="ttdeci">MMSUPPORT Vm</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08652">mi.h:8652</a></div></div>
<div class="ttc" id="a00961_html_a0dce6115855dbb392227005d3b94fb93"><div class="ttname"><a href="../../da/d45/a00961.html#a0dce6115855dbb392227005d3b94fb93">_MMMOD_WRITER_MDL_ENTRY::Links</a></div><div class="ttdeci">LIST_ENTRY Links</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04217">mi.h:4217</a></div></div>
<div class="ttc" id="a00931_html"><div class="ttname"><a href="../../df/dbc/a00931.html">_MI_PTE_RANGES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05024">mi.h:5024</a></div></div>
<div class="ttc" id="a02519_html_a8767b9768f36acff5a6564cdf70890cf"><div class="ttname"><a href="../../d9/dce/a02519.html#a8767b9768f36acff5a6564cdf70890cf">MI_ADD_LOCKED_PAGE_CHARGE</a></div><div class="ttdeci">FORCEINLINE VOID MI_ADD_LOCKED_PAGE_CHARGE(IN PMMPFN Pfn1)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02350">mi.h:2350</a></div></div>
<div class="ttc" id="a02519_html_a56c9799ec30de11dbb72de54029036b9"><div class="ttname"><a href="../../d9/dce/a02519.html#a56c9799ec30de11dbb72de54029036b9">MiLowestSystemPteVirtualAddress</a></div><div class="ttdeci">PVOID MiLowestSystemPteVirtualAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l00062">sysptes.c:62</a></div></div>
<div class="ttc" id="a02519_html_af141e189af976e9751b226c41c53e69a"><div class="ttname"><a href="../../d9/dce/a02519.html#af141e189af976e9751b226c41c53e69a">MiFreeLargePageMemory</a></div><div class="ttdeci">VOID MiFreeLargePageMemory(IN PFN_NUMBER PageFrameIndex, IN PFN_NUMBER SizeInPages)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l05837">allocpag.c:5837</a></div></div>
<div class="ttc" id="a00933_html_ae6e459fbd85374bf72f4d09c472ec9c0"><div class="ttname"><a href="../../d0/d5b/a00933.html#ae6e459fbd85374bf72f4d09c472ec9c0">_MI_VERIFIER_DRIVER_ENTRY::Loads</a></div><div class="ttdeci">ULONG Loads</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07080">mi.h:7080</a></div></div>
<div class="ttc" id="a02519_html_a80a3b07766cccbd3e80f1003e5ceb9b3"><div class="ttname"><a href="../../d9/dce/a02519.html#a80a3b07766cccbd3e80f1003e5ceb9b3">MiDetermineNode</a></div><div class="ttdeci">#define MiDetermineNode(x, y)    </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01861">mi.h:1861</a></div></div>
<div class="ttc" id="a02519_html_a81c7acb58229f6b082600f0b917c5697"><div class="ttname"><a href="../../d9/dce/a02519.html#a81c7acb58229f6b082600f0b917c5697">MmVerifierData</a></div><div class="ttdeci">MM_DRIVER_VERIFIER_DATA MmVerifierData</div></div>
<div class="ttc" id="a02167_html_a4dd2e8c7f1a4ba202385c73fe6fd6c22"><div class="ttname"><a href="../../de/d48/a02167.html#a4dd2e8c7f1a4ba202385c73fe6fd6c22">KAFFINITY</a></div><div class="ttdeci">ULONG_PTR KAFFINITY</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00427">basetsd.h:427</a></div></div>
<div class="ttc" id="a02519_html_a7ef38f1e6d5c362b204585ae33dd432d"><div class="ttname"><a href="../../d9/dce/a02519.html#a7ef38f1e6d5c362b204585ae33dd432d">MiSuspectDriverList</a></div><div class="ttdeci">LIST_ENTRY MiSuspectDriverList</div></div>
<div class="ttc" id="a02519_html_a8ac5ad83a1e711c0f8c99a2abf5da86b"><div class="ttname"><a href="../../d9/dce/a02519.html#a8ac5ad83a1e711c0f8c99a2abf5da86b">MmSessionFailureCauses</a></div><div class="ttdeci">ULONG MmSessionFailureCauses[MM_SESSION_FAILURE_CAUSES]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08471">mi.h:8471</a></div></div>
<div class="ttc" id="a02519_html_af5a2baad9a451ef8a93fa7f96a3722f6"><div class="ttname"><a href="../../d9/dce/a02519.html#af5a2baad9a451ef8a93fa7f96a3722f6">MMWSL</a></div><div class="ttdeci">struct _MMWSL MMWSL</div></div>
<div class="ttc" id="a00933_html_a9415626243fa97e0a21f3773827b879f"><div class="ttname"><a href="../../d0/d5b/a00933.html#a9415626243fa97e0a21f3773827b879f">_MI_VERIFIER_DRIVER_ENTRY::PeakPagedBytes</a></div><div class="ttdeci">SIZE_T PeakPagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07104">mi.h:7104</a></div></div>
<div class="ttc" id="a00930_html_a8e233fe201059a2a7c4b41d32bffbe5d"><div class="ttname"><a href="../../d7/d16/a00930.html#a8e233fe201059a2a7c4b41d32bffbe5d">_MI_PHYSICAL_VIEW::u</a></div><div class="ttdeci">union _MI_PHYSICAL_VIEW::@760 u</div></div>
<div class="ttc" id="a00940_html_a0a822cd7f559e6d5b990a71cb7c278c6"><div class="ttname"><a href="../../d7/db6/a00940.html#a0a822cd7f559e6d5b990a71cb7c278c6">_MM_PTE_MAPPING::SystemEndVa</a></div><div class="ttdeci">PVOID SystemEndVa</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05120">mi.h:5120</a></div></div>
<div class="ttc" id="a02519_html_aff14c058fe52efe3f866efde662d0159"><div class="ttname"><a href="../../d9/dce/a02519.html#aff14c058fe52efe3f866efde662d0159">MmCritsectTimeoutSeconds</a></div><div class="ttdeci">ULONG MmCritsectTimeoutSeconds</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00834">miglobal.c:834</a></div></div>
<div class="ttc" id="a00967_html_a3cf4a569dfc7deaa575546e06cf54394"><div class="ttname"><a href="../../d4/d94/a00967.html#a3cf4a569dfc7deaa575546e06cf54394">_MMPFNENTRY::Modified</a></div><div class="ttdeci">USHORT Modified</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01657">mi.h:1657</a></div></div>
<div class="ttc" id="a02519_html_ac478e6c3133a8dcc42938959e79f8897"><div class="ttname"><a href="../../d9/dce/a02519.html#ac478e6c3133a8dcc42938959e79f8897">MiHighPagedPoolEvent</a></div><div class="ttdeci">PKEVENT MiHighPagedPoolEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00128">mminit.c:128</a></div></div>
<div class="ttc" id="a02519_html_a760e3c54b258c41c53b613860ff68adf"><div class="ttname"><a href="../../d9/dce/a02519.html#a760e3c54b258c41c53b613860ff68adf">MiFreeWsle</a></div><div class="ttdeci">ULONG MiFreeWsle(IN WSLE_NUMBER WorkingSetIndex, IN PMMSUPPORT WsInfo, IN PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l01258">wslist.c:1258</a></div></div>
<div class="ttc" id="a00933_html_a63e6b8178421be27c46b7861d8505354"><div class="ttname"><a href="../../d0/d5b/a00933.html#a63e6b8178421be27c46b7861d8505354">_MI_VERIFIER_DRIVER_ENTRY::NonPagedBytes</a></div><div class="ttdeci">SIZE_T NonPagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07103">mi.h:7103</a></div></div>
<div class="ttc" id="a02519_html_aeb7477ef0388511817b5c77d15cf0132"><div class="ttname"><a href="../../d9/dce/a02519.html#aeb7477ef0388511817b5c77d15cf0132">MiDecrementShareCount</a></div><div class="ttdeci">VOID FASTCALL MiDecrementShareCount(IN PMMPFN Pfn1, IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7d/a02527_source.html#l00027">pfndec.c:27</a></div></div>
<div class="ttc" id="a00981_html_a367d5570bd7e1baac630324e0e8088e3"><div class="ttname"><a href="../../dd/d24/a00981.html#a367d5570bd7e1baac630324e0e8088e3">_MMSECTION_FLAGS::ImageMappedInSystemSpace</a></div><div class="ttdeci">unsigned ImageMappedInSystemSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03547">mi.h:3547</a></div></div>
<div class="ttc" id="a00999_html_a892b7997d3e0fd3fedcd389b951f5cda"><div class="ttname"><a href="../../de/de2/a00999.html#a892b7997d3e0fd3fedcd389b951f5cda">_MMWSLE_HASH::Key</a></div><div class="ttdeci">PVOID Key</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02927">mi.h:2927</a></div></div>
<div class="ttc" id="a02519_html_a96622e4bc32a0af1a88e861df5056f5eac74cf6651a5668164868752e07cf688a"><div class="ttname"><a href="../../d9/dce/a02519.html#a96622e4bc32a0af1a88e861df5056f5eac74cf6651a5668164868752e07cf688a">MiNonCached</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01544">mi.h:1544</a></div></div>
<div class="ttc" id="a02519_html_a274b3c8e2996ccb84acffcaf6bb83f16"><div class="ttname"><a href="../../d9/dce/a02519.html#a274b3c8e2996ccb84acffcaf6bb83f16">MI_PTE_LOG_ACCESS</a></div><div class="ttdeci">VOID FORCEINLINE MI_PTE_LOG_ACCESS(PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l09099">mi.h:9099</a></div></div>
<div class="ttc" id="a00816_html_aeef41af0075e682535254f9918b3a28a"><div class="ttname"><a href="../../d7/d60/a00816.html#aeef41af0075e682535254f9918b3a28a">_LARGE_CONTROL_AREA::NumberOfMappedViews</a></div><div class="ttdeci">ULONG NumberOfMappedViews</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03585">mi.h:3585</a></div></div>
<div class="ttc" id="a00996_html_abddf7ba2418ad6cf3f12034cbde6ab8d"><div class="ttname"><a href="../../d3/daa/a00996.html#abddf7ba2418ad6cf3f12034cbde6ab8d">_MMWSL::FirstDynamic</a></div><div class="ttdeci">WSLE_NUMBER FirstDynamic</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03011">mi.h:3011</a></div></div>
<div class="ttc" id="a00989_html"><div class="ttname"><a href="../../d4/d95/a00989.html">_MMVAD_FLAGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03928">mi.h:3928</a></div></div>
<div class="ttc" id="a00942_html_a1c36915b83112d8d7ffa92bc488cd8a4"><div class="ttname"><a href="../../df/d12/a00942.html#a1c36915b83112d8d7ffa92bc488cd8a4">_MM_SESSION_SPACE::SessionPageDirectoryIndex</a></div><div class="ttdeci">PFN_NUMBER SessionPageDirectoryIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08544">mi.h:8544</a></div></div>
<div class="ttc" id="a02519_html_a7ffd040002d46dcbccdad10c9e01e9e8"><div class="ttname"><a href="../../d9/dce/a02519.html#a7ffd040002d46dcbccdad10c9e01e9e8">MiAweViewInserter</a></div><div class="ttdeci">VOID MiAweViewInserter(IN PEPROCESS Process, IN PMI_PHYSICAL_VIEW PhysicalView)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l02864">physical.c:2864</a></div></div>
<div class="ttc" id="a02519_html_a680ca999f42919682c259553f914bf2e"><div class="ttname"><a href="../../d9/dce/a02519.html#a680ca999f42919682c259553f914bf2e">MmSystemPagePtes</a></div><div class="ttdeci">PMMPTE MmSystemPagePtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00215">mminit.c:215</a></div></div>
<div class="ttc" id="a00030_html_a762ab8f7260e813f8d73608db943cdad"><div class="ttname"><a href="../../d5/d79/a00030.html#a762ab8f7260e813f8d73608db943cdad">_ALIAS_VAD_INFO::MaximumEntries</a></div><div class="ttdeci">ULONG MaximumEntries</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03968">mi.h:3968</a></div></div>
<div class="ttc" id="a01185_html_abc2e9296eadcbfc386ce025d724ba48f"><div class="ttname"><a href="../../d3/dd3/a01185.html#abc2e9296eadcbfc386ce025d724ba48f">_MSUBSECTION::PtesInSubsection</a></div><div class="ttdeci">ULONG PtesInSubsection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03659">mi.h:3659</a></div></div>
<div class="ttc" id="a00895_html_a8c2129f0634a969d6fadabf694e6ac69"><div class="ttname"><a href="../../d2/d21/a00895.html#a8c2129f0634a969d6fadabf694e6ac69">_MAPPED_FILE_SEGMENT::TotalNumberOfPtes</a></div><div class="ttdeci">ULONG TotalNumberOfPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03492">mi.h:3492</a></div></div>
<div class="ttc" id="a02289_html_a3f6b8655e1aa9dfc15a9029f0343009e"><div class="ttname"><a href="../../de/d4e/a02289.html#a3f6b8655e1aa9dfc15a9029f0343009e">__in</a></div><div class="ttdeci">#define __in</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4e/a02289_source.html#l00497">specstrings.h:497</a></div></div>
<div class="ttc" id="a02519_html_a796213ddc155f999c5844a3ad2b03d13"><div class="ttname"><a href="../../d9/dce/a02519.html#a796213ddc155f999c5844a3ad2b03d13">MiPfnAcquiredAddress</a></div><div class="ttdeci">PVOID MiPfnAcquiredAddress</div></div>
<div class="ttc" id="a00970_html_a16382ecef3b686d8254d435bb6b0f22c"><div class="ttname"><a href="../../d0/daf/a00970.html#a16382ecef3b686d8254d435bb6b0f22c">_MMPTE::u</a></div><div class="ttdeci">union _MMPTE::@723 u</div></div>
<div class="ttc" id="a02519_html_a6cb55515014fbe64a324b24b74a61339"><div class="ttname"><a href="../../d9/dce/a02519.html#a6cb55515014fbe64a324b24b74a61339">MiInitializeLoadedModuleList</a></div><div class="ttdeci">LOGICAL MiInitializeLoadedModuleList(IN PLOADER_PARAMETER_BLOCK LoaderBlock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l07970">sysload.c:7970</a></div></div>
<div class="ttc" id="a02519_html_a59413db6b7cdde09e04c871f5123fd9e"><div class="ttname"><a href="../../d9/dce/a02519.html#a59413db6b7cdde09e04c871f5123fd9e">PMMBANKED_SECTION</a></div><div class="ttdeci">struct _MMBANKED_SECTION * PMMBANKED_SECTION</div></div>
<div class="ttc" id="a02519_html_a365325a9a13433e5bbe65b82a48f3169"><div class="ttname"><a href="../../d9/dce/a02519.html#a365325a9a13433e5bbe65b82a48f3169">MiUnsecureVirtualMemory</a></div><div class="ttdeci">VOID MiUnsecureVirtualMemory(IN HANDLE SecureHandle, IN LOGICAL AddressSpaceMutexHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l06627">mapview.c:6627</a></div></div>
<div class="ttc" id="a02519_html_af515a887741852b5e8c9d22dcaca422e"><div class="ttname"><a href="../../d9/dce/a02519.html#af515a887741852b5e8c9d22dcaca422e">MMVAD_SHORT</a></div><div class="ttdeci">struct _MMVAD_SHORT MMVAD_SHORT</div></div>
<div class="ttc" id="a01595_html_ab9344ac4223fd315f8d710ed900fe095"><div class="ttname"><a href="../../dc/dbf/a01595.html#ab9344ac4223fd315f8d710ed900fe095">_SEGMENT_FLAGS::TotalNumberOfPtes4132</a></div><div class="ttdeci">ULONG_PTR TotalNumberOfPtes4132</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03444">mi.h:3444</a></div></div>
<div class="ttc" id="a02230_html_a6a08ef8cc8945e56aaba56e0c8f194eb"><div class="ttname"><a href="../../dd/d67/a02230.html#a6a08ef8cc8945e56aaba56e0c8f194eb">NTSTATUS</a></div><div class="ttdeci">LONG NTSTATUS</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00534">ntdef.h:534</a></div></div>
<div class="ttc" id="a02519_html_aac821e8216de80237b80a140717ae760"><div class="ttname"><a href="../../d9/dce/a02519.html#aac821e8216de80237b80a140717ae760">MiMappedPagesTooOldEvent</a></div><div class="ttdeci">KEVENT MiMappedPagesTooOldEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00187">mminit.c:187</a></div></div>
<div class="ttc" id="a00950_html_a066ae3bfe318848005236de0035b9e50"><div class="ttname"><a href="../../df/d39/a00950.html#a066ae3bfe318848005236de0035b9e50">_MMCLONE_DESCRIPTOR::CloneHeader</a></div><div class="ttdeci">PMMCLONE_HEADER CloneHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04166">mi.h:4166</a></div></div>
<div class="ttc" id="a00933_html_aa83a7bcee7336d371acd3385b75fd336"><div class="ttname"><a href="../../d0/d5b/a00933.html#aa83a7bcee7336d371acd3385b75fd336">_MI_VERIFIER_DRIVER_ENTRY::PeakNonPagedBytes</a></div><div class="ttdeci">SIZE_T PeakNonPagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07105">mi.h:7105</a></div></div>
<div class="ttc" id="a02519_html_a78820a8ba99e6f96a1dbce9c98933dee"><div class="ttname"><a href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933dee">_MMSHARE_TYPE</a></div><div class="ttdeci">_MMSHARE_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02920">mi.h:2920</a></div></div>
<div class="ttc" id="a00981_html_aed8c2d2f42591b98ab3c19c67c427eab"><div class="ttname"><a href="../../dd/d24/a00981.html#aed8c2d2f42591b98ab3c19c67c427eab">_MMSECTION_FLAGS::DebugSymbolsLoaded</a></div><div class="ttdeci">unsigned DebugSymbolsLoaded</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03541">mi.h:3541</a></div></div>
<div class="ttc" id="a02519_html_a7fcdf61eb23b926efd6ab6482e98f632"><div class="ttname"><a href="../../d9/dce/a02519.html#a7fcdf61eb23b926efd6ab6482e98f632">MM_DECOMMIT</a></div><div class="ttdeci">#define MM_DECOMMIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00159">mi.h:159</a></div></div>
<div class="ttc" id="a02519_html_abe69743c34ae5666a82e381046b40ed1"><div class="ttname"><a href="../../d9/dce/a02519.html#abe69743c34ae5666a82e381046b40ed1">MmAvailablePages</a></div><div class="ttdeci">PFN_NUMBER MmAvailablePages</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00060">miglobal.c:60</a></div></div>
<div class="ttc" id="a02519_html_a16bae93c59029670adf92d58cda862f6"><div class="ttname"><a href="../../d9/dce/a02519.html#a16bae93c59029670adf92d58cda862f6">MiAttachSession</a></div><div class="ttdeci">VOID MiAttachSession(IN PMM_SESSION_SPACE SessionGlobal)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l01682">session.c:1682</a></div></div>
<div class="ttc" id="a00948_html_a1783ac18cf691a54826ca6626fa093dc"><div class="ttname"><a href="../../d8/d18/a00948.html#a1783ac18cf691a54826ca6626fa093dc">_MMBANKED_SECTION::CurrentMappedPte</a></div><div class="ttdeci">PMMPTE CurrentMappedPte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03884">mi.h:3884</a></div></div>
<div class="ttc" id="a00981_html_a2d587f17ad1bf8f38fa339231ffbd85a"><div class="ttname"><a href="../../dd/d24/a00981.html#a2d587f17ad1bf8f38fa339231ffbd85a">_MMSECTION_FLAGS::File</a></div><div class="ttdeci">unsigned File</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03524">mi.h:3524</a></div></div>
<div class="ttc" id="a00942_html_ab104182cb7776ec92a98085177246c71"><div class="ttname"><a href="../../df/d12/a00942.html#ab104182cb7776ec92a98085177246c71">_MM_SESSION_SPACE::ProcessList</a></div><div class="ttdeci">LIST_ENTRY ProcessList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08531">mi.h:8531</a></div></div>
<div class="ttc" id="a00895_html_a968a586641763a121315983c9f4b1eba"><div class="ttname"><a href="../../d2/d21/a00895.html#a968a586641763a121315983c9f4b1eba">_MAPPED_FILE_SEGMENT::ControlArea</a></div><div class="ttdeci">struct _CONTROL_AREA * ControlArea</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03491">mi.h:3491</a></div></div>
<div class="ttc" id="a02519_html_a63da4abdbd574b3da9bb7bf8dc49e68a"><div class="ttname"><a href="../../d9/dce/a02519.html#a63da4abdbd574b3da9bb7bf8dc49e68a">MmFirstFreeSystemPte</a></div><div class="ttdeci">MMPTE MmFirstFreeSystemPte[MaximumPtePoolTypes]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00310">miglobal.c:310</a></div></div>
<div class="ttc" id="a00990_html_a08cc73a110ba7c4634cf69c614a6d1a5"><div class="ttname"><a href="../../dd/d7a/a00990.html#a08cc73a110ba7c4634cf69c614a6d1a5">_MMVAD_FLAGS2::ReadOnly</a></div><div class="ttdeci">unsigned ReadOnly</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03943">mi.h:3943</a></div></div>
<div class="ttc" id="a02496_html_a53abc747ab1b753b2e3610968a7531d3"><div class="ttname"><a href="../../d1/df5/a02496.html#a53abc747ab1b753b2e3610968a7531d3">MiGetPdeAddress</a></div><div class="ttdeci">#define MiGetPdeAddress(va)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l01876">miamd.h:1876</a></div></div>
<div class="ttc" id="a00957_html_a5440b250628c2d28d4e03b1ff1d234ed"><div class="ttname"><a href="../../d1/df7/a00957.html#a5440b250628c2d28d4e03b1ff1d234ed">_MMINPAGE_SUPPORT::BasePte</a></div><div class="ttdeci">PMMPTE BasePte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03842">mi.h:3842</a></div></div>
<div class="ttc" id="a02519_html_ae8283d7cc546bff2338ff0e0985d8333"><div class="ttname"><a href="../../d9/dce/a02519.html#ae8283d7cc546bff2338ff0e0985d8333">MI_PFN_CACHE_ATTRIBUTE</a></div><div class="ttdeci">enum _MI_PFN_CACHE_ATTRIBUTE MI_PFN_CACHE_ATTRIBUTE</div></div>
<div class="ttc" id="a02230_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../dd/d67/a02230.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01270">ntdef.h:1270</a></div></div>
<div class="ttc" id="a00933_html_a74a8f5ccacd7518ca11852774f1ad606"><div class="ttname"><a href="../../d0/d5b/a00933.html#a74a8f5ccacd7518ca11852774f1ad606">_MI_VERIFIER_DRIVER_ENTRY::Links</a></div><div class="ttdeci">LIST_ENTRY Links</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07079">mi.h:7079</a></div></div>
<div class="ttc" id="a00962_html_a3c62eef11ebb50c97b30d406d050e798"><div class="ttname"><a href="../../df/d88/a00962.html#a3c62eef11ebb50c97b30d406d050e798">_MMPAGE_FILE_EXPANSION::ActualExpansion</a></div><div class="ttdeci">SIZE_T ActualExpansion</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03796">mi.h:3796</a></div></div>
<div class="ttc" id="a02519_html_ab889ef52800725d18fe15b28763a9a75"><div class="ttname"><a href="../../d9/dce/a02519.html#ab889ef52800725d18fe15b28763a9a75">MiSessionInsertImage</a></div><div class="ttdeci">NTSTATUS MiSessionInsertImage(IN PVOID BaseAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l00355">sessload.c:355</a></div></div>
<div class="ttc" id="a02519_html_abf10115054377c0da8ec93db0bf6d90a"><div class="ttname"><a href="../../d9/dce/a02519.html#abf10115054377c0da8ec93db0bf6d90a">MiEmptyWorkingSet</a></div><div class="ttdeci">NTSTATUS MiEmptyWorkingSet(IN PMMSUPPORT WsInfo, IN LOGICAL NeedLock)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l04870">wslist.c:4870</a></div></div>
<div class="ttc" id="a02519_html_a23c522beaf83f412db2d3e49ed6f0780"><div class="ttname"><a href="../../d9/dce/a02519.html#a23c522beaf83f412db2d3e49ed6f0780">MiAddHalIoMappings</a></div><div class="ttdeci">VOID MiAddHalIoMappings(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l05216">mminit.c:5216</a></div></div>
<div class="ttc" id="a02519_html_abcdc6cafe14bd906511a8e8b47a73b31"><div class="ttname"><a href="../../d9/dce/a02519.html#abcdc6cafe14bd906511a8e8b47a73b31">MiSessionImageEnd</a></div><div class="ttdeci">ULONG_PTR MiSessionImageEnd</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00778">miglobal.c:778</a></div></div>
<div class="ttc" id="a00365_html"><div class="ttname"><a href="../../dd/db5/a00365.html">_EPROCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00238">ps.h:238</a></div></div>
<div class="ttc" id="a02519_html_a7aa74dc61a538e7c8c23c314a15219a6"><div class="ttname"><a href="../../d9/dce/a02519.html#a7aa74dc61a538e7c8c23c314a15219a6">MMVIEW</a></div><div class="ttdeci">struct _MMVIEW MMVIEW</div></div>
<div class="ttc" id="a02519_html_af63c7d4343934dc71b6ea534037f89fe"><div class="ttname"><a href="../../d9/dce/a02519.html#af63c7d4343934dc71b6ea534037f89fe">ALIAS_VAD_INFO</a></div><div class="ttdeci">struct _ALIAS_VAD_INFO ALIAS_VAD_INFO</div></div>
<div class="ttc" id="a02167_html_abdedc624187898e693222864762e6944"><div class="ttname"><a href="../../de/d48/a02167.html#abdedc624187898e693222864762e6944">ULONG_PTR</a></div><div class="ttdeci">_W64 unsigned long ULONG_PTR</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00118">basetsd.h:118</a></div></div>
<div class="ttc" id="a02519_html_a2816ff776b858b1e544fcecb26cf49ed"><div class="ttname"><a href="../../d9/dce/a02519.html#a2816ff776b858b1e544fcecb26cf49ed">MmLowMemoryThreshold</a></div><div class="ttdeci">PFN_NUMBER MmLowMemoryThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00113">mminit.c:113</a></div></div>
<div class="ttc" id="a02519_html_a9153fcd54131d45f980a4bf8a2f5ac07"><div class="ttname"><a href="../../d9/dce/a02519.html#a9153fcd54131d45f980a4bf8a2f5ac07">MiSecureVirtualMemory</a></div><div class="ttdeci">HANDLE MiSecureVirtualMemory(IN PVOID Address, IN SIZE_T Size, IN ULONG ProbeMode, IN LOGICAL AddressSpaceMutexHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l05972">mapview.c:5972</a></div></div>
<div class="ttc" id="a01185_html_a4d0ce37bb36f458a023d455702477105"><div class="ttname"><a href="../../d3/dd3/a01185.html#a4d0ce37bb36f458a023d455702477105">_MSUBSECTION::DereferenceList</a></div><div class="ttdeci">LIST_ENTRY DereferenceList</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03661">mi.h:3661</a></div></div>
<div class="ttc" id="a02195_html_ada51bbd776d759e6e40d7c5a30688230"><div class="ttname"><a href="../../df/d0e/a02195.html#ada51bbd776d759e6e40d7c5a30688230">KeGetCurrentPrcb</a></div><div class="ttdeci">FORCEINLINE PKPRCB NTAPI KeGetCurrentPrcb(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l02685">i386.h:2685</a></div></div>
<div class="ttc" id="a02519_html_ab7e159478b20d87d29129fc5689408e2"><div class="ttname"><a href="../../d9/dce/a02519.html#ab7e159478b20d87d29129fc5689408e2">MiMappedPageWriter</a></div><div class="ttdeci">VOID MiMappedPageWriter(IN PVOID StartContext)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l04336">modwrite.c:4336</a></div></div>
<div class="ttc" id="a02519_html_adfb31bb0639deb82388bc876e06ae570"><div class="ttname"><a href="../../d9/dce/a02519.html#adfb31bb0639deb82388bc876e06ae570">MiInsertStandbyListAtFront</a></div><div class="ttdeci">VOID FASTCALL MiInsertStandbyListAtFront(IN PFN_NUMBER PageFrameIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l00920">pfnlist.c:920</a></div></div>
<div class="ttc" id="a02519_html_a9f2d5a2e1b4760a40d7e1595860be043"><div class="ttname"><a href="../../d9/dce/a02519.html#a9f2d5a2e1b4760a40d7e1595860be043">MmNonPagedPoolExpansionStart</a></div><div class="ttdeci">PVOID MmNonPagedPoolExpansionStart</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l00069">allocpag.c:69</a></div></div>
<div class="ttc" id="a02519_html_a114c23e7835c6ec866d3c006fcb12d80"><div class="ttname"><a href="../../d9/dce/a02519.html#a114c23e7835c6ec866d3c006fcb12d80">MiCalculatePageCommitment</a></div><div class="ttdeci">SIZE_T MiCalculatePageCommitment(IN PVOID StartingAddress, IN PVOID EndingAddress, IN PMMVAD Vad, IN PEPROCESS Process)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l00461">mmquota.c:461</a></div></div>
<div class="ttc" id="a02496_html_a81d7381924e53a35d29d252ada8796d7"><div class="ttname"><a href="../../d1/df5/a02496.html#a81d7381924e53a35d29d252ada8796d7">MM_PROTO_PTE_ALIGNMENT</a></div><div class="ttdeci">#define MM_PROTO_PTE_ALIGNMENT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00243">miamd.h:243</a></div></div>
<div class="ttc" id="a02519_html_aee3c7ab7dfb9e65f94581d4b5c6c5367"><div class="ttname"><a href="../../d9/dce/a02519.html#aee3c7ab7dfb9e65f94581d4b5c6c5367">MiInitializeNonPagedPoolThresholds</a></div><div class="ttdeci">VOID MiInitializeNonPagedPoolThresholds(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l03790">mminit.c:3790</a></div></div>
<div class="ttc" id="a02519_html_aa31e621cf9c90ef13b5957d76f14edef"><div class="ttname"><a href="../../d9/dce/a02519.html#aa31e621cf9c90ef13b5957d76f14edef">MI_FLUSH_SINGLE_TB</a></div><div class="ttdeci">#define MI_FLUSH_SINGLE_TB(Virtual, AllProcessors)                                        </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01383">mi.h:1383</a></div></div>
<div class="ttc" id="a00964_html_a2e162e3a75d90da3ae398888897af44b"><div class="ttname"><a href="../../da/d17/a00964.html#a2e162e3a75d90da3ae398888897af44b">_MMPFN::NextStackPfn</a></div><div class="ttdeci">SINGLE_LIST_ENTRY NextStackPfn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01723">mi.h:1723</a></div></div>
<div class="ttc" id="a02519_html_a4d37a9069f912c760046314410333d03"><div class="ttname"><a href="../../d9/dce/a02519.html#a4d37a9069f912c760046314410333d03">ExpMultiUserTS</a></div><div class="ttdeci">ULONG ExpMultiUserTS</div></div>
<div class="ttc" id="a02519_html_ac814263fa34697648b64eea79535ce20"><div class="ttname"><a href="../../d9/dce/a02519.html#ac814263fa34697648b64eea79535ce20">MmZeroingPageThreadActive</a></div><div class="ttdeci">BOOLEAN MmZeroingPageThreadActive</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00214">miglobal.c:214</a></div></div>
<div class="ttc" id="a02519_html_a316bb06b745a4833b5574acdb0297472"><div class="ttname"><a href="../../d9/dce/a02519.html#a316bb06b745a4833b5574acdb0297472">MiInitializePoolEvents</a></div><div class="ttdeci">VOID MiInitializePoolEvents(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l03320">allocpag.c:3320</a></div></div>
<div class="ttc" id="a02519_html_a2d8c2ebda10cc04939e2f33a8b3f5ce6"><div class="ttname"><a href="../../d9/dce/a02519.html#a2d8c2ebda10cc04939e2f33a8b3f5ce6">MiResolveDemandZeroFault</a></div><div class="ttdeci">NTSTATUS MiResolveDemandZeroFault(IN PVOID VirtualAddress, IN PMMPTE PointerPte, IN PEPROCESS Process, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l01610">pagfault.c:1610</a></div></div>
<div class="ttc" id="a00984_html_aec14ff9ba0a945f2380d10a685d43d91"><div class="ttname"><a href="../../d2/d4c/a00984.html#aec14ff9ba0a945f2380d10a685d43d91">_MMSUBSECTION_FLAGS::ReadWrite</a></div><div class="ttdeci">unsigned ReadWrite</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03608">mi.h:3608</a></div></div>
<div class="ttc" id="a02496_html_a7920915db7ca262dce928c6eccd93fda"><div class="ttname"><a href="../../d1/df5/a02496.html#a7920915db7ca262dce928c6eccd93fda">MI_PDE_MAPS_LARGE_PAGE</a></div><div class="ttdeci">#define MI_PDE_MAPS_LARGE_PAGE(PDE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l02746">miamd.h:2746</a></div></div>
<div class="ttc" id="a00994_html"><div class="ttname"><a href="../../d4/dd0/a00994.html">_MMWORKING_SET_EXPANSION_HEAD</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03805">mi.h:3805</a></div></div>
<div class="ttc" id="a00965_html"><div class="ttname"><a href="../../d3/dcd/a00965.html">_MMPFN_IDENTITY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d14/a02245_source.html#l00175">ntmmapi.h:175</a></div></div>
<div class="ttc" id="a02519_html_af0bb87011ca77d853516d1171bae3d9a"><div class="ttname"><a href="../../d9/dce/a02519.html#af0bb87011ca77d853516d1171bae3d9a">MmProtectToValue</a></div><div class="ttdeci">ULONG MmProtectToValue[32]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00590">miglobal.c:590</a></div></div>
<div class="ttc" id="a02519_html_a9ff9ae7cac47ff2905cbbc1568580c93"><div class="ttname"><a href="../../d9/dce/a02519.html#a9ff9ae7cac47ff2905cbbc1568580c93">DRIVER_SPECIFIED_VERIFIER_THUNKS</a></div><div class="ttdeci">struct _DRIVER_SPECIFIED_VERIFIER_THUNKS DRIVER_SPECIFIED_VERIFIER_THUNKS</div></div>
<div class="ttc" id="a02519_html_ab4a92bdaf5c354b6fdd31d66f6fbf515"><div class="ttname"><a href="../../d9/dce/a02519.html#ab4a92bdaf5c354b6fdd31d66f6fbf515">MiAddViewsForSectionWithPfn</a></div><div class="ttdeci">NTSTATUS MiAddViewsForSectionWithPfn(IN PMSUBSECTION StartMappedSubsection, IN UINT64 LastPteOffset OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/de1/a02518_source.html#l02748">mapview.c:2748</a></div></div>
<div class="ttc" id="a02519_html_a47446a36f1157b37959565a21f385b48"><div class="ttname"><a href="../../d9/dce/a02519.html#a47446a36f1157b37959565a21f385b48">MmTotalProcessCommit</a></div><div class="ttdeci">SIZE_T MmTotalProcessCommit</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de1/a02493_source.html#l00050">allocvm.c:50</a></div></div>
<div class="ttc" id="a02519_html_ab19d895ed972c5900dad94cad2f8eefd"><div class="ttname"><a href="../../d9/dce/a02519.html#ab19d895ed972c5900dad94cad2f8eefd">MMFREE_POOL_ENTRY</a></div><div class="ttdeci">struct _MMFREE_POOL_ENTRY MMFREE_POOL_ENTRY</div></div>
<div class="ttc" id="a02519_html_a78820a8ba99e6f96a1dbce9c98933deea5ecbcf0afce98b042f35ec71ba03fa4b"><div class="ttname"><a href="../../d9/dce/a02519.html#a78820a8ba99e6f96a1dbce9c98933deea5ecbcf0afce98b042f35ec71ba03fa4b">Normal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02921">mi.h:2921</a></div></div>
<div class="ttc" id="a00981_html_a8c673745dfe838f8521758e614cebd14"><div class="ttname"><a href="../../dd/d24/a00981.html#a8c673745dfe838f8521758e614cebd14">_MMSECTION_FLAGS::Reserve</a></div><div class="ttdeci">unsigned Reserve</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03531">mi.h:3531</a></div></div>
<div class="ttc" id="a02519_html_a2559031e3de143faef08a953a69377a5"><div class="ttname"><a href="../../d9/dce/a02519.html#a2559031e3de143faef08a953a69377a5">MiRemoveImageHeaderPage</a></div><div class="ttdeci">VOID MiRemoveImageHeaderPage(IN PFN_NUMBER PageFrameNumber)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd4/a02498_source.html#l05267">creasect.c:5267</a></div></div>
<div class="ttc" id="a00453_html"><div class="ttname"><a href="../../da/dc3/a00453.html">_FILE_OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dce/a02200_source.html#l01763">io.h:1763</a></div></div>
<div class="ttc" id="a02519_html_a35c4644784655c5179cdf095d681a9ea"><div class="ttname"><a href="../../d9/dce/a02519.html#a35c4644784655c5179cdf095d681a9ea">MmSecondaryColorNodeShift</a></div><div class="ttdeci">UCHAR MmSecondaryColorNodeShift</div></div>
<div class="ttc" id="a02519_html_a73a4bee2158c7dfa2b89fd0ebc7c1b57"><div class="ttname"><a href="../../d9/dce/a02519.html#a73a4bee2158c7dfa2b89fd0ebc7c1b57">MiFillWsleHash</a></div><div class="ttdeci">VOID MiFillWsleHash(IN PMMWSL WorkingSetList)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l00300">wstree.c:300</a></div></div>
<div class="ttc" id="a00957_html_aa706f08262f8d3908a1eff7b4a5a4f47"><div class="ttname"><a href="../../d1/df7/a00957.html#aa706f08262f8d3908a1eff7b4a5a4f47">_MMINPAGE_SUPPORT::ReadOffset</a></div><div class="ttdeci">LARGE_INTEGER ReadOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03835">mi.h:3835</a></div></div>
<div class="ttc" id="a02519_html_a6b2a64419be2f92fa86c380076a8fd41"><div class="ttname"><a href="../../d9/dce/a02519.html#a6b2a64419be2f92fa86c380076a8fd41">MMVAD</a></div><div class="ttdeci">struct _MMVAD MMVAD</div></div>
<div class="ttc" id="a00957_html_a4b85def23771963cb7cc3a5fd21ad3c5"><div class="ttname"><a href="../../d1/df7/a00957.html#a4b85def23771963cb7cc3a5fd21ad3c5">_MMINPAGE_SUPPORT::ListEntry</a></div><div class="ttdeci">SINGLE_LIST_ENTRY ListEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03851">mi.h:3851</a></div></div>
<div class="ttc" id="a02583_html_a0bb9b4c169cf895991433e639eca6640"><div class="ttname"><a href="../../dc/d15/a02583.html#a0bb9b4c169cf895991433e639eca6640">PsGetCurrentThread</a></div><div class="ttdeci">PETHREAD PsGetCurrentThread(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d15/a02583_source.html#l00057">pshelper.c:57</a></div></div>
<div class="ttc" id="a02519_html_a01518c078bcbf485233fb3bfcf2aff43"><div class="ttname"><a href="../../d9/dce/a02519.html#a01518c078bcbf485233fb3bfcf2aff43">MmVerifyDriverBuffer</a></div><div class="ttdeci">WCHAR MmVerifyDriverBuffer[]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00831">miglobal.c:831</a></div></div>
<div class="ttc" id="a02519_html_a68fedda75535605880ffb342a3e57903"><div class="ttname"><a href="../../d9/dce/a02519.html#a68fedda75535605880ffb342a3e57903">MmShortTime</a></div><div class="ttdeci">const LARGE_INTEGER MmShortTime</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00558">miglobal.c:558</a></div></div>
<div class="ttc" id="a02519_html_ab73dadb201741b8b0bd0450a511935fa"><div class="ttname"><a href="../../d9/dce/a02519.html#ab73dadb201741b8b0bd0450a511935fa">MMINPAGE_FLAGS</a></div><div class="ttdeci">struct _MMINPAGE_FLAGS MMINPAGE_FLAGS</div></div>
<div class="ttc" id="a02519_html_ab0e1efeb5bc213f4a4acbf9e72dec118"><div class="ttname"><a href="../../d9/dce/a02519.html#ab0e1efeb5bc213f4a4acbf9e72dec118">MiFindContiguousPages</a></div><div class="ttdeci">PFN_NUMBER MiFindContiguousPages(IN PFN_NUMBER LowestPfn, IN PFN_NUMBER HighestPfn, IN PFN_NUMBER BoundaryPfn, IN PFN_NUMBER SizeInPages, IN MEMORY_CACHING_TYPE CacheType)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l04710">allocpag.c:4710</a></div></div>
<div class="ttc" id="a02519_html_ab85e054278ea81cec3ba315d580225f9"><div class="ttname"><a href="../../d9/dce/a02519.html#ab85e054278ea81cec3ba315d580225f9">MmOneSecond</a></div><div class="ttdeci">const LARGE_INTEGER MmOneSecond</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00555">miglobal.c:555</a></div></div>
<div class="ttc" id="a00991_html_a7534ffed254becafd8d6152b62f2d9af"><div class="ttname"><a href="../../df/d2f/a00991.html#a7534ffed254becafd8d6152b62f2d9af">_MMVAD_LONG::ExtendedInfo</a></div><div class="ttdeci">PMMEXTEND_INFO ExtendedInfo</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04026">mi.h:4026</a></div></div>
<div class="ttc" id="a01185_html_aec4b3a55bf0f81f433d5517516d2ed31"><div class="ttname"><a href="../../d3/dd3/a01185.html#aec4b3a55bf0f81f433d5517516d2ed31">_MSUBSECTION::SubsectionFlags</a></div><div class="ttdeci">MMSUBSECTION_FLAGS SubsectionFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03653">mi.h:3653</a></div></div>
<div class="ttc" id="a01000_html_a21e3437f4b88b685bda3ea2d997c6411"><div class="ttname"><a href="../../d7/df2/a01000.html#a21e3437f4b88b685bda3ea2d997c6411">_MMWSLENTRY::Protection</a></div><div class="ttdeci">ULONG_PTR Protection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02974">mi.h:2974</a></div></div>
<div class="ttc" id="a00181_html_a6325465a02a7873c1432c24d5b507878"><div class="ttname"><a href="../../d8/d64/a00181.html#a6325465a02a7873c1432c24d5b507878">_COLORED_PAGE_INFO::PagesQueued</a></div><div class="ttdeci">PFN_COUNT PagesQueued</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04725">mi.h:4725</a></div></div>
<div class="ttc" id="a00963_html_a30cb9d21e45718c6f8b6e480dc9ee5eb"><div class="ttname"><a href="../../de/dad/a00963.html#a30cb9d21e45718c6f8b6e480dc9ee5eb">_MMPAGING_FILE::CurrentUsage</a></div><div class="ttdeci">PFN_NUMBER CurrentUsage</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04244">mi.h:4244</a></div></div>
<div class="ttc" id="a02167_html_aae17ebb9ef7279d026817fb22f8aebe9"><div class="ttname"><a href="../../de/d48/a02167.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a></div><div class="ttdeci">unsigned __int64 UINT64</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d48/a02167_source.html#l00062">basetsd.h:62</a></div></div>
<div class="ttc" id="a00939_html_a896bb97cbaf1aa544b24c55416eceaca"><div class="ttname"><a href="../../dd/d20/a00939.html#a896bb97cbaf1aa544b24c55416eceaca">_MM_PAGED_POOL_INFO::PagedPoolAllocationMap</a></div><div class="ttdeci">PRTL_BITMAP PagedPoolAllocationMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07717">mi.h:7717</a></div></div>
<div class="ttc" id="a02519_html_ad6d1d8b8b1e962e6796e363738c6251f"><div class="ttname"><a href="../../d9/dce/a02519.html#ad6d1d8b8b1e962e6796e363738c6251f">MiFindEmptyAddressRange</a></div><div class="ttdeci">NTSTATUS MiFindEmptyAddressRange(IN SIZE_T SizeOfRange, IN ULONG_PTR Alignment, IN ULONG QuickCheck, IN PVOID *Base)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d01/a02542_source.html#l00495">vadtree.c:495</a></div></div>
<div class="ttc" id="a02244_html_a78212918c5b09e3304c1d3c041ba3a1a"><div class="ttname"><a href="../../d8/d51/a02244.html#a78212918c5b09e3304c1d3c041ba3a1a">OPTIONAL</a></div><div class="ttdeci">IN PLSA_DISPATCH_TABLE IN PLSA_STRING Database OPTIONAL</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d51/a02244_source.html#l01130">ntlsa.h:1130</a></div></div>
<div class="ttc" id="a02519_html_ab82c3c5f3e73439d2c66bdce818892de"><div class="ttname"><a href="../../d9/dce/a02519.html#ab82c3c5f3e73439d2c66bdce818892de">MiSectionInitialization</a></div><div class="ttdeci">ULONG MiSectionInitialization(VOID)</div></div>
<div class="ttc" id="a02519_html_a97eb49afe32df70551f5da8feb8bc530"><div class="ttname"><a href="../../d9/dce/a02519.html#a97eb49afe32df70551f5da8feb8bc530">MI_PFN_DEREFERENCE_CHUNK</a></div><div class="ttdeci">struct _MI_PFN_DEREFERENCE_CHUNK MI_PFN_DEREFERENCE_CHUNK</div></div>
<div class="ttc" id="a02519_html_a45d87fb5468a914667d1b947c5ec199b"><div class="ttname"><a href="../../d9/dce/a02519.html#a45d87fb5468a914667d1b947c5ec199b">MMCLONE_DESCRIPTOR</a></div><div class="ttdeci">struct _MMCLONE_DESCRIPTOR MMCLONE_DESCRIPTOR</div></div>
<div class="ttc" id="a02519_html_ae3c6deac867361cdef8f7c8b5e9c018e"><div class="ttname"><a href="../../d9/dce/a02519.html#ae3c6deac867361cdef8f7c8b5e9c018e">MmSessionSpecialPoolStart</a></div><div class="ttdeci">PVOID MmSessionSpecialPoolStart</div></div>
<div class="ttc" id="a00992_html"><div class="ttname"><a href="../../d7/d76/a00992.html">_MMVAD_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04030">mi.h:4030</a></div></div>
<div class="ttc" id="a01874_html"><div class="ttname"><a href="../../de/dfb/a01874.html">_WORK_QUEUE_ITEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/ddd/a02184_source.html#l04172">ex.h:4172</a></div></div>
<div class="ttc" id="a00991_html_aa4e0576487be9244ca79bc9584237d24"><div class="ttname"><a href="../../df/d2f/a00991.html#aa4e0576487be9244ca79bc9584237d24">_MMVAD_LONG::List</a></div><div class="ttdeci">LIST_ENTRY List</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04021">mi.h:4021</a></div></div>
<div class="ttc" id="a02519_html_af8e44f3dd96f69450b0d258f2d3e0526"><div class="ttname"><a href="../../d9/dce/a02519.html#af8e44f3dd96f69450b0d258f2d3e0526">MiLocateSubsection</a></div><div class="ttdeci">PSUBSECTION FASTCALL MiLocateSubsection(IN PMMVAD Vad, IN ULONG_PTR Vpn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df7/a02501_source.html#l01062">extsect.c:1062</a></div></div>
<div class="ttc" id="a02519_html_ad6104d6efc7ef4b32da39d3d1b86c764"><div class="ttname"><a href="../../d9/dce/a02519.html#ad6104d6efc7ef4b32da39d3d1b86c764">MiChargeTemporaryCommitmentForReduction</a></div><div class="ttdeci">LOGICAL FASTCALL MiChargeTemporaryCommitmentForReduction(IN SIZE_T QuotaCharge)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l00389">mmquota.c:389</a></div></div>
<div class="ttc" id="a00793_html_a5ac6eebdde1829cd0db489a48145890c"><div class="ttname"><a href="../../d4/dd7/a00793.html#a5ac6eebdde1829cd0db489a48145890c">_KPRCB::PageColor</a></div><div class="ttdeci">ULONG PageColor</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0e/a02195_source.html#l01127">i386.h:1127</a></div></div>
<div class="ttc" id="a00992_html_a5a30f2abe19e5058b297ad296b408da7"><div class="ttname"><a href="../../d7/d76/a00992.html#a5a30f2abe19e5058b297ad296b408da7">_MMVAD_SHORT::StartingVpn</a></div><div class="ttdeci">ULONG_PTR StartingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04037">mi.h:4037</a></div></div>
<div class="ttc" id="a02519_html_a436df4b7f3a1cb5ac881090051d42e14"><div class="ttname"><a href="../../d9/dce/a02519.html#a436df4b7f3a1cb5ac881090051d42e14">MiLowPagedPoolThreshold</a></div><div class="ttdeci">PFN_NUMBER MiLowPagedPoolThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00133">mminit.c:133</a></div></div>
<div class="ttc" id="a00942_html_ac4be1b2dda53ed3725ce5b1f2bc8eb38"><div class="ttname"><a href="../../df/d12/a00942.html#ac4be1b2dda53ed3725ce5b1f2bc8eb38">_MM_SESSION_SPACE::NonPageablePages</a></div><div class="ttdeci">SIZE_T NonPageablePages</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08554">mi.h:8554</a></div></div>
<div class="ttc" id="a00953_html"><div class="ttname"><a href="../../d5/da3/a00953.html">_MMDEREFERENCE_SEGMENT_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03777">mi.h:3777</a></div></div>
<div class="ttc" id="a02519_html_aa739fc37089a30b9a41b3cea6ad18bef"><div class="ttname"><a href="../../d9/dce/a02519.html#aa739fc37089a30b9a41b3cea6ad18bef">LARGE_CONTROL_AREA</a></div><div class="ttdeci">struct _LARGE_CONTROL_AREA LARGE_CONTROL_AREA</div></div>
<div class="ttc" id="a02519_html_ab077389b87b9cc0bea0709fb2a0a79ff"><div class="ttname"><a href="../../d9/dce/a02519.html#ab077389b87b9cc0bea0709fb2a0a79ff">MiRemoveZeroPage</a></div><div class="ttdeci">PFN_NUMBER FASTCALL MiRemoveZeroPage(IN ULONG PageColor)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d65/a02528_source.html#l02049">pfnlist.c:2049</a></div></div>
<div class="ttc" id="a02519_html_a4149e70a0933d66e809c6239409495ce"><div class="ttname"><a href="../../d9/dce/a02519.html#a4149e70a0933d66e809c6239409495ce">MiSetSystemCodeProtection</a></div><div class="ttdeci">VOID MiSetSystemCodeProtection(IN PMMPTE FirstPte, IN PMMPTE LastPte, IN ULONG ProtectionMask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l06264">sysload.c:6264</a></div></div>
<div class="ttc" id="a02519_html_ad72f0279622c0840caf540483969d4b6"><div class="ttname"><a href="../../d9/dce/a02519.html#ad72f0279622c0840caf540483969d4b6">MiTerminateWsle</a></div><div class="ttdeci">VOID FASTCALL MiTerminateWsle(IN PVOID VirtualAddress, IN PMMSUPPORT WsInfo, IN WSLE_NUMBER WsPfnIndex)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/a02547_source.html#l01009">wstree.c:1009</a></div></div>
<div class="ttc" id="a01578_html_af813bc99120bd46c1a54de0f2491dfae"><div class="ttname"><a href="../../d1/d88/a01578.html#af813bc99120bd46c1a54de0f2491dfae">_SECTION::Address</a></div><div class="ttdeci">MMADDRESS_NODE Address</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03861">mi.h:3861</a></div></div>
<div class="ttc" id="a01806_html_a45599ef0f255a220d782a3b920013086"><div class="ttname"><a href="../../db/db2/a01806.html#a45599ef0f255a220d782a3b920013086">_VI_POOL_ENTRY::InUse</a></div><div class="ttdeci">VI_POOL_ENTRY_INUSE InUse</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07071">mi.h:7071</a></div></div>
<div class="ttc" id="a02215_html_a8c44fb43820e5296c5fe86cd16e9f8bd"><div class="ttname"><a href="../../dd/d31/a02215.html#a8c44fb43820e5296c5fe86cd16e9f8bd">MMSYSTEM_PTE_POOL_TYPE</a></div><div class="ttdeci">enum _MMSYSTEM_PTE_POOL_TYPE MMSYSTEM_PTE_POOL_TYPE</div></div>
<div class="ttc" id="a02519_html_ac06b12b42a3e821bf22fb53f630bc1e9"><div class="ttname"><a href="../../d9/dce/a02519.html#ac06b12b42a3e821bf22fb53f630bc1e9">MI_PFN_ELEMENT_TO_INDEX</a></div><div class="ttdeci">#define MI_PFN_ELEMENT_TO_INDEX(_Pfn)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01792">mi.h:1792</a></div></div>
<div class="ttc" id="a02519_html_a94c8a22084b904a3778c298af0601312"><div class="ttname"><a href="../../d9/dce/a02519.html#a94c8a22084b904a3778c298af0601312">MiCacheStrings</a></div><div class="ttdeci">PCHAR MiCacheStrings[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00071">iosup.c:71</a></div></div>
<div class="ttc" id="a02519_html_ad4240441e2cf062ef712407e0cceb392"><div class="ttname"><a href="../../d9/dce/a02519.html#ad4240441e2cf062ef712407e0cceb392">MmFirstReservedMappingPte</a></div><div class="ttdeci">PMMPTE MmFirstReservedMappingPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00191">miglobal.c:191</a></div></div>
<div class="ttc" id="a02519_html_a471f623a263053078e3ab0fffafed686"><div class="ttname"><a href="../../d9/dce/a02519.html#a471f623a263053078e3ab0fffafed686">MmCollidedFlushEvent</a></div><div class="ttdeci">KEVENT MmCollidedFlushEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00443">miglobal.c:443</a></div></div>
<div class="ttc" id="a00962_html_a6cfc1529368d5342254a5c1a37bcf4e5"><div class="ttname"><a href="../../df/d88/a00962.html#a6cfc1529368d5342254a5c1a37bcf4e5">_MMPAGE_FILE_EXPANSION::InProgress</a></div><div class="ttdeci">LONG InProgress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03798">mi.h:3798</a></div></div>
<div class="ttc" id="a00991_html_ad8d1404afdcbf2860da192436aa74683"><div class="ttname"><a href="../../df/d2f/a00991.html#ad8d1404afdcbf2860da192436aa74683">_MMVAD_LONG::u3</a></div><div class="ttdeci">union _MMVAD_LONG::@755 u3</div></div>
<div class="ttc" id="a00957_html_a246248379c1c5a09aa2e1c561698dc6a"><div class="ttname"><a href="../../d1/df7/a00957.html#a246248379c1c5a09aa2e1c561698dc6a">_MMINPAGE_SUPPORT::e1</a></div><div class="ttdeci">MMINPAGE_FLAGS e1</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03845">mi.h:3845</a></div></div>
<div class="ttc" id="a00951_html_a4a59eb3d1537c6520e0149bc768f9b0d"><div class="ttname"><a href="../../dc/da0/a00951.html#a4a59eb3d1537c6520e0149bc768f9b0d">_MMCLONE_HEADER::NumberOfProcessReferences</a></div><div class="ttdeci">LONG NumberOfProcessReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04152">mi.h:4152</a></div></div>
<div class="ttc" id="a02519_html_a005e6e317d09c0b92430b0c42ada942c"><div class="ttname"><a href="../../d9/dce/a02519.html#a005e6e317d09c0b92430b0c42ada942c">PMMFREE_POOL_ENTRY</a></div><div class="ttdeci">struct _MMFREE_POOL_ENTRY * PMMFREE_POOL_ENTRY</div></div>
<div class="ttc" id="a02519_html_a139d1a9a0b6c366e3a96f0a949daca27"><div class="ttname"><a href="../../d9/dce/a02519.html#a139d1a9a0b6c366e3a96f0a949daca27">MiPfnAcquired</a></div><div class="ttdeci">LARGE_INTEGER MiPfnAcquired</div></div>
<div class="ttc" id="a00942_html_a308b54dff3d677228343f59f391e4b8b"><div class="ttname"><a href="../../df/d12/a00942.html#a308b54dff3d677228343f59f391e4b8b">_MM_SESSION_SPACE::u</a></div><div class="ttdeci">union _MM_SESSION_SPACE::@769 u</div></div>
<div class="ttc" id="a00942_html_a0d5e49dfdc425ba3b1398dff2767ad60"><div class="ttname"><a href="../../df/d12/a00942.html#a0d5e49dfdc425ba3b1398dff2767ad60">_MM_SESSION_SPACE::LongFlags</a></div><div class="ttdeci">ULONG LongFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08520">mi.h:8520</a></div></div>
<div class="ttc" id="a00780_html"><div class="ttname"><a href="../../de/d42/a00780.html">_KLDR_DATA_TABLE_ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d44/a02242_source.html#l00099">ntldr.h:99</a></div></div>
<div class="ttc" id="a02519_html_a62a72d2935d616b9886c61fd148d5cc4"><div class="ttname"><a href="../../d9/dce/a02519.html#a62a72d2935d616b9886c61fd148d5cc4">MiStartingOffset</a></div><div class="ttdeci">LONGLONG FORCEINLINE MiStartingOffset(IN PSUBSECTION Subsection, IN PMMPTE PteAddress)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l06827">mi.h:6827</a></div></div>
<div class="ttc" id="a00959_html_a8a3744dd851e127b5a79d8076368f647"><div class="ttname"><a href="../../db/d40/a00959.html#a8a3744dd851e127b5a79d8076368f647">_MMLOCK_CONFLICT::List</a></div><div class="ttdeci">LIST_ENTRY List</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04273">mi.h:4273</a></div></div>
<div class="ttc" id="a02205_html_a1777453fc97d399dc332c84cd438bd2e"><div class="ttname"><a href="../../dc/d43/a02205.html#a1777453fc97d399dc332c84cd438bd2e">KeNodeBlock</a></div><div class="ttdeci">PKNODE KeNodeBlock[]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dcb/a02456_source.html#l00400">kernldat.c:400</a></div></div>
<div class="ttc" id="a00816_html_abc5bb7810a4829bf61248e5672fda620"><div class="ttname"><a href="../../d7/d60/a00816.html#abc5bb7810a4829bf61248e5672fda620">_LARGE_CONTROL_AREA::NumberOfSectionReferences</a></div><div class="ttdeci">ULONG NumberOfSectionReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03583">mi.h:3583</a></div></div>
<div class="ttc" id="a02496_html_af537a1abdeae17ec73572f6647c240bb"><div class="ttname"><a href="../../d1/df5/a02496.html#af537a1abdeae17ec73572f6647c240bb">MM_VIRTUAL_PAGE_FILLER</a></div><div class="ttdeci">#define MM_VIRTUAL_PAGE_FILLER</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00148">miamd.h:148</a></div></div>
<div class="ttc" id="a00964_html_ad9d32402125fb7a173006a233853477c"><div class="ttname"><a href="../../da/d17/a00964.html#ad9d32402125fb7a173006a233853477c">_MMPFN::Event</a></div><div class="ttdeci">PKEVENT Event</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01714">mi.h:1714</a></div></div>
<div class="ttc" id="a00972_html_a197a2a24e791a39b4e1ffbecd788ffa3"><div class="ttname"><a href="../../de/d4e/a00972.html#a197a2a24e791a39b4e1ffbecd788ffa3">_MMPTE_FLUSH_LIST::FlushVa</a></div><div class="ttdeci">PVOID FlushVa[MM_MAXIMUM_FLUSH_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04332">mi.h:4332</a></div></div>
<div class="ttc" id="a02519_html_a0f0c0a6a0bd767f8529b615b8ab3eec4"><div class="ttname"><a href="../../d9/dce/a02519.html#a0f0c0a6a0bd767f8529b615b8ab3eec4">PMMWSL</a></div><div class="ttdeci">struct _MMWSL * PMMWSL</div></div>
<div class="ttc" id="a00816_html"><div class="ttname"><a href="../../d7/d60/a00816.html">_LARGE_CONTROL_AREA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03580">mi.h:3580</a></div></div>
<div class="ttc" id="a02519_html_a67ab77c6afe2b8e158c94c7ee938b178"><div class="ttname"><a href="../../d9/dce/a02519.html#a67ab77c6afe2b8e158c94c7ee938b178">MmTwentySeconds</a></div><div class="ttdeci">const LARGE_INTEGER MmTwentySeconds</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00556">miglobal.c:556</a></div></div>
<div class="ttc" id="a02519_html_a05baa574863b98b61ca0cb4a2f412b1b"><div class="ttname"><a href="../../d9/dce/a02519.html#a05baa574863b98b61ca0cb4a2f412b1b">MiCreatePhysicalVadRoot</a></div><div class="ttdeci">PVOID MiCreatePhysicalVadRoot(IN PEPROCESS Process, IN LOGICAL WsHeld)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l06871">iosup.c:6871</a></div></div>
<div class="ttc" id="a02519_html_a002ddc98be64ba2f2ca06cc6d3933141"><div class="ttname"><a href="../../d9/dce/a02519.html#a002ddc98be64ba2f2ca06cc6d3933141">MiSessionPoolStart</a></div><div class="ttdeci">ULONG_PTR MiSessionPoolStart</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00762">miglobal.c:762</a></div></div>
<div class="ttc" id="a02519_html_ac85afcbbcbd8b7aae8cc6bcea4f751db"><div class="ttname"><a href="../../d9/dce/a02519.html#ac85afcbbcbd8b7aae8cc6bcea4f751db">ValidKernelPde</a></div><div class="ttdeci">MMPTE ValidKernelPde</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00065">dataamd.c:65</a></div></div>
<div class="ttc" id="a02519_html_ad5bb09189044bc869bfe244a162a5f43"><div class="ttname"><a href="../../d9/dce/a02519.html#ad5bb09189044bc869bfe244a162a5f43">MmDefaultMaximumNonPagedPool</a></div><div class="ttdeci">SIZE_T MmDefaultMaximumNonPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00283">miglobal.c:283</a></div></div>
<div class="ttc" id="a02519_html_a360e764fadb9fe2504aa180e7823a568"><div class="ttname"><a href="../../d9/dce/a02519.html#a360e764fadb9fe2504aa180e7823a568">MiInsertNode</a></div><div class="ttdeci">VOID FASTCALL MiInsertNode(IN PMMADDRESS_NODE Node, IN PMM_AVL_TABLE Root)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01295">addrsup.c:1295</a></div></div>
<div class="ttc" id="a00983_html_acb2d91dc6aedf4abab6982a97a23f2a6"><div class="ttname"><a href="../../d7/d98/a00983.html#acb2d91dc6aedf4abab6982a97a23f2a6">_MMSESSION::SystemSpaceViewLock</a></div><div class="ttdeci">KGUARDED_MUTEX SystemSpaceViewLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04299">mi.h:4299</a></div></div>
<div class="ttc" id="a02230_html_a6f671bc94a3e87fcef3b36ec87d34bff"><div class="ttname"><a href="../../dd/d67/a02230.html#a6f671bc94a3e87fcef3b36ec87d34bff">FASTCALL</a></div><div class="ttdeci">#define FASTCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00251">ntdef.h:251</a></div></div>
<div class="ttc" id="a02519_html_ab4589c7d8e99d3822bac5a2caade946a"><div class="ttname"><a href="../../d9/dce/a02519.html#ab4589c7d8e99d3822bac5a2caade946a">MiRemoveVad</a></div><div class="ttdeci">VOID FORCEINLINE MiRemoveVad(IN PMMVAD Vad, IN PEPROCESS CurrentProcess)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05437">mi.h:5437</a></div></div>
<div class="ttc" id="a02519_html_a9feb21b585c652fdb0a42a3bdc57e91d"><div class="ttname"><a href="../../d9/dce/a02519.html#a9feb21b585c652fdb0a42a3bdc57e91d">MiDecrementCloneBlockReference</a></div><div class="ttdeci">ULONG MiDecrementCloneBlockReference(IN PMMCLONE_DESCRIPTOR CloneDescriptor, IN PMMCLONE_BLOCK CloneBlock, IN PEPROCESS CurrentProcess, IN PMMPTE_FLUSH_LIST PteFlushList OPTIONAL, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/a02504_source.html#l02464">forksup.c:2464</a></div></div>
<div class="ttc" id="a00953_html_a65eec8e2a1bd2088cdb2b67a06345d3f"><div class="ttname"><a href="../../d5/da3/a00953.html#a65eec8e2a1bd2088cdb2b67a06345d3f">_MMDEREFERENCE_SEGMENT_HEADER::Lock</a></div><div class="ttdeci">KSPIN_LOCK Lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03778">mi.h:3778</a></div></div>
<div class="ttc" id="a01594_html_a84c1f45956497bdce70a53c10f58167f"><div class="ttname"><a href="../../dc/def/a01594.html#a84c1f45956497bdce70a53c10f58167f">_SEGMENT::SegmentFlags</a></div><div class="ttdeci">SEGMENT_FLAGS SegmentFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03466">mi.h:3466</a></div></div>
<div class="ttc" id="a02519_html_a24f59a7fb138af2a00cda2c2596e7862"><div class="ttname"><a href="../../d9/dce/a02519.html#a24f59a7fb138af2a00cda2c2596e7862">PMMPFNTIMINGS</a></div><div class="ttdeci">struct _MMPFNTIMINGS * PMMPFNTIMINGS</div></div>
<div class="ttc" id="a02230_html_aec78e7a9e90a406a56f859ee456e8eae"><div class="ttname"><a href="../../dd/d67/a02230.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a></div><div class="ttdeci">#define OUT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00035">ntdef.h:35</a></div></div>
<div class="ttc" id="a00964_html_a9b998acf0a8f26caaab34d45e0ac151a"><div class="ttname"><a href="../../da/d17/a00964.html#a9b998acf0a8f26caaab34d45e0ac151a">_MMPFN::u2</a></div><div class="ttdeci">union _MMPFN::@728 u2</div></div>
<div class="ttc" id="a00964_html_a3c4ddde154addac346ecdbc39e0028d5"><div class="ttname"><a href="../../da/d17/a00964.html#a3c4ddde154addac346ecdbc39e0028d5">_MMPFN::Blink</a></div><div class="ttdeci">PFN_NUMBER Blink</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01727">mi.h:1727</a></div></div>
<div class="ttc" id="a00940_html_a75b6a9a4d9427ca4144ec9f5f9332efd"><div class="ttname"><a href="../../d7/db6/a00940.html#a75b6a9a4d9427ca4144ec9f5f9332efd">_MM_PTE_MAPPING::Protection</a></div><div class="ttdeci">ULONG Protection</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05121">mi.h:5121</a></div></div>
<div class="ttc" id="a02519_html_a2626a8174f8c5fd42513233ef8e68c8a"><div class="ttname"><a href="../../d9/dce/a02519.html#a2626a8174f8c5fd42513233ef8e68c8a">MiInitializeVerifyingComponents</a></div><div class="ttdeci">LOGICAL MiInitializeVerifyingComponents(IN PLOADER_PARAMETER_BLOCK LoaderBlock)</div></div>
<div class="ttc" id="a02519_html_a1e9c6bee87c6aec8a1bdcf86cace0b70"><div class="ttname"><a href="../../d9/dce/a02519.html#a1e9c6bee87c6aec8a1bdcf86cace0b70">MiCloneProcessAddressSpace</a></div><div class="ttdeci">NTSTATUS MiCloneProcessAddressSpace(IN PEPROCESS ProcessToClone, IN PEPROCESS ProcessToInitialize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df4/a02504_source.html#l00072">forksup.c:72</a></div></div>
<div class="ttc" id="a00951_html"><div class="ttname"><a href="../../dc/da0/a00951.html">_MMCLONE_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04150">mi.h:4150</a></div></div>
<div class="ttc" id="a02519_html_a1184ac809f70d4772ba406f52f0e613e"><div class="ttname"><a href="../../d9/dce/a02519.html#a1184ac809f70d4772ba406f52f0e613e">MiAddExtraSystemPteRanges</a></div><div class="ttdeci">VOID MiAddExtraSystemPteRanges(IN PMMPTE PointerPte, IN PFN_NUMBER NumberOfPtes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l03069">sysptes.c:3069</a></div></div>
<div class="ttc" id="a00188_html_a67cae426a2a49e5eba3121dbea24b44b"><div class="ttname"><a href="../../da/d15/a00188.html#a67cae426a2a49e5eba3121dbea24b44b">_CONTROL_AREA::WritableUserReferences</a></div><div class="ttdeci">ULONG WritableUserReferences</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03574">mi.h:3574</a></div></div>
<div class="ttc" id="a02519_html_a5f218e7069556503c1c0164c99f40e1e"><div class="ttname"><a href="../../d9/dce/a02519.html#a5f218e7069556503c1c0164c99f40e1e">MiPteRangeIndex</a></div><div class="ttdeci">ULONG MiPteRangeIndex</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/a02540_source.html#l00084">sysptes.c:84</a></div></div>
<div class="ttc" id="a01808_html"><div class="ttname"><a href="../../d7/d02/a01808.html">_VI_POOL_PAGE_HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07055">mi.h:7055</a></div></div>
<div class="ttc" id="a02519_html_ad3b54ab2ffa34a7ec0b63413ce9d47ec"><div class="ttname"><a href="../../d9/dce/a02519.html#ad3b54ab2ffa34a7ec0b63413ce9d47ec">MM_PAGED_POOL_INFO</a></div><div class="ttdeci">struct _MM_PAGED_POOL_INFO MM_PAGED_POOL_INFO</div></div>
<div class="ttc" id="a00988_html_a29f8b58a1023e50ddccf15a289ceef77"><div class="ttname"><a href="../../d6/d48/a00988.html#a29f8b58a1023e50ddccf15a289ceef77">_MMVAD::LeftChild</a></div><div class="ttdeci">struct _MMVAD * LeftChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03981">mi.h:3981</a></div></div>
<div class="ttc" id="a00926_html_a4a30662c0a696c7ee7fd7828ebf7ae08"><div class="ttname"><a href="../../d8/d38/a00926.html#a4a30662c0a696c7ee7fd7828ebf7ae08">_MI_LARGEPAGE_MEMORY_RUN::PageCount</a></div><div class="ttdeci">PFN_NUMBER PageCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04779">mi.h:4779</a></div></div>
<div class="ttc" id="a02519_html_aeaa4bfa35c39fd9705de168a1da3e62f"><div class="ttname"><a href="../../d9/dce/a02519.html#aeaa4bfa35c39fd9705de168a1da3e62f">MiModifiedPageLife</a></div><div class="ttdeci">LARGE_INTEGER MiModifiedPageLife</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00183">mminit.c:183</a></div></div>
<div class="ttc" id="a02261_html_a00bdf490f6949d7e1cb9af5475cd79ff"><div class="ttname"><a href="../../d7/d24/a02261.html#a00bdf490f6949d7e1cb9af5475cd79ff">DllBase</a></div><div class="ttdeci">PVOID DllBase</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d24/a02261_source.html#l00366">nturtl.h:366</a></div></div>
<div class="ttc" id="a00969_html_ae268bbb54212e6fb61d6a16769d7c604"><div class="ttname"><a href="../../d7/dfd/a00969.html#ae268bbb54212e6fb61d6a16769d7c604">_MMPFNTIMINGS::AcquiredAddress</a></div><div class="ttdeci">PVOID AcquiredAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00905">mi.h:905</a></div></div>
<div class="ttc" id="a02205_html_a401a925f8ec84579861731dc6b84c80aac4894c6217334b2c21610c6d6effbd8c"><div class="ttname"><a href="../../dc/d43/a02205.html#a401a925f8ec84579861731dc6b84c80aac4894c6217334b2c21610c6d6effbd8c">MmMaximumCacheType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l04661">ke.h:4661</a></div></div>
<div class="ttc" id="a02519_html_a3f2bd073eb79fa2c68e69277e4ac28e6"><div class="ttname"><a href="../../d9/dce/a02519.html#a3f2bd073eb79fa2c68e69277e4ac28e6">MmAllocatedNonPagedPool</a></div><div class="ttdeci">PFN_NUMBER MmAllocatedNonPagedPool</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l00064">allocpag.c:64</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3cca5518030a9764b9c5b68592e715d6c8e5"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca5518030a9764b9c5b68592e715d6c8e5">VadLargePages</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03923">mi.h:3923</a></div></div>
<div class="ttc" id="a02519_html_a4394d7669b3b7fcedafda22a41e32c73a511022cab93d44bd1682d9eaa6d63863"><div class="ttname"><a href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a511022cab93d44bd1682d9eaa6d63863">CheckDataSection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03432">mi.h:3432</a></div></div>
<div class="ttc" id="a02519_html_a07bcacaad5dccb4e0db9757f0d57e81b"><div class="ttname"><a href="../../d9/dce/a02519.html#a07bcacaad5dccb4e0db9757f0d57e81b">MmMinimumNonPagedPoolSize</a></div><div class="ttdeci">SIZE_T MmMinimumNonPagedPoolSize</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00279">miglobal.c:279</a></div></div>
<div class="ttc" id="a00950_html_a49855f4bbbbf3e3c5805d1a8033d1a4d"><div class="ttname"><a href="../../df/d39/a00950.html#a49855f4bbbbf3e3c5805d1a8033d1a4d">_MMCLONE_DESCRIPTOR::PagedPoolQuotaCharge</a></div><div class="ttdeci">SIZE_T PagedPoolQuotaCharge</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04169">mi.h:4169</a></div></div>
<div class="ttc" id="a02519_html_a08918508dbbf7bfc54146d0d1cbaa37b"><div class="ttname"><a href="../../d9/dce/a02519.html#a08918508dbbf7bfc54146d0d1cbaa37b">SESSION_GLOBAL_SUBSECTION_INFO</a></div><div class="ttdeci">struct _SESSION_GLOBAL_SUBSECTION_INFO SESSION_GLOBAL_SUBSECTION_INFO</div></div>
<div class="ttc" id="a02519_html_a4bb8e01f978726e2d6ad6b7aee700cc1"><div class="ttname"><a href="../../d9/dce/a02519.html#a4bb8e01f978726e2d6ad6b7aee700cc1">PLARGE_CONTROL_AREA</a></div><div class="ttdeci">struct _LARGE_CONTROL_AREA * PLARGE_CONTROL_AREA</div></div>
<div class="ttc" id="a02519_html_ae7aa3e157ade95a6a105a1d1e7642ed5"><div class="ttname"><a href="../../d9/dce/a02519.html#ae7aa3e157ade95a6a105a1d1e7642ed5">MmSystemLoadLock</a></div><div class="ttdeci">KMUTANT MmSystemLoadLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d09/a02539_source.html#l00022">sysload.c:22</a></div></div>
<div class="ttc" id="a01808_html_a65f90ea420d71ac5f013ed4b738e927b"><div class="ttname"><a href="../../d7/d02/a01808.html#a65f90ea420d71ac5f013ed4b738e927b">_VI_POOL_PAGE_HEADER::VerifierEntry</a></div><div class="ttdeci">PVOID VerifierEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07057">mi.h:7057</a></div></div>
<div class="ttc" id="a02519_html_aaee338470e05d2cd93a1384d9b81b5db"><div class="ttname"><a href="../../d9/dce/a02519.html#aaee338470e05d2cd93a1384d9b81b5db">MiGrowWsleHash</a></div><div class="ttdeci">VOID MiGrowWsleHash(IN PMMSUPPORT WsInfo)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d8b/a02545_source.html#l03291">wslist.c:3291</a></div></div>
<div class="ttc" id="a00991_html_afe6e1aab9d3bd7395fc2d0c90753d236"><div class="ttname"><a href="../../df/d2f/a00991.html#afe6e1aab9d3bd7395fc2d0c90753d236">_MMVAD_LONG::StartingVpn</a></div><div class="ttdeci">ULONG_PTR StartingVpn</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04006">mi.h:4006</a></div></div>
<div class="ttc" id="a02519_html_a08715ef87480cb789fece8bc006360c3"><div class="ttname"><a href="../../d9/dce/a02519.html#a08715ef87480cb789fece8bc006360c3">MiIsAddressValid</a></div><div class="ttdeci">BOOLEAN MiIsAddressValid(IN PVOID VirtualAddress, IN LOGICAL UseForceIfPossible)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d76/a02526_source.html#l06037">pagfault.c:6037</a></div></div>
<div class="ttc" id="a02519_html_ab06c27e0bdb1eb1618ff2159b9f70457"><div class="ttname"><a href="../../d9/dce/a02519.html#ab06c27e0bdb1eb1618ff2159b9f70457">MmSecondaryColorNodeMask</a></div><div class="ttdeci">ULONG MmSecondaryColorNodeMask</div></div>
<div class="ttc" id="a02519_html_a06b57daedd1133d099b30aa8d16e5fd9"><div class="ttname"><a href="../../d9/dce/a02519.html#a06b57daedd1133d099b30aa8d16e5fd9">EVENT_COUNTER</a></div><div class="ttdeci">struct _EVENT_COUNTER EVENT_COUNTER</div></div>
<div class="ttc" id="a02519_html_a9985cd59f3e0bc22e374e417737124f5"><div class="ttname"><a href="../../d9/dce/a02519.html#a9985cd59f3e0bc22e374e417737124f5">MiFullyInitialized</a></div><div class="ttdeci">ULONG MiFullyInitialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00055">mminit.c:55</a></div></div>
<div class="ttc" id="a02519_html_a25a8319b2474f0acf8f6f5896a6af5b9"><div class="ttname"><a href="../../d9/dce/a02519.html#a25a8319b2474f0acf8f6f5896a6af5b9">PMM_PAGED_POOL_INFO</a></div><div class="ttdeci">struct _MM_PAGED_POOL_INFO * PMM_PAGED_POOL_INFO</div></div>
<div class="ttc" id="a02519_html_abadc273a7f955cad3d221ecfe056f746"><div class="ttname"><a href="../../d9/dce/a02519.html#abadc273a7f955cad3d221ecfe056f746">MiSessionCommitPageTables</a></div><div class="ttdeci">NTSTATUS MiSessionCommitPageTables(PVOID StartVa, PVOID EndVa)</div></div>
<div class="ttc" id="a00984_html_af7dd41fd2224e3208caecbdd0e798f67"><div class="ttname"><a href="../../d2/d4c/a00984.html#af7dd41fd2224e3208caecbdd0e798f67">_MMSUBSECTION_FLAGS::Spare</a></div><div class="ttdeci">unsigned Spare</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03612">mi.h:3612</a></div></div>
<div class="ttc" id="a02519_html_ac2299d32a42fd7acc7fcbae7b83c311e"><div class="ttname"><a href="../../d9/dce/a02519.html#ac2299d32a42fd7acc7fcbae7b83c311e">MMWSLENTRY</a></div><div class="ttdeci">struct _MMWSLENTRY MMWSLENTRY</div></div>
<div class="ttc" id="a00933_html_a0a313d25512407caf85a4e4e69a58594"><div class="ttname"><a href="../../d0/d5b/a00933.html#a0a313d25512407caf85a4e4e69a58594">_MI_VERIFIER_DRIVER_ENTRY::Signature</a></div><div class="ttdeci">ULONG_PTR Signature</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07092">mi.h:7092</a></div></div>
<div class="ttc" id="a02519_html_a899c88578e710ef85730b134277592da"><div class="ttname"><a href="../../d9/dce/a02519.html#a899c88578e710ef85730b134277592da">MiLowNonPagedPoolEvent</a></div><div class="ttdeci">PKEVENT MiLowNonPagedPoolEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00130">mminit.c:130</a></div></div>
<div class="ttc" id="a01614_html_ada94cfcfef3ed31dd73ae13a478b3ab1"><div class="ttname"><a href="../../db/d7c/a01614.html#ada94cfcfef3ed31dd73ae13a478b3ab1">_SESSION_GLOBAL_SUBSECTION_INFO::PteCount</a></div><div class="ttdeci">ULONG PteCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08844">mi.h:8844</a></div></div>
<div class="ttc" id="a02519_html_a7e6e308d6a38dcca2931657d36cfdaf4"><div class="ttname"><a href="../../d9/dce/a02519.html#a7e6e308d6a38dcca2931657d36cfdaf4">MiCompareTbFlushTimeStamp</a></div><div class="ttdeci">BOOLEAN FORCEINLINE MiCompareTbFlushTimeStamp(ULONG OldStamp, ULONG Mask)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08962">mi.h:8962</a></div></div>
<div class="ttc" id="a02519_html_a6f98a5d41885739d2b71c852413e113a"><div class="ttname"><a href="../../d9/dce/a02519.html#a6f98a5d41885739d2b71c852413e113a">KernelPrototypePte</a></div><div class="ttdeci">MMPTE KernelPrototypePte</div></div>
<div class="ttc" id="a02519_html_abe2f21bf6b19760ecaf5bafff639ae82"><div class="ttname"><a href="../../d9/dce/a02519.html#abe2f21bf6b19760ecaf5bafff639ae82">MI_PFN_ELEMENT</a></div><div class="ttdeci">#define MI_PFN_ELEMENT(index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01784">mi.h:1784</a></div></div>
<div class="ttc" id="a00981_html_ad047c46da2c9da2e79998e2ec758d10c"><div class="ttname"><a href="../../dd/d24/a00981.html#ad047c46da2c9da2e79998e2ec758d10c">_MMSECTION_FLAGS::BeingPurged</a></div><div class="ttdeci">unsigned BeingPurged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03518">mi.h:3518</a></div></div>
<div class="ttc" id="a02519_html_ab4e8adc8b73df40038309d546e27703f"><div class="ttname"><a href="../../d9/dce/a02519.html#ab4e8adc8b73df40038309d546e27703f">MiSessionWideInitializeAddresses</a></div><div class="ttdeci">VOID MiSessionWideInitializeAddresses(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d2e/a02537_source.html#l00667">sessload.c:667</a></div></div>
<div class="ttc" id="a02519_html_a4da11e5af22fe6cb21dbbe8fe4a1e789"><div class="ttname"><a href="../../d9/dce/a02519.html#a4da11e5af22fe6cb21dbbe8fe4a1e789">MiAgeWorkingSet</a></div><div class="ttdeci">VOID MiAgeWorkingSet(IN PMMSUPPORT VmSupport, IN LOGICAL DoAging, IN PWSLE_NUMBER WslesScanned, IN OUT PPFN_NUMBER TotalClaim, IN OUT PPFN_NUMBER TotalEstimatedAvailable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1a/a02546_source.html#l01543">wsmanage.c:1543</a></div></div>
<div class="ttc" id="a02519_html_a9e3b53b7613a9e65d422b36c587a04aa"><div class="ttname"><a href="../../d9/dce/a02519.html#a9e3b53b7613a9e65d422b36c587a04aa">MI_FLUSH_MULTIPLE_TB</a></div><div class="ttdeci">#define MI_FLUSH_MULTIPLE_TB(Number, Virtual, AllProcessors)                    </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01380">mi.h:1380</a></div></div>
<div class="ttc" id="a02519_html_a5e69df55ba48341f0b71e9b41c495505"><div class="ttname"><a href="../../d9/dce/a02519.html#a5e69df55ba48341f0b71e9b41c495505">PLOCK_TRACKER</a></div><div class="ttdeci">struct _LOCK_TRACKER * PLOCK_TRACKER</div></div>
<div class="ttc" id="a02519_html_a54b533491a1ea662fa3ff93e8daeac80"><div class="ttname"><a href="../../d9/dce/a02519.html#a54b533491a1ea662fa3ff93e8daeac80">MmPageFileExtension</a></div><div class="ttdeci">ULONG MmPageFileExtension</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00502">miglobal.c:502</a></div></div>
<div class="ttc" id="a02519_html_abc04d38bd71acb08ef04a55bc1e3ee42"><div class="ttname"><a href="../../d9/dce/a02519.html#abc04d38bd71acb08ef04a55bc1e3ee42">MiSessionInSwapProcess</a></div><div class="ttdeci">VOID MiSessionInSwapProcess(IN PEPROCESS Process, IN LOGICAL Forced)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l03230">session.c:3230</a></div></div>
<div class="ttc" id="a00935_html_acd6e88e82b2d41d76db396ad58583ecd"><div class="ttname"><a href="../../d8/d19/a00935.html#acd6e88e82b2d41d76db396ad58583ecd">_MM_AVL_TABLE::NumberGenericTableElements</a></div><div class="ttdeci">ULONG_PTR NumberGenericTableElements</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00121">ps.h:121</a></div></div>
<div class="ttc" id="a00997_html"><div class="ttname"><a href="../../d0/d28/a00997.html">_MMWSLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02985">mi.h:2985</a></div></div>
<div class="ttc" id="a02519_html_afc8c776b9a1e6446a5398b626427970e"><div class="ttname"><a href="../../d9/dce/a02519.html#afc8c776b9a1e6446a5398b626427970e">MmSessionBase</a></div><div class="ttdeci">ULONG_PTR MmSessionBase</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00748">miglobal.c:748</a></div></div>
<div class="ttc" id="a02519_html_a535cf95b1ba584eacf9b9321a1d13060"><div class="ttname"><a href="../../d9/dce/a02519.html#a535cf95b1ba584eacf9b9321a1d13060">MiFindLargePageMemory</a></div><div class="ttdeci">PFN_NUMBER MiFindLargePageMemory(IN PCOLORED_PAGE_INFO ColoredPageInfo, IN PFN_NUMBER SizeInPages, IN MM_PROTECTION_MASK ProtectionMask, OUT PPFN_NUMBER OutZeroCount)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/a02492_source.html#l05375">allocpag.c:5375</a></div></div>
<div class="ttc" id="a00961_html_ad5c519ad72f064c017b5e155fed1389d"><div class="ttname"><a href="../../da/d45/a00961.html#ad5c519ad72f064c017b5e155fed1389d">_MMMOD_WRITER_MDL_ENTRY::Page</a></div><div class="ttdeci">PFN_NUMBER Page[1]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04233">mi.h:4233</a></div></div>
<div class="ttc" id="a02519_html_a8cdc7540339c8b08e7f56bd3ed59fdcb"><div class="ttname"><a href="../../d9/dce/a02519.html#a8cdc7540339c8b08e7f56bd3ed59fdcb">MiReturnCommitmentRegardless</a></div><div class="ttdeci">#define MiReturnCommitmentRegardless()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l02034">mi.h:2034</a></div></div>
<div class="ttc" id="a02519_html_a6d6fdcfb3ddf29dab9fd68e66740f724"><div class="ttname"><a href="../../d9/dce/a02519.html#a6d6fdcfb3ddf29dab9fd68e66740f724">MmProtectedPteList</a></div><div class="ttdeci">LIST_ENTRY MmProtectedPteList</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00046">mminit.c:46</a></div></div>
<div class="ttc" id="a02519_html_a4394d7669b3b7fcedafda22a41e32c73a35abdd85a29e96e890a7ebf8d050697f"><div class="ttname"><a href="../../d9/dce/a02519.html#a4394d7669b3b7fcedafda22a41e32c73a35abdd85a29e96e890a7ebf8d050697f">CheckBothSection</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03435">mi.h:3435</a></div></div>
<div class="ttc" id="a02519_html_aa1046f4555cbf38623886c6f9c6e391f"><div class="ttname"><a href="../../d9/dce/a02519.html#aa1046f4555cbf38623886c6f9c6e391f">MiInitializeSessionIds</a></div><div class="ttdeci">VOID MiInitializeSessionIds(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l00490">session.c:490</a></div></div>
<div class="ttc" id="a00964_html_a8f3b86da2d4f0e197ffaf35197eb53be"><div class="ttname"><a href="../../da/d17/a00964.html#a8f3b86da2d4f0e197ffaf35197eb53be">_MMPFN::EntireFrame</a></div><div class="ttdeci">ULONG_PTR EntireFrame</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l01761">mi.h:1761</a></div></div>
<div class="ttc" id="a02519_html_add61772b8942ab185b00a7dd6ed65bb2"><div class="ttname"><a href="../../d9/dce/a02519.html#add61772b8942ab185b00a7dd6ed65bb2">MM_SESSION_SPACE</a></div><div class="ttdeci">struct _MM_SESSION_SPACE MM_SESSION_SPACE</div></div>
<div class="ttc" id="a02519_html_aa342cb76624656173e834fa9a0a8f0d4"><div class="ttname"><a href="../../d9/dce/a02519.html#aa342cb76624656173e834fa9a0a8f0d4">MiModifiedPageWriterTimerDispatch</a></div><div class="ttdeci">VOID MiModifiedPageWriterTimerDispatch(IN PKDPC Dpc, IN PVOID DeferredContext, IN PVOID SystemArgument1, IN PVOID SystemArgument2)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de8/a02525_source.html#l02988">modwrite.c:2988</a></div></div>
<div class="ttc" id="a02519_html_a177f41f82fefc17c17509a9a81d36ed1"><div class="ttname"><a href="../../d9/dce/a02519.html#a177f41f82fefc17c17509a9a81d36ed1">MI_MAX_FREE_LIST_HEADS</a></div><div class="ttdeci">#define MI_MAX_FREE_LIST_HEADS</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07599">mi.h:7599</a></div></div>
<div class="ttc" id="a02519_html_aba19966c6889f3a13475c87a9ecff2f0"><div class="ttname"><a href="../../d9/dce/a02519.html#aba19966c6889f3a13475c87a9ecff2f0">PDRIVER_SPECIFIED_VERIFIER_THUNKS</a></div><div class="ttdeci">struct _DRIVER_SPECIFIED_VERIFIER_THUNKS * PDRIVER_SPECIFIED_VERIFIER_THUNKS</div></div>
<div class="ttc" id="a02519_html_a2055bded7a14a78bbcca3c4ae36d1378"><div class="ttname"><a href="../../d9/dce/a02519.html#a2055bded7a14a78bbcca3c4ae36d1378">MiFindEmptyAddressRangeDownBasedTree</a></div><div class="ttdeci">NTSTATUS MiFindEmptyAddressRangeDownBasedTree(IN SIZE_T SizeOfRange, IN PVOID HighestAddressToEndAt, IN ULONG_PTR Alignment, IN PMM_AVL_TABLE Root, OUT PVOID *Base)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l02137">addrsup.c:2137</a></div></div>
<div class="ttc" id="a00961_html_a8f0c07bb611721fbd84f037389a34525"><div class="ttname"><a href="../../da/d45/a00961.html#a8f0c07bb611721fbd84f037389a34525">_MMMOD_WRITER_MDL_ENTRY::WriteOffset</a></div><div class="ttdeci">LARGE_INTEGER WriteOffset</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04218">mi.h:4218</a></div></div>
<div class="ttc" id="a02519_html_a324330941e0a043af703324b20d8a3cca2d39e90b409c959cc46af202a0509823"><div class="ttname"><a href="../../d9/dce/a02519.html#a324330941e0a043af703324b20d8a3cca2d39e90b409c959cc46af202a0509823">VadAwe</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03921">mi.h:3921</a></div></div>
<div class="ttc" id="a02519_html_a3cb772409bf9adfca95e634f3aae0f03"><div class="ttname"><a href="../../d9/dce/a02519.html#a3cb772409bf9adfca95e634f3aae0f03">PMMWSLE_HASH</a></div><div class="ttdeci">struct _MMWSLE_HASH * PMMWSLE_HASH</div></div>
<div class="ttc" id="a00785_html"><div class="ttname"><a href="../../d3/d00/a00785.html">_KMUTANT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l00803">ke.h:803</a></div></div>
<div class="ttc" id="a02519_html_aff8fc8dcebbaa0edddac02fc8671b33e"><div class="ttname"><a href="../../d9/dce/a02519.html#aff8fc8dcebbaa0edddac02fc8671b33e">MSUBSECTION</a></div><div class="ttdeci">struct _MSUBSECTION MSUBSECTION</div></div>
<div class="ttc" id="a01497_html_ac524f222b86439c023ea0b3b87edab27"><div class="ttname"><a href="../../db/d1e/a01497.html#ac524f222b86439c023ea0b3b87edab27">_RTL_BITMAP::Buffer</a></div><div class="ttdeci">PULONG Buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc3/a02256_source.html#l05709">ntrtl.h:5709</a></div></div>
<div class="ttc" id="a00992_html_a6706f54ec71c638e44bf1fc7e509d440"><div class="ttname"><a href="../../d7/d76/a00992.html#a6706f54ec71c638e44bf1fc7e509d440">_MMVAD_SHORT::VadFlags</a></div><div class="ttdeci">MMVAD_FLAGS VadFlags</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04042">mi.h:4042</a></div></div>
<div class="ttc" id="a02230_html_a97f77ad8403b44c765170df77d5d7742"><div class="ttname"><a href="../../dd/d67/a02230.html#a97f77ad8403b44c765170df77d5d7742">PSHORT</a></div><div class="ttdeci">SHORT * PSHORT</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00379">ntdef.h:379</a></div></div>
<div class="ttc" id="a02215_html_af3dc594f70d521d134bef433d0aae5ac"><div class="ttname"><a href="../../dd/d31/a02215.html#af3dc594f70d521d134bef433d0aae5ac">PBANKED_SECTION_ROUTINE</a></div><div class="ttdeci">VOID(* PBANKED_SECTION_ROUTINE)(IN ULONG ReadBank, IN ULONG WriteBank, IN PVOID Context)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l02518">mm.h:2518</a></div></div>
<div class="ttc" id="a02519_html_a9389ebc6cf1acf9cb05cfe466e945a63"><div class="ttname"><a href="../../d9/dce/a02519.html#a9389ebc6cf1acf9cb05cfe466e945a63">MiReleasePhysicalCharges</a></div><div class="ttdeci">VOID MiReleasePhysicalCharges(IN SIZE_T NumberOfPages, IN PEPROCESS Process)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd9/a02529_source.html#l03609">physical.c:3609</a></div></div>
<div class="ttc" id="a00933_html_a8497540091f816d69bb3d66b5ec117a7"><div class="ttname"><a href="../../d0/d5b/a00933.html#a8497540091f816d69bb3d66b5ec117a7">_MI_VERIFIER_DRIVER_ENTRY::StartAddress</a></div><div class="ttdeci">PVOID StartAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07084">mi.h:7084</a></div></div>
<div class="ttc" id="a00957_html_abc2854cce99693bde8f53e37bb598453"><div class="ttname"><a href="../../d1/df7/a00957.html#abc2854cce99693bde8f53e37bb598453">_MMINPAGE_SUPPORT::WaitCount</a></div><div class="ttdeci">LONG WaitCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03836">mi.h:3836</a></div></div>
<div class="ttc" id="a00996_html_af478f66632d2212d8911db977a4df18c"><div class="ttname"><a href="../../d3/daa/a00996.html#af478f66632d2212d8911db977a4df18c">_MMWSL::NumberOfImageWaiters</a></div><div class="ttdeci">ULONG NumberOfImageWaiters</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03022">mi.h:3022</a></div></div>
<div class="ttc" id="a00983_html_a8325a079d716fe6c3575aa996affc4ab"><div class="ttname"><a href="../../d7/d98/a00983.html#a8325a079d716fe6c3575aa996affc4ab">_MMSESSION::SystemSpaceBitMap</a></div><div class="ttdeci">PRTL_BITMAP SystemSpaceBitMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04314">mi.h:4314</a></div></div>
<div class="ttc" id="a02519_html_a0315b890ecae79daf990c135eb972f61"><div class="ttname"><a href="../../d9/dce/a02519.html#a0315b890ecae79daf990c135eb972f61">WIN32_PROTECTION_MASK</a></div><div class="ttdeci">ULONG WIN32_PROTECTION_MASK</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l00142">mi.h:142</a></div></div>
<div class="ttc" id="a00996_html_a77a1162ff2ac50a4bf2b8c594cc2c627"><div class="ttname"><a href="../../d3/daa/a00996.html#a77a1162ff2ac50a4bf2b8c594cc2c627">_MMWSL::NumberOfCommittedPageTables</a></div><div class="ttdeci">ULONG NumberOfCommittedPageTables</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03019">mi.h:3019</a></div></div>
<div class="ttc" id="a02519_html_a7eb68a0c1850f60eb2dc333125ea8d5b"><div class="ttname"><a href="../../d9/dce/a02519.html#a7eb68a0c1850f60eb2dc333125ea8d5b">MiSessionSpaceWs</a></div><div class="ttdeci">ULONG_PTR MiSessionSpaceWs</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00752">miglobal.c:752</a></div></div>
<div class="ttc" id="a02519_html_a4615a3a1223dba3754f85801e324d561"><div class="ttname"><a href="../../d9/dce/a02519.html#a4615a3a1223dba3754f85801e324d561">MMPFNENTRY</a></div><div class="ttdeci">struct _MMPFNENTRY MMPFNENTRY</div></div>
<div class="ttc" id="a02519_html_a6edb3925640e48dd51455aa640d4c2e8"><div class="ttname"><a href="../../d9/dce/a02519.html#a6edb3925640e48dd51455aa640d4c2e8">MmPlentyFreePages</a></div><div class="ttdeci">PFN_NUMBER MmPlentyFreePages</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1a/a02546_source.html#l00079">wsmanage.c:79</a></div></div>
<div class="ttc" id="a00985_html"><div class="ttname"><a href="../../da/deb/a00985.html">_MMSUBSECTION_FLAGS2</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03638">mi.h:3638</a></div></div>
<div class="ttc" id="a02230_html_af632da489ebc3708ec3ab6791ee53fa4"><div class="ttname"><a href="../../dd/d67/a02230.html#af632da489ebc3708ec3ab6791ee53fa4">ULONG</a></div><div class="ttdeci">unsigned long ULONG</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00392">ntdef.h:392</a></div></div>
<div class="ttc" id="a02519_html_a9081f502f3e9cd3dd242001d9ae6ca40"><div class="ttname"><a href="../../d9/dce/a02519.html#a9081f502f3e9cd3dd242001d9ae6ca40">MiHighMemoryEvent</a></div><div class="ttdeci">PKEVENT MiHighMemoryEvent</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00125">mminit.c:125</a></div></div>
<div class="ttc" id="a02230_html_a34649dd83e77771e19b14cefe45ee25d"><div class="ttname"><a href="../../dd/d67/a02230.html#a34649dd83e77771e19b14cefe45ee25d">KIRQL</a></div><div class="ttdeci">UCHAR KIRQL</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01529">ntdef.h:1529</a></div></div>
<div class="ttc" id="a02519_html_ac5aeea27cbb72cbb1511948fed4dc59a"><div class="ttname"><a href="../../d9/dce/a02519.html#ac5aeea27cbb72cbb1511948fed4dc59a">MiCheckControlAreaStatus</a></div><div class="ttdeci">LOGICAL MiCheckControlAreaStatus(IN SECTION_CHECK_TYPE SectionCheckType, IN PSECTION_OBJECT_POINTERS SectionObjectPointers, IN ULONG DelayClose, OUT PCONTROL_AREA *ControlArea, OUT PKIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l02603">sectsup.c:2603</a></div></div>
<div class="ttc" id="a01777_html"><div class="ttname"><a href="../../d3/dac/a01777.html">_UNLOADED_DRIVERS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d31/a02215_source.html#l01107">mm.h:1107</a></div></div>
<div class="ttc" id="a02519_html_a0fbb18827857c6d0ed3fbc34640fc1b1"><div class="ttname"><a href="../../d9/dce/a02519.html#a0fbb18827857c6d0ed3fbc34640fc1b1">MMMOD_WRITER_MDL_ENTRY</a></div><div class="ttdeci">struct _MMMOD_WRITER_MDL_ENTRY MMMOD_WRITER_MDL_ENTRY</div></div>
<div class="ttc" id="a02189_html"><div class="ttname"><a href="../../d8/d85/a02189.html">fsrtl.h</a></div></div>
<div class="ttc" id="a02519_html_a74fb75b9abb148de92b63c5ee6646216"><div class="ttname"><a href="../../d9/dce/a02519.html#a74fb75b9abb148de92b63c5ee6646216">MMPAGE_FILE_EXPANSION</a></div><div class="ttdeci">struct _MMPAGE_FILE_EXPANSION MMPAGE_FILE_EXPANSION</div></div>
<div class="ttc" id="a02519_html_ab8bb7e7ce6c16cdcb839a186c2359652"><div class="ttname"><a href="../../d9/dce/a02519.html#ab8bb7e7ce6c16cdcb839a186c2359652">MmWorkingSetExpansionHead</a></div><div class="ttdeci">MMWORKING_SET_EXPANSION_HEAD MmWorkingSetExpansionHead</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00419">miglobal.c:419</a></div></div>
<div class="ttc" id="a02519_html_a24eedce9e1b486cc7fd7b54703e9c933"><div class="ttname"><a href="../../d9/dce/a02519.html#a24eedce9e1b486cc7fd7b54703e9c933">VI_POOL_ENTRY_INUSE</a></div><div class="ttdeci">struct _VI_POOL_ENTRY_INUSE VI_POOL_ENTRY_INUSE</div></div>
<div class="ttc" id="a00950_html_af4b93f819ad34b8a8f5bcb651217871b"><div class="ttname"><a href="../../df/d39/a00950.html#af4b93f819ad34b8a8f5bcb651217871b">_MMCLONE_DESCRIPTOR::LeftChild</a></div><div class="ttdeci">struct _MMADDRESS_NODE * LeftChild</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04161">mi.h:4161</a></div></div>
<div class="ttc" id="a00936_html_af27877b8d497a5a230f1f3cf19f0a7c6"><div class="ttname"><a href="../../dc/d2b/a00936.html#af27877b8d497a5a230f1f3cf19f0a7c6">_MM_DRIVER_VERIFIER_DATA::PeakNonPagedBytes</a></div><div class="ttdeci">SIZE_T PeakNonPagedBytes</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07142">mi.h:7142</a></div></div>
<div class="ttc" id="a00991_html_a2352ef182045dd872ac8f7bd55e3d099"><div class="ttname"><a href="../../df/d2f/a00991.html#a2352ef182045dd872ac8f7bd55e3d099">_MMVAD_LONG::FirstPrototypePte</a></div><div class="ttdeci">PMMPTE FirstPrototypePte</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04014">mi.h:4014</a></div></div>
<div class="ttc" id="a02519_html_a72379d74af1215f256603571741f05ae"><div class="ttname"><a href="../../d9/dce/a02519.html#a72379d74af1215f256603571741f05ae">MiRemoveLowPages</a></div><div class="ttdeci">VOID MiRemoveLowPages(IN ULONG RemovePhase)</div></div>
<div class="ttc" id="a01594_html_a6168f91b9dea6420a3b821c83c6c4c71"><div class="ttname"><a href="../../dc/def/a01594.html#a6168f91b9dea6420a3b821c83c6c4c71">_SEGMENT::BasedAddress</a></div><div class="ttdeci">PVOID BasedAddress</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03467">mi.h:3467</a></div></div>
<div class="ttc" id="a02519_html_a38789687be8c08575d4df94a4f40af23"><div class="ttname"><a href="../../d9/dce/a02519.html#a38789687be8c08575d4df94a4f40af23">MmDebugPte</a></div><div class="ttdeci">PMMPTE MmDebugPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00133">dataamd.c:133</a></div></div>
<div class="ttc" id="a00773_html"><div class="ttname"><a href="../../d8/dba/a00773.html">_KGUARDED_MUTEX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/a02205_source.html#l04760">ke.h:4760</a></div></div>
<div class="ttc" id="a00942_html_aca1ec975b47820e2390925b32824dc59"><div class="ttname"><a href="../../df/d12/a00942.html#aca1ec975b47820e2390925b32824dc59">_MM_SESSION_SPACE::Lookaside</a></div><div class="ttdeci">GENERAL_LOOKASIDE Lookaside[SESSION_POOL_SMALL_LISTS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08629">mi.h:8629</a></div></div>
<div class="ttc" id="a02519_html_ad4bee42f4a211de4069d3624ad1ffc11"><div class="ttname"><a href="../../d9/dce/a02519.html#ad4bee42f4a211de4069d3624ad1ffc11">MiSessionRemoveProcess</a></div><div class="ttdeci">VOID MiSessionRemoveProcess(VOID)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d24/a02536_source.html#l00268">session.c:268</a></div></div>
<div class="ttc" id="a02519_html_a62af6c27c12fa4daf674ccc51f9926c1"><div class="ttname"><a href="../../d9/dce/a02519.html#a62af6c27c12fa4daf674ccc51f9926c1">MiPurgeImageSection</a></div><div class="ttdeci">VOID MiPurgeImageSection(IN PCONTROL_AREA ControlArea, IN KIRQL OldIrql)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dd4/a02541_source.html#l00893">umapview.c:893</a></div></div>
<div class="ttc" id="a00964_html_a863749dcf1d00789d14229b77dc18e34"><div class="ttname"><a href="../../da/d17/a00964.html#a863749dcf1d00789d14229b77dc18e34">_MMPFN::u1</a></div><div class="ttdeci">union _MMPFN::@727 u1</div></div>
<div class="ttc" id="a01185_html_acd20416cfbd538e11b286f59f6e5f8cf"><div class="ttname"><a href="../../d3/dd3/a01185.html#acd20416cfbd538e11b286f59f6e5f8cf">_MSUBSECTION::StartingSector</a></div><div class="ttdeci">ULONG StartingSector</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03655">mi.h:3655</a></div></div>
<div class="ttc" id="a00074_html_ab467a4148013153cbf7ee9a2b2d8038c"><div class="ttname"><a href="../../db/db6/a00074.html#ab467a4148013153cbf7ee9a2b2d8038c">_AWEINFO::PhysicalViewHint</a></div><div class="ttdeci">PMI_PHYSICAL_VIEW PhysicalViewHint[MAXIMUM_PROCESSORS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04099">mi.h:4099</a></div></div>
<div class="ttc" id="a02519_html_a4c84541c44b142dd982820aaf1b41682"><div class="ttname"><a href="../../d9/dce/a02519.html#a4c84541c44b142dd982820aaf1b41682">PALIAS_VAD_INFO</a></div><div class="ttdeci">struct _ALIAS_VAD_INFO * PALIAS_VAD_INFO</div></div>
<div class="ttc" id="a00957_html_a48267dc826ba285428acaddaa1abb457"><div class="ttname"><a href="../../d1/df7/a00957.html#a48267dc826ba285428acaddaa1abb457">_MMINPAGE_SUPPORT::IoStatus</a></div><div class="ttdeci">IO_STATUS_BLOCK IoStatus</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03834">mi.h:3834</a></div></div>
<div class="ttc" id="a02519_html_a79d965aff3c8a055d7049b4d537f92b0"><div class="ttname"><a href="../../d9/dce/a02519.html#a79d965aff3c8a055d7049b4d537f92b0">MiChargeCommitment</a></div><div class="ttdeci">LOGICAL FASTCALL MiChargeCommitment(IN SIZE_T QuotaCharge, IN PEPROCESS Process OPTIONAL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d8d/a02523_source.html#l00053">mmquota.c:53</a></div></div>
<div class="ttc" id="a02519_html_abc238c9da9b284ee182f67348bf354c4"><div class="ttname"><a href="../../d9/dce/a02519.html#abc238c9da9b284ee182f67348bf354c4">MiHighNonPagedPoolThreshold</a></div><div class="ttdeci">PFN_NUMBER MiHighNonPagedPoolThreshold</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/da8/a02522_source.html#l00137">mminit.c:137</a></div></div>
<div class="ttc" id="a00963_html_a7be8871ae40d9c3abe07e231e417b7f1"><div class="ttname"><a href="../../de/dad/a00963.html#a7be8871ae40d9c3abe07e231e417b7f1">_MMPAGING_FILE::FreeSpace</a></div><div class="ttdeci">PFN_NUMBER FreeSpace</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04243">mi.h:4243</a></div></div>
<div class="ttc" id="a00619_html"><div class="ttname"><a href="../../d6/d6a/a00619.html">_IMAGE_ENTRY_IN_SESSION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08848">mi.h:8848</a></div></div>
<div class="ttc" id="a02519_html_af9f57119085759177fa27d27c15e94f4"><div class="ttname"><a href="../../d9/dce/a02519.html#af9f57119085759177fa27d27c15e94f4">MiEnumerateGenericTableWithoutSplayingAvl</a></div><div class="ttdeci">PVOID MiEnumerateGenericTableWithoutSplayingAvl(IN PMM_AVL_TABLE Table, IN PVOID *RestartKey)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9a/a02491_source.html#l01495">addrsup.c:1495</a></div></div>
<div class="ttc" id="a00962_html_a661b6e8301a262ad160faf006ebe1e28"><div class="ttname"><a href="../../df/d88/a00962.html#a661b6e8301a262ad160faf006ebe1e28">_MMPAGE_FILE_EXPANSION::RequestedExpansionSize</a></div><div class="ttdeci">SIZE_T RequestedExpansionSize</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03795">mi.h:3795</a></div></div>
<div class="ttc" id="a02519_html_a7aa1af65a940d9fffc74605c2e0c7830"><div class="ttname"><a href="../../d9/dce/a02519.html#a7aa1af65a940d9fffc74605c2e0c7830">MiFlushPteList</a></div><div class="ttdeci">FORCEINLINE VOID MiFlushPteList(IN PMMPTE_FLUSH_LIST PteFlushList)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l05817">mi.h:5817</a></div></div>
<div class="ttc" id="a00926_html_affefcbdcf84dc809e6fe02500a4a461b"><div class="ttname"><a href="../../d8/d38/a00926.html#affefcbdcf84dc809e6fe02500a4a461b">_MI_LARGEPAGE_MEMORY_RUN::BasePage</a></div><div class="ttdeci">PFN_NUMBER BasePage</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l04778">mi.h:4778</a></div></div>
<div class="ttc" id="a01594_html"><div class="ttname"><a href="../../dc/def/a01594.html">_SEGMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03454">mi.h:3454</a></div></div>
<div class="ttc" id="a00994_html_af237b5055d9770dc4ff3fba0459622d6"><div class="ttname"><a href="../../d4/dd0/a00994.html#af237b5055d9770dc4ff3fba0459622d6">_MMWORKING_SET_EXPANSION_HEAD::ListHead</a></div><div class="ttdeci">LIST_ENTRY ListHead</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03806">mi.h:3806</a></div></div>
<div class="ttc" id="a02519_html_aa78c8d641fcb41034073bc3944727616"><div class="ttname"><a href="../../d9/dce/a02519.html#aa78c8d641fcb41034073bc3944727616">MMPAGING_FILE</a></div><div class="ttdeci">struct _MMPAGING_FILE MMPAGING_FILE</div></div>
<div class="ttc" id="a02519_html_a2e3127890ff550d9b26da4819b2fb54b"><div class="ttname"><a href="../../d9/dce/a02519.html#a2e3127890ff550d9b26da4819b2fb54b">MmMappedFileHeader</a></div><div class="ttdeci">MMMOD_WRITER_LISTHEAD MmMappedFileHeader</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dbb/a02520_source.html#l00429">miglobal.c:429</a></div></div>
<div class="ttc" id="a00948_html"><div class="ttname"><a href="../../d8/d18/a00948.html">_MMBANKED_SECTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03877">mi.h:3877</a></div></div>
<div class="ttc" id="a00922_html_ab4abb0d6049fc1ae4b13cf36f295b21d"><div class="ttname"><a href="../../dd/dcf/a00922.html#ab4abb0d6049fc1ae4b13cf36f295b21d">_MI_FREED_SPECIAL_POOL::StackPointer</a></div><div class="ttdeci">PVOID StackPointer</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07209">mi.h:7209</a></div></div>
<div class="ttc" id="a02215_html_ae3cd2141a0310cc52aa9a7643e8d9f8c"><div class="ttname"><a href="../../dd/d31/a02215.html#ae3cd2141a0310cc52aa9a7643e8d9f8c">MM_PAGE_PRIORITY</a></div><div class="ttdeci">enum _MM_PAGE_PRIORITY MM_PAGE_PRIORITY</div></div>
<div class="ttc" id="a02519_html_ad93f6926dbeb94eea0bd27f64c83b784"><div class="ttname"><a href="../../d9/dce/a02519.html#ad93f6926dbeb94eea0bd27f64c83b784">MiTrimAllSystemPageableMemory</a></div><div class="ttdeci">LOGICAL MiTrimAllSystemPageableMemory(IN ULONG MemoryType, IN LOGICAL PurgeTransition)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d1a/a02546_source.html#l02391">wsmanage.c:2391</a></div></div>
<div class="ttc" id="a00943_html_ac77488514c3713f801a45f0d88ea5146"><div class="ttname"><a href="../../d1/ddd/a00943.html#ac77488514c3713f801a45f0d88ea5146">_MM_SESSION_SPACE_FLAGS::Initialized</a></div><div class="ttdeci">ULONG Initialized</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l08476">mi.h:8476</a></div></div>
<div class="ttc" id="a02230_html_aad61bc3eae1804d8784adebdce0721d3"><div class="ttname"><a href="../../dd/d67/a02230.html#aad61bc3eae1804d8784adebdce0721d3">WCHAR</a></div><div class="ttdeci">wchar_t WCHAR</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l00298">ntdef.h:298</a></div></div>
<div class="ttc" id="a00935_html_aa0286a954030fdaaa2d020c94fe4cf4c"><div class="ttname"><a href="../../d8/d19/a00935.html#aa0286a954030fdaaa2d020c94fe4cf4c">_MM_AVL_TABLE::NodeHint</a></div><div class="ttdeci">PVOID NodeHint</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dc1/a02277_source.html#l00123">ps.h:123</a></div></div>
<div class="ttc" id="a02230_html_ab8caf1706fee9e06b2937fec2fb3d6ed"><div class="ttname"><a href="../../dd/d67/a02230.html#ab8caf1706fee9e06b2937fec2fb3d6ed">UNREFERENCED_PARAMETER</a></div><div class="ttdeci">#define UNREFERENCED_PARAMETER(P)                </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d67/a02230_source.html#l01917">ntdef.h:1917</a></div></div>
<div class="ttc" id="a00936_html_abfaa905319a5faff8221b1ad9ee47025"><div class="ttname"><a href="../../dc/d2b/a00936.html#abfaa905319a5faff8221b1ad9ee47025">_MM_DRIVER_VERIFIER_DATA::AllocationsAttempted</a></div><div class="ttdeci">ULONG AllocationsAttempted</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07119">mi.h:7119</a></div></div>
<div class="ttc" id="a02519_html_ad32dcb6383de89429fde78286bc0b617"><div class="ttname"><a href="../../d9/dce/a02519.html#ad32dcb6383de89429fde78286bc0b617">MmTrackPtes</a></div><div class="ttdeci">ULONG MmTrackPtes</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d6a/a02515_source.html#l00104">iosup.c:104</a></div></div>
<div class="ttc" id="a01594_html_addc04ff2599a38ce720035ef2202db3f"><div class="ttname"><a href="../../dc/def/a01594.html#addc04ff2599a38ce720035ef2202db3f">_SEGMENT::Spare0</a></div><div class="ttdeci">ULONG Spare0</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03458">mi.h:3458</a></div></div>
<div class="ttc" id="a01808_html_a443d91fe60e7e3fa547e258d1c7f8866"><div class="ttname"><a href="../../d7/d02/a01808.html#a443d91fe60e7e3fa547e258d1c7f8866">_VI_POOL_PAGE_HEADER::Signature</a></div><div class="ttdeci">ULONG_PTR Signature</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l07058">mi.h:7058</a></div></div>
<div class="ttc" id="a02519_html_a470435a8b4a6a6dc3bd397daa10b9f94"><div class="ttname"><a href="../../d9/dce/a02519.html#a470435a8b4a6a6dc3bd397daa10b9f94">MiCleanSection</a></div><div class="ttdeci">VOID MiCleanSection(IN PCONTROL_AREA ControlArea, IN LOGICAL DirtyDataPagesOk)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d51/a02535_source.html#l01255">sectsup.c:1255</a></div></div>
<div class="ttc" id="a02496_html_ad2b519f3e5bfa269c428f569188430cf"><div class="ttname"><a href="../../d1/df5/a02496.html#ad2b519f3e5bfa269c428f569188430cf">MAX_PAGE_FILES</a></div><div class="ttdeci">#define MAX_PAGE_FILES</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/df5/a02496_source.html#l00323">miamd.h:323</a></div></div>
<div class="ttc" id="a02519_html_a79ca93029d7fda17ddf66d7d434fcf6a"><div class="ttname"><a href="../../d9/dce/a02519.html#a79ca93029d7fda17ddf66d7d434fcf6a">MiGetPageProtection</a></div><div class="ttdeci">ULONG MiGetPageProtection(IN PMMPTE PointerPte)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dc8/a02531_source.html#l02039">protect.c:2039</a></div></div>
<div class="ttc" id="a00954_html_a150a067a25e1393e8c6997346d6818ab"><div class="ttname"><a href="../../d3/dca/a00954.html#a150a067a25e1393e8c6997346d6818ab">_MMEXTEND_INFO::ReferenceCount</a></div><div class="ttdeci">ULONG ReferenceCount</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dce/a02519_source.html#l03440">mi.h:3440</a></div></div>
<div class="ttc" id="a02519_html_a25d433ddf4fc743440304534ca829464"><div class="ttname"><a href="../../d9/dce/a02519.html#a25d433ddf4fc743440304534ca829464">ZeroKernelPte</a></div><div class="ttdeci">const MMPTE ZeroKernelPte</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d28/a02494_source.html#l00032">dataamd.c:32</a></div></div>
<div class="ttc" id="a02519_html_a5ee29342b234af04a987758ef544965f"><div class="ttname"><a href="../../d9/dce/a02519.html#a5ee29342b234af04a987758ef544965f">PMMPAGING_FILE</a></div><div class="ttdeci">struct _MMPAGING_FILE * PMMPAGING_FILE</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_f22a2235bfed9e7f28226e9ee4e6031c.html">Windows Research Kernel</a></li><li class="navelem"><a class="el" href="../../dir_dac76b332a5fbc02a0d5ad33940f534e.html">mm</a></li><li class="navelem"><a class="el" href="../../d9/dce/a02519.html">mi.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
